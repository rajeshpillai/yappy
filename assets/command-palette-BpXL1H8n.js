import{t as w,u as x,i as u,e as D,d as V}from"./vendor-rendering-CqcgmY0d.js";import{e as L,d as F,h as f,F as B,S as T,a as k}from"./solid-framework-CtC0wtKI.js";import{s as n,Y as o,Z as G,_ as Z,$ as z,a0 as M,a1 as N,a2 as R,i as _,j as W,a3 as I,a4 as U,a5 as Y,t as H,T as j,a6 as q,a7 as K,a8 as O,S as Q,W as X,a9 as y,aa as J,ab as b}from"./index-752e0cYd.js";import"./vendor-export-B6WwIQ1_.js";const ee=()=>{const i=[{id:"tool-selection",label:"Selection Tool",category:"Tools",action:()=>o("selection"),shortcut:"V"},{id:"tool-rectangle",label:"Rectangle Tool",category:"Tools",action:()=>o("rectangle"),shortcut:"R"},{id:"tool-circle",label:"Circle Tool",category:"Tools",action:()=>o("circle"),shortcut:"O"},{id:"tool-line",label:"Line Tool",category:"Tools",action:()=>o("line"),shortcut:"L"},{id:"tool-arrow",label:"Arrow Tool",category:"Tools",action:()=>o("arrow"),shortcut:"A"},{id:"tool-text",label:"Text Tool",category:"Tools",action:()=>o("text"),shortcut:"T"},{id:"tool-eraser",label:"Eraser Tool",category:"Tools",action:()=>o("eraser"),shortcut:"E"},{id:"tool-bezier",label:"Bezier Tool",category:"Tools",action:()=>o("bezier"),shortcut:"B"},{id:"tool-diamond",label:"Diamond Tool",category:"Tools",action:()=>o("diamond"),shortcut:"D"},{id:"tool-pan",label:"Pan Tool",category:"Tools",action:()=>o("pan"),shortcut:"H"},{id:"action-undo",label:"Undo",category:"Actions",action:()=>G(),shortcut:"Ctrl+Z"},{id:"action-redo",label:"Redo",category:"Actions",action:()=>Z(),shortcut:"Ctrl+Y"},{id:"action-group",label:"Group Selection",category:"Actions",action:()=>z(),shortcut:"Ctrl+G"},{id:"action-ungroup",label:"Ungroup Selection",category:"Actions",action:()=>M(),shortcut:"Ctrl+Shift+G"},{id:"action-front",label:"Bring to Front",category:"Actions",action:()=>N(n.selection),shortcut:"Ctrl+]"},{id:"action-back",label:"Send to Back",category:"Actions",action:()=>R(n.selection),shortcut:"Ctrl+["},{id:"action-forward",label:"Bring Forward",category:"Actions",action:()=>_(n.selection[0],"forward")},{id:"action-backward",label:"Send Backward",category:"Actions",action:()=>_(n.selection[0],"backward")},{id:"action-delete",label:"Delete Selected",category:"Actions",action:()=>W(n.selection),shortcut:"Del"},{id:"view-grid",label:"Toggle Grid",category:"View",action:()=>I(),shortcut:"Shift+'"},{id:"view-snap",label:"Toggle Snap to Grid",category:"View",action:()=>U(),shortcut:"Shift+;"},{id:"view-zen",label:"Toggle Zen Mode",category:"View",action:()=>Y(),shortcut:"Alt+Z"},{id:"view-properties",label:"Toggle Properties Panel",category:"View",action:()=>H(),shortcut:"Alt+Enter"},{id:"view-layers",label:"Toggle Layers Panel",category:"View",action:()=>j(),shortcut:"Alt+L"},{id:"view-minimap",label:"Toggle Minimap",category:"View",action:()=>q(),shortcut:"Alt+M"},{id:"view-zoom-fit",label:"Zoom to Fit",category:"View",action:()=>K()},{id:"view-theme",label:"Toggle Theme",category:"View",action:()=>O()},{id:"file-new",label:"New Sketch",category:"File",action:()=>{confirm("Start new sketch? Unsaved changes will be lost.")&&(y("elements",[]),y("viewState",{scale:1,panX:0,panY:0}),y("selection",[]),y("layers",[{id:"default-layer",name:"Layer 1",visible:!0,locked:!1,opacity:1,order:0}]),y("activeLayerId","default-layer"),J())},shortcut:"Alt+N"},{id:"action-add-layer",label:"Add Layer",category:"Layers",action:()=>Q(),shortcut:"Ctrl+Shift+N"}];return n.layers.forEach(a=>{i.push({id:`layer-${a.id}`,label:`Activate Layer: ${a.name}`,category:"Layers",action:()=>X(a.id)})}),i},te=i=>{const a=ee();if(!i)return a.slice(0,10);const l=i.toLowerCase();return a.filter(t=>t.label.toLowerCase().includes(l)||t.category.toLowerCase().includes(l)).sort((t,m)=>{const s=t.label.toLowerCase(),p=m.label.toLowerCase();return s.startsWith(l)&&!p.startsWith(l)?-1:!s.startsWith(l)&&p.startsWith(l)?1:s.localeCompare(p)})};var oe=w("<div class=command-palette-no-results>No commands found"),ae=w('<div class=command-palette-backdrop><div class=command-palette-container><div class=command-palette-search><input type=text placeholder="Type a command or search layers..."></div><div class=command-palette-results></div><div class=command-palette-footer><span>↑↓ to navigate</span><span>↵ to execute</span><span>esc to close'),le=w("<span class=command-palette-item-shortcut>"),re=w("<div><div class=command-palette-item-info><span class=command-palette-item-category></span><span class=command-palette-item-label>");const de=()=>{const[i,a]=L(""),[l,t]=L(0);let m;const s=()=>te(i());F(()=>{n.showCommandPalette&&(a(""),t(0),setTimeout(()=>m?.focus(),10))});const p=e=>{const d=s();if(e.key==="ArrowDown")e.preventDefault(),t(r=>(r+1)%d.length);else if(e.key==="ArrowUp")e.preventDefault(),t(r=>(r-1+d.length)%d.length);else if(e.key==="Enter"){e.preventDefault();const r=d[l()];r&&(r.action(),b(!1))}else e.key==="Escape"&&(e.preventDefault(),b(!1))};return f(T,{get when(){return n.showCommandPalette},get children(){var e=ae(),d=e.firstChild,r=d.firstChild,h=r.firstChild,v=r.nextSibling;e.$$click=()=>b(!1),d.$$click=c=>c.stopPropagation(),h.$$keydown=p,h.$$input=c=>{a(c.currentTarget.value),t(0)};var $=m;return typeof $=="function"?x($,h):m=h,u(v,f(B,{get each(){return s()},children:(c,C)=>(()=>{var g=re(),E=g.firstChild,S=E.firstChild,P=S.nextSibling;return g.addEventListener("mouseenter",()=>t(C())),g.$$click=()=>{c.action(),b(!1)},u(S,()=>c.category),u(P,()=>c.label),u(g,f(T,{get when(){return c.shortcut},get children(){var A=le();return u(A,()=>c.shortcut),A}}),null),k(()=>D(g,`command-palette-item ${C()===l()?"selected":""}`)),g})()}),null),u(v,f(T,{get when(){return s().length===0},get children(){return oe()}}),null),k(()=>h.value=i()),e}})};V(["click","input","keydown"]);export{de as default};
