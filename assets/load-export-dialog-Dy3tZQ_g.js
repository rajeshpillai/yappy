import{t as d,h as s,i as a,b9 as x,at as S,x as T,ba as J,as as j,am as q,q as G,bb as A,bc as I,e as C,d as K}from"./vendor-rendering-C7dKdzbb.js";import{e as R,d as E,o as V,h as i,S as p,a as Y}from"./solid-framework-CtC0wtKI.js";import{aw as z}from"./index-C9KCfSJh.js";import"./vendor-export-B6WwIQ1_.js";var B=d('<div class="alert-box warning"><div class=alert-text><strong>Loading a file</strong> will <strong>replace your existing content</strong>. You can back up your drawing first using the save options.'),F=d('<div class=option-card><div class="option-icon workspace"></div><div class=option-info><h4>Open from Workspace</h4><p>Load a drawing saved in your local workspace</p></div><button class=action-trigger>Open Workspace'),H=d('<div class=options-grid><div class=option-card><div class="option-icon disk"></div><div class=option-info><h4>Load from file</h4><p>Open a .yappy or .json sketch file from your device</p></div><button class=action-trigger>Load from file'),M=d('<div class="option-card compact"><div class="option-icon workspace"></div><div class=option-info><h4>Save to Workspace</h4><p>Save drawing to your internal browser storage</p></div><button class="action-trigger secondary">Save Workspace'),Q=d('<div class="options-grid horizontal"><div class="option-card compact"><div class="option-icon disk"></div><div class=option-info><h4>Save to disk</h4><p>Export your drawing to a file for backup</p></div><button class="action-trigger secondary">Save to disk</button></div><div class="option-card compact"><div class="option-icon image"></div><div class=option-info><h4>Export as image</h4><p>Download your drawing as a PNG or SVG</p></div><button class="action-trigger secondary">Export as image</button></div><div class="option-card compact"><div class="option-icon disk"></div><div class=option-info><h4>Save as JSON</h4><p>Export uncompressed legacy format</p></div><button class="action-trigger secondary">Save JSON'),U=d("<div class=load-export-backdrop><div class=load-export-dialog><div class=dialog-header><div class=tabs><button><span>Load</span></button><button><span>Export / Save</span></button></div><button class=close-btn></button></div><div class=dialog-content></div><div class=dialog-footer><div class=help-tip><span>.yappy / .json (yappy exported) or Workspace data is stored locally in your browser.");const ae=t=>{const[u,g]=R(t.initialTab);return E(()=>{t.isOpen&&g(t.initialTab)}),E(()=>{if(t.isOpen){const l=c=>{c.key==="Escape"&&(c.preventDefault(),t.onClose())};window.addEventListener("keydown",l),V(()=>window.removeEventListener("keydown",l))}}),i(p,{get when(){return t.isOpen},get children(){var l=U(),c=l.firstChild,$=c.firstChild,k=$.firstChild,v=k.firstChild,L=v.firstChild,f=v.nextSibling,W=f.firstChild,m=k.nextSibling,h=$.nextSibling,O=h.nextSibling,w=O.firstChild,D=w.firstChild;return s(l,"click",t.onClose,!0),c.$$click=e=>e.stopPropagation(),v.$$click=()=>g("load"),a(v,i(x,{size:18}),L),f.$$click=()=>g("save"),a(f,i(S,{size:18}),W),s(m,"click",t.onClose,!0),a(m,i(T,{size:20})),a(h,i(p,{get when(){return u()==="load"},get children(){return[(()=>{var e=B(),o=e.firstChild;return a(e,i(J,{size:24}),o),e})(),(()=>{var e=H(),o=e.firstChild,r=o.firstChild;return s(o,"click",t.onLoadDisk,!0),a(r,i(x,{size:32})),a(e,i(p,{get when(){return z.enableWorkspacePersistence},get children(){var n=F(),_=n.firstChild;return s(n,"click",t.onLoadWorkspace,!0),a(_,i(j,{size:32})),n}}),null),e})()]}}),null),a(h,i(p,{get when(){return u()==="save"},get children(){var e=Q(),o=e.firstChild,r=o.firstChild,n=o.nextSibling,_=n.firstChild,y=n.nextSibling,N=y.firstChild;return s(o,"click",t.onSaveDisk,!0),a(r,i(S,{size:24})),s(n,"click",t.onExportImage,!0),a(_,i(q,{size:24})),s(y,"click",t.onSaveDiskJson,!0),a(N,i(G,{size:24})),a(e,i(p,{get when(){return z.enableWorkspacePersistence},get children(){var b=M(),P=b.firstChild;return s(b,"click",t.onSaveWorkspace,!0),a(P,i(A,{size:24})),b}}),null),e}}),null),a(w,i(I,{size:14}),D),Y(e=>{var o=`tab-btn ${u()==="load"?"active":""}`,r=`tab-btn ${u()==="save"?"active":""}`;return o!==e.e&&C(v,e.e=o),r!==e.t&&C(f,e.t=r),e},{e:void 0,t:void 0}),l}})};K(["click"]);export{ae as default};
