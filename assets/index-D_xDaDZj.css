:root{--font-hand: "Handlee", "Comic Sans MS", cursive;--font-sans: "Inter", system-ui, sans-serif;--font-mono: "Source Code Pro", "Cascadia Code", monospace;font-family:var(--font-sans);line-height:1.5;font-weight:400;--bg-canvas: #ffffff;--bg-panel: #ffffff;--bg-secondary: #f9fafb;--text-primary: #111827;--text-secondary: #6b7280;--border-color: #e5e7eb;--btn-bg: #ffffff;--btn-hover: #f3f4f6;--btn-active: #e5e7eb;--primary-color: #3b82f6;--danger-color: #ef4444;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);color-scheme:light dark;color:var(--text-primary);background-color:var(--bg-canvas);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-theme=dark]{--bg-canvas: #121212;--bg-panel: #1e1e1e;--bg-secondary: #2d2d2d;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--border-color: #404040;--btn-bg: #2d2d2d;--btn-hover: #3d3d3d;--btn-active: #4d4d4d;--primary-color: #60a5fa;--danger-color: #f87171;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .5)}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--bg-canvas);color:var(--text-primary)}button{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:var(--btn-bg);color:var(--text-primary);cursor:pointer;transition:all .2s;box-shadow:var(--shadow-sm)}button:hover{background-color:var(--btn-hover);border-color:var(--border-color)}button:active{background-color:var(--btn-active);transform:translateY(1px)}button.active{background-color:#3b82f61a;border-color:var(--primary-color);color:var(--primary-color)}input[type=text]{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-family:inherit;font-size:14px;outline:none;background-color:var(--bg-panel);color:var(--text-primary);transition:border-color .2s}input[type=text]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f633}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}button{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:#fff;cursor:pointer;transition:all .2s;box-shadow:0 1px 2px #0000000d}button:hover{background-color:#f9f9f9;border-color:#bbb}button:active{background-color:#f0f0f0;transform:translateY(1px)}button.active{background-color:#e0efff;border-color:#007acc;color:#007acc}input[type=text]{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-family:inherit;font-size:14px;outline:none;transition:border-color .2s}input[type=text]:focus{border-color:#007acc;box-shadow:0 0 0 2px #007acc33}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}.unselectable{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.minimap-container{position:fixed;bottom:20px;right:20px;z-index:1000;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px;-webkit-user-select:none;user-select:none}.minimap-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;padding:0 4px}.minimap-title{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.minimap-close{background:transparent;border:none;padding:2px;cursor:pointer;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s,color .2s;box-shadow:none}.minimap-close:hover{background-color:var(--btn-hover);color:var(--text-primary)}.minimap-canvas{display:block;border-radius:4px;cursor:pointer;border:1px solid var(--border-color)}.minimap-canvas:active{cursor:grabbing}.floating-settings-btn{transition:all .2s ease}.floating-settings-btn:hover{transform:scale(1.1)}.floating-settings-btn.active{background:#3b82f6!important;color:#fff!important}.toast{position:fixed;bottom:24px;left:50%;transform:translate(-50%);background:var(--bg-panel);color:var(--text-primary);padding:12px 16px;border-radius:8px;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:12px;z-index:2000;-webkit-user-select:none;user-select:none;font-size:14px;font-weight:500;border:1px solid var(--border-color);animation:slideUp .3s cubic-bezier(.16,1,.3,1);min-width:300px;max-width:90vw}.toast-success{border-left:4px solid #10b981}.toast-error{border-left:4px solid #ef4444}.toast-info{border-left:4px solid #3b82f6}.toast-icon{display:flex;align-items:center;justify-content:center}.toast-success .toast-icon{color:#10b981}.toast-error .toast-icon{color:#ef4444}.toast-info .toast-icon{color:#3b82f6}.toast-message{flex:1}.toast-close{background:none;border:none;cursor:pointer;color:var(--text-secondary);padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s}.toast-close:hover{background:var(--bg-hover);color:var(--text-primary)}@keyframes slideUp{0%{opacity:0;transform:translate(-50%,20px)}to{opacity:1;transform:translate(-50%)}}.toast-loading{border-left:4px solid #f59e0b}.toast-loading .toast-icon{color:#f59e0b}.spin{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.context-menu{position:fixed;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 20px #00000026;padding:4px;min-width:220px;max-height:80vh;overflow-y:auto;overflow-x:visible;z-index:10000;-webkit-user-select:none;user-select:none;font-size:14px}.menu-item-wrapper{position:relative}.context-menu-item{width:100%;display:flex;align-items:center;gap:8px;padding:8px 12px;border:none;background:transparent;color:var(--text-primary);cursor:pointer;border-radius:4px;text-align:left;transition:background .15s;font-size:13px}.context-menu-item:hover:not(.disabled){background:var(--btn-hover)}.context-menu-item.disabled{opacity:.4;cursor:not-allowed}.menu-item-check{width:16px;flex-shrink:0;font-size:12px;color:#3b82f6}.menu-item-label{flex:1}.menu-item-shortcut{font-size:11px;color:var(--text-secondary);opacity:.6;font-family:monospace}.context-menu-separator{height:1px;background:var(--border-color);margin:4px 8px}[data-theme=dark] .context-menu{box-shadow:0 4px 20px #0006}.recording-overlay{position:fixed;top:20px;left:50%;transform:translate(-50%);background:#000000d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:8px 16px;border-radius:24px;display:flex;align-items:center;gap:16px;z-index:99999;box-shadow:0 4px 12px #0003;border:1px solid rgba(255,255,255,.1);color:#fff;font-family:Inter,sans-serif;animation:slideDown .3s cubic-bezier(.16,1,.3,1)}@keyframes slideDown{0%{transform:translate(-50%,-20px);opacity:0}to{transform:translate(-50%);opacity:1}}.recording-indicator{display:flex;align-items:center;gap:6px}.pulse-dot{width:10px;height:10px;background-color:#ff3b30;border-radius:50%;animation:pulse 1.5s infinite}@keyframes pulse{0%{transform:scale(.95);box-shadow:0 0 #ff3b30b3}70%{transform:scale(1);box-shadow:0 0 0 6px #ff3b3000}to{transform:scale(.95);box-shadow:0 0 #ff3b3000}}.recording-text{font-weight:700;font-size:12px;letter-spacing:.5px;color:#ff3b30}.recording-timer{font-variant-numeric:tabular-nums;font-size:14px;font-weight:500;min-width:36px}.stop-btn{display:flex;align-items:center;gap:6px;background:#ffffff1a;border:none;padding:6px 12px;border-radius:16px;color:#fff;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}.stop-btn:hover{background:#fff3;transform:translateY(-1px)}.stop-btn:active{transform:translateY(0)}.pen-tool-group,.tool-icon-wrapper{position:relative;display:flex;align-items:center;justify-content:center}.dropdown-indicator{font-size:8px;margin-left:2px;opacity:.6}.pen-tool-dropdown{position:fixed;min-width:200px;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:var(--shadow-sm);z-index:1001;padding:8px;display:grid;grid-template-columns:repeat(4,1fr);gap:10px;max-height:70vh;overflow-y:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}.pen-tool-dropdown::-webkit-scrollbar{width:6px}.pen-tool-dropdown::-webkit-scrollbar-thumb{background-color:var(--border-color);border-radius:3px}.dropdown-item{display:flex;align-items:center;justify-content:center;padding:10px;width:40px;height:40px;border:none;background:transparent;border-radius:4px;cursor:pointer;color:inherit;transition:background .2s}.dropdown-item:hover{background:var(--btn-hover)}.dropdown-item.active{background:var(--primary-color);color:#fff}.tool-label{flex:1}.submenu-indicator{font-size:14px;margin-left:4px;opacity:1;color:var(--primary-color);fill:var(--primary-color);vertical-align:middle}.toolbar-btn:hover .submenu-indicator{transform:rotate(180deg)}.connector-tool-group{position:relative;display:flex;align-items:center;justify-content:center}.connector-tool-dropdown{position:fixed;min-width:200px;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:var(--shadow-sm);z-index:1001;padding:8px;display:grid;grid-template-columns:repeat(4,1fr);gap:10px}.toolbar-container{position:fixed;top:60px;left:50%;right:auto;margin:0;width:fit-content;display:flex;align-items:center;gap:4px;padding:4px;background:var(--bg-panel);border-radius:8px;box-shadow:var(--shadow-sm);z-index:1000;border:1px solid var(--border-color);-webkit-user-select:none;user-select:none;transition:box-shadow .2s,background .2s}.toolbar-container.dragging{cursor:grabbing;box-shadow:0 8px 16px #0003}.drag-handle{width:12px;height:36px;cursor:grab;display:flex;align-items:center;justify-content:center;padding:0 2px;opacity:.4;transition:opacity .2s}.toolbar-container:hover .drag-handle{opacity:.8}.drag-dots{width:4px;height:18px;background-image:radial-gradient(var(--text-secondary) 1px,transparent 1px);background-size:4px 4px}@media(max-width:768px){.toolbar-container{max-width:calc(100vw - 20px);overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none;gap:2px;padding:6px}.toolbar-container::-webkit-scrollbar{display:none}.pen-tool-dropdown{width:calc(100vw - 40px);max-width:320px;grid-template-columns:repeat(5,1fr)}}.toolbar-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border-radius:6px;border:1px solid transparent;background-color:transparent;color:var(--text-secondary);cursor:pointer;transition:all .2s;-webkit-user-select:none;user-select:none}.toolbar-btn:hover{background-color:var(--btn-hover);color:var(--text-primary)}.toolbar-btn.active{background-color:var(--primary-light);color:var(--primary-color);border-color:var(--primary-color)}.mobile-property-toggle{margin-left:4px;border-left:1px solid #e5e7eb;padding-left:8px}.menu-container{display:flex;align-items:center;background:var(--bg-panel);padding:6px;border-radius:8px;box-shadow:var(--shadow-sm);gap:4px;border:1px solid var(--border-color);-webkit-user-select:none;user-select:none;transition:box-shadow .2s}.menu-container:hover{box-shadow:0 4px 12px #0000001a}.drag-handle{width:12px;height:32px;cursor:grab;display:flex;align-items:center;justify-content:center;padding:0 2px;opacity:.3;transition:opacity .2s}.drag-handle.sm{height:24px}.menu-container:hover .drag-handle,.app-title:hover .drag-handle{opacity:.7}.drag-dots{width:4px;height:16px;background-image:radial-gradient(var(--text-secondary) 1px,transparent 1px);background-size:4px 4px}.title-input{background:transparent;border:1px solid transparent;padding:4px 8px;font-size:14px;font-weight:500;width:150px;color:var(--text-primary);border-radius:4px}.title-input:hover{border-color:var(--border-color)}.title-input:focus{border-color:var(--primary-color);background:var(--bg-canvas)}.menu-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:transparent;color:var(--text-secondary);border-radius:6px;cursor:pointer;transition:all .2s}.menu-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.menu-btn:disabled{opacity:.5;cursor:not-allowed}.menu-btn.primary{background:var(--primary-color);color:#fff;width:auto;padding:0 12px}.menu-btn.primary:hover{opacity:.9}.menu-dropdown{position:absolute;top:60px;left:0;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;padding:8px 0;width:300px;z-index:1001;display:flex;flex-direction:column;gap:1px;max-height:80vh;overflow-y:auto}@media(max-width:480px){.menu-dropdown{width:280px;left:0}}.menu-item{display:grid;grid-template-columns:20px 1fr auto;align-items:center;gap:12px;padding:10px 16px;border:none;background:transparent;color:var(--text-primary);cursor:pointer;text-align:left;width:100%;box-sizing:border-box;transition:background .2s}.menu-item:hover{background:var(--btn-hover)}.menu-item svg{color:var(--text-secondary)}.menu-item .label{min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}.menu-item-right{display:flex;align-items:center;gap:12px;flex-shrink:0;justify-content:flex-end;min-width:70px}.menu-item .shortcut{font-size:11px;color:var(--text-secondary);opacity:.6;white-space:nowrap;min-width:40px;text-align:right}.check-icon{color:var(--primary-color)}.menu-separator{height:1px;background:var(--border-color);margin:4px 0}.menu-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;cursor:default}.app-title{position:fixed;top:12px;left:50%;transform:translate(-50%);background:var(--bg-panel);padding:4px 12px;border-radius:6px;border:1px solid var(--border-color);box-shadow:var(--shadow-sm);font-weight:500;color:var(--text-secondary);opacity:.6;z-index:100;font-size:13px;pointer-events:none;-webkit-user-select:none;user-select:none}.zoom-container{position:fixed;bottom:12px;left:12px;display:flex;align-items:center;z-index:100}.zoom-group{display:flex;background:var(--bg-panel, white);border-radius:6px;box-shadow:0 1px 3px #0000001a;border:1px solid var(--border-color, #e5e7eb);overflow:hidden;-webkit-user-select:none;user-select:none}.zoom-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;border-right:1px solid var(--border-color, #e5e7eb);background-color:var(--btn-bg, white);color:var(--text-primary, #4b5563);cursor:pointer;transition:all .2s}.zoom-btn:last-child{border-right:none}.zoom-btn:hover:not(:disabled){background-color:var(--btn-hover, #f9fafb)}.zoom-btn:disabled{opacity:.3;cursor:not-allowed}.zoom-btn.text-btn{width:auto;padding:0 8px;font-size:13px;font-variant-numeric:tabular-nums}
