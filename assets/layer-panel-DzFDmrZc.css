.layer-panel{position:absolute;right:0;bottom:0;width:280px;background:var(--bg-panel);border-left:1px solid var(--border-color);border-top:1px solid var(--border-color);display:flex;flex-direction:column;-webkit-user-select:none;user-select:none;height:300px;min-height:200px;box-shadow:-2px 0 8px #0000000d;z-index:50;pointer-events:auto;transition:all .3s cubic-bezier(.4,0,.2,1)}.layer-panel.minimized{height:48px;min-height:48px;overflow:hidden}.layer-panel-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.layer-properties{padding:8px 12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.opacity-control,.background-control,.color-tag-control{display:flex;align-items:center;gap:8px;font-size:11px;color:var(--text-secondary)}.background-control,.color-tag-control{margin-top:4px}.color-tag-options{display:flex;gap:4px}.color-tag-option{width:12px;height:12px;border-radius:50%;cursor:pointer;border:1px solid transparent}.color-tag-option.active{border-color:var(--text-primary);transform:scale(1.2)}.color-tag-option.none{border:1px solid var(--border-color);position:relative}.color-tag-option.none:after{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:red;transform:rotate(45deg)}.opacity-control input[type=range]{flex:1;height:4px;accent-color:#3b82f6;cursor:pointer}.color-swatch-mini{width:16px;height:16px;border-radius:3px;border:1px solid var(--border-color);cursor:pointer;position:relative;overflow:hidden;padding:0}.color-swatch-mini.transparent{background:#fff}.color-swatch-mini.transparent:after{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 45%,#ff0000 45%,#ff0000 55%,transparent 55%)}.color-picker-mini{width:0;height:0;opacity:0;position:absolute;padding:0}.layer-panel-header h3{margin:0;font-size:14px;font-weight:600;color:var(--text-primary)}.layer-add-btn{width:28px;height:28px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-panel);color:var(--text-primary);font-size:20px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.layer-add-btn:hover{background:var(--btn-hover);border-color:#3b82f6}.close-btn,.minimize-btn{background:transparent;border:none;cursor:pointer;padding:4px;border-radius:4px;color:var(--text-secondary);display:flex;align-items:center;justify-content:center}.close-btn:hover,.minimize-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.close-btn:hover{background:#ef44441a;color:var(--danger-color)}.layer-list{flex:1;overflow-y:auto;padding:4px}.layer-item{display:flex;align-items:center;gap:8px;padding:8px 12px;margin-bottom:2px;border-radius:4px;background:var(--bg-panel);border:1px solid transparent;cursor:pointer;transition:all .2s}.layer-item:hover{background:var(--btn-hover);border-color:var(--border-color)}.layer-item.active{background:#3b82f6;color:#fff;border-color:#3b82f6}.layer-item.active .layer-name{font-weight:600}.drag-handle{cursor:grab;font-size:12px;color:var(--text-secondary);opacity:.5;transition:opacity .2s;-webkit-user-select:none;user-select:none;padding:0 2px}.drag-handle:active{cursor:grabbing}.layer-item:hover .drag-handle{opacity:1}.layer-item.drag-over{border-color:#3b82f6!important;border-style:dashed!important;background:#3b82f61a}.layer-visibility-btn,.layer-lock-btn,.layer-delete-btn{border:none;background:transparent;cursor:pointer;font-size:16px;padding:2px 4px;line-height:1;transition:transform .2s}.layer-visibility-btn:hover,.layer-lock-btn:hover{transform:scale(1.2)}.layer-duplicate-btn{border:none;background:transparent;cursor:pointer;font-size:18px;padding:2px 4px;line-height:1;transition:transform .2s;opacity:.6}.layer-duplicate-btn:hover{opacity:1;transform:scale(1.2)}.layer-delete-btn{margin-left:auto;font-size:24px;font-weight:300;opacity:.5}.layer-delete-btn:hover:not(:disabled){opacity:1;transform:scale(1.2)}.layer-delete-btn:disabled{opacity:.2;cursor:not-allowed}.layer-name{flex:1;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;-webkit-user-select:none;user-select:none}.layer-name-container{flex:1;display:flex;align-items:center;gap:8px;min-width:0}.layer-color-tag{width:3px;height:16px;border-radius:1px;flex-shrink:0}.layer-item.group{font-weight:600}.layer-item.nested{width:100%}.layer-item.nested:before{content:"";position:absolute;left:12px;top:0;bottom:0;width:1px;background:var(--border-color);opacity:.3}.layer-item .expander{cursor:pointer;display:flex;align-items:center;justify-content:center;width:16px;height:16px;color:var(--text-secondary);transition:transform .2s}.layer-item .expander.expanded{transform:rotate(90deg)}.group-mode-toggle{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--text-secondary);cursor:pointer;padding:4px 8px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-secondary)}.group-mode-toggle.active{background:var(--accent-primary);color:#fff;border-color:var(--accent-primary)}.layer-name-input{flex:1;font-size:13px;padding:2px 6px;border:1px solid #3b82f6;border-radius:3px;background:var(--bg-panel);color:var(--text-primary);outline:none;min-width:0}.layer-name-input:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.layer-item.active .layer-name{color:#fff}@media(max-width:768px){.layer-panel{width:100%;height:auto;max-height:80vh;-webkit-user-select:none;user-select:none;inset:auto 0 0;border-left:none;border-top:1px solid var(--border-color);box-shadow:0 -2px 10px #0000001a;position:absolute;border-radius:12px 12px 0 0}.layer-name,.layer-name-input{font-size:14px;min-height:24px}}
