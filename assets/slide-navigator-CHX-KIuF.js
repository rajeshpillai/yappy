import{t as _,h as F,i as o,x as A,av as M,f as z,P as R,d as N,B as j,aJ as Z,s as G,e as L}from"./vendor-rendering-DL4SfLBt.js";import{l as J,o as K,h as a,a as h,e as Q,F as U,S as T}from"./solid-framework-CtC0wtKI.js";import{s as y,D as O,G as q,aj as H,ak as V,al as W,am as X}from"./index-jZCaQ3oB.js";import"./vendor-export-B6WwIQ1_.js";var Y=_('<div class=slide-transition-picker><div style=display:flex;justify-content:space-between;align-items:center><h4>Transition</h4><button class=close-picker-btn title=Close></button></div><div class=transition-field><label>Type</label><select><option value=none>None</option><option value=fade>Fade</option><option value=slide-left>Slide Left</option><option value=slide-right>Slide Right</option><option value=slide-up>Slide Up</option><option value=slide-down>Slide Down</option><option value=zoom-in>Zoom In</option><option value=zoom-out>Zoom Out</option></select></div><div class=transition-field><label>Duration (ms)</label><input type=number min=100 max=5000 step=100></div><div class=transition-field><label>Easing</label><select><option value=linear>Linear</option><option value=easeInQuad>Quad In</option><option value=easeOutQuad>Quad Out</option><option value=easeInOutQuad>Quad InOut</option><option value=easeInCubic>Cubic In</option><option value=easeOutCubic>Cubic Out</option><option value=easeInOutCubic>Cubic InOut</option><option value=easeOutBack>Back Out</option><option value=easeSpring>Spring</option></select></div><div class=transition-actions><button class=preview-btn title="Preview Transition">Preview');const ee=n=>{const c=()=>y.slides[n.index],f=()=>c()?.transition||{type:"none",duration:500,easing:"easeInOutQuad"},C=t=>{t.key==="Escape"&&(t.preventDefault(),n.onClose())};J(()=>{window.addEventListener("keydown",C)}),K(()=>{window.removeEventListener("keydown",C)});const P=t=>{const l=t.currentTarget.value;O(n.index,{type:l})},s=t=>{const l=parseInt(t.currentTarget.value,10);isNaN(l)||O(n.index,{duration:l})},u=t=>{const l=t.currentTarget.value;O(n.index,{easing:l})},r=async()=>{await q.previewTransition(n.index)};return a(R,{get children(){var t=Y(),l=t.firstChild,S=l.firstChild,i=S.nextSibling,v=l.nextSibling,k=v.firstChild,p=k.nextSibling,g=v.nextSibling,$=g.firstChild,b=$.nextSibling,w=g.nextSibling,e=w.firstChild,m=e.nextSibling,x=w.nextSibling,I=x.firstChild,B=I.firstChild;return t.$$click=d=>d.stopPropagation(),F(i,"click",n.onClose,!0),o(i,a(A,{size:14})),p.addEventListener("change",P),b.$$input=s,m.addEventListener("change",u),I.$$click=r,o(I,a(M,{size:14,style:"margin-right: 4px;"}),B),h(d=>{var E=`${n.position.top}px`,D=`${n.position.left}px`;return E!==d.e&&z(t,"top",d.e=E),D!==d.t&&z(t,"left",d.t=D),d},{e:void 0,t:void 0}),h(()=>p.value=f().type),h(()=>b.value=f().duration),h(()=>m.value=f().easing),t}})};N(["click","input"]);var te=_('<div class=slide-navigator id=slide-navigator><div class=slide-navigator-header>Slides</div><div class=slide-list-container></div><div class=add-slide-container><button class=add-slide-btn title="Add Slide (Ctrl+M)"><span class=icon>+ Add Slide'),ie=_("<img class=slide-thumbnail-img>"),ne=_('<div class=slide-thumbnail-wrapper><div class=slide-index></div><div><button class=slide-delete-btn title="Delete Slide"></button><button title="Slide Transition"></button><button class=slide-duplicate-btn title="Duplicate Slide"></button><div class=slide-preview>'),le=_("<div class=slide-name-tag>");const de=()=>{const[n,c]=Q(null),[f,C]=Q({top:0,left:0}),P=(s,u)=>{if(s.stopPropagation(),n()===u)c(null);else{const r=s.currentTarget.getBoundingClientRect();C({top:r.top,left:r.right+10}),c(u)}};return a(T,{get when(){return y.docType==="slides"},get children(){var s=te(),u=s.firstChild,r=u.nextSibling,t=r.nextSibling,l=t.firstChild;return s.$$click=()=>c(null),o(r,a(U,{get each(){return y.slides},children:(S,i)=>(()=>{var v=ne(),k=v.firstChild,p=k.nextSibling,g=p.firstChild,$=g.nextSibling,b=$.nextSibling,w=b.nextSibling;return o(k,()=>i()+1),p.$$click=()=>H(i()),g.$$click=e=>{e.stopPropagation(),confirm(`Delete Slide ${i()+1}?`)&&V(i())},o(g,a(A,{size:14})),$.$$click=e=>P(e,i()),o($,a(j,{size:14})),b.$$click=e=>{e.stopPropagation(),W(i())},o(b,a(Z,{size:14})),o(w,a(T,{get when(){return S.thumbnail},get fallback(){return(()=>{var e=le();return o(e,()=>S.name||`Slide ${i()+1}`),e})()},get children(){var e=ie();return h(()=>G(e,"src",S.thumbnail)),e}})),o(v,a(T,{get when(){return n()===i()},get children(){return a(ee,{get index(){return i()},onClose:()=>c(null),get position(){return f()}})}}),null),h(e=>{var m=`slide-thumbnail ${y.activeSlideIndex===i()?"active":""}`,x=`transition-toggle-btn ${n()===i()?"active":""}`;return m!==e.e&&L(p,e.e=m),x!==e.t&&L($,e.t=x),e},{e:void 0,t:void 0}),v})()})),l.$$click=()=>X(),s}})};N(["click"]);export{de as SlideNavigator};
