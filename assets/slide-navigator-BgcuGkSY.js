import{t as m,h as V,i as u,x as X,ax as W,f as L,P as ee,d as Y,s as K,C as te,aL as ie,e as F,m as ne}from"./vendor-rendering-CqcgmY0d.js";import{l as q,o as G,h as c,a as p,e as x,F as le,S as T}from"./solid-framework-CtC0wtKI.js";import{s as O,E as R,H as ae,ak as oe,al as se,am as re,an as de,ao as U,ap as ce}from"./index-DR3lwZH9.js";import"./vendor-export-B6WwIQ1_.js";var ue=m('<div class=slide-transition-picker><div style=display:flex;justify-content:space-between;align-items:center><h4>Transition</h4><button class=close-picker-btn title=Close></button></div><div class=transition-field><label>Type</label><select><option value=none>None</option><option value=fade>Fade</option><option value=slide-left>Slide Left</option><option value=slide-right>Slide Right</option><option value=slide-up>Slide Up</option><option value=slide-down>Slide Down</option><option value=zoom-in>Zoom In</option><option value=zoom-out>Zoom Out</option></select></div><div class=transition-field><label>Duration (ms)</label><input type=number min=100 max=5000 step=100></div><div class=transition-field><label>Easing</label><select><option value=linear>Linear</option><option value=easeInQuad>Quad In</option><option value=easeOutQuad>Quad Out</option><option value=easeInOutQuad>Quad InOut</option><option value=easeInCubic>Cubic In</option><option value=easeOutCubic>Cubic Out</option><option value=easeInOutCubic>Cubic InOut</option><option value=easeOutBack>Back Out</option><option value=easeSpring>Spring</option></select></div><div class=transition-actions><button class=preview-btn title="Preview Transition">Preview');const ve=s=>{const $=()=>O.slides[s.index],h=()=>$()?.transition||{type:"none",duration:500,easing:"easeInOutQuad"},C=n=>{n.key==="Escape"&&(n.preventDefault(),s.onClose())};q(()=>{window.addEventListener("keydown",C)}),G(()=>{window.removeEventListener("keydown",C)});const z=n=>{const r=n.currentTarget.value;R(s.index,{type:r})},S=n=>{const r=parseInt(n.currentTarget.value,10);isNaN(r)||R(s.index,{duration:r})},k=n=>{const r=n.currentTarget.value;R(s.index,{easing:r})},w=async()=>{await ae.previewTransition(s.index)};return c(ee,{get children(){var n=ue(),r=n.firstChild,A=r.firstChild,I=A.nextSibling,y=r.nextSibling,N=y.firstChild,D=N.nextSibling,P=y.nextSibling,M=P.firstChild,g=M.nextSibling,e=P.nextSibling,l=e.firstChild,d=l.nextSibling,Q=e.nextSibling,_=Q.firstChild,v=_.firstChild;return n.$$click=t=>t.stopPropagation(),V(I,"click",s.onClose,!0),u(I,c(X,{size:14})),D.addEventListener("change",z),g.$$input=S,d.addEventListener("change",k),_.$$click=w,u(_,c(W,{size:14,style:"margin-right: 4px;"}),v),p(t=>{var a=`${s.position.top}px`,o=`${s.position.left}px`;return a!==t.e&&L(n,"top",t.e=a),o!==t.t&&L(n,"left",t.t=o),t},{e:void 0,t:void 0}),p(()=>D.value=h().type),p(()=>g.value=h().duration),p(()=>d.value=h().easing),n}})};Y(["click","input"]);var ge=m("<div class=slide-context-menu><div class=menu-item>Insert Slide Above</div><div class=menu-item>Insert Slide Below"),pe=m('<div class=slide-navigator id=slide-navigator><div class=slide-navigator-header>Slides</div><div class=slide-list-container></div><div class=add-slide-container><button class=add-slide-btn title="Add Slide (Ctrl+M)"><span class=icon>+ Add Slide'),$e=m("<img class=slide-thumbnail-img>"),fe=m('<div><div class=slide-index></div><div><button class=slide-delete-btn title="Delete Slide"></button><button title="Slide Transition"></button><button class=slide-duplicate-btn title="Duplicate Slide"></button><div class=slide-preview>'),be=m("<div class=slide-name-tag>");const xe=()=>{const[s,$]=x(null),[h,C]=x({top:0,left:0}),[z,S]=x(null),[k,w]=x(null),[n,r]=x(null),A=(e,l)=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",l.toString()),w(l)},I=(e,l)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",k()!==l&&S(l)},y=(e,l)=>{e.preventDefault();const d=parseInt(e.dataTransfer.getData("text/plain"));S(null),!isNaN(d)&&d!==l&&ce(d,l)},N=()=>{S(null),w(null)},D=e=>{if(z()!==e)return"";const l=k();return l===null?"":l<e?"drag-over-bottom":"drag-over-top"},P=(e,l)=>{if(e.stopPropagation(),s()===l)$(null);else{const d=e.currentTarget.getBoundingClientRect();C({top:d.top,left:d.right+10}),$(l)}},M=(e,l)=>{e.preventDefault(),e.stopPropagation(),r({visible:!0,x:e.clientX,y:e.clientY,index:l})},g=()=>{r(null)};return q(()=>{document.addEventListener("click",g)}),G(()=>{document.removeEventListener("click",g)}),c(T,{get when(){return O.docType==="slides"},get children(){var e=pe(),l=e.firstChild,d=l.nextSibling,Q=d.nextSibling,_=Q.firstChild;return e.$$click=()=>$(null),u(d,c(le,{get each(){return O.slides},children:(v,t)=>(()=>{var a=fe(),o=a.firstChild,f=o.nextSibling,b=f.firstChild,E=b.nextSibling,B=E.nextSibling,J=B.nextSibling;return a.$$contextmenu=i=>M(i,t()),a.addEventListener("dragend",N),a.addEventListener("drop",i=>y(i,t())),a.addEventListener("dragover",i=>I(i,t())),a.addEventListener("dragstart",i=>A(i,t())),K(a,"draggable",!0),u(o,()=>t()+1),f.$$click=()=>oe(t()),b.$$click=i=>{i.stopPropagation(),confirm(`Delete Slide ${t()+1}?`)&&se(t())},u(b,c(X,{size:14})),E.$$click=i=>P(i,t()),u(E,c(te,{size:14})),B.$$click=i=>{i.stopPropagation(),re(t())},u(B,c(ie,{size:14})),u(J,c(T,{get when(){return v.thumbnail},get fallback(){return(()=>{var i=be();return u(i,()=>v.name||`Slide ${t()+1}`),i})()},get children(){var i=$e();return p(()=>K(i,"src",v.thumbnail)),i}})),u(a,c(T,{get when(){return s()===t()},get children(){return c(ve,{get index(){return t()},onClose:()=>$(null),get position(){return h()}})}}),null),p(i=>{var Z=`slide-thumbnail-wrapper ${D(t())}`,j=`slide-thumbnail ${O.activeSlideIndex===t()?"active":""}`,H=`transition-toggle-btn ${s()===t()?"active":""}`;return Z!==i.e&&F(a,i.e=Z),j!==i.t&&F(f,i.t=j),H!==i.a&&F(E,i.a=H),i},{e:void 0,t:void 0,a:void 0}),a})()})),_.$$click=()=>de(),u(e,c(T,{get when(){return ne(()=>!!n())()&&n().visible},get children(){var v=ge(),t=v.firstChild,a=t.nextSibling;return t.$$click=o=>{console.log("Insert Above clicked"),o.stopPropagation(),U(n().index,"before"),g()},a.$$click=o=>{console.log("Insert Below clicked"),o.stopPropagation(),U(n().index,"after"),g()},p(o=>{var f=`${n().y}px`,b=`${n().x}px`;return f!==o.e&&L(v,"top",o.e=f),b!==o.t&&L(v,"left",o.t=b),o},{e:void 0,t:void 0}),v}}),null),e}})};Y(["click","contextmenu"]);export{xe as SlideNavigator};
