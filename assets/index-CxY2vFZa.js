(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const lv=!1,cv=(e,t)=>e===t,Wi=Symbol("solid-proxy"),S1=typeof Proxy=="function",Pd=Symbol("solid-track"),Md={equals:cv};let C1=_1;const so=1,_d=2,L1={owned:null,cleanups:null,context:null,owner:null};var ar=null;let su=null,dv=null,nr=null,Gr=null,Ta=null,nh=0;function Eo(e,t){const n=nr,i=ar,r=e.length===0,a=t===void 0?i:t,l=r?L1:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=r?e:()=>e(()=>Kr(()=>Cl(l)));ar=l,nr=null;try{return Xo(o,!0)}finally{nr=n,ar=i}}function Pt(e,t){t=t?Object.assign({},Md,t):Md;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=r=>(typeof r=="function"&&(r=r(n.value)),M1(n,r));return[P1.bind(n),i]}function We(e,t,n){const i=Qf(e,t,!1,so);$l(i)}function Dn(e,t,n){C1=gv;const i=Qf(e,t,!1,so);(!n||!n.render)&&(i.user=!0),Ta?Ta.push(i):$l(i)}function or(e,t,n){n=n?Object.assign({},Md,n):Md;const i=Qf(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,$l(i),P1.bind(i)}function lo(e){return Xo(e,!1)}function Kr(e){if(nr===null)return e();const t=nr;nr=null;try{return e()}finally{nr=t}}function qi(e){Dn(()=>Kr(e))}function jn(e){return ar===null||(ar.cleanups===null?ar.cleanups=[e]:ar.cleanups.push(e)),e}function ef(){return nr}function hv(){return ar}function uv(e,t){const n=ar,i=nr;ar=e,nr=null;try{return Xo(t,!0)}catch(r){Jf(r)}finally{ar=n,nr=i}}function P1(){if(this.sources&&this.state)if(this.state===so)$l(this);else{const e=Gr;Gr=null,Xo(()=>Td(this),!1),Gr=e}if(nr){const e=this.observers?this.observers.length:0;nr.sources?(nr.sources.push(this),nr.sourceSlots.push(e)):(nr.sources=[this],nr.sourceSlots=[e]),this.observers?(this.observers.push(nr),this.observerSlots.push(nr.sources.length-1)):(this.observers=[nr],this.observerSlots=[nr.sources.length-1])}return this.value}function M1(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Xo(()=>{for(let r=0;r<e.observers.length;r+=1){const a=e.observers[r],l=su&&su.running;l&&su.disposed.has(a),(l?!a.tState:!a.state)&&(a.pure?Gr.push(a):Ta.push(a),a.observers&&N1(a)),l||(a.state=so)}if(Gr.length>1e6)throw Gr=[],new Error},!1)),t}function $l(e){if(!e.fn)return;Cl(e);const t=nh;fv(e,e.value,t)}function fv(e,t,n){let i;const r=ar,a=nr;nr=ar=e;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=so,e.owned&&e.owned.forEach(Cl),e.owned=null),e.updatedAt=n+1,Jf(l)}finally{nr=a,ar=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?M1(e,i):e.value=i,e.updatedAt=n)}function Qf(e,t,n,i=so,r){const a={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ar,context:ar?ar.context:null,pure:n};return ar===null||ar!==L1&&(ar.owned?ar.owned.push(a):ar.owned=[a]),a}function Nd(e){if(e.state===0)return;if(e.state===_d)return Td(e);if(e.suspense&&Kr(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nh);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===so)$l(e);else if(e.state===_d){const i=Gr;Gr=null,Xo(()=>Td(e,t[0]),!1),Gr=i}}function Xo(e,t){if(Gr)return e();let n=!1;t||(Gr=[]),Ta?n=!0:Ta=[],nh++;try{const i=e();return pv(n),i}catch(i){n||(Ta=null),Gr=null,Jf(i)}}function pv(e){if(Gr&&(_1(Gr),Gr=null),e)return;const t=Ta;Ta=null,t.length&&Xo(()=>C1(t),!1)}function _1(e){for(let t=0;t<e.length;t++)Nd(e[t])}function gv(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:Nd(i)}for(t=0;t<n;t++)Nd(e[t])}function Td(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===so?i!==t&&(!i.updatedAt||i.updatedAt<nh)&&Nd(i):r===_d&&Td(i,t)}}}function N1(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=_d,n.pure?Gr.push(n):Ta.push(n),n.observers&&N1(n))}}function Cl(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const a=r.pop(),l=n.observerSlots.pop();i<r.length&&(a.sourceSlots[l]=i,r[i]=a,n.observerSlots[i]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Cl(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Cl(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Av(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Jf(e,t=ar){throw Av(e)}const tf=Symbol("fallback");function Id(e){for(let t=0;t<e.length;t++)e[t]()}function yv(e,t,n={}){let i=[],r=[],a=[],l=0,o=t.length>1?[]:null;return jn(()=>Id(a)),()=>{let c=e()||[],s=c.length,d,u;return c[Pd],Kr(()=>{let h,g,p,y,A,v,x,C,_;if(s===0)l!==0&&(Id(a),a=[],i=[],r=[],l=0,o&&(o=[])),n.fallback&&(i=[tf],r[0]=Eo(F=>(a[0]=F,n.fallback())),l=1);else if(l===0){for(r=new Array(s),u=0;u<s;u++)i[u]=c[u],r[u]=Eo(f);l=s}else{for(p=new Array(s),y=new Array(s),o&&(A=new Array(s)),v=0,x=Math.min(l,s);v<x&&i[v]===c[v];v++);for(x=l-1,C=s-1;x>=v&&C>=v&&i[x]===c[C];x--,C--)p[C]=r[x],y[C]=a[x],o&&(A[C]=o[x]);for(h=new Map,g=new Array(C+1),u=C;u>=v;u--)_=c[u],d=h.get(_),g[u]=d===void 0?-1:d,h.set(_,u);for(d=v;d<=x;d++)_=i[d],u=h.get(_),u!==void 0&&u!==-1?(p[u]=r[d],y[u]=a[d],o&&(A[u]=o[d]),u=g[u],h.set(_,u)):a[d]();for(u=v;u<s;u++)u in p?(r[u]=p[u],a[u]=y[u],o&&(o[u]=A[u],o[u](u))):r[u]=Eo(f);r=r.slice(0,l=s),i=c.slice(0)}return r});function f(h){if(a[u]=h,o){const[g,p]=Pt(u);return o[u]=p,t(c[u],g)}return t(c[u])}}}function mv(e,t,n={}){let i=[],r=[],a=[],l=[],o=0,c;return jn(()=>Id(a)),()=>{const s=e()||[],d=s.length;return s[Pd],Kr(()=>{if(d===0)return o!==0&&(Id(a),a=[],i=[],r=[],o=0,l=[]),n.fallback&&(i=[tf],r[0]=Eo(f=>(a[0]=f,n.fallback())),o=1),r;for(i[0]===tf&&(a[0](),a=[],i=[],r=[],o=0),c=0;c<d;c++)c<i.length&&i[c]!==s[c]?l[c](()=>s[c]):c>=i.length&&(r[c]=Eo(u));for(;c<i.length;c++)a[c]();return o=l.length=a.length=d,i=s.slice(0),r=r.slice(0,o)});function u(f){a[c]=f;const[h,g]=Pt(s[c]);return l[c]=g,t(h,c)}}}function $(e,t){return Kr(()=>e(t||{}))}function Tc(){return!0}const nf={get(e,t,n){return t===Wi?n:e.get(t)},has(e,t){return t===Wi?!0:e.has(t)},set:Tc,deleteProperty:Tc,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Tc,deleteProperty:Tc}},ownKeys(e){return e.keys()}};function lu(e){return(e=typeof e=="function"?e():e)?e:{}}function vv(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function it(...e){let t=!1;for(let l=0;l<e.length;l++){const o=e[l];t=t||!!o&&Wi in o,e[l]=typeof o=="function"?(t=!0,or(o)):o}if(S1&&t)return new Proxy({get(l){for(let o=e.length-1;o>=0;o--){const c=lu(e[o])[l];if(c!==void 0)return c}},has(l){for(let o=e.length-1;o>=0;o--)if(l in lu(e[o]))return!0;return!1},keys(){const l=[];for(let o=0;o<e.length;o++)l.push(...Object.keys(lu(e[o])));return[...new Set(l)]}},nf);const n={},i=Object.create(null);for(let l=e.length-1;l>=0;l--){const o=e[l];if(!o)continue;const c=Object.getOwnPropertyNames(o);for(let s=c.length-1;s>=0;s--){const d=c[s];if(d==="__proto__"||d==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,d);if(!i[d])i[d]=u.get?{enumerable:!0,configurable:!0,get:vv.bind(n[d]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const f=n[d];f&&(u.get?f.push(u.get.bind(o)):u.value!==void 0&&f.push(()=>u.value))}}}const r={},a=Object.keys(i);for(let l=a.length-1;l>=0;l--){const o=a[l],c=i[o];c&&c.get?Object.defineProperty(r,o,c):r[o]=c?c.value:void 0}return r}function T1(e,...t){const n=t.length;if(S1&&Wi in e){const r=n>1?t.flat():t[0],a=t.map(l=>new Proxy({get(o){return l.includes(o)?e[o]:void 0},has(o){return l.includes(o)&&o in e},keys(){return l.filter(o=>o in e)}},nf));return a.push(new Proxy({get(l){return r.includes(l)?void 0:e[l]},has(l){return r.includes(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.includes(l))}},nf)),a}const i=[];for(let r=0;r<=n;r++)i[r]={};for(const r of Object.getOwnPropertyNames(e)){let a=n;for(let c=0;c<t.length;c++)if(t[c].includes(r)){a=c;break}const l=Object.getOwnPropertyDescriptor(e,r);!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable?i[a][r]=l.value:Object.defineProperty(i[a],r,l)}return i}const bv=e=>`Stale read from <${e}>.`;function rr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return or(yv(()=>e.each,e.children,t||void 0))}function wv(e){const t="fallback"in e&&{fallback:()=>e.fallback};return or(mv(()=>e.each,e.children,t||void 0))}function st(e){const t=e.keyed,n=or(()=>e.when,void 0,void 0),i=t?n:or(n,void 0,{equals:(r,a)=>!r==!a});return or(()=>{const r=i();if(r){const a=e.children;return typeof a=="function"&&a.length>0?Kr(()=>a(t?r:()=>{if(!Kr(i))throw bv("Show");return n()})):a}return e.fallback},void 0,void 0)}const xv=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],kv=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...xv]),Sv=new Set(["innerHTML","textContent","innerText","children"]),Cv=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Lv=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Pv(e,t){const n=Lv[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Mv=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),_v=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Nv={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Wn=e=>or(()=>e());function Tv(e,t,n){let i=n.length,r=t.length,a=i,l=0,o=0,c=t[r-1].nextSibling,s=null;for(;l<r||o<a;){if(t[l]===n[o]){l++,o++;continue}for(;t[r-1]===n[a-1];)r--,a--;if(r===l){const d=a<i?o?n[o-1].nextSibling:n[a-o]:c;for(;o<a;)e.insertBefore(n[o++],d)}else if(a===o)for(;l<r;)(!s||!s.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[a-1]&&n[o]===t[r-1]){const d=t[--r].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--a],d),t[r]=n[a]}else{if(!s){s=new Map;let u=o;for(;u<a;)s.set(n[u],u++)}const d=s.get(t[l]);if(d!=null)if(o<d&&d<a){let u=l,f=1,h;for(;++u<r&&u<a&&!((h=s.get(t[u]))==null||h!==d+f);)f++;if(f>d-o){const g=t[l];for(;o<d;)e.insertBefore(n[o++],g)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}const w0="_$DX_DELEGATE";function Iv(e,t,n,i={}){let r;return Eo(a=>{r=a,t===document?e():ee(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function Ne(e,t,n,i){let r;const a=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},l=()=>(r||(r=a())).cloneNode(!0);return l.cloneNode=l,l}function Cn(e,t=window.document){const n=t[w0]||(t[w0]=new Set);for(let i=0,r=e.length;i<r;i++){const a=e[i];n.has(a)||(n.add(a),t.addEventListener(a,Fv))}}function Lt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Bv(e,t,n,i){i==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,i)}function Dv(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function hn(e,t){t==null?e.removeAttribute("class"):e.className=t}function wn(e,t,n,i){if(i)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=a=>r.call(e,n[1],a))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Ev(e,t,n={}){const i=Object.keys(t||{}),r=Object.keys(n);let a,l;for(a=0,l=r.length;a<l;a++){const o=r[a];!o||o==="undefined"||t[o]||(x0(e,o,!1),delete n[o])}for(a=0,l=i.length;a<l;a++){const o=i[a],c=!!t[o];!o||o==="undefined"||n[o]===c||!c||(x0(e,o,!0),n[o]=c)}return n}function na(e,t,n){if(!t)return n?Lt(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),t||(t={});let r,a;for(a in n)t[a]==null&&i.removeProperty(a),delete n[a];for(a in t)r=t[a],r!==n[a]&&(i.setProperty(a,r),n[a]=r);return n}function sn(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function I1(e,t={},n,i){const r={};return i||We(()=>r.children=Ll(e,t.children,r.children)),We(()=>typeof t.ref=="function"&&Rn(t.ref,e)),We(()=>Rv(e,t,n,!0,r,!0)),r}function Rn(e,t,n){return Kr(()=>e(t,n))}function ee(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return Ll(e,t,i,n);We(r=>Ll(e,t(),r,n),i)}function Rv(e,t,n,i,r={},a=!1){t||(t={});for(const l in r)if(!(l in t)){if(l==="children")continue;r[l]=k0(e,l,null,r[l],n,a,t)}for(const l in t){if(l==="children")continue;const o=t[l];r[l]=k0(e,l,o,r[l],n,a,t)}}function $v(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function x0(e,t,n){const i=t.trim().split(/\s+/);for(let r=0,a=i.length;r<a;r++)e.classList.toggle(i[r],n)}function k0(e,t,n,i,r,a,l){let o,c,s,d,u;if(t==="style")return na(e,n,i);if(t==="classList")return Ev(e,n,i);if(n===i)return i;if(t==="ref")a||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);i&&e.removeEventListener(f,i,typeof i!="function"&&i),n&&e.addEventListener(f,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);i&&e.removeEventListener(f,i,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=Mv.has(f);if(!h&&i){const g=Array.isArray(i)?i[0]:i;e.removeEventListener(f,g)}(h||n)&&(wn(e,f,n,h),h&&Cn([f]))}else if(t.slice(0,5)==="attr:")Lt(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Dv(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(s=Sv.has(t))||!r&&((d=Pv(t,e.tagName))||(c=kv.has(t)))||(o=e.nodeName.includes("-")||"is"in l))u&&(t=t.slice(5),c=!0),t==="class"||t==="className"?hn(e,n):o&&!c&&!s?e[$v(t)]=n:e[d||t]=n;else{const f=r&&t.indexOf(":")>-1&&Nv[t.split(":")[0]];f?Bv(e,f,t,n):Lt(e,Cv[t]||t,n)}return n}function Fv(e){let t=e.target;const n=`$$${e.type}`,i=e.target,r=e.currentTarget,a=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),l=()=>{const c=t[n];if(c&&!t.disabled){const s=t[`${n}Data`];if(s!==void 0?c.call(t,s,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&a(t.host),!0},o=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();a(c[0]);for(let s=0;s<c.length-2&&(t=c[s],!!l());s++){if(t._$host){t=t._$host,o();break}if(t.parentNode===r)break}}else o();a(i)}function Ll(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,a==="string"||a==="number"){if(a==="number"&&(t=t.toString(),t===n))return n;if(l){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=ns(e,n,i,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||a==="boolean")n=ns(e,n,i);else{if(a==="function")return We(()=>{let o=t();for(;typeof o=="function";)o=o();n=Ll(e,o,n,i)}),()=>n;if(Array.isArray(t)){const o=[],c=n&&Array.isArray(n);if(rf(o,t,n,r))return We(()=>n=Ll(e,o,n,i,!0)),()=>n;if(o.length===0){if(n=ns(e,n,i),l)return n}else c?n.length===0?S0(e,o,i):Tv(e,n,o):(n&&ns(e),S0(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=ns(e,n,i,t);ns(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function rf(e,t,n,i){let r=!1;for(let a=0,l=t.length;a<l;a++){let o=t[a],c=n&&n[e.length],s;if(!(o==null||o===!0||o===!1))if((s=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=rf(e,o,c)||r;else if(s==="function")if(i){for(;typeof o=="function";)o=o();r=rf(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||r}else e.push(o),r=!0;else{const d=String(o);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return r}function S0(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function ns(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let a=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(r!==o){const c=o.parentNode===e;!a&&!l?c?e.replaceChild(r,o):e.insertBefore(r,n):c&&o.remove()}else a=!0}}else e.insertBefore(r,n);return[r]}const Ov="http://www.w3.org/2000/svg";function B1(e,t=!1,n=void 0){return t?document.createElementNS(Ov,e):document.createElement(e,{is:n})}function ra(e){const{useShadow:t}=e,n=document.createTextNode(""),i=()=>e.mount||document.body,r=hv();let a;return Dn(()=>{a||(a=uv(r,()=>or(()=>e.children)));const l=i();if(l instanceof HTMLHeadElement){const[o,c]=Pt(!1),s=()=>c(!0);Eo(d=>ee(l,()=>o()?d():a(),null)),jn(s)}else{const o=B1(e.isSVG?"g":"div",e.isSVG),c=t&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return n.parentNode},configurable:!0}),ee(c,a),l.appendChild(o),e.ref&&e.ref(o),jn(()=>l.removeChild(o))}},void 0,{render:!0}),n}function zv(e,t){const n=or(e);return or(()=>{const i=n();switch(typeof i){case"function":return Kr(()=>i(t));case"string":const r=_v.has(i),a=B1(i,r,Kr(()=>t.is));return I1(a,t,r),a}})}function Uv(e){const[,t]=T1(e,["component"]);return zv(()=>e.component,t)}const Wv="modulepreload",jv=function(e,t){return new URL(e,t).href},C0={},Ro=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const l=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=s(n.map(d=>{if(d=jv(d,i),d in C0)return;C0[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(i)for(let g=l.length-1;g>=0;g--){const p=l[g];if(p.href===d&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wv,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((g,p)=>{h.addEventListener("load",g),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return r.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},af=Symbol("store-raw"),Ss=Symbol("store-node"),Ca=Symbol("store-has"),D1=Symbol("store-self");function E1(e){let t=e[Wi];if(!t&&(Object.defineProperty(e,Wi,{value:t=new Proxy(e,Gv)}),!Array.isArray(e))){const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let r=0,a=n.length;r<a;r++){const l=n[r];i[l].get&&Object.defineProperty(e,l,{enumerable:i[l].enumerable,get:i[l].get.bind(t)})}}return t}function Bd(e){let t;return e!=null&&typeof e=="object"&&(e[Wi]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Pl(e,t=new Set){let n,i,r,a;if(n=e!=null&&e[af])return n;if(!Bd(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let l=0,o=e.length;l<o;l++)r=e[l],(i=Pl(r,t))!==r&&(e[l]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const l=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let c=0,s=l.length;c<s;c++)a=l[c],!o[a].get&&(r=e[a],(i=Pl(r,t))!==r&&(e[a]=i))}return e}function Dd(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ml(e,t,n){if(e[t])return e[t];const[i,r]=Pt(n,{equals:!1,internal:!0});return i.$=r,e[t]=i}function qv(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Wi||t===Ss||(delete n.value,delete n.writable,n.get=()=>e[Wi][t]),n}function R1(e){ef()&&Ml(Dd(e,Ss),D1)()}function Xv(e){return R1(e),Reflect.ownKeys(e)}const Gv={get(e,t,n){if(t===af)return e;if(t===Wi)return n;if(t===Pd)return R1(e),n;const i=Dd(e,Ss),r=i[t];let a=r?r():e[t];if(t===Ss||t===Ca||t==="__proto__")return a;if(!r){const l=Object.getOwnPropertyDescriptor(e,t);ef()&&(typeof a!="function"||e.hasOwnProperty(t))&&!(l&&l.get)&&(a=Ml(i,t,a)())}return Bd(a)?E1(a):a},has(e,t){return t===af||t===Wi||t===Pd||t===Ss||t===Ca||t==="__proto__"?!0:(ef()&&Ml(Dd(e,Ca),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Xv,getOwnPropertyDescriptor:qv};function Ed(e,t,n,i=!1){if(!i&&e[t]===n)return;const r=e[t],a=e.length;n===void 0?(delete e[t],e[Ca]&&e[Ca][t]&&r!==void 0&&e[Ca][t].$()):(e[t]=n,e[Ca]&&e[Ca][t]&&r===void 0&&e[Ca][t].$());let l=Dd(e,Ss),o;if((o=Ml(l,t,r))&&o.$(()=>n),Array.isArray(e)&&e.length!==a){for(let c=e.length;c<a;c++)(o=l[c])&&o.$();(o=Ml(l,"length",a))&&o.$(e.length)}(o=l[D1])&&o.$()}function $1(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i+=1){const r=n[i];Ed(e,r,t[r])}}function Hv(e,t){if(typeof t=="function"&&(t=t(e)),t=Pl(t),Array.isArray(t)){if(e===t)return;let n=0,i=t.length;for(;n<i;n++){const r=t[n];e[n]!==r&&Ed(e,n,r)}Ed(e,"length",i)}else $1(e,t)}function gl(e,t,n=[]){let i,r=e;if(t.length>1){i=t.shift();const l=typeof i,o=Array.isArray(e);if(Array.isArray(i)){for(let c=0;c<i.length;c++)gl(e,[i[c]].concat(t),n);return}else if(o&&l==="function"){for(let c=0;c<e.length;c++)i(e[c],c)&&gl(e,[c].concat(t),n);return}else if(o&&l==="object"){const{from:c=0,to:s=e.length-1,by:d=1}=i;for(let u=c;u<=s;u+=d)gl(e,[u].concat(t),n);return}else if(t.length>1){gl(e[i],t,[i].concat(n));return}r=e[i],n=[i].concat(n)}let a=t[0];typeof a=="function"&&(a=a(r,n),a===r)||i===void 0&&a==null||(a=Pl(a),i===void 0||Bd(r)&&Bd(a)&&!Array.isArray(a)?$1(r,a):Ed(e,i,a))}function Yv(...[e,t]){const n=Pl(e||{}),i=Array.isArray(n),r=E1(n);function a(...l){lo(()=>{i&&l.length===1?Hv(n,l[0]):gl(n,l)})}return[r,a]}const _l={type:"none",duration:500,easing:"easeInOutQuad"},Kf=(e,t,n=0,i=0)=>({id:crypto.randomUUID(),name:t||"Slide 1",spatialPosition:{x:n,y:i},dimensions:{width:1920,height:1080},backgroundColor:"#ffffff",order:0,transition:{..._l}}),F1=(e,t="slides")=>({version:4,metadata:{name:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),docType:t},elements:[],layers:[{id:"default-layer",name:"Layer 1",visible:!0,locked:!1,opacity:1,order:0,backgroundColor:"transparent"}],slides:[Kf()],globalSettings:{},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#cccccc",gridOpacity:.5,style:"lines"}});var Vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},rs=Vv,Qv=Ne("<svg>"),L0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Kv=e=>{const t=Jv(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zv=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),eb=e=>{const[t,n]=T1(e,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return(()=>{var i=Qv();return I1(i,it(rs,{get width(){return t.size??rs.width},get height(){return t.size??rs.height},get stroke(){return t.color??rs.stroke},get"stroke-width"(){return Wn(()=>!!t.absoluteStrokeWidth)()?Number(t.strokeWidth??rs["stroke-width"])*24/Number(t.size):Number(t.strokeWidth??rs["stroke-width"])},get class(){return Zv("lucide","lucide-icon",...t.name!=null?[`lucide-${L0(Kv(t.name))}`,`lucide-${L0(t.name)}`]:[],t.class!=null?t.class:"")}},n),!0,!0),ee(i,$(rr,{get each(){return t.iconNode},children:([r,a])=>$(Uv,it({component:r},a))})),i})()},ot=eb,tb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nb=e=>$(ot,it(e,{iconNode:tb,name:"activity"})),rb=nb,ib=[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M10 16v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-4",key:"11f1s0"}],["path",{d:"M10 8V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4",key:"t14dx9"}],["path",{d:"M20 16v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1",key:"1w07xs"}],["path",{d:"M14 8V7c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v1",key:"1apec2"}]],ab=e=>$(ot,it(e,{iconNode:ib,name:"align-center-horizontal"})),ob=ab,sb=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"M8 10H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h4",key:"14d6g8"}],["path",{d:"M16 10h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4",key:"1e2lrw"}],["path",{d:"M8 20H7a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2h1",key:"1fkdwx"}],["path",{d:"M16 14h1a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1",key:"1euafb"}]],lb=e=>$(ot,it(e,{iconNode:sb,name:"align-center-vertical"})),cb=lb,db=[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]],hb=e=>$(ot,it(e,{iconNode:db,name:"align-end-vertical"})),ub=hb,fb=[["rect",{width:"6",height:"14",x:"4",y:"5",rx:"2",key:"1wwnby"}],["rect",{width:"6",height:"10",x:"14",y:"7",rx:"2",key:"1fe6j6"}],["path",{d:"M17 22v-5",key:"4b6g73"}],["path",{d:"M17 7V2",key:"hnrr36"}],["path",{d:"M7 22v-3",key:"1r4jpn"}],["path",{d:"M7 5V2",key:"liy1u9"}]],pb=e=>$(ot,it(e,{iconNode:fb,name:"align-horizontal-distribute-center"})),gb=pb,Ab=[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]],yb=e=>$(ot,it(e,{iconNode:Ab,name:"align-start-vertical"})),mb=yb,vb=[["path",{d:"M22 17h-3",key:"1lwga1"}],["path",{d:"M22 7h-5",key:"o2endc"}],["path",{d:"M5 17H2",key:"1gx9xc"}],["path",{d:"M7 7H2",key:"6bq26l"}],["rect",{x:"5",y:"14",width:"14",height:"6",rx:"2",key:"1qrzuf"}],["rect",{x:"7",y:"4",width:"10",height:"6",rx:"2",key:"we8e9z"}]],bb=e=>$(ot,it(e,{iconNode:vb,name:"align-vertical-distribute-center"})),wb=bb,xb=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],kb=e=>$(ot,it(e,{iconNode:xb,name:"arrow-down"})),rh=kb,Sb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cb=e=>$(ot,it(e,{iconNode:Sb,name:"arrow-left"})),Lb=Cb,Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mb=e=>$(ot,it(e,{iconNode:Pb,name:"arrow-right"})),_b=Mb,Nb=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Tb=e=>$(ot,it(e,{iconNode:Nb,name:"arrow-up"})),Ib=Tb,Bb=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],Db=e=>$(ot,it(e,{iconNode:Bb,name:"binary"})),Eb=Db,Rb=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],$b=e=>$(ot,it(e,{iconNode:Rb,name:"bookmark"})),Fb=$b,Ob=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],zb=e=>$(ot,it(e,{iconNode:Ob,name:"box"})),Ub=zb,Wb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],jb=e=>$(ot,it(e,{iconNode:Wb,name:"brain"})),qb=jb,Xb=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],Gb=e=>$(ot,it(e,{iconNode:Xb,name:"brush"})),Hb=Gb,Yb=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Vb=e=>$(ot,it(e,{iconNode:Yb,name:"bug"})),Qb=Vb,Jb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kb=e=>$(ot,it(e,{iconNode:Jb,name:"camera"})),O1=Kb,Zb=[["path",{d:"M15 11h4.5a1 1 0 0 1 0 5h-4a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h3a1 1 0 0 1 0 5",key:"nxs35"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],ew=e=>$(ot,it(e,{iconNode:Zb,name:"case-upper"})),tw=ew,nw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rw=e=>$(ot,it(e,{iconNode:nw,name:"check"})),Qa=rw,iw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aw=e=>$(ot,it(e,{iconNode:iw,name:"chevron-down"})),oi=aw,ow=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sw=e=>$(ot,it(e,{iconNode:ow,name:"chevron-left"})),Zf=sw,lw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cw=e=>$(ot,it(e,{iconNode:lw,name:"chevron-right"})),Fl=cw,dw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hw=e=>$(ot,it(e,{iconNode:dw,name:"chevron-up"})),Ol=hw,uw=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],fw=e=>$(ot,it(e,{iconNode:uw,name:"chevrons-down"})),pw=fw,gw=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],Aw=e=>$(ot,it(e,{iconNode:gw,name:"chevrons-up"})),yw=Aw,mw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vw=e=>$(ot,it(e,{iconNode:mw,name:"circle-alert"})),bw=vw,ww=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],xw=e=>$(ot,it(e,{iconNode:ww,name:"circle-dashed"})),kw=xw,Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Cw=e=>$(ot,it(e,{iconNode:Sw,name:"circle-dot"})),z1=Cw,Lw=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pw=e=>$(ot,it(e,{iconNode:Lw,name:"circle-play"})),Mw=Pw,_w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nw=e=>$(ot,it(e,{iconNode:_w,name:"circle-question-mark"})),Tw=Nw,Iw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bw=e=>$(ot,it(e,{iconNode:Iw,name:"circle"})),ep=Bw,Dw=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ew=e=>$(ot,it(e,{iconNode:Dw,name:"cloud"})),Rw=Ew,$w=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Fw=e=>$(ot,it(e,{iconNode:$w,name:"columns-2"})),Ow=Fw,zw=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],Uw=e=>$(ot,it(e,{iconNode:zw,name:"component"})),Ww=Uw,jw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qw=e=>$(ot,it(e,{iconNode:jw,name:"copy"})),U1=qw,Xw=[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]],Gw=e=>$(ot,it(e,{iconNode:Xw,name:"cuboid"})),Hw=Gw,Yw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Vw=e=>$(ot,it(e,{iconNode:Yw,name:"database"})),tp=Vw,Qw=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Jw=e=>$(ot,it(e,{iconNode:Qw,name:"diamond"})),Kw=Jw,Zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],e5=e=>$(ot,it(e,{iconNode:Zw,name:"disc"})),t5=e5,n5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],r5=e=>$(ot,it(e,{iconNode:n5,name:"download"})),of=r5,i5=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],a5=e=>$(ot,it(e,{iconNode:i5,name:"eraser"})),o5=a5,s5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l5=e=>$(ot,it(e,{iconNode:s5,name:"external-link"})),c5=l5,d5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h5=e=>$(ot,it(e,{iconNode:d5,name:"eye-off"})),u5=h5,f5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p5=e=>$(ot,it(e,{iconNode:f5,name:"eye"})),g5=p5,A5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],y5=e=>$(ot,it(e,{iconNode:A5,name:"file-plus"})),m5=y5,v5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],b5=e=>$(ot,it(e,{iconNode:v5,name:"file-text"})),ih=b5,w5=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],x5=e=>$(ot,it(e,{iconNode:w5,name:"folder-open"})),np=x5,k5=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],S5=e=>$(ot,it(e,{iconNode:k5,name:"folder"})),sf=S5,C5=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],L5=e=>$(ot,it(e,{iconNode:C5,name:"frame"})),P5=L5,M5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],_5=e=>$(ot,it(e,{iconNode:M5,name:"github"})),N5=_5,T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],I5=e=>$(ot,it(e,{iconNode:T5,name:"globe"})),B5=I5,D5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],E5=e=>$(ot,it(e,{iconNode:D5,name:"grip-vertical"})),W1=E5,R5=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],$5=e=>$(ot,it(e,{iconNode:R5,name:"hand"})),F5=$5,O5=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],z5=e=>$(ot,it(e,{iconNode:O5,name:"hard-drive"})),U5=z5,W5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],j5=e=>$(ot,it(e,{iconNode:W5,name:"heart"})),q5=j5,X5=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],G5=e=>$(ot,it(e,{iconNode:X5,name:"hexagon"})),H5=G5,Y5=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],V5=e=>$(ot,it(e,{iconNode:Y5,name:"highlighter"})),Q5=V5,J5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K5=e=>$(ot,it(e,{iconNode:J5,name:"image"})),j1=K5,Z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ex=e=>$(ot,it(e,{iconNode:Z5,name:"info"})),tx=ex,nx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],rx=e=>$(ot,it(e,{iconNode:nx,name:"layers"})),ah=rx,ix=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ax=e=>$(ot,it(e,{iconNode:ix,name:"layout-grid"})),q1=ax,ox=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],sx=e=>$(ot,it(e,{iconNode:ox,name:"layout-list"})),X1=sx,lx=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],cx=e=>$(ot,it(e,{iconNode:lx,name:"leaf"})),dx=cx,hx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ux=e=>$(ot,it(e,{iconNode:hx,name:"maximize-2"})),fx=ux,px=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],gx=e=>$(ot,it(e,{iconNode:px,name:"maximize"})),cu=gx,Ax=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yx=e=>$(ot,it(e,{iconNode:Ax,name:"menu"})),G1=yx,mx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vx=e=>$(ot,it(e,{iconNode:mx,name:"message-circle"})),bx=vx,wx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xx=e=>$(ot,it(e,{iconNode:wx,name:"message-square"})),kx=xx,Sx=[["path",{d:"M5 12h14",key:"1ays0h"}]],Cx=e=>$(ot,it(e,{iconNode:Sx,name:"minus"})),oh=Cx,Lx=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Px=e=>$(ot,it(e,{iconNode:Lx,name:"monitor-play"})),Mx=Px,_x=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Nx=e=>$(ot,it(e,{iconNode:_x,name:"moon"})),Tx=Nx,Ix=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Bx=e=>$(ot,it(e,{iconNode:Ix,name:"mouse-pointer-2"})),Dx=Bx,Ex=[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]],Rx=e=>$(ot,it(e,{iconNode:Ex,name:"move-up-right"})),$x=Rx,Fx=[["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}]],Ox=e=>$(ot,it(e,{iconNode:Fx,name:"octagon"})),zx=Ox,Ux=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wx=e=>$(ot,it(e,{iconNode:Ux,name:"package"})),jx=Wx,qx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Xx=e=>$(ot,it(e,{iconNode:qx,name:"palette"})),rp=Xx,Gx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Hx=e=>$(ot,it(e,{iconNode:Gx,name:"panels-top-left"})),ld=Hx,Yx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Vx=e=>$(ot,it(e,{iconNode:Yx,name:"pen"})),Qx=Vx,Jx=[["path",{d:"M10.83 2.38a2 2 0 0 1 2.34 0l8 5.74a2 2 0 0 1 .73 2.25l-3.04 9.26a2 2 0 0 1-1.9 1.37H7.04a2 2 0 0 1-1.9-1.37L2.1 10.37a2 2 0 0 1 .73-2.25z",key:"2hea0t"}]],Kx=e=>$(ot,it(e,{iconNode:Jx,name:"pentagon"})),H1=Kx,Zx=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],ek=e=>$(ot,it(e,{iconNode:Zx,name:"pill"})),tk=ek,nk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rk=e=>$(ot,it(e,{iconNode:nk,name:"play"})),Uo=rk,ik=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ak=e=>$(ot,it(e,{iconNode:ik,name:"plus"})),zl=ak,ok=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],sk=e=>$(ot,it(e,{iconNode:ok,name:"rectangle-horizontal"})),lk=sk,ck=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],dk=e=>$(ot,it(e,{iconNode:ck,name:"redo-2"})),hk=dk,uk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fk=e=>$(ot,it(e,{iconNode:uk,name:"refresh-cw"})),pk=fk,gk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ak=e=>$(ot,it(e,{iconNode:gk,name:"rotate-ccw"})),yk=Ak,mk=[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]],vk=e=>$(ot,it(e,{iconNode:mk,name:"router"})),bk=vk,wk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}]],xk=e=>$(ot,it(e,{iconNode:wk,name:"rows-2"})),kk=xk,Sk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ck=e=>$(ot,it(e,{iconNode:Sk,name:"save"})),Lk=Ck,Pk=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Mk=e=>$(ot,it(e,{iconNode:Pk,name:"server"})),_k=Mk,Nk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tk=e=>$(ot,it(e,{iconNode:Nk,name:"settings"})),Ik=Tk,Bk=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Dk=e=>$(ot,it(e,{iconNode:Bk,name:"share-2"})),Y1=Dk,Ek=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rk=e=>$(ot,it(e,{iconNode:Ek,name:"shield"})),$k=Rk,Fk=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Ok=e=>$(ot,it(e,{iconNode:Fk,name:"shuffle"})),zk=Ok,Uk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Wk=e=>$(ot,it(e,{iconNode:Uk,name:"square"})),Ul=Wk,jk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qk=e=>$(ot,it(e,{iconNode:jk,name:"star"})),Xk=qk,Gk=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Hk=e=>$(ot,it(e,{iconNode:Gk,name:"sticky-note"})),Yk=Hk,Vk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Qk=e=>$(ot,it(e,{iconNode:Vk,name:"sun"})),Jk=Qk,Kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zk=e=>$(ot,it(e,{iconNode:Kk,name:"target"})),V1=Zk,e3=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],t3=e=>$(ot,it(e,{iconNode:e3,name:"text-align-end"})),n3=t3,r3=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],i3=e=>$(ot,it(e,{iconNode:r3,name:"text-align-start"})),a3=i3,o3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s3=e=>$(ot,it(e,{iconNode:o3,name:"trash-2"})),Is=s3,l3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c3=e=>$(ot,it(e,{iconNode:l3,name:"triangle-alert"})),d3=c3,h3=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],u3=e=>$(ot,it(e,{iconNode:h3,name:"triangle"})),f3=u3,p3=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],g3=e=>$(ot,it(e,{iconNode:p3,name:"type"})),A3=g3,y3=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],m3=e=>$(ot,it(e,{iconNode:y3,name:"undo-2"})),v3=m3,b3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w3=e=>$(ot,it(e,{iconNode:b3,name:"upload"})),P0=w3,x3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],k3=e=>$(ot,it(e,{iconNode:x3,name:"user"})),Q1=k3,S3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],C3=e=>$(ot,it(e,{iconNode:S3,name:"video"})),L3=C3,P3=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],M3=e=>$(ot,it(e,{iconNode:P3,name:"wand-sparkles"})),_3=M3,N3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],T3=e=>$(ot,it(e,{iconNode:N3,name:"x"})),Hr=T3,I3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],B3=e=>$(ot,it(e,{iconNode:I3,name:"youtube"})),D3=B3,E3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],R3=e=>$(ot,it(e,{iconNode:E3,name:"zap"})),Wl=R3,$3=Ne("<div><div class=toast-icon></div><div class=toast-message></div><button class=toast-close>");const[is,lf]=Pt({message:"",type:"info",visible:!1});let bl;const Hn=(e,t="info",n=3e3)=>{lf({message:e,type:t,visible:!0}),bl&&clearTimeout(bl),bl=window.setTimeout(()=>{lf(i=>({...i,visible:!1}))},n)},F3=()=>{lf(e=>({...e,visible:!1})),bl&&clearTimeout(bl)},O3=()=>$(st,{get when(){return is().visible},get children(){var e=$3(),t=e.firstChild,n=t.nextSibling,i=n.nextSibling;return ee(t,$(st,{get when(){return is().type==="success"},get children(){return $(Qa,{size:18})}}),null),ee(t,$(st,{get when(){return is().type==="error"},get children(){return $(bw,{size:18})}}),null),ee(t,$(st,{get when(){return is().type==="info"},get children(){return $(tx,{size:18})}}),null),ee(n,()=>is().message),i.$$click=F3,ee(i,$(Hr,{size:14})),We(()=>hn(e,`toast toast-${is().type}`)),e}});Cn(["click"]);const M0=["#e03131","#1971c2","#2f9e44","#f08c00","#9c36b5","#0b7285","#748ffc","#f76707","#099268"];class J1{hSpacing=100;vSpacing=40;buildTree(t,n){const i=n.find(l=>l.id===t);if(!i)return null;const r={id:i.id,element:i,children:[],width:i.width,height:i.height,x:i.x,y:i.y},a=n.filter(l=>l.parentId===t);for(const l of a){const o=this.buildTree(l.id,n);o&&r.children.push(o)}return r}layoutHorizontal(t,n="right"){this.calculateSubtreeHeights(t),this.assignHorizontalPositions(t,t.x,t.y,n)}layoutVertical(t,n="down"){this.calculateSubtreeWidths(t),this.assignVerticalPositions(t,t.x,t.y,n)}calculateSubtreeHeights(t){if(t.children.length===0)return t.totalHeight=t.height,t.totalHeight;const n=t.children.reduce((r,a)=>r+this.calculateSubtreeHeights(a),0),i=(t.children.length-1)*this.vSpacing;return t.totalHeight=Math.max(t.height,n+i),t.totalHeight}assignHorizontalPositions(t,n,i,r){if(t.x=n,t.y=i,t.children.length===0)return;const a=r==="right"?n+t.width+this.hSpacing:n-this.hSpacing;let l=i-t.totalHeight/2+t.children[0].totalHeight/2;const o=t.children.reduce((c,s)=>c+s.totalHeight,0)+(t.children.length-1)*this.vSpacing;l=i+t.height/2-o/2;for(const c of t.children){const s=r==="right"?a:a-c.width,d=l+c.totalHeight/2-c.height/2;this.assignHorizontalPositions(c,s,d,r),l+=c.totalHeight+this.vSpacing}}calculateSubtreeWidths(t){if(t.children.length===0)return t.totalWidth=t.width,t.totalWidth;const n=t.children.reduce((r,a)=>r+this.calculateSubtreeWidths(a),0),i=(t.children.length-1)*this.hSpacing;return t.totalWidth=Math.max(t.width,n+i),t.totalWidth}assignVerticalPositions(t,n,i,r){if(t.x=n,t.y=i,t.children.length===0)return;const a=r==="down"?i+t.height+this.vSpacing:i-this.vSpacing,l=t.children.reduce((c,s)=>c+s.totalWidth,0)+(t.children.length-1)*this.hSpacing;let o=n+t.width/2-l/2;for(const c of t.children){const s=r==="down"?a:a-c.height,d=o+c.totalWidth/2-c.width/2;this.assignVerticalPositions(c,d,s,r),o+=c.totalWidth+this.hSpacing}}layoutRadial(t){this.assignRadialPositions(t,t.x,t.y,0,Math.PI*2,250)}assignRadialPositions(t,n,i,r,a,l){if(t.x=n,t.y=i,t.children.length===0)return;const o=n+t.width/2,c=i+t.height/2,d=(a-r)/t.children.length;for(let u=0;u<t.children.length;u++){const f=t.children[u],h=r+(u+.5)*d,g=o+Math.cos(h)*(l+t.width/2),p=c+Math.sin(h)*(l+t.height/2),y=g-f.width/2,A=p-f.height/2,v=Math.min(Math.PI/2,d*.9);this.assignRadialPositions(f,y,A,h-v/2,h+v/2,l*.8)}}applySemanticStyling(t,n){t.styleUpdates={},t.children.forEach((i,r)=>{const a=M0[r%M0.length];this.styleSubtree(i,a,1,n)})}styleSubtree(t,n,i,r){const a=Math.max(1,4-i*.5),l=Math.max(40,100-i*10);t.styleUpdates={strokeColor:n,strokeWidth:a,opacity:l},r.find(o=>(o.type==="arrow"||o.type==="line"||o.type==="bezier")&&o.endBinding?.elementId===t.id);for(const o of t.children)this.styleSubtree(o,n,i+1,r)}getUpdates(t,n,i=new Map){const r={x:t.x,y:t.y,...t.styleUpdates};i.set(t.id,r);const a=n.find(l=>(l.type==="arrow"||l.type==="line"||l.type==="bezier")&&l.endBinding?.elementId===t.id);a&&t.styleUpdates&&i.set(a.id,{strokeColor:t.styleUpdates.strokeColor,strokeWidth:t.styleUpdates.strokeWidth,opacity:t.styleUpdates.opacity});for(const l of t.children)this.getUpdates(l,n,i);return i}}function K1(e=170,t=26,n=1,i=0){return r=>{if(r===0||r===1)return r;const l=r*1,o=Math.max(n,.01),c=Math.max(e,.01),s=Math.sqrt(c/o),d=t/(2*Math.sqrt(c*o)),u=-1,f=i;let h;const g=.001;if(d<1-g){const p=s*Math.sqrt(1-d*d),y=Math.exp(-d*s*l),A=u,v=(f+d*s*u)/p;h=1+y*(A*Math.cos(p*l)+v*Math.sin(p*l))}else if(d>1+g){const p=-s*(d+Math.sqrt(d*d-1)),y=-s*(d-Math.sqrt(d*d-1)),A=(f-y*u)/(p-y),v=u-A;h=1+A*Math.exp(p*l)+v*Math.exp(y*l)}else h=1+Math.exp(-s*l)*(u+(f+s*u)*l);return h}}const $o={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,10*(2*e-1))/2:(2-Math.pow(2,-10*(2*e-1)))/2,easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInBounce:e=>1-$o.easeOutBounce(1-e),easeInOutBounce:e=>e<.5?(1-$o.easeOutBounce(1-2*e))/2:(1+$o.easeOutBounce(2*e-1))/2,easeOutElastic:e=>{const t=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*t)+1},easeInElastic:e=>{const t=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*t)},easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeSpring:K1(170,26,1,0)};function cf(e){return e?typeof e=="function"?e:$o[e]??$o.linear:$o.linear}function bi(e,t,n){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*n}function z3(e,t,n){if(!e)return t||"#000000";if(!t)return e;const i=h=>{const g=h.replace("#","");return g.length<6?[0,0,0]:[parseInt(g.substring(0,2),16)||0,parseInt(g.substring(2,4),16)||0,parseInt(g.substring(4,6),16)||0]},[r,a,l]=i(e),[o,c,s]=i(t),d=Math.round(bi(r,o,n)),u=Math.round(bi(a,c,n)),f=Math.round(bi(l,s,n));return`#${d.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}`}const[df,U3]=Pt(0);class W3{animations=new Map;rafId=null;isRunning=!1;forceTicker=!1;setForceTicker(t){this.forceTicker=t,t&&this.ensureLoopRunning()}create(t,n,i){const r={id:t,state:"idle",startTime:0,pauseTime:null,duration:i.duration??0,delay:i.delay??0,easing:cf(i.easing),onUpdate:n,onComplete:i.onComplete,onStart:i.onStart,loop:i.loop??!1,loopCount:i.loopCount??1/0,currentLoop:0,alternate:i.alternate??!1,direction:1};return this.animations.set(t,r),t}start(t){const n=this.animations.get(t);if(n){if(n.state==="paused"&&n.pauseTime!==null){const i=n.pauseTime-n.startTime;n.startTime=performance.now()-i,n.pauseTime=null}else n.startTime=performance.now(),n.currentLoop=0,n.direction=1;n.state="running",n.onStart?.(),this.ensureLoopRunning()}}pause(t){const n=this.animations.get(t);!n||n.state!=="running"||(n.state="paused",n.pauseTime=performance.now())}stop(t){const n=this.animations.get(t);n&&(n.state="completed",this.animations.delete(t),this.animations.size===0&&!this.forceTicker&&this.stopLoop())}reset(t){const n=this.animations.get(t);n&&(n.state="idle",n.startTime=0,n.pauseTime=null,n.currentLoop=0,n.direction=1,n.onUpdate(0))}getState(t){return this.animations.get(t)?.state??null}has(t){return this.animations.has(t)}stopAll(){this.animations.clear(),this.stopLoop()}pauseAll(){for(const t of this.animations.values())t.state==="running"&&(t.state="paused",t.pauseTime=performance.now())}resumeAll(){const t=performance.now();for(const n of this.animations.values())if(n.state==="paused"&&n.pauseTime!==null){const i=n.pauseTime-n.startTime;n.startTime=t-i,n.pauseTime=null,n.state="running"}this.ensureLoopRunning()}tick=t=>{if(!this.isRunning)return;const n=w.globalSettings?.animationEnabled??!0;let i=!1;lo(()=>{U3(t);for(const r of this.animations.values()){if(r.state!=="running")continue;if(i=!0,!n){r.onUpdate(1),r.state="completed",r.onComplete?.(),this.animations.delete(r.id);continue}const a=t-r.startTime-r.delay;if(a<0)continue;let l=Math.min(a/r.duration,1);r.direction===-1&&(l=1-l);const o=r.easing(l);r.onUpdate(o),a>=r.duration&&(r.loop&&r.currentLoop<r.loopCount-1?(r.currentLoop++,r.startTime=t,r.alternate&&(r.direction=r.direction===1?-1:1)):(r.state="completed",r.onComplete?.(),this.animations.delete(r.id)))}}),i||this.animations.size>0||this.forceTicker?this.rafId=requestAnimationFrame(this.tick):this.stopLoop()};ensureLoopRunning(){this.isRunning||(this.isRunning=!0,this.rafId=requestAnimationFrame(this.tick))}stopLoop(){this.isRunning=!1,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}}const Sr=new W3;let j3=0;function Rd(e="anim"){return`${e}-${Date.now()}-${++j3}`}function du(e){const{width:t,height:n}=e.dimensions,{x:i,y:r}=e.spatialPosition,a=40,l=window.innerWidth-a*2,o=window.innerHeight-a*2,c=l/t,s=o/n,d=Math.min(c,s),u=(window.innerWidth-t*d)/2-i*d,f=(window.innerHeight-n*d)/2-r*d;return{scale:d,panX:u,panY:f}}class q3{activeAnimationId=null;isTransitioning=!1;fadeOverlay=null;get transitioning(){return this.isTransitioning}async transitionTo(t,n){if(t<0||t>=w.slides.length||t===w.activeSlideIndex&&!this.isTransitioning)return;this.cancelActiveTransition();const i=w.activeSlideIndex,r=w.slides[i],a=w.slides[t],l=a.transition||_l,o=t>i?"forward":"backward",c={fromSlide:r,toSlide:a,fromIndex:i,toIndex:t,direction:o};if(n?.skipAnimation||l.type==="none"||w.globalSettings?.animationEnabled===!1||w.globalSettings?.reducedMotion===!0){this.applyImmediateSwitch(t);return}this.isTransitioning=!0;try{await this.executeTransition(c,l)}finally{this.isTransitioning=!1,this.activeAnimationId=null}}applyImmediateSwitch(t){xe("activeSlideIndex",t);const n=w.slides[t];if(n){const i=du(n);Ir(i)}}cancelActiveTransition(){this.activeAnimationId&&(Sr.stop(this.activeAnimationId),this.activeAnimationId=null),this.removeFadeOverlay(),this.isTransitioning=!1}async executeTransition(t,n){switch(n.type){case"fade":return this.executeFade(t,n);case"slide-left":case"slide-right":case"slide-up":case"slide-down":return this.executeSlide(t,n);case"zoom-in":case"zoom-out":return this.executeZoom(t,n);default:this.applyImmediateSwitch(t.toIndex)}}executeFade(t,n){return new Promise(i=>{const r=n.duration/2,a=t.toSlide.backgroundColor||"#ffffff";this.fadeOverlay=document.createElement("div"),this.fadeOverlay.style.cssText=`
                position: fixed;
                inset: 0;
                z-index: 99999;
                background: ${a};
                opacity: 0;
                pointer-events: none;
                transition: opacity ${r}ms ease-in-out;
            `,document.body.appendChild(this.fadeOverlay),requestAnimationFrame(()=>{this.fadeOverlay&&(this.fadeOverlay.style.opacity="1")}),setTimeout(()=>{this.applyImmediateSwitch(t.toIndex),this.fadeOverlay&&(this.fadeOverlay.style.opacity="0"),setTimeout(()=>{this.removeFadeOverlay(),i()},r)},r)})}executeSlide(t,n){return new Promise(i=>{const r={...w.viewState},a=du(t.toSlide);let l=0,o=0;const c=200;switch(n.type){case"slide-left":l=t.direction==="forward"?-c:c;break;case"slide-right":l=t.direction==="forward"?c:-c;break;case"slide-up":o=t.direction==="forward"?-c:c;break;case"slide-down":o=t.direction==="forward"?c:-c;break}xe("activeSlideIndex",t.toIndex);const s=Rd("slide-transition");this.activeAnimationId=s;const d=cf(n.easing);Sr.create(s,u=>{const f=d(u),h=bi(r.panX+l,a.panX,f),g=bi(r.panY+o,a.panY,f),p=bi(r.scale,a.scale,f);Ir({panX:h,panY:g,scale:p})},{duration:n.duration,onComplete:()=>{this.activeAnimationId=null,Ir(a),i()}}),Sr.start(s)})}executeZoom(t,n){return new Promise(i=>{const r={...w.viewState},a=du(t.toSlide),l=n.type==="zoom-in";xe("activeSlideIndex",t.toIndex);const o=Rd("zoom-transition");this.activeAnimationId=o;const c=cf(n.easing),s=l?.3:1.5,d=a.scale*s;Sr.create(o,u=>{const f=c(u);let h,g,p;if(u<.5){const y=f*2;h=bi(r.scale,d,y),g=bi(r.panX,(r.panX+a.panX)/2,y),p=bi(r.panY,(r.panY+a.panY)/2,y)}else{const y=(f-.5)*2;h=bi(d,a.scale,y),g=bi((r.panX+a.panX)/2,a.panX,y),p=bi((r.panY+a.panY)/2,a.panY,y)}Ir({scale:h,panX:g,panY:p})},{duration:n.duration,onComplete:()=>{this.activeAnimationId=null,Ir(a),i()}}),Sr.start(o)})}removeFadeOverlay(){this.fadeOverlay&&this.fadeOverlay.parentNode&&(this.fadeOverlay.parentNode.removeChild(this.fadeOverlay),this.fadeOverlay=null)}async previewTransition(t){if(!(t<0||t>=w.slides.length))if(t===0){const n=w.slides[0],i=n.transition||_l;await this.executeTransition({fromSlide:n,toSlide:n,fromIndex:-1,toIndex:0,direction:"forward"},i)}else await this.transitionTo(t-1,{skipAnimation:!0}),await new Promise(n=>setTimeout(n,300)),await this.transitionTo(t)}}const wl=new q3,xi=new Map;function sh(e){const t=xi.get(e);t&&(t.forEach(n=>Sr.stop(n)),xi.delete(e))}function Z1(e){const t=xi.get(e);return t?t.size>0:!1}function X3(e,t){return e[t]}function xt(e,t,n){const i=w.elements.find(s=>s.id===e);if(!i)return console.warn(`animateElement: Element ${e} not found`),"";const r=Rd("el");sh(e),xi.has(e)||xi.set(e,new Set),xi.get(e).add(r);const a={},l=[],o=[],c={};for(const s of Object.keys(t)){const d=X3(i,s);d!==void 0?(a[s]=d,typeof d=="number"?l.push(s):typeof d=="string"&&o.push(s)):c[s]=t[s]}return Object.keys(c).length>0&&bt(e,c,!1),Sr.create(r,s=>{const d={},u={};for(const f of l){const h=a[f],g=t[f],p=bi(h,g,s);d[f]=p,u[f]=p}for(const f of o){const h=a[f],g=t[f];if(h&&g&&h.startsWith("#")&&g.startsWith("#")){const p=z3(h,g,s);d[f]=p,u[f]=p}}bt(e,d,!1),n.onUpdate?.(u)},{duration:n.duration,easing:n.easing,delay:n.delay,onStart:n.onStart,onComplete:()=>{const s=xi.get(e);s&&(s.delete(r),s.size===0&&xi.delete(e)),n.onComplete?.()},loop:n.loop,loopCount:n.loopCount,alternate:n.alternate}),Sr.start(r),r}function eA(e,t,n,i=0){return e.map((r,a)=>xt(r,t,{...n,delay:(n.delay??0)+i*a}))}function tA(e){Sr.stop(e)}function nA(e){Sr.pause(e)}function rA(e){Sr.start(e)}function iA(e,t=300,n={}){return bt(e,{opacity:0},!1),xt(e,{opacity:100},{duration:t,easing:"easeOutQuad",...n})}function aA(e,t=300,n={}){return xt(e,{opacity:0},{duration:t,easing:"easeOutQuad",...n})}function ip(e,t=300,n={}){const i=w.elements.find(u=>u.id===e);if(!i)return"";const r=i.x,a=i.y,l=i.width,o=i.height,c=100,s=r+l/2,d=a+o/2;return bt(e,{width:0,height:0,x:s,y:d,opacity:0},!1),xt(e,{width:l,height:o,x:r,y:a,opacity:c},{duration:t,easing:"easeOutBack",onStart:n.onStart,onComplete:n.onComplete,delay:n.delay})}function lh(e,t=450,n={}){const i=w.elements.find(l=>l.id===e);if(!i)return"";const r=n.intensity??20,a=i.y;return xt(e,{y:a-r},{duration:t*.33,easing:"easeOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{y:a},{duration:t*.67,easing:"easeOutBounce",onComplete:n.onComplete})}})}function ch(e,t=300,n={}){const i=w.elements.find(h=>h.id===e);if(!i)return"";const r=n.scale??1.1,a=i.width,l=i.height,o=i.x,c=i.y,s=a*r,d=l*r,u=(s-a)/2,f=(d-l)/2;return xt(e,{width:s,height:d,x:o-u,y:c-f},{duration:t/2,easing:"easeOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{width:a,height:l,x:o,y:c},{duration:t/2,easing:"easeOutQuad",onComplete:n.onComplete})}})}function ap(e,t=1e3,n={}){return xt(e,{opacity:0},{duration:t/4,easing:"linear",loop:!0,loopCount:2,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:n.onComplete})}function op(e,t=1e3,n={}){const i=w.elements.find(c=>c.id===e);if(!i)return"";const r=i.width,a=i.height,l=i.x,o=i.y;return xt(e,{width:r*1.25,height:a*.75,x:l-r*.25/2,y:o+a*.25/2},{duration:t*.3,easing:"easeOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{width:r*.75,height:a*1.25,x:l+r*.25/2,y:o-a*.25/2},{duration:t*.3,easing:"easeInOutQuad",onComplete:()=>{xt(e,{width:r,height:a,x:l,y:o},{duration:t*.4,easing:"easeOutElastic",onComplete:n.onComplete})}})}})}function dh(e,t=400,n={}){const i=w.elements.find(l=>l.id===e);if(!i)return"";const r=n.intensity??10,a=i.x;return xt(e,{x:a+r},{duration:t/4,easing:"linear",loop:!0,loopCount:4,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:()=>{bt(e,{x:a},!1),n.onComplete?.()}})}function sp(e,t=400,n={}){const i=w.elements.find(l=>l.id===e);if(!i)return"";const r=n.intensity??10,a=i.y;return xt(e,{y:a+r},{duration:t/4,easing:"linear",loop:!0,loopCount:4,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:()=>{bt(e,{y:a},!1),n.onComplete?.()}})}function oA(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return xt(e,{x:r-6},{duration:t/5,easing:"easeInOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{x:r+5},{duration:t/5,easing:"easeInOutQuad",onComplete:()=>{xt(e,{x:r-3},{duration:t/5,easing:"easeInOutQuad",onComplete:()=>{xt(e,{x:r+2},{duration:t/5,easing:"easeInOutQuad",onComplete:()=>{xt(e,{x:r},{duration:t/5,easing:"easeInOutQuad",onComplete:n.onComplete})}})}})}})}})}function sA(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.angle;return xt(e,{angle:r+.25},{duration:t*.2,easing:"linear",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{angle:r-.17},{duration:t*.2,easing:"linear",onComplete:()=>{xt(e,{angle:r+.08},{duration:t*.2,easing:"linear",onComplete:()=>{xt(e,{angle:r-.05},{duration:t*.2,easing:"linear",onComplete:()=>{xt(e,{angle:r},{duration:t*.2,easing:"linear",onComplete:n.onComplete})}})}})}})}})}function lA(e,t=1e3,n={}){const i=w.elements.find(s=>s.id===e);if(!i)return"";const r=i.width,a=i.height,l=i.x,o=i.y,c=i.angle;return xt(e,{width:r*.9,height:a*.9,x:l+r*.1/2,y:o+a*.1/2,angle:c-.05},{duration:t*.1,easing:"linear",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{width:r*1.1,height:a*1.1,x:l-r*.1/2,y:o-a*.1/2,angle:c+.05},{duration:t*.3,easing:"linear",loop:!0,loopCount:3,alternate:!0,onComplete:()=>{xt(e,{width:r,height:a,x:l,y:o,angle:c},{duration:t*.1,easing:"linear",onComplete:n.onComplete})}})}})}function cA(e,t=1e3,n={}){const i=w.elements.find(l=>l.id===e);if(!i)return"";const r=i.x,a=i.angle;return xt(e,{x:r-i.width*.25,angle:a-.08},{duration:t*.15,easing:"linear",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{x:r+i.width*.2,angle:a+.05},{duration:t*.15,easing:"linear",onComplete:()=>{xt(e,{x:r-i.width*.15,angle:a-.05},{duration:t*.15,easing:"linear",onComplete:()=>{xt(e,{x:r+i.width*.1,angle:a+.03},{duration:t*.15,easing:"linear",onComplete:()=>{xt(e,{x:r,angle:a},{duration:t*.15,easing:"linear",onComplete:n.onComplete})}})}})}})}})}function dA(e,t=1e3,n={}){const i=w.elements.find(c=>c.id===e);if(!i)return"";const r=i.width,a=i.height,l=i.x,o=i.y;return xt(e,{width:r*1.1,height:a*.9,x:l-r*.1/2,y:o+a*.1/2},{duration:t*.2,easing:"linear",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{width:r*.9,height:a*1.1,x:l+r*.1/2,y:o-a*.1/2},{duration:t*.2,easing:"linear",onComplete:()=>{xt(e,{width:r*1.05,height:a*.95,x:l-r*.05/2,y:o+a*.05/2},{duration:t*.2,easing:"linear",onComplete:()=>{xt(e,{width:r,height:a,x:l,y:o},{duration:t*.4,easing:"easeOutQuad",onComplete:n.onComplete})}})}})}})}function hA(e,t=1300,n={}){const i=w.elements.find(c=>c.id===e);if(!i)return"";const r=i.width,a=i.height,l=i.x,o=i.y;return xt(e,{width:r*1.3,height:a*1.3,x:l-r*.3/2,y:o-a*.3/2},{duration:t*.2,easing:"easeOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{width:r,height:a,x:l,y:o},{duration:t*.2,easing:"easeInQuad",onComplete:()=>{xt(e,{width:r*1.3,height:a*1.3,x:l-r*.3/2,y:o-a*.3/2},{duration:t*.2,easing:"easeOutQuad",onComplete:()=>{xt(e,{width:r,height:a,x:l,y:o},{duration:t*.4,easing:"easeInQuad",onComplete:n.onComplete})}})}})}})}function uA(e,t=300,n={}){const i=w.elements.find(l=>l.id===e);if(!i)return"";const r=i.x+i.width/2,a=i.y+i.height/2;return xt(e,{width:0,height:0,x:r,y:a,opacity:0},{duration:t,easing:"easeInBack",onStart:n.onStart,onComplete:n.onComplete,delay:n.delay})}function G3(e,t=300,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return bt(e,{x:-i.width,opacity:0},!1),xt(e,{x:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function H3(e,t=300,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return bt(e,{x:window.innerWidth+100,opacity:0},!1),xt(e,{x:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function Y3(e,t=300,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.y;return bt(e,{y:-i.height,opacity:0},!1),xt(e,{y:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function V3(e,t=300,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.y;return bt(e,{y:window.innerHeight+100,opacity:0},!1),xt(e,{y:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function Q3(e,t=300,n={}){const i=w.elements.find(r=>r.id===e);return i?xt(e,{x:-i.width,opacity:0},{duration:t,easing:"easeInQuad",...n}):""}function J3(e,t=300,n={}){return xt(e,{x:window.innerWidth+100,opacity:0},{duration:t,easing:"easeInQuad",...n})}function K3(e,t=300,n={}){const i=w.elements.find(r=>r.id===e);return i?xt(e,{y:-i.height,opacity:0},{duration:t,easing:"easeInQuad",...n}):""}function Z3(e,t=300,n={}){return xt(e,{y:window.innerHeight+100,opacity:0},{duration:t,easing:"easeInQuad",...n})}function hh(e,t,n,i={}){const r=w.elements.find(o=>o.id===e);if(!r)return"";const a=r.x,l=r.y;return bt(e,{x:t.x??a,y:t.y??l,opacity:70,width:r.width*.7,height:r.height*.7},!1),xt(e,{x:a,y:l,opacity:100,width:r.width,height:r.height},{duration:n,easing:"easeOutBack",...i})}function fA(e,t=1e3,n={}){return hh(e,{y:-window.innerHeight},t,n)}function pA(e,t=1e3,n={}){return hh(e,{x:-window.innerWidth},t,n)}function gA(e,t=1e3,n={}){return hh(e,{x:window.innerWidth+100},t,n)}function AA(e,t=1e3,n={}){return hh(e,{y:window.innerHeight+100},t,n)}function uh(e,t,n,i={}){const r=w.elements.find(a=>a.id===e);return r?xt(e,{x:t.x??r.x,y:t.y??r.y,opacity:0,width:r.width*.7,height:r.height*.7},{duration:n,easing:"easeInBack",...i}):""}function yA(e,t=1e3,n={}){return uh(e,{y:window.innerHeight+100},t,n)}function mA(e,t=1e3,n={}){return uh(e,{x:-window.innerWidth},t,n)}function vA(e,t=1e3,n={}){return uh(e,{x:window.innerWidth+100},t,n)}function bA(e,t=1e3,n={}){return uh(e,{y:-window.innerHeight},t,n)}function jl(e,t,n,i={}){const r=w.elements.find(o=>o.id===e);if(!r)return"";const a=r.x,l=r.y;return bt(e,{x:t.x??a,y:t.y??l,opacity:0,width:r.width*.3,height:r.height*.3},!1),xt(e,{x:a,y:l,opacity:100,width:r.width,height:r.height},{duration:n,easing:"easeOutBounce",...i})}function wA(e,t=750,n={}){return jl(e,{},t,n)}function xA(e,t=1e3,n={}){return jl(e,{y:-window.innerHeight},t,n)}function kA(e,t=1e3,n={}){return jl(e,{x:-window.innerWidth},t,n)}function SA(e,t=1e3,n={}){return jl(e,{x:window.innerWidth+100},t,n)}function CA(e,t=1e3,n={}){return jl(e,{y:window.innerHeight+100},t,n)}function ql(e,t,n,i={}){const r=w.elements.find(a=>a.id===e);return r?xt(e,{x:t.x??r.x,y:t.y??r.y,opacity:0,width:r.width*.3,height:r.height*.3},{duration:n,easing:"easeInBounce",...i}):""}function LA(e,t=750,n={}){return ql(e,{},t,n)}function PA(e,t=1e3,n={}){return ql(e,{y:window.innerHeight+100},t,n)}function MA(e,t=1e3,n={}){return ql(e,{x:-window.innerWidth},t,n)}function _A(e,t=1e3,n={}){return ql(e,{x:window.innerWidth+100},t,n)}function NA(e,t=1e3,n={}){return ql(e,{y:-window.innerHeight},t,n)}function Bi(e,t,n,i={}){const r=w.elements.find(o=>o.id===e);if(!r)return"";const a=r.x,l=r.y;return bt(e,{x:t.x??a,y:t.y??l,opacity:0},!1),xt(e,{x:a,y:l,opacity:100},{duration:n,easing:"easeOutQuad",...i})}function TA(e,t=1e3,n={}){return Bi(e,{y:(w.selection.length>0,-100)},t,n)}function IA(e,t=1e3,n={}){return Bi(e,{y:-window.innerHeight},t,n)}function BA(e,t=1e3,n={}){return Bi(e,{x:-100},t,n)}function DA(e,t=1e3,n={}){return Bi(e,{x:-window.innerWidth},t,n)}function EA(e,t=1e3,n={}){return Bi(e,{x:window.innerWidth+100},t,n)}function RA(e,t=1e3,n={}){return Bi(e,{x:window.innerWidth+2e3},t,n)}function $A(e,t=1e3,n={}){return Bi(e,{y:100},t,n)}function FA(e,t=1e3,n={}){return Bi(e,{y:window.innerHeight+100},t,n)}function OA(e,t=1e3,n={}){return Bi(e,{x:-100,y:-100},t,n)}function zA(e,t=1e3,n={}){return Bi(e,{x:100,y:-100},t,n)}function UA(e,t=1e3,n={}){return Bi(e,{x:-100,y:100},t,n)}function WA(e,t=1e3,n={}){return Bi(e,{x:100,y:100},t,n)}function Di(e,t,n,i={}){const r=w.elements.find(a=>a.id===e);return r?xt(e,{x:t.x??r.x,y:t.y??r.y,opacity:0},{duration:n,easing:"easeInQuad",...i}):""}function jA(e,t=1e3,n={}){return Di(e,{y:100},t,n)}function qA(e,t=1e3,n={}){return Di(e,{y:window.innerHeight+100},t,n)}function XA(e,t=1e3,n={}){return Di(e,{x:-100},t,n)}function GA(e,t=1e3,n={}){return Di(e,{x:-window.innerWidth},t,n)}function HA(e,t=1e3,n={}){return Di(e,{x:100},t,n)}function YA(e,t=1e3,n={}){return Di(e,{x:window.innerWidth+100},t,n)}function VA(e,t=1e3,n={}){return Di(e,{y:-100},t,n)}function QA(e,t=1e3,n={}){return Di(e,{y:-window.innerHeight},t,n)}function JA(e,t=1e3,n={}){return Di(e,{x:-100,y:-100},t,n)}function KA(e,t=1e3,n={}){return Di(e,{x:100,y:-100},t,n)}function ZA(e,t=1e3,n={}){return Di(e,{x:-100,y:100},t,n)}function ey(e,t=1e3,n={}){return Di(e,{x:100,y:100},t,n)}function ty(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.angle;return xt(e,{angle:r+Math.PI},{duration:t/2,easing:"easeInOutQuad",delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{angle:r+Math.PI*2},{duration:t/2,easing:"easeInOutQuad",onComplete:()=>{bt(e,{angle:r},!1),n.onComplete?.()}})}})}function ny(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.height;return bt(e,{height:0,opacity:0},!1),xt(e,{height:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function ry(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.width;return bt(e,{width:0,opacity:0},!1),xt(e,{width:r,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function iy(e,t=1e3,n={}){return xt(e,{height:0,opacity:0},{duration:t,easing:"easeInQuad",...n})}function ay(e,t=1e3,n={}){return xt(e,{width:0,opacity:0},{duration:t,easing:"easeInQuad",...n})}function oy(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return bt(e,{x:window.innerWidth+100,opacity:0},!1),xt(e,{x:r,opacity:100},{duration:t,easing:"easeOutExpo",...n})}function sy(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return bt(e,{x:-window.innerWidth,opacity:0},!1),xt(e,{x:r,opacity:100},{duration:t,easing:"easeOutExpo",...n})}function ly(e,t=1e3,n={}){return xt(e,{x:window.innerWidth+100,opacity:0},{duration:t,easing:"easeInExpo",...n})}function cy(e,t=1e3,n={}){return xt(e,{x:-window.innerWidth,opacity:0},{duration:t,easing:"easeInExpo",...n})}function Xl(e,t,n,i={}){const r=w.elements.find(c=>c.id===e);if(!r)return"";const a=r.x,l=r.y,o=r.angle;return bt(e,{x:t.x??a,y:t.y??l,angle:t.angle??o-Math.PI*2,opacity:0},!1),xt(e,{x:a,y:l,angle:o,opacity:100},{duration:n,easing:"easeOutQuad",...i})}function dy(e,t=1e3,n={}){return Xl(e,{},t,n)}function hy(e,t=1e3,n={}){return Xl(e,{x:-100,y:-100,angle:-Math.PI/2},t,n)}function uy(e,t=1e3,n={}){return Xl(e,{x:100,y:-100,angle:Math.PI/2},t,n)}function fy(e,t=1e3,n={}){return Xl(e,{x:-100,y:100,angle:Math.PI/2},t,n)}function py(e,t=1e3,n={}){return Xl(e,{x:100,y:100,angle:-Math.PI/2},t,n)}function Gl(e,t,n,i={}){const r=w.elements.find(a=>a.id===e);return r?xt(e,{x:t.x??r.x,y:t.y??r.y,angle:t.angle??r.angle+Math.PI*2,opacity:0},{duration:n,easing:"easeInQuad",...i}):""}function gy(e,t=1e3,n={}){return Gl(e,{},t,n)}function Ay(e,t=1e3,n={}){return Gl(e,{x:-100,y:100,angle:Math.PI/2},t,n)}function yy(e,t=1e3,n={}){return Gl(e,{x:100,y:100,angle:-Math.PI/2},t,n)}function my(e,t=1e3,n={}){return Gl(e,{x:-100,y:-100,angle:-Math.PI/2},t,n)}function vy(e,t=1e3,n={}){return Gl(e,{x:100,y:-100,angle:Math.PI/2},t,n)}function e4(e,t=2e3,n={}){const i=w.elements.find(u=>u.id===e);if(!i)return"";const a=(n.params||{}).radius??50,l=i.x,o=i.y,c=l+a,s=o,d=Rd("revolve");return sh(e),xi.has(e)||xi.set(e,new Set),xi.get(e).add(d),Sr.create(d,u=>{const f=u*Math.PI*2,h=c-a*Math.cos(f),g=s-a*Math.sin(f);bt(e,{x:h,y:g},!1)},{duration:t,easing:n.easing||"linear",delay:n.delay,loop:n.loop,loopCount:n.loopCount,alternate:n.alternate,onComplete:()=>{const u=xi.get(e);u&&(u.delete(d),u.size===0&&xi.delete(e)),n.onComplete?.()}}),Sr.start(d),d}function by(e,t=2e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.angle;return xt(e,{angle:r+1.2},{duration:t*.4,easing:"easeInOutQuad",alternate:!0,loop:!0,loopCount:2,delay:n.delay,onStart:n.onStart,onComplete:()=>{xt(e,{y:window.innerHeight+500,opacity:0},{duration:t*.6,easing:"easeInQuad",onComplete:n.onComplete})}})}function wy(e,t=1e3,n={}){const i=w.elements.find(c=>c.id===e);if(!i)return"";const r=i.width,a=i.height,l=i.x,o=i.y;return bt(e,{width:0,height:0,x:l+r/2,y:o+a/2,angle:-.5,opacity:0},!1),xt(e,{width:r,height:a,x:l,y:o,angle:0,opacity:100},{duration:t,easing:"easeOutBack",...n})}function xy(e,t=1e3,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.x;return bt(e,{x:r-400,angle:-Math.PI*2,opacity:0},!1),xt(e,{x:r,angle:0,opacity:100},{duration:t,easing:"easeOutQuad",...n})}function ky(e,t=1e3,n={}){const i=w.elements.find(r=>r.id===e);return i?xt(e,{x:i.x+400,angle:Math.PI*2,opacity:0},{duration:t,easing:"easeInQuad",...n}):""}function Hl(e,t,n,i={}){const r=w.elements.find(g=>g.id===e);if(!r)return"";const a=r.x,l=r.y,o=r.width,c=r.height,s=t.scale??.1,d=o*s,u=c*s,f=(t.x??a)+(o-d)/2,h=(t.y??l)+(c-u)/2;return bt(e,{x:f,y:h,width:d,height:u,opacity:0},!1),xt(e,{x:a,y:l,width:o,height:c,opacity:100},{duration:n,easing:"easeOutQuad",...i})}function Sy(e,t=1e3,n={}){return Hl(e,{},t,n)}function Cy(e,t=1e3,n={}){return Hl(e,{y:-window.innerHeight},t,n)}function Ly(e,t=1e3,n={}){return Hl(e,{x:-window.innerWidth},t,n)}function Py(e,t=1e3,n={}){return Hl(e,{x:window.innerWidth+100},t,n)}function My(e,t=1e3,n={}){return Hl(e,{y:window.innerHeight+100},t,n)}function Yl(e,t,n,i={}){const r=w.elements.find(l=>l.id===e);if(!r)return"";const a=t.scale??.1;return xt(e,{x:(t.x??r.x)+r.width*(1-a)/2,y:(t.y??r.y)+r.height*(1-a)/2,width:r.width*a,height:r.height*a,opacity:0},{duration:n,easing:"easeInQuad",...i})}function _y(e,t=1e3,n={}){return Yl(e,{},t,n)}function Ny(e,t=1e3,n={}){return Yl(e,{y:window.innerHeight+100},t,n)}function Ty(e,t=1e3,n={}){return Yl(e,{x:-window.innerWidth},t,n)}function Iy(e,t=1e3,n={}){return Yl(e,{x:window.innerWidth+100},t,n)}function By(e,t=1e3,n={}){return Yl(e,{y:-window.innerHeight},t,n)}function Dy(e,t=1500,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.opacity??100;return bt(e,{drawProgress:0,opacity:0},!1),xt(e,{drawProgress:100},{duration:t,easing:"easeInOutQuad",...n,onComplete:()=>{bt(e,{drawProgress:void 0,opacity:r},!1),n.onComplete?.()}})}function Ey(e,t=1500,n={}){const i=w.elements.find(a=>a.id===e);if(!i)return"";const r=i.opacity??100;return bt(e,{drawProgress:100,opacity:0},!1),xt(e,{drawProgress:0},{duration:t,easing:"easeInOutQuad",...n,onComplete:()=>{bt(e,{drawProgress:void 0,opacity:r},!1),n.onComplete?.()}})}const _a=new Map;function Nl(e){return _a.get(e)}function t4(e,t={}){const n=w.elements.find(d=>d.id===e);if(!n)return"";const i=n.entranceAnimation??"none",r=n.animationDuration??300,{isPreview:a=!0,onComplete:l}=t;a&&!_a.has(e)&&_a.set(e,{x:n.x,y:n.y,width:n.width,height:n.height,opacity:n.opacity,angle:n.angle,drawProgress:void 0});const o=a?_a.get(e):null,c=()=>{a&&o&&(bt(e,o,!1),_a.delete(e)),l?.()},s={onComplete:c};switch(i){case"fadeIn":return bt(e,{opacity:0},!1),xt(e,{opacity:100},{duration:r,easing:"easeOutQuad",onComplete:c});case"fadeInDown":return TA(e,r,s);case"fadeInDownBig":return IA(e,r,s);case"fadeInLeft":return BA(e,r,s);case"fadeInLeftBig":return DA(e,r,s);case"fadeInRight":return EA(e,r,s);case"fadeInRightBig":return RA(e,r,s);case"fadeInUp":return $A(e,r,s);case"fadeInUpBig":return FA(e,r,s);case"fadeInTopLeft":return OA(e,r,s);case"fadeInTopRight":return zA(e,r,s);case"fadeInBottomLeft":return UA(e,r,s);case"fadeInBottomRight":return WA(e,r,s);case"bounce":return lh(e,r,s);case"flash":return ap(e,r,s);case"pulse":return ch(e,r,{scale:1.1,...s});case"rubberBand":return op(e,r,s);case"shakeX":return dh(e,r,{intensity:10,...s});case"shakeY":return sp(e,r,{intensity:10,...s});case"headShake":return oA(e,r);case"swing":return sA(e,r);case"tada":return lA(e,r);case"wobble":return cA(e,r);case"jello":return dA(e,r);case"heartBeat":return hA(e,r);case"backInDown":return fA(e,r,s);case"backInLeft":return pA(e,r,s);case"backInRight":return gA(e,r,s);case"backInUp":return AA(e,r,s);case"bounceIn":return wA(e,r,s);case"bounceInDown":return xA(e,r,s);case"bounceInLeft":return kA(e,r,s);case"bounceInRight":return SA(e,r,s);case"bounceInUp":return CA(e,r,s);case"zoomIn":return Sy(e,r,s);case"zoomInDown":return Cy(e,r,s);case"zoomInLeft":return Ly(e,r,s);case"zoomInRight":return Py(e,r,s);case"zoomInUp":return My(e,r,s);case"slideInDown":{const d=n.y;return bt(e,{y:-n.height,opacity:0},!1),xt(e,{y:d,opacity:100},{duration:r,easing:"easeOutQuad",onComplete:c})}case"slideInLeft":{const d=n.x;return bt(e,{x:-n.width,opacity:0},!1),xt(e,{x:d,opacity:100},{duration:r,easing:"easeOutQuad",onComplete:c})}case"slideInRight":{const d=n.x;return bt(e,{x:window.innerWidth+100,opacity:0},!1),xt(e,{x:d,opacity:100},{duration:r,easing:"easeOutQuad",onComplete:c})}case"slideInUp":{const d=n.y;return bt(e,{y:window.innerHeight+100,opacity:0},!1),xt(e,{y:d,opacity:100},{duration:r,easing:"easeOutQuad",onComplete:c})}case"rotateIn":return dy(e,r,s);case"rotateInDownLeft":return hy(e,r,s);case"rotateInDownRight":return uy(e,r,s);case"rotateInUpLeft":return fy(e,r,s);case"rotateInUpRight":return py(e,r,s);case"flip":return ty(e,r,s);case"flipInX":return ny(e,r,s);case"flipInY":return ry(e,r,s);case"lightSpeedInRight":return oy(e,r,s);case"lightSpeedInLeft":return sy(e,r,s);case"rollIn":return xy(e,r,s);case"jackInTheBox":return wy(e,r,s);case"scaleIn":return ip(e,r,s);case"drawIn":return Dy(e,r,s);default:return""}}function n4(e,t={}){const n=w.elements.find(d=>d.id===e);if(!n)return"";const i=n.exitAnimation??"none",r=n.animationDuration??300,{isPreview:a=!0,onComplete:l}=t;a&&!_a.has(e)&&_a.set(e,{x:n.x,y:n.y,width:n.width,height:n.height,opacity:n.opacity,angle:n.angle,drawProgress:void 0});const o=a?_a.get(e):null,c=()=>{a&&o&&(bt(e,o,!1),_a.delete(e)),l?.()},s={onComplete:c};switch(i){case"fadeOut":return xt(e,{opacity:0},{duration:r,easing:"easeOutQuad",onComplete:c});case"fadeOutDown":return jA(e,r,s);case"fadeOutDownBig":return qA(e,r,s);case"fadeOutLeft":return XA(e,r,s);case"fadeOutLeftBig":return GA(e,r,s);case"fadeOutRight":return HA(e,r,s);case"fadeOutRightBig":return YA(e,r,s);case"fadeOutUp":return VA(e,r,s);case"fadeOutUpBig":return QA(e,r,s);case"fadeOutTopLeft":return JA(e,r,s);case"fadeOutTopRight":return KA(e,r,s);case"fadeOutBottomLeft":return ZA(e,r,s);case"fadeOutBottomRight":return ey(e,r,s);case"backOutDown":return yA(e,r,s);case"backOutLeft":return mA(e,r,s);case"backOutRight":return vA(e,r,s);case"backOutUp":return bA(e,r,s);case"bounceOut":return LA(e,r,s);case"bounceOutDown":return PA(e,r,s);case"bounceOutLeft":return MA(e,r,s);case"bounceOutRight":return _A(e,r,s);case"bounceOutUp":return NA(e,r,s);case"zoomOut":return _y(e,r,s);case"zoomOutDown":return Ny(e,r,s);case"zoomOutLeft":return Ty(e,r,s);case"zoomOutRight":return Iy(e,r,s);case"zoomOutUp":return By(e,r,s);case"slideOutDown":return xt(e,{y:window.innerHeight+100,opacity:0},{duration:r,easing:"easeInQuad",onComplete:c});case"slideOutLeft":return xt(e,{x:-n.width,opacity:0},{duration:r,easing:"easeInQuad",onComplete:c});case"slideOutRight":return xt(e,{x:window.innerWidth+100,opacity:0},{duration:r,easing:"easeInQuad",onComplete:c});case"slideOutUp":return xt(e,{y:-n.height,opacity:0},{duration:r,easing:"easeInQuad",onComplete:c});case"bounce":return lh(e,r,s);case"flash":return ap(e,r,s);case"pulse":return ch(e,r,{scale:1.1,...s});case"rubberBand":return op(e,r,s);case"shakeX":return dh(e,r,{intensity:10,...s});case"shakeY":return sp(e,r,{intensity:10,...s});case"rotateOut":return gy(e,r,s);case"rotateOutDownLeft":return Ay(e,r,s);case"rotateOutDownRight":return yy(e,r,s);case"rotateOutUpLeft":return my(e,r,s);case"rotateOutUpRight":return vy(e,r,s);case"flipOutX":return iy(e,r,s);case"flipOutY":return ay(e,r,s);case"lightSpeedOutRight":return ly(e,r,s);case"lightSpeedOutLeft":return cy(e,r,s);case"rollOut":return ky(e,r,s);case"hinge":return by(e,r,s);case"scaleOut":return uA(e,r,s);case"drawOut":return Ey(e,r,s);default:return""}}const r4=Object.freeze(Object.defineProperty({__proto__:null,animateElement:xt,animateElements:eA,backInDown:fA,backInLeft:pA,backInRight:gA,backInUp:AA,backOutDown:yA,backOutLeft:mA,backOutRight:vA,backOutUp:bA,bounce:lh,bounceIn:wA,bounceInDown:xA,bounceInLeft:kA,bounceInRight:SA,bounceInUp:CA,bounceOut:LA,bounceOutDown:PA,bounceOutLeft:MA,bounceOutRight:_A,bounceOutUp:NA,drawIn:Dy,drawOut:Ey,fadeIn:iA,fadeInBottomLeft:UA,fadeInBottomRight:WA,fadeInDown:TA,fadeInDownBig:IA,fadeInLeft:BA,fadeInLeftBig:DA,fadeInRight:EA,fadeInRightBig:RA,fadeInTopLeft:OA,fadeInTopRight:zA,fadeInUp:$A,fadeInUpBig:FA,fadeOut:aA,fadeOutBottomLeft:ZA,fadeOutBottomRight:ey,fadeOutDown:jA,fadeOutDownBig:qA,fadeOutLeft:XA,fadeOutLeftBig:GA,fadeOutRight:HA,fadeOutRightBig:YA,fadeOutTopLeft:JA,fadeOutTopRight:KA,fadeOutUp:VA,fadeOutUpBig:QA,flash:ap,flip:ty,flipInX:ny,flipInY:ry,flipOutX:iy,flipOutY:ay,getElementPreviewBaseState:Nl,headShake:oA,heartBeat:hA,hinge:by,isElementAnimating:Z1,jackInTheBox:wy,jello:dA,lightSpeedInLeft:sy,lightSpeedInRight:oy,lightSpeedOutLeft:cy,lightSpeedOutRight:ly,pauseElementAnimation:nA,playEntranceAnimation:t4,playExitAnimation:n4,pulse:ch,resumeElementAnimation:rA,revolve:e4,rollIn:xy,rollOut:ky,rotateIn:dy,rotateInDownLeft:hy,rotateInDownRight:uy,rotateInUpLeft:fy,rotateInUpRight:py,rotateOut:gy,rotateOutDownLeft:Ay,rotateOutDownRight:yy,rotateOutUpLeft:my,rotateOutUpRight:vy,rubberBand:op,scaleIn:ip,scaleOut:uA,shakeX:dh,shakeY:sp,slideInDown:V3,slideInLeft:G3,slideInRight:H3,slideInUp:Y3,slideOutDown:Z3,slideOutLeft:Q3,slideOutRight:J3,slideOutUp:K3,stopAllElementAnimations:sh,stopElementAnimation:tA,swing:sA,tada:lA,wobble:cA,zoomIn:Sy,zoomInDown:Cy,zoomInLeft:Ly,zoomInRight:Py,zoomInUp:My,zoomOut:_y,zoomOutDown:Ny,zoomOutLeft:Ty,zoomOutRight:Iy,zoomOutUp:By},Symbol.toStringTag,{value:"Module"}));class i4{playSequence(t,n="programmatic"){const i=w.elements.find(o=>o.id===t);if(!i||!i.animations||i.animations.length===0)return;let r=null;n==="programmatic"&&(r={x:i.x,y:i.y,width:i.width,height:i.height,opacity:i.opacity,angle:i.angle,strokeColor:i.strokeColor,backgroundColor:i.backgroundColor});const a=i.animations.filter((o,c)=>n==="programmatic"?!0:c===0?o.trigger===n||o.trigger==="after-prev":!0);if(a.length===0)return;const l=()=>{r&&setTimeout(()=>{bt(t,r,!1)},500)};this.runStep(t,a,0,l)}stopSequence(t){sh(t)}playAll(t="programmatic",n){(n?w.elements.filter(r=>n.includes(r.id)):w.elements).forEach(r=>{this.playSequence(r.id,t)})}stopAll(){w.elements.forEach(t=>{this.stopSequence(t.id)})}runStep(t,n,i,r){if(i>=n.length){r?.();return}const a=n[i],l=i+1,o=()=>{a.restoreAfter&&w.elements.find(f=>f.id===t)&&c&&bt(t,c,!1);let d=l;for(;d<n.length&&n[d].trigger==="with-prev";)d++;d<n.length?this.runStep(t,n,d,r):r?.()};let c=null;if(a.restoreAfter){const d=w.elements.find(u=>u.id===t);d&&(c={...d})}let s=l;for(;s<n.length;){const d=n[s];if(d.trigger==="with-prev")this.executeAnimation(t,d,()=>{d.restoreAfter}),s++;else break}this.executeAnimation(t,a,o)}playAnimation(t,n,i){this.executeAnimation(t,n,i)}executeAnimation(t,n,i){const r={duration:n.duration,delay:n.delay,easing:n.easing,onComplete:i,params:n.params,loop:n.repeat===-1,loopCount:n.repeat!==-1&&(n.repeat||0)>0?n.repeat:void 0,alternate:n.yoyo};if(n.type==="preset"){const a=r4[n.name];typeof a=="function"?a(t,n.duration,r):(console.warn(`Unknown preset: ${n.name}`),i())}else n.type==="property"?this.animateProperty(t,n,r):n.type==="rotate"?this.animateRotate(t,n,r):n.type==="path"&&(console.warn("Path animation not yet implemented"),i())}animateRotate(t,n,i){const r=w.elements.find(l=>l.id===t);if(!r){i.onComplete?.();return}const a=n.relative?(r.angle||0)+n.toAngle*Math.PI/180:n.toAngle*Math.PI/180;xt(t,{angle:a},i)}animateProperty(t,n,i){const r={},a=n.to;n.property==="opacity"||n.property==="x"||n.property==="y"||n.property==="width"||n.property==="height"||n.property==="angle"||n.property==="strokeWidth"||n.property==="roughness"?r[n.property]=Number(a):(n.property==="strokeColor"||n.property==="backgroundColor")&&(r[n.property]=String(a)),xt(t,r,i)}}const Wo=new i4,Ry=(e,t,n)=>{const i=n[e];if(!i)return[];const{x:r,y:a}=i.spatialPosition,{width:l,height:o}=i.dimensions;return t.filter(c=>{const s=c.x+(c.width||0)/2,d=c.y+(c.height||0)/2;return s>=r&&s<=r+l&&d>=a&&d<=a+o})};class a4{buildSequence=[];isPlaying=!1;init(t){this.reset();const n=Ry(t,w.elements,w.slides),i=[];n.forEach(r=>{r.animations&&r.animations.length>0&&r.animations.forEach(a=>{i.push({elementId:r.id,animation:a,played:!1})})}),console.log(`[BuildManager] Initialized for slide ${t}. Found ${i.length} total animations.`),i.forEach(r=>console.log(`  - Element ${r.elementId}: ${r.animation.type} (trigger: ${r.animation.trigger})`)),this.buildSequence=i.sort((r,a)=>{const l=n.find(c=>c.id===r.elementId),o=n.find(c=>c.id===a.elementId);if(l.layerId!==o.layerId){const c=w.layers.find(d=>d.id===l.layerId),s=w.layers.find(d=>d.id===o.layerId);return(c?.order??0)-(s?.order??0)}return r.elementId===a.elementId?(l.animations?.indexOf(r.animation)??0)-(o.animations?.indexOf(a.animation)??0):r.elementId.localeCompare(a.elementId)}),console.log(`[BuildManager] Initialized with ${this.buildSequence.length} steps for slide ${t}`)}reset(){this.buildSequence=[],this.isPlaying=!1,Wo.stopAll()}playInitial(){w.presentationMode&&this.buildSequence.forEach((t,n)=>{t.animation.trigger==="on-load"&&!t.played&&this.executeStep(n)})}hasMoreSteps(){return this.buildSequence.some(t=>!t.played&&t.animation.trigger==="on-click")}async playNext(){if(this.isPlaying)return console.log("[BuildManager] Already playing, ignoring click"),!0;const t=this.buildSequence.findIndex(n=>!n.played&&n.animation.trigger==="on-click");return t===-1?(console.log("[BuildManager] No more on-click steps found"),!1):(console.log(`[BuildManager] Executing on-click step ${t}`),this.isPlaying=!0,await this.executeStep(t),this.isPlaying=!1,!0)}executeStep(t){const n=this.buildSequence[t];return!n||n.played?Promise.resolve():(n.played=!0,new Promise(i=>{const r=()=>{this.triggerAfterPrev(t).then(i)};Wo.playAnimation(n.elementId,n.animation,r),this.triggerWithPrev(t)}))}triggerWithPrev(t){let n=t+1;for(;n<this.buildSequence.length&&this.buildSequence[n].animation.trigger==="with-prev";)this.executeStep(n),n++}async triggerAfterPrev(t){let n=t+1;n<this.buildSequence.length&&this.buildSequence[n].animation.trigger==="after-prev"&&await this.executeStep(n)}}const _s=new a4,o4=(e,t,n)=>{const i=t.filter(u=>e.includes(u.id));if(i.length<2)return[];let r=1/0,a=1/0,l=-1/0,o=-1/0;i.forEach(u=>{r=Math.min(r,u.x),a=Math.min(a,u.y),l=Math.max(l,u.x+u.width),o=Math.max(o,u.y+u.height)});const c=r+(l-r)/2,s=a+(o-a)/2,d=[];return i.forEach(u=>{const f={};switch(n){case"left":f.x=r;break;case"center":f.x=c-u.width/2;break;case"right":f.x=l-u.width;break;case"top":f.y=a;break;case"middle":f.y=s-u.height/2;break;case"bottom":f.y=o-u.height;break}(f.x!==void 0||f.y!==void 0)&&d.push({id:u.id,updates:f})}),d},s4=(e,t,n)=>{const i=t.filter(o=>e.includes(o.id));if(i.length<3)return[];const r=[...i].sort((o,c)=>n==="horizontal"?o.x+o.width/2-(c.x+c.width/2):o.y+o.height/2-(c.y+c.height/2)),a=r[0],l=r[r.length-1];if(n==="horizontal"){const o=a.x+a.width/2,d=(l.x+l.width/2-o)/(r.length-1),u=[];return r.forEach((f,h)=>{if(h===0||h===r.length-1)return;const p=o+d*h-f.width/2;u.push({id:f.id,updates:{x:p}})}),u}else{const o=a.y+a.height/2,d=(l.y+l.height/2-o)/(r.length-1),u=[];return r.forEach((f,h)=>{if(h===0||h===r.length-1)return;const p=o+d*h-f.height/2;u.push({id:f.id,updates:{y:p}})}),u}},al=F1(),ys={elements:al.elements,viewState:{scale:.5,panX:0,panY:0},layers:al.layers,activeLayerId:al.layers[0].id,gridSettings:al.gridSettings,canvasBackgroundColor:"#ffffff",dimensions:{width:1920,height:1080},slides:al.slides,activeSlideIndex:0,docType:"infinite",canvasTexture:"none",selectedTool:"selection",selectedUmlType:"umlClass",selection:[],flowTick:0,isRecording:!1,defaultElementStyles:{strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:1,renderStyle:"sketch",opacity:100,angle:0,roundness:null,locked:!1,fontSize:20,fontFamily:"hand-drawn",fontWeight:!1,fontStyle:!1,textAlign:"left",startArrowhead:null,endArrowhead:null,autoResize:!1,flowColor:void 0,seed:0,shadowEnabled:!1,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,gradientStart:"#ffffff",gradientEnd:"#000000",gradientDirection:45,smoothing:3,taperAmount:.15,velocitySensitivity:.5},theme:localStorage.getItem("theme")||"light",globalSettings:{animationEnabled:!0,reducedMotion:!1,renderStyle:"sketch",showMindmapToolbar:!0},showCanvasProperties:!1,undoStackLength:0,redoStackLength:0,showPropertyPanel:!1,showLayerPanel:!1,isPropertyPanelMinimized:!1,isLayerPanelMinimized:!1,minimapVisible:!1,zenMode:!1,presentationMode:!1,showCommandPalette:!1,selectedPenType:"fineliner",selectedShapeType:"triangle",selectedInfraType:"server",selectedMathType:"trapezoid",selectedSketchnoteType:"starPerson",selectedWireframeType:"browserWindow",layerGroupingModeEnabled:!1,maxLayers:20,selectedTechnicalType:"dfdProcess",states:[],showStatePanel:!1,showSlideNavigator:!1,showSlideToolbar:!0,slideToolbarPosition:{x:window.innerWidth/2-100,y:window.innerHeight-100},showExportDialog:!1,showUtilityToolbar:!0},[w,xe]=Yv(ys),Zi=[],Fo=[],cn=()=>{const e={elements:JSON.parse(JSON.stringify(w.elements)),layers:JSON.parse(JSON.stringify(w.layers))};Zi.push(e),Zi.length>50&&Zi.shift(),Fo.length=0,xe("undoStackLength",Zi.length),xe("redoStackLength",0)},fh=()=>{if(Zi.length===0)return;const e={elements:JSON.parse(JSON.stringify(w.elements)),layers:JSON.parse(JSON.stringify(w.layers))};Fo.push(e);const t=Zi.pop();t&&(xe("elements",t.elements),xe("layers",t.layers),xe("selection",[])),xe("undoStackLength",Zi.length),xe("redoStackLength",Fo.length)},Tl=()=>{if(Fo.length===0)return;const e={elements:JSON.parse(JSON.stringify(w.elements)),layers:JSON.parse(JSON.stringify(w.layers))};Zi.push(e);const t=Fo.pop();t&&(xe("elements",t.elements),xe("layers",t.layers),xe("selection",[])),xe("undoStackLength",Zi.length),xe("redoStackLength",Fo.length)},Io=e=>{cn(),xe("elements",t=>[...t,e])},Vl=e=>{const t=w.elements.find(c=>c.id===e);if(!t)return;cn();const n=crypto.randomUUID(),i=150,a={...w.defaultElementStyles,strokeColor:t.strokeColor,backgroundColor:t.backgroundColor,fillStyle:t.fillStyle,strokeWidth:t.strokeWidth,roughness:t.roughness,renderStyle:t.renderStyle,opacity:t.opacity,strokeStyle:t.strokeStyle||"solid",id:n,type:t.type==="image"||t.type==="line"||t.type==="arrow"?"rectangle":t.type,x:t.x+t.width+i,y:t.y+0,width:t.width>0?t.width:100,height:t.height>0?t.height:60,layerId:w.activeLayerId,parentId:t.id,text:"",isCollapsed:!1,angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null},l={...w.defaultElementStyles,id:crypto.randomUUID(),type:"arrow",x:t.x+t.width,y:t.y+t.height/2,width:i,height:0,layerId:w.activeLayerId,startBinding:{elementId:t.id,gap:5,position:"right",focus:0},endBinding:{elementId:n,gap:5,position:"left",focus:0},curveType:"bezier",angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null,opacity:100,renderStyle:t.renderStyle,strokeColor:t.strokeColor,backgroundColor:"transparent",fillStyle:t.fillStyle,strokeStyle:t.strokeStyle,strokeWidth:t.strokeWidth,roughness:t.roughness,points:[0,0,i,0]},o=l.id;return xe("elements",c=>[...c,a,l]),xe("elements",c=>c.id===e,"boundElements",c=>[...c||[],{id:o,type:"arrow"}]),xe("elements",c=>c.id===n,"boundElements",c=>[...c||[],{id:o,type:"arrow"}]),xe("selection",[n]),n},Ql=e=>{const t=w.elements.find(c=>c.id===e);if(!t)return;const n=t.parentId;if(!n)return;cn();const i=crypto.randomUUID(),r=t.height+40,a={...w.defaultElementStyles,strokeColor:t.strokeColor,backgroundColor:"transparent",fillStyle:t.fillStyle,strokeWidth:t.strokeWidth,roughness:t.roughness,renderStyle:t.renderStyle,opacity:t.opacity,strokeStyle:t.strokeStyle||"solid",id:i,type:t.type,x:t.x,y:t.y+r,width:t.width,height:t.height,layerId:w.activeLayerId,parentId:n,text:"",isCollapsed:!1,angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null},l={...w.defaultElementStyles,id:crypto.randomUUID(),type:"arrow",x:t.x-150,y:t.y+r+t.height/2,width:150,height:0,layerId:w.activeLayerId,startBinding:{elementId:n,gap:5,position:"right",focus:0},endBinding:{elementId:i,gap:5,position:"left",focus:0},curveType:"bezier",angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null,opacity:100,renderStyle:t.renderStyle,strokeColor:t.strokeColor,backgroundColor:"transparent",fillStyle:t.fillStyle,strokeStyle:t.strokeStyle,strokeWidth:t.strokeWidth,roughness:t.roughness,points:[0,0,150,0]},o=l.id;return xe("elements",c=>[...c,a,l]),xe("elements",c=>c.id===n,"boundElements",c=>[...c||[],{id:o,type:"arrow"}]),xe("elements",c=>c.id===i,"boundElements",c=>[...c||[],{id:o,type:"arrow"}]),xe("selection",[i]),i},$y=()=>{w.selection.length!==0&&(cn(),xe("elements",e=>w.selection.includes(e.id),e=>({isCollapsed:!e.isCollapsed})))},_0=e=>{xe("showCanvasProperties",e),e&&(xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1))},ea=e=>{e.length!==0&&(cn(),xe("elements",t=>t.filter(n=>!e.includes(n.id))),xe("selection",[]))},ph=e=>{e.length!==0&&(cn(),xe("elements",t=>{const n=t.filter(r=>e.includes(r.id));return[...t.filter(r=>!e.includes(r.id)),...n]}))},gh=e=>{e.length!==0&&(cn(),xe("elements",t=>{const n=t.filter(r=>e.includes(r.id)),i=t.filter(r=>!e.includes(r.id));return[...n,...i]}))},l4=()=>{const e=w.elements.some(t=>t.flowAnimation);Sr.setForceTicker(e)},bt=(e,t,n=!1)=>{n&&cn(),xe("elements",i=>i.id===e,t),"flowAnimation"in t&&l4()},c4=(e,t,n,i=!1)=>{i&&cn(),xe("elements",r=>r.id===e,"animations",r=>r.id===t,n)},d4=(e,t,n,i=!0)=>{const r=w.elements.find(s=>s.id===e);if(!r||!r.animations)return;const a=[...r.animations],l=a.findIndex(s=>s.id===t);if(l===-1)return;const o=n==="up"?l-1:l+1;if(o<0||o>=a.length)return;i&&cn();const[c]=a.splice(l,1);a.splice(o,0,c),xe("elements",s=>s.id===e,"animations",a)},Fy=(e,t,n=!1)=>{w.selection.length!==0&&(n&&cn(),xe("elements",i=>w.selection.includes(i.id),i=>({x:i.x+e,y:i.y+t})))},Ir=e=>{xe("viewState",t=>({...t,...e}))},on=e=>{xe("selectedTool",e),e!=="selection"&&e!=="pan"&&e!=="eraser"&&xe("selection",[]),e==="arrow"?Ka({endArrowhead:"arrow"}):e==="line"&&Ka({endArrowhead:null}),Ka(e==="starPerson"||e==="scroll"||e==="wavyDivider"||e==="doubleBanner"||e==="lightbulb"||e==="signpost"||e==="burstBlob"||e==="browserWindow"||e==="mobilePhone"||e==="ghostButton"||e==="inputField"?{autoResize:!1}:{autoResize:!1})},Ka=e=>{xe("defaultElementStyles",t=>({...t,...e}))},N0=e=>{xe("globalSettings",t=>({...t,...e})),e.renderStyle&&Ka({renderStyle:e.renderStyle})},h4=(e,t)=>{xe("slides",e,"thumbnail",t)},lp=()=>{const e=w.activeSlideIndex;if(e<0||e>=w.slides.length)return;const t={backgroundColor:w.canvasBackgroundColor,dimensions:JSON.parse(JSON.stringify(w.dimensions)),thumbnail:w.slides[w.activeSlideIndex].thumbnail};xe("slides",e,t)},co=async(e,t)=>{if(e<0||e>=w.slides.length||e===w.activeSlideIndex&&!wl.transitioning)return;xe("selection",[]),w.presentationMode&&!0?await wl.transitionTo(e):await wl.transitionTo(e,{skipAnimation:!0});const i=w.slides[e];i&&(i.backgroundColor&&xe("canvasBackgroundColor",i.backgroundColor),xe("dimensions",JSON.parse(JSON.stringify(i.dimensions))),w.presentationMode&&(_s.init(e),_s.playInitial())),Hn(`Slide ${e+1}`,"info")},cp=async()=>{if(w.states.findIndex(t=>t.id===w.activeStateId)<w.states.length-1){up();return}if(_s.hasMoreSteps()){await _s.playNext();return}w.activeSlideIndex<w.slides.length-1&&await co(w.activeSlideIndex+1)},Oy=async()=>{if(w.states.findIndex(t=>t.id===w.activeStateId)>0){fp();return}w.activeSlideIndex>0&&await co(w.activeSlideIndex-1)},dp=()=>{lp();const e=w.slides.length,t=w.slides[w.slides.length-1],n=t?t.spatialPosition.x+2e3:0,i=Kf(void 0,`Slide ${e+1}`,n,0);i.order=e,xe("slides",r=>[...r,i]),co(e),Hn("Slide added","success")},u4=e=>{if(e<0||e>=w.slides.length)return;cn(),lp();const t=w.slides[e],{x:n,y:i}=t.spatialPosition,{width:r,height:a}=t.dimensions,l=w.elements.filter(g=>{const p=g.x+(g.width||0)/2,y=g.y+(g.height||0)/2;return p>=n&&p<=n+r&&y>=i&&y<=i+a}),c=w.slides.reduce((g,p)=>g.spatialPosition.x>p.spatialPosition.x?g:p).spatialPosition.x+2e3,s={x:c-n,y:0},d=new Map;l.forEach(g=>d.set(g.id,crypto.randomUUID()));const u=l.map(g=>{const p=d.get(g.id),y=JSON.parse(JSON.stringify(g));return y.id=p,y.x+=s.x,y.y+=s.y,y.seed=Math.floor(Math.random()*2147483647),y.startBinding&&d.has(y.startBinding.elementId)?y.startBinding.elementId=d.get(y.startBinding.elementId):y.startBinding&&(y.startBinding=void 0),y.endBinding&&d.has(y.endBinding.elementId)?y.endBinding.elementId=d.get(y.endBinding.elementId):y.endBinding&&(y.endBinding=void 0),y.boundElements&&(y.boundElements=y.boundElements.filter(A=>d.has(A.id)).map(A=>({...A,id:d.get(A.id)}))),y.parentId&&d.has(y.parentId)?y.parentId=d.get(y.parentId):y.parentId&&(y.parentId=void 0),y}),f={...JSON.parse(JSON.stringify(t)),id:crypto.randomUUID(),name:`${t.name} (Copy)`,spatialPosition:{x:c,y:0},order:e+1,thumbnail:void 0},h=[...w.slides];h.splice(e+1,0,f),h.forEach((g,p)=>g.order=p),lo(()=>{xe("slides",h),xe("elements",g=>[...g,...u]),co(e+1)}),Hn("Slide duplicated","success")},zy=e=>{if(w.slides.length<=1){Hn("Cannot delete the last slide","error");return}const t=w.slides.filter((i,r)=>r!==e);t.forEach((i,r)=>i.order=r);let n=w.activeSlideIndex;n>=t.length&&(n=t.length-1),lo(()=>{xe("slides",t),co(n)}),Hn("Slide deleted","info")},f4=(e,t)=>{if(e===t)return;const n=[...w.slides],[i]=n.splice(e,1);n.splice(t,0,i),n.forEach((a,l)=>a.order=l);let r=w.activeSlideIndex;w.activeSlideIndex===e?r=t:e<w.activeSlideIndex&&t>=w.activeSlideIndex?r--:e>w.activeSlideIndex&&t<=w.activeSlideIndex&&r++,xe("slides",n),xe("activeSlideIndex",r)},Oo=(e,t)=>{if(e<0||e>=w.slides.length)return;const n=w.slides[e]?.transition||{..._l};xe("slides",e,"transition",{...n,...t})},Uy=(e,t)=>{e<0||e>=w.slides.length||(xe("slides",e,"backgroundColor",t),e===w.activeSlideIndex&&xe("canvasBackgroundColor",t))},$d=e=>{lo(()=>{let t=[],n=[],i=[],r=e.gridSettings||ys.gridSettings,a=e.states||[];if(e.version===4)t=e.elements,n=e.slides,i=e.layers,a=e.states||[],r=e.gridSettings||r;else if(e.version===3){i=e.slides[0]?.layers||ys.layers;const o=2e3;e.slides.forEach((c,s)=>{const d=s*o,u=0,f=c.elements.map(h=>({...h,x:h.x+d,y:h.y+u}));t.push(...f),n.push({id:c.id,name:c.name,spatialPosition:{x:d,y:u},dimensions:c.dimensions||{width:1920,height:1080},order:s,backgroundColor:c.backgroundColor,thumbnail:c.thumbnail}),c.states&&a.push(...c.states)})}else t=e.elements||[],i=e.layers||ys.layers,n=[Kf()];n.forEach(o=>{o.transition||(o.transition={..._l})}),xe("elements",JSON.parse(JSON.stringify(t))),xe("slides",JSON.parse(JSON.stringify(n))),xe("layers",JSON.parse(JSON.stringify(i))),xe("states",JSON.parse(JSON.stringify(a))),xe("gridSettings",JSON.parse(JSON.stringify(r))),xe("globalSettings",e.globalSettings||ys.globalSettings);const l=e.metadata?.docType||(e.version>=3?"slides":"infinite");xe("docType",l),xe("showSlideNavigator",l==="slides"),xe("activeSlideIndex",0),xe("selection",[]),i.some(o=>o.id===w.activeLayerId)||xe("activeLayerId",i[0]?.id||"default-layer"),setTimeout(()=>bp(),100)}),pp()},Wy=e=>{lo(()=>{xe("docType",e),xe("showSlideNavigator",e==="slides")})},hp=e=>{xe("showStatePanel",e??!w.showStatePanel)},hf=e=>{const t=crypto.randomUUID(),n={};w.elements.forEach(r=>{n[r.id]={x:r.x,y:r.y,width:r.width,height:r.height,opacity:r.opacity,angle:r.angle,backgroundColor:r.backgroundColor,strokeColor:r.strokeColor,text:r.text}});const i={id:t,name:e,overrides:n};xe("states",r=>[...r,i]),xe("activeStateId",t),Hn(`State "${e}" captured`,"success")},jy=e=>{const t=w.states.findIndex(i=>i.id===e);if(t===-1)return;const n={};w.elements.forEach(i=>{n[i.id]={x:i.x,y:i.y,width:i.width,height:i.height,opacity:i.opacity,angle:i.angle,backgroundColor:i.backgroundColor,strokeColor:i.strokeColor,text:i.text}}),xe("states",t,"overrides",n),Hn("State updated","success")},qy=e=>{xe("states",t=>t.filter(n=>n.id!==e)),w.activeStateId===e&&xe("activeStateId",void 0),Hn("State deleted","info")},Pa=async(e,t=!0)=>{const n=w.states.find(i=>i.id===e);if(n)if(xe("activeStateId",e),t){const{MorphAnimator:i}=await Ro(async()=>{const{MorphAnimator:r}=await import("./morph-animator-CngxX3YF.js");return{MorphAnimator:r}},[],import.meta.url);i.morphTo(n)}else lo(()=>{Object.entries(n.overrides).forEach(([i,r])=>{bt(i,r,!1)})})},up=async()=>{if(w.states.length===0)return;const t=(w.states.findIndex(n=>n.id===w.activeStateId)+1)%w.states.length;await Pa(w.states[t].id)},fp=async()=>{if(w.states.length===0)return;let t=w.states.findIndex(n=>n.id===w.activeStateId)-1;t<0&&(t=w.states.length-1),await Pa(w.states[t].id)},pp=()=>{Zi.length=0,Fo.length=0,xe("undoStackLength",0),xe("redoStackLength",0)},Xy=(e="slides")=>{const t=F1("Untitled",e);$d(t),Hn(`New ${e==="slides"?"presentation":"sketch"} created`,"info")},gp=e=>{const t=w.elements.find(a=>a.id===e);if(!t)return;cn();const n=crypto.randomUUID(),i=10/w.viewState.scale,r={...t,id:n,x:t.x+i,y:t.y+i,points:t.points?t.pointsEncoding==="flat"?[...t.points]:t.points.map(a=>({...a})):void 0,roundness:t.roundness?{...t.roundness}:null,crop:t.crop?{...t.crop}:null,boundElements:null,groupIds:t.groupIds?[...t.groupIds]:void 0,seed:Math.floor(Math.random()*2147483647)};xe("elements",a=>[...a,r]),xe("selection",[n])},Ah=()=>{if(w.selection.length<2)return;cn();const e=crypto.randomUUID();xe("elements",t=>w.selection.includes(t.id),"groupIds",t=>[...t||[],e])},yh=()=>{if(w.selection.length===0)return;const e=new Set;w.elements.forEach(t=>{w.selection.includes(t.id)&&t.groupIds&&t.groupIds.length>0&&e.add(t.groupIds[t.groupIds.length-1])}),e.size!==0&&(cn(),xe("elements",t=>{if(!t.groupIds||t.groupIds.length===0)return!1;const n=t.groupIds[t.groupIds.length-1];return e.has(n)},"groupIds",t=>t&&t.slice(0,-1)))},Na=(e,t)=>{const n=w.elements.findIndex(i=>i.id===e);n!==-1&&(cn(),xe("elements",i=>{const r=[...i],a=r.splice(n,1)[0];if(t==="front")r.push(a);else if(t==="back")r.unshift(a);else if(t==="forward"){const l=Math.min(r.length,n+1);r.splice(l,0,a)}else if(t==="backward"){const l=Math.max(0,n-1);r.splice(l,0,a)}return r}))},Ap=()=>{const e=w.theme==="light"?"dark":"light";xe("theme",e),localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},mh=()=>{if(w.elements.length===0){xe("viewState",{scale:1,panX:0,panY:0});return}let e=1/0,t=1/0,n=-1/0,i=-1/0;w.elements.forEach(y=>{e=Math.min(e,y.x),n=Math.max(n,y.x+y.width),t=Math.min(t,y.y),i=Math.max(i,y.y+y.height)});const r=n-e,a=i-t;if(r===0&&a===0){const y=e,A=t,v=window.innerWidth/2,x=window.innerHeight/2;xe("viewState",{scale:1,panX:-y+v,panY:-A+x});return}const l=50,o=window.innerWidth,c=window.innerHeight,s=(o-l*2)/r,d=(c-l*2)/a;let u=Math.min(s,d);u=Math.min(Math.max(u,.1),2);const f=e+r/2,h=t+a/2,g=o/2,p=c/2;xe("viewState",{scale:u,panX:-f*u+g,panY:-h*u+p})},vh=(e,t)=>{if(w.layers.length>=w.maxLayers){console.warn(`Layer limit reached (${w.maxLayers} layers max)`);return}cn();const n=crypto.randomUUID(),i=Math.max(...w.layers.map(a=>a.order),-1),r={id:n,name:e||`Layer ${w.layers.length+1}`,visible:!0,locked:!1,opacity:1,order:i+1,backgroundColor:"transparent",colorTag:void 0,parentId:t,isGroup:!1,expanded:!0};return xe("layers",[...w.layers,r]),xe("activeLayerId",n),n},yp=e=>{if(w.layers.length<=1){Hn("Cannot delete the last layer.","error");return}const t=w.layers.find(i=>i.id===e);if(!t)return;const n=w.elements.filter(i=>i.layerId===e);if(n.length>0){const i=confirm(`Layer "${t.name}" contains ${n.length} element(s).

Click "OK" to delete the layer AND all its elements.
Click "Cancel" to delete the layer but move elements to another layer.`);if(cn(),i)xe("elements",w.elements.filter(r=>r.layerId!==e));else{const r=w.layers.find(a=>a.id!==e);r&&w.elements.forEach((a,l)=>{a.layerId===e&&xe("elements",l,"layerId",r.id)})}}else cn();xe("layers",w.layers.filter(i=>i.id!==e)),w.activeLayerId===e&&xe("activeLayerId",w.layers[0]?.id||"default-layer")},Xr=(e,t)=>{const n=w.layers.findIndex(i=>i.id===e);n!==-1&&xe("layers",n,t)},mp=e=>{if(w.layers.length>=w.maxLayers){console.warn(`Layer limit reached (${w.maxLayers} layers max)`);return}const t=w.layers.find(o=>o.id===e);if(!t)return;cn();const n=crypto.randomUUID(),i={...t,id:n,name:`${t.name} Copy`,opacity:t.opacity??1,order:t.order+.5,backgroundColor:t.backgroundColor||"transparent",parentId:t.parentId,isGroup:t.isGroup,expanded:t.expanded},a=w.elements.filter(o=>o.layerId===e).map(o=>({...o,id:crypto.randomUUID(),layerId:n,x:o.x+10,y:o.y+10}));xe("layers",[...w.layers,i]),xe("elements",[...w.elements,...a]),[...w.layers].sort((o,c)=>o.order-c.order).forEach((o,c)=>{const s=w.layers.findIndex(d=>d.id===o.id);xe("layers",s,"order",c)}),xe("activeLayerId",n)},Fd=(e,t)=>{if(e===t)return;cn();const n=[...w.layers],[i]=n.splice(e,1);n.splice(t,0,i),n.forEach((r,a)=>{r.order=a}),xe("layers",n)},Jl=e=>{w.layers.find(n=>n.id===e)&&xe("activeLayerId",e)},p4=e=>{const n=[...w.layers].sort((i,r)=>i.order-r.order).reverse()[e];n&&Jl(n.id)},Gy=e=>{const t=w.layers.findIndex(r=>r.id===e);if(t<=0)return;const n=w.layers[t],i=w.layers[t-1];cn(),xe("elements",r=>r.layerId===n.id,"layerId",i.id),xe("layers",r=>r.filter(a=>a.id!==n.id)),w.activeLayerId===n.id&&xe("activeLayerId",i.id)},Hy=()=>{if(w.layers.length<=1)return;cn();const e=w.layers[0];xe("elements",t=>t.layerId!==e.id,"layerId",e.id),xe("layers",[e]),xe("activeLayerId",e.id)},ka=e=>{const t=w.layers.find(n=>n.id===e);return!t||t.visible===!1?!1:w.layerGroupingModeEnabled&&t.parentId?ka(t.parentId):!0},vp=e=>{const t=w.layers.find(n=>n.id===e);return t?t.locked?!0:w.layerGroupingModeEnabled&&t.parentId?vp(t.parentId):t.locked||!1:!1},Yy=e=>{w.layers.forEach((t,n)=>{t.id!==e?xe("layers",n,"visible",!1):xe("layers",n,"visible",!0)})},Vy=()=>{w.layers.forEach((e,t)=>{xe("layers",t,"visible",!0)})},Qy=(e,t)=>{w.layers.find(i=>i.id===t)&&(cn(),e.forEach(i=>{const r=w.elements.findIndex(a=>a.id===i);r!==-1&&xe("elements",r,"layerId",t)}))},bh=()=>{xe("gridSettings","enabled",!w.gridSettings.enabled)},wh=()=>{xe("gridSettings","snapToGrid",!w.gridSettings.snapToGrid)},ol=e=>{xe("gridSettings",e)},Jy=e=>{xe("canvasBackgroundColor",e)},Ky=e=>{xe("canvasTexture",e)},g4=e=>{xe("selectedPenType",e)},A4=e=>{xe("selectedShapeType",e)},y4=e=>{xe("selectedInfraType",e)},m4=e=>{xe("selectedMathType",e)},v4=e=>{xe("selectedSketchnoteType",e)},b4=e=>{xe("selectedWireframeType",e)},w4=e=>{xe("gridSettings","style",e)},x4=e=>{xe("maxLayers",e)},eo=e=>{w.isPropertyPanelMinimized&&(e===void 0||e===!0)?(xe("isPropertyPanelMinimized",!1),xe("showPropertyPanel",!0)):xe("showPropertyPanel",e??!w.showPropertyPanel)},Ns=e=>{xe("showLayerPanel",t=>e??!t)},Zy=e=>{xe("showSlideToolbar",t=>e??!t)},k4=(e,t)=>{xe("slideToolbarPosition",{x:e,y:t})},Al=e=>{xe("showExportDialog",e)},S4=e=>{xe("showUtilityToolbar",t=>!t)},C4=e=>{xe("isPropertyPanelMinimized",t=>!t)},Ic=e=>{xe("isLayerPanelMinimized",t=>e??!t)},L4=()=>{xe("layerGroupingModeEnabled",e=>!e)},e2=e=>{cn();const t=crypto.randomUUID(),n=Math.max(...w.layers.map(r=>r.order),-1),i={id:t,name:e||`Group ${w.layers.filter(r=>r.isGroup).length+1}`,visible:!0,locked:!1,opacity:1,order:n+1,backgroundColor:"transparent",isGroup:!0,expanded:!0};return xe("layers",[...w.layers,i]),xe("activeLayerId",t),t},t2=e=>{xe("layers",t=>t.id===e,"expanded",t=>!t)},Kl=e=>{xe("minimapVisible",t=>e??!t)},xh=e=>{xe("zenMode",t=>e??!t)},n2=e=>{xe("showSlideNavigator",t=>e??!t)},bp=()=>{const e=w.slides[w.activeSlideIndex];if(!e)return;const{width:t,height:n}=e.dimensions,{x:i,y:r}=e.spatialPosition,a=40,l=window.innerWidth-a*2,o=window.innerHeight-a*2,c=l/t,s=o/n,d=Math.min(c,s),u=(window.innerWidth-t*d)/2-i*d,f=(window.innerHeight-n*d)/2-r*d;xe("viewState",{scale:d,panX:u,panY:f})},Il=e=>{const t=e??!w.presentationMode;lo(()=>{xe("presentationMode",t),t&&(bp(),xe("selection",[]),_s.init(w.activeSlideIndex),_s.playInitial())}),t?document.documentElement.requestFullscreen?.().catch(n=>{console.warn("Fullscreen failed:",n)}):document.fullscreenElement&&document.exitFullscreen?.()},P4=e=>{xe("selectedTechnicalType",e)},M4=e=>{xe("selectedUmlType",e)},ms=e=>{xe("showCommandPalette",t=>e??!t)};document.documentElement.setAttribute("data-theme",ys.theme);const Po=e=>{if(w.selection.length<2)return;const t=o4(w.selection,w.elements,e);t.length>0&&(cn(),xe("elements",n=>t.some(i=>i.id===n.id),n=>{const i=t.find(r=>r.id===n.id)?.updates;return i?{...n,...i}:n}))},_4=()=>{if(w.selection.length===0){const e=["solid","dashed","dotted"],t=w.defaultElementStyles.strokeStyle||"solid",n=e[(e.indexOf(t)+1)%e.length];Ka({strokeStyle:n});return}cn(),xe("elements",e=>w.selection.includes(e.id),e=>{const t=["solid","dashed","dotted"],n=e.strokeStyle||"solid";return{strokeStyle:t[(t.indexOf(n)+1)%t.length]}})},N4=()=>{if(w.selection.length===0){const e=["hachure","solid","zigzag","cross-hatch","dots","dashed","zigzag-line"],t=w.defaultElementStyles.fillStyle||"hachure",n=e[(e.indexOf(t)+1)%e.length];Ka({fillStyle:n});return}cn(),xe("elements",e=>w.selection.includes(e.id),e=>{const t=["hachure","solid","zigzag","cross-hatch","dots","dashed","zigzag-line"],n=e.fillStyle||"hachure";return{fillStyle:t[(t.indexOf(n)+1)%t.length]}})},uf=e=>{if(w.selection.length<3)return;const t=s4(w.selection,w.elements,e);t.length>0&&(cn(),xe("elements",n=>t.some(i=>i.id===n.id),n=>{const i=t.find(r=>r.id===n.id)?.updates;return i?{...n,...i}:n}))},r2=e=>{pp(),xe({elements:e.elements,layers:e.layers,activeLayerId:e.layers[0]?.id||"default-layer",viewState:e.viewState||{scale:1,panX:0,panY:0},gridSettings:e.gridSettings||w.gridSettings,globalSettings:e.globalSettings||w.globalSettings,canvasBackgroundColor:e.canvasBackgroundColor||w.canvasBackgroundColor,selection:[]})},Bl=e=>{const t=w.elements.find(n=>n.id===e);t&&bt(e,{isCollapsed:!t.isCollapsed},!0)},i2=(e,t)=>{bt(e,{parentId:t},!0)},T4=e=>{bt(e,{parentId:null},!0)},Ni=(e,t)=>{const n=new J1,i=n.buildTree(e,w.elements);if(!i)return;cn(),t.startsWith("horizontal")?n.layoutHorizontal(i,t==="horizontal-right"?"right":"left"):t.startsWith("vertical")?n.layoutVertical(i,t==="vertical-down"?"down":"up"):t==="radial"&&n.layoutRadial(i);const r=n.getUpdates(i,w.elements),a=w.elements.map(l=>{const o=r.get(l.id);return o?{...l,...o}:l});xe("elements",a),Hn(`Mindmap layout updated (${t})`,"success")},kh=e=>{const t=new J1,n=t.buildTree(e,w.elements);if(!n)return;cn(),t.applySemanticStyling(n,w.elements);const i=t.getUpdates(n,w.elements),r=w.elements.map(a=>{const l=i.get(a.id);return l?{...a,...l}:a});xe("elements",r),Hn("Semantic styling applied to branch","success")};typeof window<"u"&&setInterval(()=>{const e=Date.now(),t=w.elements.filter(n=>n.ttl&&e>n.ttl).map(n=>n.id);t.length>0&&xe("elements",n=>n.filter(i=>!t.includes(i.id)))},500);function ff(e,t,n){if(e&&e.length){const[i,r]=t,a=Math.PI/180*n,l=Math.cos(a),o=Math.sin(a);for(const c of e){const[s,d]=c;c[0]=(s-i)*l-(d-r)*o+i,c[1]=(s-i)*o+(d-r)*l+r}}}function I4(e,t,n){const i=[];e.forEach(r=>i.push(...r)),ff(i,t,n)}function B4(e,t){return e[0]===t[0]&&e[1]===t[1]}function D4(e,t,n,i=1){const r=n,a=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(r)for(const s of l)ff(s,o,r);const c=E4(l,a,i);if(r){for(const s of l)ff(s,o,-r);I4(c,o,-r)}return c}function E4(e,t,n){const i=[];for(const s of e){const d=[...s];B4(d[0],d[d.length-1])||d.push([d[0][0],d[0][1]]),d.length>2&&i.push(d)}const r=[];t=Math.max(t,.1);const a=[];for(const s of i)for(let d=0;d<s.length-1;d++){const u=s[d],f=s[d+1];if(u[1]!==f[1]){const h=Math.min(u[1],f[1]);a.push({ymin:h,ymax:Math.max(u[1],f[1]),x:h===u[1]?u[0]:f[0],islope:(f[0]-u[0])/(f[1]-u[1])})}}if(a.sort((s,d)=>s.ymin<d.ymin?-1:s.ymin>d.ymin?1:s.x<d.x?-1:s.x>d.x?1:s.ymax===d.ymax?0:(s.ymax-d.ymax)/Math.abs(s.ymax-d.ymax)),!a.length)return r;let l=[],o=a[0].ymin,c=0;for(;l.length||a.length;){if(a.length){let s=-1;for(let u=0;u<a.length&&!(a[u].ymin>o);u++)s=u;a.splice(0,s+1).forEach(u=>{l.push({s:o,edge:u})})}if(l=l.filter(s=>!(s.edge.ymax<=o)),l.sort((s,d)=>s.edge.x===d.edge.x?0:(s.edge.x-d.edge.x)/Math.abs(s.edge.x-d.edge.x)),(n!==1||c%t===0)&&l.length>1)for(let s=0;s<l.length;s=s+2){const d=s+1;if(d>=l.length)break;const u=l[s].edge,f=l[d].edge;r.push([[Math.round(u.x),o],[Math.round(f.x),o]])}o+=n,l.forEach(s=>{s.edge.x=s.edge.x+n*s.edge.islope}),c++}return r}function Zl(e,t){var n;const i=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=t.strokeWidth*4),r=Math.round(Math.max(r,.1));let a=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(a=r),D4(e,r,i,a||1)}class wp{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=Zl(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const r of t)i.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],n));return i}}function Sh(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class R4 extends wp{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=n.strokeWidth*4),i=Math.max(i,.1);const r=Object.assign({},n,{hachureGap:i}),a=Zl(t,r),l=Math.PI/180*n.hachureAngle,o=[],c=i*.5*Math.cos(l),s=i*.5*Math.sin(l);for(const[u,f]of a)Sh([u,f])&&o.push([[u[0]-c,u[1]+s],[...f]],[[u[0]+c,u[1]-s],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class $4 extends wp{fillPolygons(t,n){const i=this._fillPolygons(t,n),r=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(t,r);return i.ops=i.ops.concat(a.ops),i}}class F4{constructor(t){this.helper=t}fillPolygons(t,n){n=Object.assign({},n,{hachureAngle:0});const i=Zl(t,n);return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let r=n.hachureGap;r<0&&(r=n.strokeWidth*4),r=Math.max(r,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const l=r/4;for(const o of t){const c=Sh(o),s=c/r,d=Math.ceil(s)-1,u=c-d*r,f=(o[0][0]+o[1][0])/2-r/4,h=Math.min(o[0][1],o[1][1]);for(let g=0;g<d;g++){const p=h+u+g*r,y=f-l+Math.random()*2*l,A=p-l+Math.random()*2*l,v=this.helper.ellipse(y,A,a,a,n);i.push(...v.ops)}}return{type:"fillSketch",ops:i}}}class O4{constructor(t){this.helper=t}fillPolygons(t,n){const i=Zl(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,r=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,a=[];return t.forEach(l=>{const o=Sh(l),c=Math.floor(o/(i+r)),s=(o+r-c*(i+r))/2;let d=l[0],u=l[1];d[0]>u[0]&&(d=l[1],u=l[0]);const f=Math.atan((u[1]-d[1])/(u[0]-d[0]));for(let h=0;h<c;h++){const g=h*(i+r),p=g+i,y=[d[0]+g*Math.cos(f)+s*Math.cos(f),d[1]+g*Math.sin(f)+s*Math.sin(f)],A=[d[0]+p*Math.cos(f)+s*Math.cos(f),d[1]+p*Math.sin(f)+s*Math.sin(f)];a.push(...this.helper.doubleLineOps(y[0],y[1],A[0],A[1],n))}}),a}}class z4{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,r=n.zigzagOffset<0?i:n.zigzagOffset;n=Object.assign({},n,{hachureGap:i+r});const a=Zl(t,n);return{type:"fillSketch",ops:this.zigzagLines(a,r,n)}}zigzagLines(t,n,i){const r=[];return t.forEach(a=>{const l=Sh(a),o=Math.round(l/(2*n));let c=a[0],s=a[1];c[0]>s[0]&&(c=a[1],s=a[0]);const d=Math.atan((s[1]-c[1])/(s[0]-c[0]));for(let u=0;u<o;u++){const f=u*2*n,h=(u+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),p=[c[0]+f*Math.cos(d),c[1]+f*Math.sin(d)],y=[c[0]+h*Math.cos(d),c[1]+h*Math.sin(d)],A=[p[0]+g*Math.cos(d+Math.PI/4),p[1]+g*Math.sin(d+Math.PI/4)];r.push(...this.helper.doubleLineOps(p[0],p[1],A[0],A[1],i),...this.helper.doubleLineOps(A[0],A[1],y[0],y[1],i))}}),r}}const ni={};function U4(e,t){let n=e.fillStyle||"hachure";if(!ni[n])switch(n){case"zigzag":ni[n]||(ni[n]=new R4(t));break;case"cross-hatch":ni[n]||(ni[n]=new $4(t));break;case"dots":ni[n]||(ni[n]=new F4(t));break;case"dashed":ni[n]||(ni[n]=new O4(t));break;case"zigzag-line":ni[n]||(ni[n]=new z4(t));break;default:n="hachure",ni[n]||(ni[n]=new wp(t));break}return ni[n]}function W4(){return Math.floor(Math.random()*2**31)}class j4{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const q4=0,pf=1,a2=2,Bc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function X4(e){const t=new Array;for(;e!=="";)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:q4,text:RegExp.$1},e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:pf,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length);else return[];return t[t.length]={type:a2,text:""},t}function hu(e,t){return e.type===t}function xp(e){const t=[],n=X4(e);let i="BOD",r=0,a=n[r];for(;!hu(a,a2);){let l=0;const o=[];if(i==="BOD")if(a.text==="M"||a.text==="m")r++,l=Bc[a.text],i=a.text;else return xp("M0,0"+e);else hu(a,pf)?l=Bc[i]:(r++,l=Bc[a.text],i=a.text);if(r+l<n.length){for(let c=r;c<r+l;c++){const s=n[c];if(hu(s,pf))o[o.length]=+s.text;else throw new Error("Param not a number: "+i+","+s.text)}if(typeof Bc[i]=="number"){const c={key:i,data:o};t.push(c),r+=l,a=n[r],i==="M"&&(i="L"),i==="m"&&(i="l")}else throw new Error("Bad segment: "+i)}else throw new Error("Path data ended short")}return t}function o2(e){let t=0,n=0,i=0,r=0;const a=[];for(const{key:l,data:o}of e)switch(l){case"M":a.push({key:"M",data:[...o]}),[t,n]=o,[i,r]=o;break;case"m":t+=o[0],n+=o[1],a.push({key:"M",data:[t,n]}),i=t,r=n;break;case"L":a.push({key:"L",data:[...o]}),[t,n]=o;break;case"l":t+=o[0],n+=o[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],n=o[5];break;case"c":{const c=o.map((s,d)=>d%2?s+n:s+t);a.push({key:"C",data:c}),t=c[4],n=c[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],n=o[3];break;case"q":{const c=o.map((s,d)=>d%2?s+n:s+t);a.push({key:"Q",data:c}),t=c[2],n=c[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],n=o[6];break;case"a":t+=o[5],n+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,n]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],n=o[3];break;case"s":{const c=o.map((s,d)=>d%2?s+n:s+t);a.push({key:"S",data:c}),t=c[2],n=c[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],n=o[1];break;case"t":t+=o[0],n+=o[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=i,n=r;break}return a}function s2(e){const t=[];let n="",i=0,r=0,a=0,l=0,o=0,c=0;for(const{key:s,data:d}of e){switch(s){case"M":t.push({key:"M",data:[...d]}),[i,r]=d,[a,l]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],r=d[5],o=d[2],c=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,r]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,r]});break;case"V":r=d[0],t.push({key:"L",data:[i,r]});break;case"S":{let u=0,f=0;n==="C"||n==="S"?(u=i+(i-o),f=r+(r-c)):(u=i,f=r),t.push({key:"C",data:[u,f,...d]}),o=d[0],c=d[1],i=d[2],r=d[3];break}case"T":{const[u,f]=d;let h=0,g=0;n==="Q"||n==="T"?(h=i+(i-o),g=r+(r-c)):(h=i,g=r);const p=i+2*(h-i)/3,y=r+2*(g-r)/3,A=u+2*(h-u)/3,v=f+2*(g-f)/3;t.push({key:"C",data:[p,y,A,v,u,f]}),o=h,c=g,i=u,r=f;break}case"Q":{const[u,f,h,g]=d,p=i+2*(u-i)/3,y=r+2*(f-r)/3,A=h+2*(u-h)/3,v=g+2*(f-g)/3;t.push({key:"C",data:[p,y,A,v,h,g]}),o=u,c=f,i=h,r=g;break}case"A":{const u=Math.abs(d[0]),f=Math.abs(d[1]),h=d[2],g=d[3],p=d[4],y=d[5],A=d[6];u===0||f===0?(t.push({key:"C",data:[i,r,y,A,y,A]}),i=y,r=A):(i!==y||r!==A)&&(l2(i,r,y,A,u,f,h,g,p).forEach(function(x){t.push({key:"C",data:x})}),i=y,r=A);break}case"Z":t.push({key:"Z",data:[]}),i=a,r=l;break}n=s}return t}function G4(e){return Math.PI*e/180}function sl(e,t,n){const i=e*Math.cos(n)-t*Math.sin(n),r=e*Math.sin(n)+t*Math.cos(n);return[i,r]}function l2(e,t,n,i,r,a,l,o,c,s){const d=G4(l);let u=[],f=0,h=0,g=0,p=0;if(s)[f,h,g,p]=s;else{[e,t]=sl(e,t,-d),[n,i]=sl(n,i,-d);const P=(e-n)/2,D=(t-i)/2;let k=P*P/(r*r)+D*D/(a*a);k>1&&(k=Math.sqrt(k),r=k*r,a=k*a);const U=o===c?-1:1,ce=r*r,Q=a*a,ae=ce*Q-ce*D*D-Q*P*P,ie=ce*D*D+Q*P*P,Se=U*Math.sqrt(Math.abs(ae/ie));g=Se*r*D/a+(e+n)/2,p=Se*-a*P/r+(t+i)/2,f=Math.asin(parseFloat(((t-p)/a).toFixed(9))),h=Math.asin(parseFloat(((i-p)/a).toFixed(9))),e<g&&(f=Math.PI-f),n<g&&(h=Math.PI-h),f<0&&(f=Math.PI*2+f),h<0&&(h=Math.PI*2+h),c&&f>h&&(f=f-Math.PI*2),!c&&h>f&&(h=h-Math.PI*2)}let y=h-f;if(Math.abs(y)>Math.PI*120/180){const P=h,D=n,k=i;c&&h>f?h=f+Math.PI*120/180*1:h=f+Math.PI*120/180*-1,n=g+r*Math.cos(h),i=p+a*Math.sin(h),u=l2(n,i,D,k,r,a,l,0,c,[h,P,g,p])}y=h-f;const A=Math.cos(f),v=Math.sin(f),x=Math.cos(h),C=Math.sin(h),_=Math.tan(y/4),F=4/3*r*_,O=4/3*a*_,E=[e,t],I=[e+F*v,t-O*A],q=[n+F*C,i-O*x],R=[n,i];if(I[0]=2*E[0]-I[0],I[1]=2*E[1]-I[1],s)return[I,q,R].concat(u);{u=[I,q,R].concat(u);const P=[];for(let D=0;D<u.length;D+=3){const k=sl(u[D][0],u[D][1],d),U=sl(u[D+1][0],u[D+1][1],d),ce=sl(u[D+2][0],u[D+2][1],d);P.push([k[0],k[1],U[0],U[1],ce[0],ce[1]])}return P}}const H4={randOffset:K4,randOffsetWithRange:Z4,ellipse:Q4,doubleLineOps:eS};function c2(e,t,n,i,r){return{type:"path",ops:to(e,t,n,i,r)}}function cd(e,t,n){const i=(e||[]).length;if(i>2){const r=[];for(let a=0;a<i-1;a++)r.push(...to(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&r.push(...to(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:r}}else if(i===2)return c2(e[0][0],e[0][1],e[1][0],e[1][1],n);return{type:"path",ops:[]}}function Y4(e,t){return cd(e,!0,t)}function V4(e,t,n,i,r){const a=[[e,t],[e+n,t],[e+n,t+i],[e,t+i]];return Y4(a,r)}function T0(e,t){if(e.length){const i=typeof e[0][0]=="number"?[e]:e,r=Dc(i[0],1*(1+t.roughness*.2),t),a=t.disableMultiStroke?[]:Dc(i[0],1.5*(1+t.roughness*.22),D0(t));for(let l=1;l<i.length;l++){const o=i[l];if(o.length){const c=Dc(o,1*(1+t.roughness*.2),t),s=t.disableMultiStroke?[]:Dc(o,1.5*(1+t.roughness*.22),D0(t));for(const d of c)d.op!=="move"&&r.push(d);for(const d of s)d.op!=="move"&&a.push(d)}}return{type:"path",ops:r.concat(a)}}return{type:"path",ops:[]}}function Q4(e,t,n,i,r){const a=d2(n,i,r);return gf(e,t,r,a).opset}function d2(e,t,n){const i=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),a=Math.PI*2/r;let l=Math.abs(e/2),o=Math.abs(t/2);const c=1-n.curveFitting;return l+=Qt(l*c,n),o+=Qt(o*c,n),{increment:a,rx:l,ry:o}}function gf(e,t,n,i){const[r,a]=E0(i.increment,e,t,i.rx,i.ry,1,i.increment*Od(.1,Od(.4,1,n),n),n);let l=zd(r,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=E0(i.increment,e,t,i.rx,i.ry,1.5,0,n),c=zd(o,null,n);l=l.concat(c)}return{estimatedPoints:a,opset:{type:"path",ops:l}}}function I0(e,t,n,i,r,a,l,o,c){const s=e,d=t;let u=Math.abs(n/2),f=Math.abs(i/2);u+=Qt(u*.01,c),f+=Qt(f*.01,c);let h=r,g=a;for(;h<0;)h+=Math.PI*2,g+=Math.PI*2;g-h>Math.PI*2&&(h=0,g=Math.PI*2);const p=Math.PI*2/c.curveStepCount,y=Math.min(p/2,(g-h)/2),A=R0(y,s,d,u,f,h,g,1,c);if(!c.disableMultiStroke){const v=R0(y,s,d,u,f,h,g,1.5,c);A.push(...v)}return l&&(o?A.push(...to(s,d,s+u*Math.cos(h),d+f*Math.sin(h),c),...to(s,d,s+u*Math.cos(g),d+f*Math.sin(g),c)):A.push({op:"lineTo",data:[s,d]},{op:"lineTo",data:[s+u*Math.cos(h),d+f*Math.sin(h)]})),{type:"path",ops:A}}function B0(e,t){const n=s2(o2(xp(e))),i=[];let r=[0,0],a=[0,0];for(const{key:l,data:o}of n)switch(l){case"M":{a=[o[0],o[1]],r=[o[0],o[1]];break}case"L":i.push(...to(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{const[c,s,d,u,f,h]=o;i.push(...tS(c,s,d,u,f,h,a,t)),a=[f,h];break}case"Z":i.push(...to(a[0],a[1],r[0],r[1],t)),a=[r[0],r[1]];break}return{type:"path",ops:i}}function uu(e,t){const n=[];for(const i of e)if(i.length){const r=t.maxRandomnessOffset||0,a=i.length;if(a>2){n.push({op:"move",data:[i[0][0]+Qt(r,t),i[0][1]+Qt(r,t)]});for(let l=1;l<a;l++)n.push({op:"lineTo",data:[i[l][0]+Qt(r,t),i[l][1]+Qt(r,t)]})}}return{type:"fillPath",ops:n}}function fs(e,t){return U4(t,H4).fillPolygons(e,t)}function J4(e,t,n,i,r,a,l){const o=e,c=t;let s=Math.abs(n/2),d=Math.abs(i/2);s+=Qt(s*.01,l),d+=Qt(d*.01,l);let u=r,f=a;for(;u<0;)u+=Math.PI*2,f+=Math.PI*2;f-u>Math.PI*2&&(u=0,f=Math.PI*2);const h=(f-u)/l.curveStepCount,g=[];for(let p=u;p<=f;p=p+h)g.push([o+s*Math.cos(p),c+d*Math.sin(p)]);return g.push([o+s*Math.cos(f),c+d*Math.sin(f)]),g.push([o,c]),fs([g],l)}function K4(e,t){return Qt(e,t)}function Z4(e,t,n){return Od(e,t,n)}function eS(e,t,n,i,r){return to(e,t,n,i,r,!0)}function D0(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function h2(e){return e.randomizer||(e.randomizer=new j4(e.seed||0)),e.randomizer.next()}function Od(e,t,n,i=1){return n.roughness*i*(h2(n)*(t-e)+e)}function Qt(e,t,n=1){return Od(-e,e,t,n)}function to(e,t,n,i,r,a=!1){const l=a?r.disableMultiStrokeFill:r.disableMultiStroke,o=Af(e,t,n,i,r,!0,!1);if(l)return o;const c=Af(e,t,n,i,r,!0,!0);return o.concat(c)}function Af(e,t,n,i,r,a,l){const o=Math.pow(e-n,2)+Math.pow(t-i,2),c=Math.sqrt(o);let s=1;c<200?s=1:c>500?s=.4:s=-.0016668*c+1.233334;let d=r.maxRandomnessOffset||0;d*d*100>o&&(d=c/10);const u=d/2,f=.2+h2(r)*.2;let h=r.bowing*r.maxRandomnessOffset*(i-t)/200,g=r.bowing*r.maxRandomnessOffset*(e-n)/200;h=Qt(h,r,s),g=Qt(g,r,s);const p=[],y=()=>Qt(u,r,s),A=()=>Qt(d,r,s),v=r.preserveVertices;return l?p.push({op:"move",data:[e+(v?0:y()),t+(v?0:y())]}):p.push({op:"move",data:[e+(v?0:Qt(d,r,s)),t+(v?0:Qt(d,r,s))]}),l?p.push({op:"bcurveTo",data:[h+e+(n-e)*f+y(),g+t+(i-t)*f+y(),h+e+2*(n-e)*f+y(),g+t+2*(i-t)*f+y(),n+(v?0:y()),i+(v?0:y())]}):p.push({op:"bcurveTo",data:[h+e+(n-e)*f+A(),g+t+(i-t)*f+A(),h+e+2*(n-e)*f+A(),g+t+2*(i-t)*f+A(),n+(v?0:A()),i+(v?0:A())]}),p}function Dc(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+Qt(t,n),e[0][1]+Qt(t,n)]),i.push([e[0][0]+Qt(t,n),e[0][1]+Qt(t,n)]);for(let r=1;r<e.length;r++)i.push([e[r][0]+Qt(t,n),e[r][1]+Qt(t,n)]),r===e.length-1&&i.push([e[r][0]+Qt(t,n),e[r][1]+Qt(t,n)]);return zd(i,null,n)}function zd(e,t,n){const i=e.length,r=[];if(i>3){const a=[],l=1-n.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<i;o++){const c=e[o];a[0]=[c[0],c[1]],a[1]=[c[0]+(l*e[o+1][0]-l*e[o-1][0])/6,c[1]+(l*e[o+1][1]-l*e[o-1][1])/6],a[2]=[e[o+1][0]+(l*e[o][0]-l*e[o+2][0])/6,e[o+1][1]+(l*e[o][1]-l*e[o+2][1])/6],a[3]=[e[o+1][0],e[o+1][1]],r.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else i===3?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&r.push(...Af(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return r}function E0(e,t,n,i,r,a,l,o){const c=o.roughness===0,s=[],d=[];if(c){e=e/4,d.push([t+i*Math.cos(-e),n+r*Math.sin(-e)]);for(let u=0;u<=Math.PI*2;u=u+e){const f=[t+i*Math.cos(u),n+r*Math.sin(u)];s.push(f),d.push(f)}d.push([t+i*Math.cos(0),n+r*Math.sin(0)]),d.push([t+i*Math.cos(e),n+r*Math.sin(e)])}else{const u=Qt(.5,o)-Math.PI/2;d.push([Qt(a,o)+t+.9*i*Math.cos(u-e),Qt(a,o)+n+.9*r*Math.sin(u-e)]);const f=Math.PI*2+u-.01;for(let h=u;h<f;h=h+e){const g=[Qt(a,o)+t+i*Math.cos(h),Qt(a,o)+n+r*Math.sin(h)];s.push(g),d.push(g)}d.push([Qt(a,o)+t+i*Math.cos(u+Math.PI*2+l*.5),Qt(a,o)+n+r*Math.sin(u+Math.PI*2+l*.5)]),d.push([Qt(a,o)+t+.98*i*Math.cos(u+l),Qt(a,o)+n+.98*r*Math.sin(u+l)]),d.push([Qt(a,o)+t+.9*i*Math.cos(u+l*.5),Qt(a,o)+n+.9*r*Math.sin(u+l*.5)])}return[d,s]}function R0(e,t,n,i,r,a,l,o,c){const s=a+Qt(.1,c),d=[];d.push([Qt(o,c)+t+.9*i*Math.cos(s-e),Qt(o,c)+n+.9*r*Math.sin(s-e)]);for(let u=s;u<=l;u=u+e)d.push([Qt(o,c)+t+i*Math.cos(u),Qt(o,c)+n+r*Math.sin(u)]);return d.push([t+i*Math.cos(l),n+r*Math.sin(l)]),d.push([t+i*Math.cos(l),n+r*Math.sin(l)]),zd(d,null,c)}function tS(e,t,n,i,r,a,l,o){const c=[],s=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let d=[0,0];const u=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let h=0;h<u;h++)h===0?c.push({op:"move",data:[l[0],l[1]]}):c.push({op:"move",data:[l[0]+(f?0:Qt(s[0],o)),l[1]+(f?0:Qt(s[0],o))]}),d=f?[r,a]:[r+Qt(s[h],o),a+Qt(s[h],o)],c.push({op:"bcurveTo",data:[e+Qt(s[h],o),t+Qt(s[h],o),n+Qt(s[h],o),i+Qt(s[h],o),d[0],d[1]]});return c}function ll(e){return[...e]}function $0(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push(ll(e[0]),ll(e[1]),ll(e[2]),ll(e[2]));else{const r=[];r.push(e[0],e[0]);for(let o=1;o<e.length;o++)r.push(e[o]),o===e.length-1&&r.push(e[o]);const a=[],l=1-t;i.push(ll(r[0]));for(let o=1;o+2<r.length;o++){const c=r[o];a[0]=[c[0],c[1]],a[1]=[c[0]+(l*r[o+1][0]-l*r[o-1][0])/6,c[1]+(l*r[o+1][1]-l*r[o-1][1])/6],a[2]=[r[o+1][0]+(l*r[o][0]-l*r[o+2][0])/6,r[o+1][1]+(l*r[o][1]-l*r[o+2][1])/6],a[3]=[r[o+1][0],r[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function nS(e,t){return Math.sqrt(dd(e,t))}function dd(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function rS(e,t,n){const i=dd(t,n);if(i===0)return dd(e,t);let r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return r=Math.max(0,Math.min(1,r)),dd(e,Mo(t,n,r))}function Mo(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function iS(e,t){const n=e[t+0],i=e[t+1],r=e[t+2],a=e[t+3];let l=3*i[0]-2*n[0]-a[0];l*=l;let o=3*i[1]-2*n[1]-a[1];o*=o;let c=3*r[0]-2*a[0]-n[0];c*=c;let s=3*r[1]-2*a[1]-n[1];return s*=s,l<c&&(l=c),o<s&&(o=s),l+o}function yf(e,t,n,i){const r=i||[];if(iS(e,t)<n){const a=e[t+0];r.length?nS(r[r.length-1],a)>1&&r.push(a):r.push(a),r.push(e[t+3])}else{const l=e[t+0],o=e[t+1],c=e[t+2],s=e[t+3],d=Mo(l,o,.5),u=Mo(o,c,.5),f=Mo(c,s,.5),h=Mo(d,u,.5),g=Mo(u,f,.5),p=Mo(h,g,.5);yf([l,d,h,p],0,n,r),yf([p,g,f,s],0,n,r)}return r}function aS(e,t){return Ud(e,0,e.length,t)}function Ud(e,t,n,i,r){const a=r||[],l=e[t],o=e[n-1];let c=0,s=1;for(let d=t+1;d<n-1;++d){const u=rS(e[d],l,o);u>c&&(c=u,s=d)}return Math.sqrt(c)>i?(Ud(e,t,s+1,i,a),Ud(e,s,n,i,a)):(a.length||a.push(l),a.push(o)),a}function mf(e,t=.15,n){const i=[],r=(e.length-1)/3;for(let a=0;a<r;a++){const l=a*3;yf(e,l,t,i)}return n&&n>0?Ud(i,0,i.length,n):i}function oS(e,t,n){const i=xp(e),r=s2(o2(i)),a=[];let l=[],o=[0,0],c=[];const s=()=>{c.length>=4&&l.push(...mf(c,t)),c=[]},d=()=>{s(),l.length&&(a.push(l),l=[])};for(const{key:f,data:h}of r)switch(f){case"M":d(),o=[h[0],h[1]],l.push(o);break;case"L":s(),l.push([h[0],h[1]]);break;case"C":if(!c.length){const g=l.length?l[l.length-1]:o;c.push([g[0],g[1]])}c.push([h[0],h[1]]),c.push([h[2],h[3]]),c.push([h[4],h[5]]);break;case"Z":s(),l.push([o[0],o[1]]);break}if(d(),!n)return a;const u=[];for(const f of a){const h=aS(f,n);h.length&&u.push(h)}return u}const Ai="none";class Wd{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return W4()}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,r,a){const l=this._o(a);return this._d("line",[c2(t,n,i,r,l)],l)}rectangle(t,n,i,r,a){const l=this._o(a),o=[],c=V4(t,n,i,r,l);if(l.fill){const s=[[t,n],[t+i,n],[t+i,n+r],[t,n+r]];l.fillStyle==="solid"?o.push(uu([s],l)):o.push(fs([s],l))}return l.stroke!==Ai&&o.push(c),this._d("rectangle",o,l)}ellipse(t,n,i,r,a){const l=this._o(a),o=[],c=d2(i,r,l),s=gf(t,n,l,c);if(l.fill)if(l.fillStyle==="solid"){const d=gf(t,n,l,c).opset;d.type="fillPath",o.push(d)}else o.push(fs([s.estimatedPoints],l));return l.stroke!==Ai&&o.push(s.opset),this._d("ellipse",o,l)}circle(t,n,i,r){const a=this.ellipse(t,n,i,i,r);return a.shape="circle",a}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[cd(t,!1,i)],i)}arc(t,n,i,r,a,l,o=!1,c){const s=this._o(c),d=[],u=I0(t,n,i,r,a,l,o,!0,s);if(o&&s.fill)if(s.fillStyle==="solid"){const f=Object.assign({},s);f.disableMultiStroke=!0;const h=I0(t,n,i,r,a,l,!0,!1,f);h.type="fillPath",d.push(h)}else d.push(J4(t,n,i,r,a,l,s));return s.stroke!==Ai&&d.push(u),this._d("arc",d,s)}curve(t,n){const i=this._o(n),r=[],a=T0(t,i);if(i.fill&&i.fill!==Ai)if(i.fillStyle==="solid"){const l=T0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],o=t;if(o.length){const s=typeof o[0][0]=="number"?[o]:o;for(const d of s)d.length<3?l.push(...d):d.length===3?l.push(...mf($0([d[0],d[0],d[1],d[2]]),10,(1+i.roughness)/2)):l.push(...mf($0(d),10,(1+i.roughness)/2))}l.length&&r.push(fs([l],i))}return i.stroke!==Ai&&r.push(a),this._d("curve",r,i)}polygon(t,n){const i=this._o(n),r=[],a=cd(t,!0,i);return i.fill&&(i.fillStyle==="solid"?r.push(uu([t],i)):r.push(fs([t],i))),i.stroke!==Ai&&r.push(a),this._d("polygon",r,i)}path(t,n){const i=this._o(n),r=[];if(!t)return this._d("path",r,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=i.fill&&i.fill!=="transparent"&&i.fill!==Ai,l=i.stroke!==Ai,o=!!(i.simplification&&i.simplification<1),c=o?4-4*(i.simplification||1):(1+i.roughness)/2,s=oS(t,1,c),d=B0(t,i);if(a)if(i.fillStyle==="solid")if(s.length===1){const u=B0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else r.push(uu(s,i));else r.push(fs(s,i));return l&&(o?s.forEach(u=>{r.push(cd(u,!1,i))}):r.push(d)),this._d("path",r,i)}opsToPath(t,n){let i="";for(const r of t.ops){const a=typeof n=="number"&&n>=0?r.data.map(l=>+l.toFixed(n)):r.data;switch(r.op){case"move":i+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":i+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":i+=`L${a[0]} ${a[1]} `;break}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,r=[];for(const a of n){let l=null;switch(a.type){case"path":l={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:Ai};break;case"fillPath":l={d:this.opsToPath(a),stroke:Ai,strokeWidth:0,fill:i.fill||Ai};break;case"fillSketch":l=this.fillSketch(a,i);break}l&&r.push(l)}return r}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||Ai,strokeWidth:i,fill:Ai}}_mergedShape(t){return t.filter((n,i)=>i===0?!0:n.op!=="move")}}class sS{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Wd(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":r.save(),r.strokeStyle=i.stroke==="none"?"transparent":i.stroke,r.lineWidth=i.strokeWidth,i.strokeLineDash&&r.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(r.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(r,l,a),r.restore();break;case"fillPath":{r.save(),r.fillStyle=i.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,l,a,o),r.restore();break}case"fillSketch":this.fillSketch(r,l,i);break}}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=r,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,r="nonzero"){t.beginPath();for(const a of n.ops){const l=typeof i=="number"&&i>=0?a.data.map(o=>+o.toFixed(i)):a.data;switch(a.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1]);break}}n.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,r,a){const l=this.gen.line(t,n,i,r,a);return this.draw(l),l}rectangle(t,n,i,r,a){const l=this.gen.rectangle(t,n,i,r,a);return this.draw(l),l}ellipse(t,n,i,r,a){const l=this.gen.ellipse(t,n,i,r,a);return this.draw(l),l}circle(t,n,i,r){const a=this.gen.circle(t,n,i,r);return this.draw(a),a}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,r,a,l,o=!1,c){const s=this.gen.arc(t,n,i,r,a,l,o,c);return this.draw(s),s}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}}const Ec="http://www.w3.org/2000/svg";class lS{constructor(t,n){this.svg=t,this.gen=new Wd(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,a=r.createElementNS(Ec,"g"),l=t.options.fixedDecimalPlaceDigits;for(const o of n){let c=null;switch(o.type){case"path":{c=r.createElementNS(Ec,"path"),c.setAttribute("d",this.opsToPath(o,l)),c.setAttribute("stroke",i.stroke),c.setAttribute("stroke-width",i.strokeWidth+""),c.setAttribute("fill","none"),i.strokeLineDash&&c.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break}case"fillPath":{c=r.createElementNS(Ec,"path"),c.setAttribute("d",this.opsToPath(o,l)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",i.fill||""),(t.shape==="curve"||t.shape==="polygon")&&c.setAttribute("fill-rule","evenodd");break}case"fillSketch":{c=this.fillSketch(r,o,i);break}}c&&a.appendChild(c)}return a}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2);const a=t.createElementNS(Ec,"path");return a.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),a.setAttribute("stroke",i.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),i.fillLineDash&&a.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,r,a){const l=this.gen.line(t,n,i,r,a);return this.draw(l)}rectangle(t,n,i,r,a){const l=this.gen.rectangle(t,n,i,r,a);return this.draw(l)}ellipse(t,n,i,r,a){const l=this.gen.ellipse(t,n,i,r,a);return this.draw(l)}circle(t,n,i,r){const a=this.gen.circle(t,n,i,r);return this.draw(a)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,r,a,l,o=!1,c){const s=this.gen.arc(t,n,i,r,a,l,o,c);return this.draw(s)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}}const no={canvas(e,t){return new sS(e,t)},svg(e,t){return new lS(e,t)},generator(e){return new Wd(e)},newSeed(){return Wd.newSeed()}},ps=(e,t,n)=>{if((e.type==="line"||e.type==="arrow")&&e.endBinding){const a=e.endBinding.elementId,l=n?n.get(a):t.find(o=>o.id===a);if(l&&ps(l,t,n))return!0}if(!e.parentId)return!1;let i=e.parentId;const r=new Set;for(;i&&!r.has(i);){r.add(i);const a=i,l=n?n.get(a):t.find(o=>o.id===a);if(!l)break;if(l.isCollapsed)return!0;i=l.parentId||null}return!1},fu=(e,t)=>{const n=[],i=[e],r=new Set;for(;i.length>0;){const a=i.shift();if(r.has(a))continue;r.add(a);const l=t.filter(o=>o.parentId===a);n.push(...l),i.push(...l.map(o=>o.id))}return n};class cS{renderers=new Map;register(t,n){this.renderers.set(t,n)}getRenderer(t){return this.renderers.get(t)}}const hr=new cS,Jn=e=>{if(!e||e.length===0)return[];if(typeof e[0]=="number"){const t=[];for(let n=0;n<e.length-1;n+=2)t.push({x:e[n],y:e[n+1]});return t}return e},Rc=(e,t,n,i,r)=>{const a=1-r;return a*a*a*e+3*a*a*r*t+3*a*r*r*n+r*r*r*i},ro=(e,t,n,i=!1,r=1)=>{const a=hr.getRenderer(n.type);if(a){a.render({rc:e,ctx:t,element:n,isDarkMode:i,layerOpacity:r});return}console.warn(`No renderer registered for element type: ${n.type}`)},dS=(e,t)=>{let n=!1;for(let i=0,r=t.length-1;i<t.length;r=i++){const a=t[i].x,l=t[i].y,o=t[r].x,c=t[r].y;l>e.y!=c>e.y&&e.x<(o-a)*(e.y-l)/(c-l)+a&&(n=!n)}return n},vf=(e,t,n)=>{const i=e.x,r=e.y,a=t.x,l=t.y,o=n.x,c=n.y,s=i-a,d=r-l,u=o-a,f=c-l,h=s*u+d*f,g=u*u+f*f;let p=-1;g!==0&&(p=h/g);let y,A;p<0?(y=a,A=l):p>1?(y=o,A=c):(y=a+p*u,A=l+p*f);const v=i-y,x=r-A;return Math.sqrt(v*v+x*x)},jd=(e,t,n,i,r)=>{const a=1-r;return a*a*a*e+3*a*a*r*t+3*a*r*r*n+r*r*r*i},hS=(e,t,n,i,r)=>{const a=3*(1-r)*(1-r)*(t.x-e.x)+6*(1-r)*r*(n.x-t.x)+3*r*r*(i.x-n.x),l=3*(1-r)*(1-r)*(t.y-e.y)+6*(1-r)*r*(n.y-t.y)+3*r*r*(i.y-n.y);return Math.atan2(l,a)},F0=(e,t,n,i,r)=>{const l=Math.max(r*8,4),o=Math.max(r*2,2),c=[],s=[];for(let d=0;d<=20;d++){const u=d/20,f=jd(e.x,n.x,i.x,t.x,u),h=jd(e.y,n.y,i.y,t.y,u),g=hS(e,n,i,t,u),y=(l+(o-l)*u)/2,A=Math.cos(g+Math.PI/2)*y,v=Math.sin(g+Math.PI/2)*y;c.push({x:f+A,y:h+v}),s.push({x:f-A,y:h-v})}return[...c,...s.reverse()]},uS=(e,t,n,i,r=20)=>{const a=[];for(let l=0;l<=r;l++){const o=l/r;a.push({x:jd(e.x,t.x,n.x,i.x,o),y:jd(e.y,t.y,n.y,i.y,o)})}return a},$c=(e,t,n,i,r,a)=>{const l=uS(t,n,i,r,20);return hd(e,l,a)},hd=(e,t,n)=>{if(t.length<2)return!1;for(let i=0;i<t.length-1;i++)if(vf(e,t[i],t[i+1])<=n)return!0;return!1},fS=(e,t,n,i,r)=>{const a=Math.abs(i/2),l=Math.abs(r/2),o=t+i/2,c=n+r/2;return a<=0||l<=0?!1:Math.pow(e.x-o,2)/Math.pow(a,2)+Math.pow(e.y-c,2)/Math.pow(l,2)<=1},ii=(e,t,n,i,r)=>{const a=Math.cos(r),l=Math.sin(r);return{x:a*(e-n)-l*(t-i)+n,y:l*(e-n)+a*(t-i)+i}},pu=(e,t,n=0)=>{const i=e.x+e.width/2,r=e.y+e.height/2;if(e.type==="rectangle"||e.type==="image"||e.type==="text"){let a={x:t.x,y:t.y};e.angle&&(a=ii(t.x,t.y,i,r,-e.angle));const l=e.width,o=e.height,c=i-l/2-n,s=i+l/2+n,d=r-o/2-n,u=r+o/2+n,f=a.x-i,h=a.y-r;if(f===0&&h===0)return{x:i,y:r};let g=1/0;if(f!==0){const A=(c-i)/f;A>0&&(g=Math.min(g,A));const v=(s-i)/f;v>0&&(g=Math.min(g,v))}if(h!==0){const A=(d-r)/h;A>0&&(g=Math.min(g,A));const v=(u-r)/h;v>0&&(g=Math.min(g,v))}if(g===1/0)return null;const p=i+f*g,y=r+h*g;return e.angle?ii(p,y,i,r,e.angle):{x:p,y}}else if(e.type==="circle"){const a=e.width/2+n,l=e.height/2+n;let o={x:t.x,y:t.y};e.angle&&(o=ii(t.x,t.y,i,r,-e.angle));const c=o.x-i,s=o.y-r;if(c===0&&s===0)return null;const d=c*c/(a*a)+s*s/(l*l),u=1/Math.sqrt(d),f=i+c*u,h=r+s*u;return e.angle?ii(f,h,i,r,e.angle):{x:f,y:h}}else if(e.type==="diamond"){let a={x:t.x,y:t.y};e.angle&&(a=ii(t.x,t.y,i,r,-e.angle));const l=e.width/2+n,o=e.height/2+n,c=a.x-i,s=a.y-r;if(c===0&&s===0)return{x:i,y:r};const d=Math.atan2(s,c),u=Math.abs(Math.tan(d)),f=1/(1/l+u/o),h=i+(c>0?1:-1)*f,g=r+(c>0?1:-1)*f*Math.tan(d);return e.angle?ii(h,g,i,r,e.angle):{x:h,y:g}}else if(e.type==="triangle"||e.type==="hexagon"||e.type==="octagon"||e.type==="parallelogram"||e.type==="star"||e.type==="cloud"||e.type==="heart"||e.type==="arrowLeft"||e.type==="arrowRight"||e.type==="arrowUp"||e.type==="arrowDown"||e.type==="capsule"||e.type==="stickyNote"||e.type==="callout"||e.type==="burst"||e.type==="speechBubble"||e.type==="ribbon"||e.type==="bracketLeft"||e.type==="bracketRight"||e.type==="database"||e.type==="document"||e.type==="predefinedProcess"||e.type==="internalStorage"||e.type==="server"||e.type==="loadBalancer"||e.type==="firewall"||e.type==="user"||e.type==="messageQueue"||e.type==="lambda"||e.type==="router"||e.type==="browser"||e.type==="trapezoid"||e.type==="rightTriangle"||e.type==="pentagon"||e.type==="septagon"||e.type==="starPerson"||e.type==="scroll"||e.type==="wavyDivider"||e.type==="doubleBanner"||e.type==="lightbulb"||e.type==="signpost"||e.type==="burstBlob"||e.type==="browserWindow"||e.type==="mobilePhone"||e.type==="ghostButton"||e.type==="inputField"||e.type==="fineliner"||e.type==="inkbrush"||e.type==="marker"){let a={x:t.x,y:t.y};e.angle&&(a=ii(t.x,t.y,i,r,-e.angle));const l=e.width,o=e.height,c=i-l/2-n,s=i+l/2+n,d=r-o/2-n,u=r+o/2+n,f=a.x-i,h=a.y-r;if(f===0&&h===0)return{x:i,y:r};let g=1/0;if(f!==0){const A=(c-i)/f;A>0&&(g=Math.min(g,A));const v=(s-i)/f;v>0&&(g=Math.min(g,v))}if(h!==0){const A=(d-r)/h;A>0&&(g=Math.min(g,A));const v=(u-r)/h;v>0&&(g=Math.min(g,v))}if(g===1/0)return null;const p=i+f*g,y=r+h*g;return e.angle?ii(p,y,i,r,e.angle):{x:p,y}}return null};function ud(e){const t=e.x+e.width/2,n=e.y+e.height/2,i=e.width,r=e.height;let a=[];if(e.type==="rectangle"||e.type==="image"||e.type==="text"){const l=[{x:t-i/2,y:n-r/2,position:"top-left"},{x:t+i/2,y:n-r/2,position:"top-right"},{x:t-i/2,y:n+r/2,position:"bottom-left"},{x:t+i/2,y:n+r/2,position:"bottom-right"},{x:t,y:n-r/2,position:"top"},{x:t+i/2,y:n,position:"right"},{x:t,y:n+r/2,position:"bottom"},{x:t-i/2,y:n,position:"left"}];e.angle?a=l.map(o=>({...ii(o.x,o.y,t,n,e.angle),position:o.position})):a=l}else if(e.type==="circle"){const l=i/2,o=r/2,c=[{x:t,y:n-o,position:"top"},{x:t+l,y:n,position:"right"},{x:t,y:n+o,position:"bottom"},{x:t-l,y:n,position:"left"}];e.angle?a=c.map(s=>({...ii(s.x,s.y,t,n,e.angle),position:s.position})):a=c}else if(e.type==="diamond"){const l=[{x:t,y:n-r/2,position:"top"},{x:t+i/2,y:n,position:"right"},{x:t,y:n+r/2,position:"bottom"},{x:t-i/2,y:n,position:"left"}];e.angle?a=l.map(o=>({...ii(o.x,o.y,t,n,e.angle),position:o.position})):a=l}else if(e.type==="triangle"||e.type==="hexagon"||e.type==="octagon"||e.type==="parallelogram"||e.type==="star"){const l=[{x:t,y:n-r/2,position:"top"},{x:t+i/2,y:n,position:"right"},{x:t,y:n+r/2,position:"bottom"},{x:t-i/2,y:n,position:"left"}];e.angle?a=l.map(o=>({...ii(o.x,o.y,t,n,e.angle),position:o.position})):a=l}else if(e.type==="cloud"||e.type==="heart"||e.type==="checkmark"||e.type==="cross"||e.type==="arrowLeft"||e.type==="arrowRight"||e.type==="arrowUp"||e.type==="arrowDown"||e.type==="capsule"||e.type==="stickyNote"||e.type==="callout"||e.type==="burst"||e.type==="speechBubble"||e.type==="ribbon"||e.type==="server"||e.type==="loadBalancer"||e.type==="firewall"||e.type==="user"||e.type==="messageQueue"||e.type==="lambda"||e.type==="router"||e.type==="browser"||e.type==="trapezoid"||e.type==="rightTriangle"||e.type==="pentagon"||e.type==="septagon"||e.type==="starPerson"||e.type==="scroll"||e.type==="wavyDivider"||e.type==="doubleBanner"||e.type==="lightbulb"||e.type==="signpost"||e.type==="burstBlob"||e.type==="browserWindow"||e.type==="mobilePhone"||e.type==="ghostButton"||e.type==="inputField"||e.type==="bracketLeft"||e.type==="bracketRight"||e.type==="database"||e.type==="document"||e.type==="predefinedProcess"||e.type==="internalStorage"){const l=[{x:t,y:n-r/2,position:"top"},{x:t+i/2,y:n,position:"right"},{x:t,y:n+r/2,position:"bottom"},{x:t-i/2,y:n,position:"left"}];e.angle?a=l.map(o=>({...ii(o.x,o.y,t,n,e.angle),position:o.position})):a=l}else{const l=[{x:t,y:n-r/2,position:"top"},{x:t+i/2,y:n,position:"right"},{x:t,y:n+r/2,position:"bottom"},{x:t-i/2,y:n,position:"left"}];e.angle?a=l.map(o=>({...ii(o.x,o.y,t,n,e.angle),position:o.position})):a=l}return a}function pS(e,t,n=15){const i=ud(e);let r=null,a=n;for(const l of i){const o=l.x-t.x,c=l.y-t.y,s=Math.sqrt(o*o+c*c);s<a&&(a=s,r=l)}return r}const gu=(e,t,n,i)=>{const r=[{x:e.x,y:e.y}],a=20;if(!n&&!i){const u=(e.x+t.x)/2;return r.push({x:u,y:e.y}),r.push({x:u,y:t.y}),r.push({x:t.x,y:t.y}),bf(r)}const l=(u,f)=>f==="top"?{x:u.x,y:u.y-a}:f==="bottom"?{x:u.x,y:u.y+a}:f==="left"?{x:u.x-a,y:u.y}:f==="right"?{x:u.x+a,y:u.y}:u;let o=e;n&&(o=l(e,n),r.push(o));let c=t;i&&(c=l(t,i));const s=u=>u==="top"||u==="bottom",d=u=>u==="left"||u==="right";return s(i)?r.push({x:c.x,y:o.y}):d(i)?r.push({x:o.x,y:c.y}):s(n)?r.push({x:t.x,y:o.y}):d(n)?r.push({x:o.x,y:t.y}):Math.abs(t.y-e.y)>Math.abs(t.x-e.x)?r.push({x:o.x,y:t.y}):r.push({x:t.x,y:o.y}),i&&r.push(c),r.push({x:t.x,y:t.y}),bf(r)},bf=e=>{if(e.length<2)return e;const t=[e[0]];for(let n=1;n<e.length;n++){const i=t[t.length-1],r=e[n];if(!(Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1)){if(t.length>=2){const a=t[t.length-2];if(Math.abs(a.x-i.x)<.1&&Math.abs(i.x-r.x)<.1||Math.abs(a.y-i.y)<.1&&Math.abs(i.y-r.y)<.1){t[t.length-1]=r;continue}}t.push(r)}}return t},gS=(e,t,n,i,r,a,l)=>{const s=n.filter(E=>{if(E.type==="line"||E.type==="arrow"||E.type==="text")return!1;const I=Math.min(e.x,t.x)-100,q=Math.max(e.x,t.x)+100,R=Math.min(e.y,t.y)-100,P=Math.max(e.y,t.y)+100;return!(E.x>q||E.x+E.width<I||E.y>P||E.y+E.height<R)});if(s.length===0)return gu(e,t,a,l);const d=new Set([e.x,t.x]),u=new Set([e.y,t.y]);s.forEach(E=>{const I=E.x-15,q=E.x+E.width+15,R=E.y-15,P=E.y+E.height+15;d.add(I),d.add(q),u.add(R),u.add(P),d.add(E.x+E.width/2),u.add(E.y+E.height/2)});const f=(E,I)=>{I&&(I==="top"&&(d.add(E.x),u.add(E.y-20)),I==="bottom"&&(d.add(E.x),u.add(E.y+20)),I==="left"&&(d.add(E.x-20),u.add(E.y)),I==="right"&&(d.add(E.x+20),u.add(E.y)))};f(e,a),f(t,l);const h=Array.from(d).sort((E,I)=>E-I),g=Array.from(u).sort((E,I)=>E-I),p=h.findIndex(E=>Math.abs(E-e.x)<.1),y=g.findIndex(E=>Math.abs(E-e.y)<.1),A=h.findIndex(E=>Math.abs(E-t.x)<.1),v=g.findIndex(E=>Math.abs(E-t.y)<.1);if(p===-1||y===-1||A===-1||v===-1)return gu(e,t,a,l);const x=[{gx:p,gy:y,g:0,h:Math.abs(e.x-t.x)+Math.abs(e.y-t.y),parent:null,dir:null}],C=new Set,_=(E,I,q)=>s.some(R=>R.id===q?!1:E>R.x+1&&E<R.x+R.width-1&&I>R.y+1&&I<R.y+R.height-1),F=(E,I,q,R)=>{const P=(E+q)/2,D=(I+R)/2;return s.some(k=>{const ce=k.id===i?.id||k.id===r?.id?3:1;return P>k.x+ce&&P<k.x+k.width-ce&&D>k.y+ce&&D<k.y+k.height-ce})};let O=0;for(;x.length>0&&O<800;){O++,x.sort((q,R)=>q.g+q.h-(R.g+R.h));const E=x.shift();if(E.gx===A&&E.gy===v){const q=[];let R=E;for(;R;)q.push({x:h[R.gx],y:g[R.gy]}),R=R.parent;return bf(q.reverse())}C.add(`${E.gx},${E.gy}`);const I=[{dx:-1,dy:0,dir:"h",name:"left"},{dx:1,dy:0,dir:"h",name:"right"},{dx:0,dy:-1,dir:"v",name:"top"},{dx:0,dy:1,dir:"v",name:"bottom"}];for(const q of I){const R=E.gx+q.dx,P=E.gy+q.dy;if(R<0||R>=h.length||P<0||P>=g.length||C.has(`${R},${P}`))continue;const D=H=>["top","bottom","left","right"].includes(H||"");if(E.gx===p&&E.gy===y&&D(a)&&q.name!==a)continue;if(R===A&&P===v&&D(l)){const H={top:"bottom",bottom:"top",left:"right",right:"left"}[l];if(q.name!==H)continue}const k=h[E.gx],U=g[E.gy],ce=h[R],Q=g[P];if(F(k,U,ce,Q))continue;const ae=Math.abs(ce-k)+Math.abs(Q-U),ie=E.dir&&E.dir!==q.dir?100:0,Se=_(ce,Q)?500:0,ne=E.g+ae+ie+Se,N=x.find(H=>H.gx===R&&H.gy===P);N?ne<N.g&&(N.g=ne,N.parent=E,N.dir=q.dir):x.push({gx:R,gy:P,g:ne,h:Math.abs(ce-t.x)+Math.abs(Q-t.y),parent:E,dir:q.dir})}}return gu(e,t,a,l)};var AS=Ne("<div class=context-menu>"),yS=Ne("<span class=menu-item-icon style=font-size:20px;line-height:1>"),mS=Ne("<span class=menu-item-shortcut>"),vS=Ne("<span class=menu-item-arrow>"),bS=Ne("<button><span class=menu-item-check>"),wS=Ne("<div class=menu-item-wrapper style=position:relative>"),xS=Ne("<div class=context-menu-separator>"),kS=Ne("<span class=menu-item-label>");const kp=e=>{let t;const[n,i]=Pt({x:e.x,y:e.y}),[r,a]=Pt(null);qi(()=>{if(!e.parent){if(t){const d=t.getBoundingClientRect(),u=window.innerWidth,f=window.innerHeight;let h=e.x,g=e.y;e.x+d.width>u&&(h=u-d.width-10),e.y+d.height>f&&(g=f-d.height-10),i({x:h,y:g})}const c=d=>{d.target.closest(".context-menu")||e.onClose()},s=d=>{d.key==="Escape"&&e.onClose()};document.addEventListener("mousedown",c),document.addEventListener("keydown",s),jn(()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",s)})}});const l=(c,s)=>{c.disabled||c.separator||(c.submenu?a(r()===s?null:s):(c.onClick?.(),e.onClose()))},o=c=>{e.items[c].submenu?a(c):a(null)};return(()=>{var c=AS(),s=t;return typeof s=="function"?Rn(s,c):t=c,ee(c,$(rr,{get each(){return e.items},children:(d,u)=>(()=>{var f=wS();return f.addEventListener("mouseenter",()=>o(u())),ee(f,$(st,{get when(){return!d.separator},get fallback(){return xS()},get children(){return[(()=>{var h=bS(),g=h.firstChild;return h.$$click=()=>l(d,u()),ee(g,()=>d.checked?"":""),ee(h,$(st,{get when(){return d.icon},get fallback(){return(()=>{var p=kS();return ee(p,()=>d.label),p})()},get children(){var p=yS();return ee(p,()=>d.icon),p}}),null),ee(h,$(st,{get when(){return d.shortcut},get children(){var p=mS();return ee(p,()=>d.shortcut),p}}),null),ee(h,$(st,{get when(){return d.submenu},get children(){return vS()}}),null),We(p=>{var y=`context-menu-item ${d.disabled?"disabled":""} ${r()===u()?"active":""}`,A=d.disabled,v=d.tooltip||d.label;return y!==p.e&&hn(h,p.e=y),A!==p.t&&(h.disabled=p.t=A),v!==p.a&&Lt(h,"title",p.a=v),p},{e:void 0,t:void 0,a:void 0}),h})(),$(st,{get when(){return Wn(()=>!!d.submenu)()&&r()===u()},get children(){return $(kp,{get x(){const h=t?.querySelector(`.menu-item-wrapper:nth-child(${u()+1}) button`)?.getBoundingClientRect();return h?h.right:0},get y(){const h=t?.querySelector(`.menu-item-wrapper:nth-child(${u()+1}) button`)?.getBoundingClientRect();return h?h.top:0},get items(){return d.submenu},get onClose(){return e.onClose},parent:!1,get gridColumns(){return d.gridColumns}})}})]}})),f})()})),We(d=>{var u=e.parent?"100%":`${n().x}px`,f=e.parent?"0":`${n().y}px`,h=e.parent?"absolute":"fixed",g=e.parent?"-4px":"0",p=e.gridColumns?"grid":"block",y=e.gridColumns?`repeat(${e.gridColumns}, 1fr)`:void 0,A=e.gridColumns?"4px":void 0,v=e.gridColumns?"8px":void 0;return u!==d.e&&sn(c,"left",d.e=u),f!==d.t&&sn(c,"top",d.t=f),h!==d.a&&sn(c,"position",d.a=h),g!==d.o&&sn(c,"margin-left",d.o=g),p!==d.i&&sn(c,"display",d.i=p),y!==d.n&&sn(c,"grid-template-columns",d.n=y),A!==d.s&&sn(c,"gap",d.s=A),v!==d.h&&sn(c,"padding",d.h=v),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),c})()};Cn(["click"]);const O0=(e,t)=>Math.round(e/t)*t,Au=(e,t,n)=>({x:O0(e,n),y:O0(t,n)}),yu=new Map,Fc=new Set;let wf=null;const SS=e=>{wf=e},CS=e=>{if(yu.has(e))return yu.get(e);if(!Fc.has(e)){Fc.add(e);const t=new Image;t.src=e,t.onload=()=>{yu.set(e,t),Fc.delete(e),wf&&wf()},t.onerror=()=>{Fc.delete(e)}}return null},LS=(e,t,n,i,r)=>{const a=t.filter(C=>e.includes(C.id));if(a.length===0)return{dx:n,dy:i,guides:[]};const l=Math.min(...a.map(C=>C.x))+n,o=Math.max(...a.map(C=>C.x+C.width))+n,c=Math.min(...a.map(C=>C.y))+i,s=Math.max(...a.map(C=>C.y+C.height))+i,d=(l+o)/2,u=(c+s)/2,f=[l,d,o],h=[c,u,s],g=[];let p=0,y=0,A=r+1,v=r+1;const x=t.filter(C=>!e.includes(C.id)&&C.layerId===a[0].layerId);for(const C of x){const _=C.x,F=C.x+C.width,O=(_+F)/2,E=[_,O,F],I=C.y,q=C.y+C.height,R=(I+q)/2,P=[I,R,q];for(const D of f)for(const k of E){const U=Math.abs(D-k);U<A&&(A=U,p=k-D)}for(const D of h)for(const k of P){const U=Math.abs(D-k);U<v&&(v=U,y=k-D)}}if(A<=r)for(const C of x){const _=C.x,F=C.x+C.width,O=(_+F)/2,E=[_,O,F];for(const I of f)for(const q of E)Math.abs(I+p-q)<.1&&g.push({type:"vertical",coordinate:q,elementIds:[C.id]})}if(v<=r)for(const C of x){const _=C.y,F=C.y+C.height,O=(_+F)/2,E=[_,O,F];for(const I of h)for(const q of E)Math.abs(I+y-q)<.1&&g.push({type:"horizontal",coordinate:q,elementIds:[C.id]})}return{dx:n+(A<=r?p:0),dy:i+(v<=r?y:0),guides:g}},PS=(e,t,n,i,r)=>{const a=t.filter(v=>e.includes(v.id));if(a.length===0)return{dx:n,dy:i,guides:[]};let l={minX:Math.min(...a.map(v=>v.x))+n,maxX:Math.max(...a.map(v=>v.x+v.width))+n,minY:Math.min(...a.map(v=>v.y))+i,maxY:Math.max(...a.map(v=>v.y+v.height))+i,centerX:0,centerY:0};l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2;const o=t.filter(v=>!e.includes(v.id)&&v.layerId===a[0].layerId).map(v=>({...v,minX:v.x,maxX:v.x+v.width,minY:v.y,maxY:v.y+v.height,centerX:v.x+v.width/2,centerY:v.y+v.height/2}));if(o.length<2)return{dx:n,dy:i,guides:[]};let c=0,s=0,d=r+1,u=r+1;const f=[],h=(v,x)=>Math.max(0,Math.min(v.maxY,x.maxY)-Math.max(v.minY,x.minY))>0;for(let v=0;v<o.length;v++){const x=o[v];if(h(l,x))for(let C=v+1;C<o.length;C++){const _=o[C];if(!h(l,_)||!h(x,_))continue;const F=[{id:"active",...l},x,_];F.sort((D,k)=>D.minX-k.minX);const[O,E,I]=F,q=E.minX-O.maxX,R=I.minX-E.maxX;let P=0;O.id==="active"?P=E.minX-R-O.maxX:E.id==="active"?P=(O.maxX+I.minX)/2-E.centerX:I.id==="active"&&(P=E.maxX+q-I.minX),Math.abs(P)<d&&(d=Math.abs(P),c=P),f.push({type:"gap",orientation:"horizontal",gap:(q+R)/2,start:O.maxX,variableCoordinate:(O.centerY+E.centerY+I.centerY)/3,elements:[O.id,E.id,I.id],segments:[{from:O.maxX,to:E.minX},{from:E.maxX,to:I.minX}],_correction:P})}}const g=(v,x)=>Math.max(0,Math.min(v.maxX,x.maxX)-Math.max(v.minX,x.minX))>0;for(let v=0;v<o.length;v++){const x=o[v];if(g(l,x))for(let C=v+1;C<o.length;C++){const _=o[C];if(!g(l,_)||!g(x,_))continue;const F=[{id:"active",...l},x,_];F.sort((D,k)=>D.minY-k.minY);const[O,E,I]=F,q=E.minY-O.maxY,R=I.minY-E.maxY;let P=0;O.id==="active"?P=E.minY-R-O.maxY:E.id==="active"?P=(O.maxY+I.minY)/2-E.centerY:I.id==="active"&&(P=E.maxY+q-I.minY),Math.abs(P)<u&&(u=Math.abs(P),s=P),f.push({type:"gap",orientation:"vertical",gap:(q+R)/2,start:O.maxY,variableCoordinate:(O.centerX+E.centerX+I.centerX)/3,elements:[O.id,E.id,I.id],segments:[{from:O.maxY,to:E.minY},{from:E.maxY,to:I.minY}],_correction:P})}}const p=d<=r?c:0,y=u<=r?s:0,A=f.filter(v=>v.orientation==="horizontal"?p!==0&&Math.abs(v._correction-p)<.1:y!==0&&Math.abs(v._correction-y)<.1);return A.forEach(v=>delete v._correction),{dx:n+p,dy:i+y,guides:A}};function mu(e,t,n){if(e&&e.length){const[i,r]=t,a=Math.PI/180*n,l=Math.cos(a),o=Math.sin(a);for(const c of e){const[s,d]=c;c[0]=(s-i)*l-(d-r)*o+i,c[1]=(s-i)*o+(d-r)*l+r}}}function MS(e,t){return e[0]===t[0]&&e[1]===t[1]}function _S(e,t,n,i=1){const r=n,a=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(r)for(const s of l)mu(s,o,r);const c=(function(s,d,u){const f=[];for(const v of s){const x=[...v];MS(x[0],x[x.length-1])||x.push([x[0][0],x[0][1]]),x.length>2&&f.push(x)}const h=[];d=Math.max(d,.1);const g=[];for(const v of f)for(let x=0;x<v.length-1;x++){const C=v[x],_=v[x+1];if(C[1]!==_[1]){const F=Math.min(C[1],_[1]);g.push({ymin:F,ymax:Math.max(C[1],_[1]),x:F===C[1]?C[0]:_[0],islope:(_[0]-C[0])/(_[1]-C[1])})}}if(g.sort(((v,x)=>v.ymin<x.ymin?-1:v.ymin>x.ymin?1:v.x<x.x?-1:v.x>x.x?1:v.ymax===x.ymax?0:(v.ymax-x.ymax)/Math.abs(v.ymax-x.ymax))),!g.length)return h;let p=[],y=g[0].ymin,A=0;for(;p.length||g.length;){if(g.length){let v=-1;for(let x=0;x<g.length&&!(g[x].ymin>y);x++)v=x;g.splice(0,v+1).forEach((x=>{p.push({s:y,edge:x})}))}if(p=p.filter((v=>!(v.edge.ymax<=y))),p.sort(((v,x)=>v.edge.x===x.edge.x?0:(v.edge.x-x.edge.x)/Math.abs(v.edge.x-x.edge.x))),(u!==1||A%d==0)&&p.length>1)for(let v=0;v<p.length;v+=2){const x=v+1;if(x>=p.length)break;const C=p[v].edge,_=p[x].edge;h.push([[Math.round(C.x),y],[Math.round(_.x),y]])}y+=u,p.forEach((v=>{v.edge.x=v.edge.x+u*v.edge.islope})),A++}return h})(l,a,i);if(r){for(const s of l)mu(s,o,-r);(function(s,d,u){const f=[];s.forEach((h=>f.push(...h))),mu(f,d,u)})(c,o,-r)}return c}function ec(e,t){var n;const i=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.round(Math.max(r,.1));let a=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(a=r),_S(e,r,i,a||1)}let Sp=class{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=ec(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const r of t)i.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],n));return i}};function Ch(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}let NS=class extends Sp{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);const r=ec(t,Object.assign({},n,{hachureGap:i})),a=Math.PI/180*n.hachureAngle,l=[],o=.5*i*Math.cos(a),c=.5*i*Math.sin(a);for(const[s,d]of r)Ch([s,d])&&l.push([[s[0]-o,s[1]+c],[...d]],[[s[0]+o,s[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}};class TS extends Sp{fillPolygons(t,n){const i=this._fillPolygons(t,n),r=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),a=this._fillPolygons(t,r);return i.ops=i.ops.concat(a.ops),i}}let IS=class{constructor(t){this.helper=t}fillPolygons(t,n){const i=ec(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const l=r/4;for(const o of t){const c=Ch(o),s=c/r,d=Math.ceil(s)-1,u=c-d*r,f=(o[0][0]+o[1][0])/2-r/4,h=Math.min(o[0][1],o[1][1]);for(let g=0;g<d;g++){const p=h+u+g*r,y=f-l+2*Math.random()*l,A=p-l+2*Math.random()*l,v=this.helper.ellipse(y,A,a,a,n);i.push(...v.ops)}}return{type:"fillSketch",ops:i}}},BS=class{constructor(t){this.helper=t}fillPolygons(t,n){const i=ec(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,r=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,a=[];return t.forEach((l=>{const o=Ch(l),c=Math.floor(o/(i+r)),s=(o+r-c*(i+r))/2;let d=l[0],u=l[1];d[0]>u[0]&&(d=l[1],u=l[0]);const f=Math.atan((u[1]-d[1])/(u[0]-d[0]));for(let h=0;h<c;h++){const g=h*(i+r),p=g+i,y=[d[0]+g*Math.cos(f)+s*Math.cos(f),d[1]+g*Math.sin(f)+s*Math.sin(f)],A=[d[0]+p*Math.cos(f)+s*Math.cos(f),d[1]+p*Math.sin(f)+s*Math.sin(f)];a.push(...this.helper.doubleLineOps(y[0],y[1],A[0],A[1],n))}})),a}},DS=class{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,r=n.zigzagOffset<0?i:n.zigzagOffset,a=ec(t,n=Object.assign({},n,{hachureGap:i+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,n)}}zigzagLines(t,n,i){const r=[];return t.forEach((a=>{const l=Ch(a),o=Math.round(l/(2*n));let c=a[0],s=a[1];c[0]>s[0]&&(c=a[1],s=a[0]);const d=Math.atan((s[1]-c[1])/(s[0]-c[0]));for(let u=0;u<o;u++){const f=2*u*n,h=2*(u+1)*n,g=Math.sqrt(2*Math.pow(n,2)),p=[c[0]+f*Math.cos(d),c[1]+f*Math.sin(d)],y=[c[0]+h*Math.cos(d),c[1]+h*Math.sin(d)],A=[p[0]+g*Math.cos(d+Math.PI/4),p[1]+g*Math.sin(d+Math.PI/4)];r.push(...this.helper.doubleLineOps(p[0],p[1],A[0],A[1],i),...this.helper.doubleLineOps(A[0],A[1],y[0],y[1],i))}})),r}};const ri={};let ES=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const RS=0,vu=1,z0=2,Oc={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function bu(e,t){return e.type===t}function Cp(e){const t=[],n=(function(l){const o=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:RS,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:vu,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return o[o.length]={type:z0,text:""},o})(e);let i="BOD",r=0,a=n[r];for(;!bu(a,z0);){let l=0;const o=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return Cp("M0,0"+e);r++,l=Oc[a.text],i=a.text}else bu(a,vu)?l=Oc[i]:(r++,l=Oc[a.text],i=a.text);if(!(r+l<n.length))throw new Error("Path data ended short");for(let c=r;c<r+l;c++){const s=n[c];if(!bu(s,vu))throw new Error("Param not a number: "+i+","+s.text);o[o.length]=+s.text}if(typeof Oc[i]!="number")throw new Error("Bad segment: "+i);{const c={key:i,data:o};t.push(c),r+=l,a=n[r],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function u2(e){let t=0,n=0,i=0,r=0;const a=[];for(const{key:l,data:o}of e)switch(l){case"M":a.push({key:"M",data:[...o]}),[t,n]=o,[i,r]=o;break;case"m":t+=o[0],n+=o[1],a.push({key:"M",data:[t,n]}),i=t,r=n;break;case"L":a.push({key:"L",data:[...o]}),[t,n]=o;break;case"l":t+=o[0],n+=o[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],n=o[5];break;case"c":{const c=o.map(((s,d)=>d%2?s+n:s+t));a.push({key:"C",data:c}),t=c[4],n=c[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],n=o[3];break;case"q":{const c=o.map(((s,d)=>d%2?s+n:s+t));a.push({key:"Q",data:c}),t=c[2],n=c[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],n=o[6];break;case"a":t+=o[5],n+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,n]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],n=o[3];break;case"s":{const c=o.map(((s,d)=>d%2?s+n:s+t));a.push({key:"S",data:c}),t=c[2],n=c[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],n=o[1];break;case"t":t+=o[0],n+=o[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=i,n=r}return a}function f2(e){const t=[];let n="",i=0,r=0,a=0,l=0,o=0,c=0;for(const{key:s,data:d}of e){switch(s){case"M":t.push({key:"M",data:[...d]}),[i,r]=d,[a,l]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],r=d[5],o=d[2],c=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,r]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,r]});break;case"V":r=d[0],t.push({key:"L",data:[i,r]});break;case"S":{let u=0,f=0;n==="C"||n==="S"?(u=i+(i-o),f=r+(r-c)):(u=i,f=r),t.push({key:"C",data:[u,f,...d]}),o=d[0],c=d[1],i=d[2],r=d[3];break}case"T":{const[u,f]=d;let h=0,g=0;n==="Q"||n==="T"?(h=i+(i-o),g=r+(r-c)):(h=i,g=r);const p=i+2*(h-i)/3,y=r+2*(g-r)/3,A=u+2*(h-u)/3,v=f+2*(g-f)/3;t.push({key:"C",data:[p,y,A,v,u,f]}),o=h,c=g,i=u,r=f;break}case"Q":{const[u,f,h,g]=d,p=i+2*(u-i)/3,y=r+2*(f-r)/3,A=h+2*(u-h)/3,v=g+2*(f-g)/3;t.push({key:"C",data:[p,y,A,v,h,g]}),o=u,c=f,i=h,r=g;break}case"A":{const u=Math.abs(d[0]),f=Math.abs(d[1]),h=d[2],g=d[3],p=d[4],y=d[5],A=d[6];u===0||f===0?(t.push({key:"C",data:[i,r,y,A,y,A]}),i=y,r=A):(i!==y||r!==A)&&(p2(i,r,y,A,u,f,h,g,p).forEach((function(v){t.push({key:"C",data:v})})),i=y,r=A);break}case"Z":t.push({key:"Z",data:[]}),i=a,r=l}n=s}return t}function cl(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function p2(e,t,n,i,r,a,l,o,c,s){const d=(u=l,Math.PI*u/180);var u;let f=[],h=0,g=0,p=0,y=0;if(s)[h,g,p,y]=s;else{[e,t]=cl(e,t,-d),[n,i]=cl(n,i,-d);const D=(e-n)/2,k=(t-i)/2;let U=D*D/(r*r)+k*k/(a*a);U>1&&(U=Math.sqrt(U),r*=U,a*=U);const ce=r*r,Q=a*a,ae=ce*Q-ce*k*k-Q*D*D,ie=ce*k*k+Q*D*D,Se=(o===c?-1:1)*Math.sqrt(Math.abs(ae/ie));p=Se*r*k/a+(e+n)/2,y=Se*-a*D/r+(t+i)/2,h=Math.asin(parseFloat(((t-y)/a).toFixed(9))),g=Math.asin(parseFloat(((i-y)/a).toFixed(9))),e<p&&(h=Math.PI-h),n<p&&(g=Math.PI-g),h<0&&(h=2*Math.PI+h),g<0&&(g=2*Math.PI+g),c&&h>g&&(h-=2*Math.PI),!c&&g>h&&(g-=2*Math.PI)}let A=g-h;if(Math.abs(A)>120*Math.PI/180){const D=g,k=n,U=i;g=c&&g>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,f=p2(n=p+r*Math.cos(g),i=y+a*Math.sin(g),k,U,r,a,l,0,c,[g,D,p,y])}A=g-h;const v=Math.cos(h),x=Math.sin(h),C=Math.cos(g),_=Math.sin(g),F=Math.tan(A/4),O=4/3*r*F,E=4/3*a*F,I=[e,t],q=[e+O*x,t-E*v],R=[n+O*_,i-E*C],P=[n,i];if(q[0]=2*I[0]-q[0],q[1]=2*I[1]-q[1],s)return[q,R,P].concat(f);{f=[q,R,P].concat(f);const D=[];for(let k=0;k<f.length;k+=3){const U=cl(f[k][0],f[k][1],d),ce=cl(f[k+1][0],f[k+1][1],d),Q=cl(f[k+2][0],f[k+2][1],d);D.push([U[0],U[1],ce[0],ce[1],Q[0],Q[1]])}return D}}const $S={randOffset:function(e,t){return Jt(e,t)},randOffsetWithRange:function(e,t,n){return qd(e,t,n)},ellipse:function(e,t,n,i,r){const a=A2(n,i,r);return xf(e,t,r,a).opset},doubleLineOps:function(e,t,n,i,r){return io(e,t,n,i,r,!0)}};function g2(e,t,n,i,r){return{type:"path",ops:io(e,t,n,i,r)}}function fd(e,t,n){const i=(e||[]).length;if(i>2){const r=[];for(let a=0;a<i-1;a++)r.push(...io(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n));return t&&r.push(...io(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:r}}return i===2?g2(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function FS(e,t,n,i,r){return(function(a,l){return fd(a,!0,l)})([[e,t],[e+n,t],[e+n,t+i],[e,t+i]],r)}function U0(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,i=zc(n[0],1*(1+.2*t.roughness),t),r=t.disableMultiStroke?[]:zc(n[0],1.5*(1+.22*t.roughness),q0(t));for(let a=1;a<n.length;a++){const l=n[a];if(l.length){const o=zc(l,1*(1+.2*t.roughness),t),c=t.disableMultiStroke?[]:zc(l,1.5*(1+.22*t.roughness),q0(t));for(const s of o)s.op!=="move"&&i.push(s);for(const s of c)s.op!=="move"&&r.push(s)}}return{type:"path",ops:i.concat(r)}}return{type:"path",ops:[]}}function A2(e,t,n){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/r;let l=Math.abs(e/2),o=Math.abs(t/2);const c=1-n.curveFitting;return l+=Jt(l*c,n),o+=Jt(o*c,n),{increment:a,rx:l,ry:o}}function xf(e,t,n,i){const[r,a]=X0(i.increment,e,t,i.rx,i.ry,1,i.increment*qd(.1,qd(.4,1,n),n),n);let l=Xd(r,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=X0(i.increment,e,t,i.rx,i.ry,1.5,0,n),c=Xd(o,null,n);l=l.concat(c)}return{estimatedPoints:a,opset:{type:"path",ops:l}}}function W0(e,t,n,i,r,a,l,o,c){const s=e,d=t;let u=Math.abs(n/2),f=Math.abs(i/2);u+=Jt(.01*u,c),f+=Jt(.01*f,c);let h=r,g=a;for(;h<0;)h+=2*Math.PI,g+=2*Math.PI;g-h>2*Math.PI&&(h=0,g=2*Math.PI);const p=2*Math.PI/c.curveStepCount,y=Math.min(p/2,(g-h)/2),A=G0(y,s,d,u,f,h,g,1,c);if(!c.disableMultiStroke){const v=G0(y,s,d,u,f,h,g,1.5,c);A.push(...v)}return l&&(o?A.push(...io(s,d,s+u*Math.cos(h),d+f*Math.sin(h),c),...io(s,d,s+u*Math.cos(g),d+f*Math.sin(g),c)):A.push({op:"lineTo",data:[s,d]},{op:"lineTo",data:[s+u*Math.cos(h),d+f*Math.sin(h)]})),{type:"path",ops:A}}function j0(e,t){const n=f2(u2(Cp(e))),i=[];let r=[0,0],a=[0,0];for(const{key:l,data:o}of n)switch(l){case"M":a=[o[0],o[1]],r=[o[0],o[1]];break;case"L":i.push(...io(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{const[c,s,d,u,f,h]=o;i.push(...OS(c,s,d,u,f,h,a,t)),a=[f,h];break}case"Z":i.push(...io(a[0],a[1],r[0],r[1],t)),a=[r[0],r[1]]}return{type:"path",ops:i}}function wu(e,t){const n=[];for(const i of e)if(i.length){const r=t.maxRandomnessOffset||0,a=i.length;if(a>2){n.push({op:"move",data:[i[0][0]+Jt(r,t),i[0][1]+Jt(r,t)]});for(let l=1;l<a;l++)n.push({op:"lineTo",data:[i[l][0]+Jt(r,t),i[l][1]+Jt(r,t)]})}}return{type:"fillPath",ops:n}}function as(e,t){return(function(n,i){let r=n.fillStyle||"hachure";if(!ri[r])switch(r){case"zigzag":ri[r]||(ri[r]=new NS(i));break;case"cross-hatch":ri[r]||(ri[r]=new TS(i));break;case"dots":ri[r]||(ri[r]=new IS(i));break;case"dashed":ri[r]||(ri[r]=new BS(i));break;case"zigzag-line":ri[r]||(ri[r]=new DS(i));break;default:r="hachure",ri[r]||(ri[r]=new Sp(i))}return ri[r]})(t,$S).fillPolygons(e,t)}function q0(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function y2(e){return e.randomizer||(e.randomizer=new ES(e.seed||0)),e.randomizer.next()}function qd(e,t,n,i=1){return n.roughness*i*(y2(n)*(t-e)+e)}function Jt(e,t,n=1){return qd(-e,e,t,n)}function io(e,t,n,i,r,a=!1){const l=a?r.disableMultiStrokeFill:r.disableMultiStroke,o=kf(e,t,n,i,r,!0,!1);if(l)return o;const c=kf(e,t,n,i,r,!0,!0);return o.concat(c)}function kf(e,t,n,i,r,a,l){const o=Math.pow(e-n,2)+Math.pow(t-i,2),c=Math.sqrt(o);let s=1;s=c<200?1:c>500?.4:-.0016668*c+1.233334;let d=r.maxRandomnessOffset||0;d*d*100>o&&(d=c/10);const u=d/2,f=.2+.2*y2(r);let h=r.bowing*r.maxRandomnessOffset*(i-t)/200,g=r.bowing*r.maxRandomnessOffset*(e-n)/200;h=Jt(h,r,s),g=Jt(g,r,s);const p=[],y=()=>Jt(u,r,s),A=()=>Jt(d,r,s),v=r.preserveVertices;return l?p.push({op:"move",data:[e+(v?0:y()),t+(v?0:y())]}):p.push({op:"move",data:[e+(v?0:Jt(d,r,s)),t+(v?0:Jt(d,r,s))]}),l?p.push({op:"bcurveTo",data:[h+e+(n-e)*f+y(),g+t+(i-t)*f+y(),h+e+2*(n-e)*f+y(),g+t+2*(i-t)*f+y(),n+(v?0:y()),i+(v?0:y())]}):p.push({op:"bcurveTo",data:[h+e+(n-e)*f+A(),g+t+(i-t)*f+A(),h+e+2*(n-e)*f+A(),g+t+2*(i-t)*f+A(),n+(v?0:A()),i+(v?0:A())]}),p}function zc(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+Jt(t,n),e[0][1]+Jt(t,n)]),i.push([e[0][0]+Jt(t,n),e[0][1]+Jt(t,n)]);for(let r=1;r<e.length;r++)i.push([e[r][0]+Jt(t,n),e[r][1]+Jt(t,n)]),r===e.length-1&&i.push([e[r][0]+Jt(t,n),e[r][1]+Jt(t,n)]);return Xd(i,null,n)}function Xd(e,t,n){const i=e.length,r=[];if(i>3){const a=[],l=1-n.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<i;o++){const c=e[o];a[0]=[c[0],c[1]],a[1]=[c[0]+(l*e[o+1][0]-l*e[o-1][0])/6,c[1]+(l*e[o+1][1]-l*e[o-1][1])/6],a[2]=[e[o+1][0]+(l*e[o][0]-l*e[o+2][0])/6,e[o+1][1]+(l*e[o][1]-l*e[o+2][1])/6],a[3]=[e[o+1][0],e[o+1][1]],r.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else i===3?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&r.push(...kf(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return r}function X0(e,t,n,i,r,a,l,o){const c=[],s=[];if(o.roughness===0){e/=4,s.push([t+i*Math.cos(-e),n+r*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const u=[t+i*Math.cos(d),n+r*Math.sin(d)];c.push(u),s.push(u)}s.push([t+i*Math.cos(0),n+r*Math.sin(0)]),s.push([t+i*Math.cos(e),n+r*Math.sin(e)])}else{const d=Jt(.5,o)-Math.PI/2;s.push([Jt(a,o)+t+.9*i*Math.cos(d-e),Jt(a,o)+n+.9*r*Math.sin(d-e)]);const u=2*Math.PI+d-.01;for(let f=d;f<u;f+=e){const h=[Jt(a,o)+t+i*Math.cos(f),Jt(a,o)+n+r*Math.sin(f)];c.push(h),s.push(h)}s.push([Jt(a,o)+t+i*Math.cos(d+2*Math.PI+.5*l),Jt(a,o)+n+r*Math.sin(d+2*Math.PI+.5*l)]),s.push([Jt(a,o)+t+.98*i*Math.cos(d+l),Jt(a,o)+n+.98*r*Math.sin(d+l)]),s.push([Jt(a,o)+t+.9*i*Math.cos(d+.5*l),Jt(a,o)+n+.9*r*Math.sin(d+.5*l)])}return[s,c]}function G0(e,t,n,i,r,a,l,o,c){const s=a+Jt(.1,c),d=[];d.push([Jt(o,c)+t+.9*i*Math.cos(s-e),Jt(o,c)+n+.9*r*Math.sin(s-e)]);for(let u=s;u<=l;u+=e)d.push([Jt(o,c)+t+i*Math.cos(u),Jt(o,c)+n+r*Math.sin(u)]);return d.push([t+i*Math.cos(l),n+r*Math.sin(l)]),d.push([t+i*Math.cos(l),n+r*Math.sin(l)]),Xd(d,null,c)}function OS(e,t,n,i,r,a,l,o){const c=[],s=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let d=[0,0];const u=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let h=0;h<u;h++)h===0?c.push({op:"move",data:[l[0],l[1]]}):c.push({op:"move",data:[l[0]+(f?0:Jt(s[0],o)),l[1]+(f?0:Jt(s[0],o))]}),d=f?[r,a]:[r+Jt(s[h],o),a+Jt(s[h],o)],c.push({op:"bcurveTo",data:[e+Jt(s[h],o),t+Jt(s[h],o),n+Jt(s[h],o),i+Jt(s[h],o),d[0],d[1]]});return c}function dl(e){return[...e]}function H0(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push(dl(e[0]),dl(e[1]),dl(e[2]),dl(e[2]));else{const r=[];r.push(e[0],e[0]);for(let o=1;o<e.length;o++)r.push(e[o]),o===e.length-1&&r.push(e[o]);const a=[],l=1-t;i.push(dl(r[0]));for(let o=1;o+2<r.length;o++){const c=r[o];a[0]=[c[0],c[1]],a[1]=[c[0]+(l*r[o+1][0]-l*r[o-1][0])/6,c[1]+(l*r[o+1][1]-l*r[o-1][1])/6],a[2]=[r[o+1][0]+(l*r[o][0]-l*r[o+2][0])/6,r[o+1][1]+(l*r[o][1]-l*r[o+2][1])/6],a[3]=[r[o+1][0],r[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function pd(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function zS(e,t,n){const i=pd(t,n);if(i===0)return pd(e,t);let r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return r=Math.max(0,Math.min(1,r)),pd(e,_o(t,n,r))}function _o(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Sf(e,t,n,i){const r=i||[];if((function(o,c){const s=o[c+0],d=o[c+1],u=o[c+2],f=o[c+3];let h=3*d[0]-2*s[0]-f[0];h*=h;let g=3*d[1]-2*s[1]-f[1];g*=g;let p=3*u[0]-2*f[0]-s[0];p*=p;let y=3*u[1]-2*f[1]-s[1];return y*=y,h<p&&(h=p),g<y&&(g=y),h+g})(e,t)<n){const o=e[t+0];r.length?(a=r[r.length-1],l=o,Math.sqrt(pd(a,l))>1&&r.push(o)):r.push(o),r.push(e[t+3])}else{const c=e[t+0],s=e[t+1],d=e[t+2],u=e[t+3],f=_o(c,s,.5),h=_o(s,d,.5),g=_o(d,u,.5),p=_o(f,h,.5),y=_o(h,g,.5),A=_o(p,y,.5);Sf([c,f,p,A],0,n,r),Sf([A,y,g,u],0,n,r)}var a,l;return r}function US(e,t){return Gd(e,0,e.length,t)}function Gd(e,t,n,i,r){const a=r||[],l=e[t],o=e[n-1];let c=0,s=1;for(let d=t+1;d<n-1;++d){const u=zS(e[d],l,o);u>c&&(c=u,s=d)}return Math.sqrt(c)>i?(Gd(e,t,s+1,i,a),Gd(e,s,n,i,a)):(a.length||a.push(l),a.push(o)),a}function xu(e,t=.15,n){const i=[],r=(e.length-1)/3;for(let a=0;a<r;a++)Sf(e,3*a,t,i);return n&&n>0?Gd(i,0,i.length,n):i}const yi="none";let Hd=class{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,r,a){const l=this._o(a);return this._d("line",[g2(t,n,i,r,l)],l)}rectangle(t,n,i,r,a){const l=this._o(a),o=[],c=FS(t,n,i,r,l);if(l.fill){const s=[[t,n],[t+i,n],[t+i,n+r],[t,n+r]];l.fillStyle==="solid"?o.push(wu([s],l)):o.push(as([s],l))}return l.stroke!==yi&&o.push(c),this._d("rectangle",o,l)}ellipse(t,n,i,r,a){const l=this._o(a),o=[],c=A2(i,r,l),s=xf(t,n,l,c);if(l.fill)if(l.fillStyle==="solid"){const d=xf(t,n,l,c).opset;d.type="fillPath",o.push(d)}else o.push(as([s.estimatedPoints],l));return l.stroke!==yi&&o.push(s.opset),this._d("ellipse",o,l)}circle(t,n,i,r){const a=this.ellipse(t,n,i,i,r);return a.shape="circle",a}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[fd(t,!1,i)],i)}arc(t,n,i,r,a,l,o=!1,c){const s=this._o(c),d=[],u=W0(t,n,i,r,a,l,o,!0,s);if(o&&s.fill)if(s.fillStyle==="solid"){const f=Object.assign({},s);f.disableMultiStroke=!0;const h=W0(t,n,i,r,a,l,!0,!1,f);h.type="fillPath",d.push(h)}else d.push((function(f,h,g,p,y,A,v){const x=f,C=h;let _=Math.abs(g/2),F=Math.abs(p/2);_+=Jt(.01*_,v),F+=Jt(.01*F,v);let O=y,E=A;for(;O<0;)O+=2*Math.PI,E+=2*Math.PI;E-O>2*Math.PI&&(O=0,E=2*Math.PI);const I=(E-O)/v.curveStepCount,q=[];for(let R=O;R<=E;R+=I)q.push([x+_*Math.cos(R),C+F*Math.sin(R)]);return q.push([x+_*Math.cos(E),C+F*Math.sin(E)]),q.push([x,C]),as([q],v)})(t,n,i,r,a,l,s));return s.stroke!==yi&&d.push(u),this._d("arc",d,s)}curve(t,n){const i=this._o(n),r=[],a=U0(t,i);if(i.fill&&i.fill!==yi)if(i.fillStyle==="solid"){const l=U0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],o=t;if(o.length){const c=typeof o[0][0]=="number"?[o]:o;for(const s of c)s.length<3?l.push(...s):s.length===3?l.push(...xu(H0([s[0],s[0],s[1],s[2]]),10,(1+i.roughness)/2)):l.push(...xu(H0(s),10,(1+i.roughness)/2))}l.length&&r.push(as([l],i))}return i.stroke!==yi&&r.push(a),this._d("curve",r,i)}polygon(t,n){const i=this._o(n),r=[],a=fd(t,!0,i);return i.fill&&(i.fillStyle==="solid"?r.push(wu([t],i)):r.push(as([t],i))),i.stroke!==yi&&r.push(a),this._d("polygon",r,i)}path(t,n){const i=this._o(n),r=[];if(!t)return this._d("path",r,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=i.fill&&i.fill!=="transparent"&&i.fill!==yi,l=i.stroke!==yi,o=!!(i.simplification&&i.simplification<1),c=(function(d,u,f){const h=f2(u2(Cp(d))),g=[];let p=[],y=[0,0],A=[];const v=()=>{A.length>=4&&p.push(...xu(A,u)),A=[]},x=()=>{v(),p.length&&(g.push(p),p=[])};for(const{key:_,data:F}of h)switch(_){case"M":x(),y=[F[0],F[1]],p.push(y);break;case"L":v(),p.push([F[0],F[1]]);break;case"C":if(!A.length){const O=p.length?p[p.length-1]:y;A.push([O[0],O[1]])}A.push([F[0],F[1]]),A.push([F[2],F[3]]),A.push([F[4],F[5]]);break;case"Z":v(),p.push([y[0],y[1]])}if(x(),!f)return g;const C=[];for(const _ of g){const F=US(_,f);F.length&&C.push(F)}return C})(t,1,o?4-4*(i.simplification||1):(1+i.roughness)/2),s=j0(t,i);if(a)if(i.fillStyle==="solid")if(c.length===1){const d=j0(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else r.push(wu(c,i));else r.push(as(c,i));return l&&(o?c.forEach((d=>{r.push(fd(d,!1,i))})):r.push(s)),this._d("path",r,i)}opsToPath(t,n){let i="";for(const r of t.ops){const a=typeof n=="number"&&n>=0?r.data.map((l=>+l.toFixed(n))):r.data;switch(r.op){case"move":i+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":i+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":i+=`L${a[0]} ${a[1]} `}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,r=[];for(const a of n){let l=null;switch(a.type){case"path":l={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:yi};break;case"fillPath":l={d:this.opsToPath(a),stroke:yi,strokeWidth:0,fill:i.fill||yi};break;case"fillSketch":l=this.fillSketch(a,i)}l&&r.push(l)}return r}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||yi,strokeWidth:i,fill:yi}}_mergedShape(t){return t.filter(((n,i)=>i===0||n.op!=="move"))}},WS=class{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Hd(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.ctx,a=t.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":r.save(),r.strokeStyle=i.stroke==="none"?"transparent":i.stroke,r.lineWidth=i.strokeWidth,i.strokeLineDash&&r.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(r.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(r,l,a),r.restore();break;case"fillPath":{r.save(),r.fillStyle=i.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,l,a,o),r.restore();break}case"fillSketch":this.fillSketch(r,l,i)}}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=r,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,r="nonzero"){t.beginPath();for(const a of n.ops){const l=typeof i=="number"&&i>=0?a.data.map((o=>+o.toFixed(i))):a.data;switch(a.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}n.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,r,a){const l=this.gen.line(t,n,i,r,a);return this.draw(l),l}rectangle(t,n,i,r,a){const l=this.gen.rectangle(t,n,i,r,a);return this.draw(l),l}ellipse(t,n,i,r,a){const l=this.gen.ellipse(t,n,i,r,a);return this.draw(l),l}circle(t,n,i,r){const a=this.gen.circle(t,n,i,r);return this.draw(a),a}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,r,a,l,o=!1,c){const s=this.gen.arc(t,n,i,r,a,l,o,c);return this.draw(s),s}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}};const Uc="http://www.w3.org/2000/svg";let jS=class{constructor(t,n){this.svg=t,this.gen=new Hd(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,a=r.createElementNS(Uc,"g"),l=t.options.fixedDecimalPlaceDigits;for(const o of n){let c=null;switch(o.type){case"path":c=r.createElementNS(Uc,"path"),c.setAttribute("d",this.opsToPath(o,l)),c.setAttribute("stroke",i.stroke),c.setAttribute("stroke-width",i.strokeWidth+""),c.setAttribute("fill","none"),i.strokeLineDash&&c.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":c=r.createElementNS(Uc,"path"),c.setAttribute("d",this.opsToPath(o,l)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(r,o,i)}c&&a.appendChild(c)}return a}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2);const a=t.createElementNS(Uc,"path");return a.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),a.setAttribute("stroke",i.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),i.fillLineDash&&a.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,r,a){const l=this.gen.line(t,n,i,r,a);return this.draw(l)}rectangle(t,n,i,r,a){const l=this.gen.rectangle(t,n,i,r,a);return this.draw(l)}ellipse(t,n,i,r,a){const l=this.gen.ellipse(t,n,i,r,a);return this.draw(l)}circle(t,n,i,r){const a=this.gen.circle(t,n,i,r);return this.draw(a)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,r,a,l,o=!1,c){const s=this.gen.arc(t,n,i,r,a,l,o,c);return this.draw(s)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}};var Y0={canvas:(e,t)=>new WS(e,t),svg:(e,t)=>new jS(e,t),generator:e=>new Hd(e),newSeed:()=>Hd.newSeed()},qS=Ne('<div class=minimap-container><div class=minimap-header><span class=minimap-title>Navigator</span><button class=minimap-close title="Close minimap (Alt+M)"></button></div><canvas width=200 height=150 class=minimap-canvas>');const XS=e=>{let t,n,i=!1;const r=200,a=150,l=10,o=()=>{if(w.elements.length===0)return{minX:0,minY:0,maxX:1e3,maxY:800,width:1e3,height:800};let g=1/0,p=1/0,y=-1/0,A=-1/0;w.elements.forEach(x=>{g=Math.min(g,x.x),y=Math.max(y,x.x+x.width),p=Math.min(p,x.y),A=Math.max(A,x.y+x.height)});const v=50;return g-=v,p-=v,y+=v,A+=v,{minX:g,minY:p,maxX:y,maxY:A,width:y-g,height:A-p}},c=g=>{const p=(r-l*2)/g.width,y=(a-l*2)/g.height;return Math.min(p,y)},s=g=>{if(!t)return;const p=t.getContext("2d");if(!p)return;const y=o(),A=c(y);p.clearRect(0,0,r,a);const v=w.theme==="dark";let x=w.canvasBackgroundColor;x||(x=v?"#121212":"#fafafa"),p.fillStyle=x,p.fillRect(0,0,r,a),p.save(),p.translate(l,l),p.scale(A,A),p.translate(-y.minX,-y.minY),w.elements.forEach(P=>{const D=w.layers.find(k=>k.id===P.layerId);D?.visible&&ro(g,p,P,w.theme==="dark",D?.opacity??1)}),p.restore();const C=-w.viewState.panX/w.viewState.scale,_=-w.viewState.panY/w.viewState.scale,F=e.canvasWidth/w.viewState.scale,O=e.canvasHeight/w.viewState.scale,E=(C-y.minX)*A+l,I=(_-y.minY)*A+l,q=F*A,R=O*A;p.save(),p.strokeStyle=w.theme==="dark"?"#60a5fa":"#3b82f6",p.lineWidth=2,p.fillStyle=w.theme==="dark"?"rgba(96, 165, 250, 0.1)":"rgba(59, 130, 246, 0.1)",p.fillRect(E,I,q,R),p.strokeRect(E,I,q,R),p.restore()},d=g=>{if(i)return;const p=t?.getBoundingClientRect();if(!p)return;const y=g.clientX-p.left,A=g.clientY-p.top,v=o(),x=c(v),C=(y-l)/x+v.minX,_=(A-l)/x+v.minY;Ir({panX:-C*w.viewState.scale+e.canvasWidth/2,panY:-_*w.viewState.scale+e.canvasHeight/2})},u=g=>{if(!t)return;const p=t.getBoundingClientRect(),y=g.clientX-p.left,A=g.clientY-p.top,v=o(),x=c(v),C=-w.viewState.panX/w.viewState.scale,_=-w.viewState.panY/w.viewState.scale,F=e.canvasWidth/w.viewState.scale,O=e.canvasHeight/w.viewState.scale,E=(C-v.minX)*x+l,I=(_-v.minY)*x+l,q=F*x,R=O*x;y>=E&&y<=E+q&&A>=I&&A<=I+R&&(i=!0,t.setPointerCapture(g.pointerId))},f=g=>{if(!i||!t)return;const p=t.getBoundingClientRect(),y=g.clientX-p.left,A=g.clientY-p.top,v=o(),x=c(v),C=(y-l)/x+v.minX,_=(A-l)/x+v.minY;Ir({panX:-C*w.viewState.scale+e.canvasWidth/2,panY:-_*w.viewState.scale+e.canvasHeight/2})},h=g=>{i&&t&&(t.releasePointerCapture(g.pointerId),i=!1)};return Dn(()=>{if(!t)return;const g=Y0.canvas(t);w.elements.forEach(A=>{if(A.points?.length,A.x,A.y,A.width,A.height,A.opacity,A.layerId,A.strokeColor,A.backgroundColor,A.renderStyle,A.points){const v=Jn(A.points);if(v.length>0){const x=v[v.length-1];x.x,x.y}}}),w.viewState.panX,w.viewState.panY,w.viewState.scale,w.theme,w.layers.forEach(A=>{A.visible,A.opacity});const y=requestAnimationFrame(()=>s(g));jn(()=>cancelAnimationFrame(y))}),qi(()=>{if(t&&(t.addEventListener("click",d),t.addEventListener("pointerdown",u),t.addEventListener("pointermove",f),t.addEventListener("pointerup",h),t.addEventListener("pointercancel",h)),jn(()=>{t&&(t.removeEventListener("click",d),t.removeEventListener("pointerdown",u),t.removeEventListener("pointermove",f),t.removeEventListener("pointerup",h),t.removeEventListener("pointercancel",h))}),t){const g=Y0.canvas(t);s(g)}}),(()=>{var g=qS(),p=g.firstChild,y=p.firstChild,A=y.nextSibling,v=p.nextSibling,x=n;typeof x=="function"?Rn(x,g):n=g,A.$$click=()=>Kl(!1),ee(A,$(Hr,{size:14}));var C=t;return typeof C=="function"?Rn(C,v):t=v,g})()};Cn(["click"]);const Lh=async()=>{if(w.selection.length===0)return;const t={type:"yappy-elements",elements:w.elements.filter(n=>w.selection.includes(n.id))};try{await navigator.clipboard.writeText(JSON.stringify(t))}catch(n){console.error("Failed to copy: ",n)}},Lp=async()=>{await Lh(),ea(w.selection)},Yd=async()=>{try{const e=await navigator.clipboard.readText();if(!e)return;const t=JSON.parse(e);if(t.type==="yappy-elements"&&Array.isArray(t.elements)){cn();const n=[],i=-w.viewState.panX/w.viewState.scale+window.innerWidth/2/w.viewState.scale,r=-w.viewState.panY/w.viewState.scale+window.innerHeight/2/w.viewState.scale;let a=1/0,l=1/0,o=-1/0,c=-1/0;t.elements.forEach(h=>{a=Math.min(a,h.x),l=Math.min(l,h.y),o=Math.max(o,h.x+h.width),c=Math.max(c,h.y+h.height)});const s=a+(o-a)/2,d=l+(c-l)/2,u=i-s,f=r-d;t.elements.forEach(h=>{const g=crypto.randomUUID(),p={...h,id:g,x:h.x+u,y:h.y+f,layerId:w.activeLayerId,groupIds:[]};xe("elements",y=>[...y,p]),n.push(g)}),xe("selection",n)}}catch(e){console.error("Failed to paste: ",e)}},V0=e=>{if(w.selection.length===0)return;cn();let t=1/0,n=-1/0;w.elements.forEach(r=>{w.selection.includes(r.id)&&(e==="horizontal"?(t=Math.min(t,r.x),n=Math.max(n,r.x+r.width)):(t=Math.min(t,r.y),n=Math.max(n,r.y+r.height)))});const i=t+(n-t)/2;w.selection.forEach(r=>{const a=w.elements.find(l=>l.id===r);if(a)if(e==="horizontal"){const o=a.x+a.width/2-i,c=i-o-a.width/2;if(a.points){const s=Jn(a.points);if(s.length>0){const d=s.map(u=>({x:a.width-u.x,y:u.y}));bt(r,{x:c,points:d,pointsEncoding:void 0,seed:a.seed+1},!1)}else(!a.points||a.points.length===0)&&bt(r,{x:c,seed:a.seed+1},!1)}else bt(r,{x:c,seed:a.seed+1},!1)}else{const o=a.y+a.height/2-i,c=i-o-a.height/2;if(a.points){const s=Jn(a.points);if(s.length>0){const d=s.map(u=>({x:u.x,y:a.height-u.y}));bt(r,{y:c,points:d,pointsEncoding:void 0,seed:a.seed+1},!1)}else bt(r,{y:c,seed:a.seed+1},!1)}else bt(r,{y:c,seed:a.seed+1},!1)}})},GS=e=>{w.selection.forEach(t=>{bt(t,{locked:e})})};let Cf=null;const Pp=()=>{if(w.selection.length!==1)return;const e=w.elements.find(t=>t.id===w.selection[0]);e&&(Cf={strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,strokeStyle:e.strokeStyle,roughness:e.roughness,opacity:e.opacity,fontFamily:e.fontFamily,fontSize:e.fontSize,textAlign:e.textAlign,roundness:e.roundness,gradientStart:e.gradientStart,gradientEnd:e.gradientEnd,gradientDirection:e.gradientDirection,gradientStops:e.gradientStops?JSON.parse(JSON.stringify(e.gradientStops)):void 0,gradientType:e.gradientType,gradientHandlePositions:e.gradientHandlePositions?JSON.parse(JSON.stringify(e.gradientHandlePositions)):void 0,shadowEnabled:e.shadowEnabled,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,shadowOffsetY:e.shadowOffsetY,drawInnerBorder:e.drawInnerBorder,innerBorderColor:e.innerBorderColor,innerBorderDistance:e.innerBorderDistance,strokeLineJoin:e.strokeLineJoin,fillDensity:e.fillDensity,renderStyle:e.renderStyle,flowAnimation:e.flowAnimation,flowSpeed:e.flowSpeed,flowStyle:e.flowStyle})},Mp=()=>{!Cf||w.selection.length===0||(cn(),w.selection.forEach(e=>{bt(e,Cf)}))};class HS{frameCount=0;lastReportTime=0;slowFrames=0;totalDrawTime=0;enabled;constructor(t=!0){this.enabled=t,this.lastReportTime=performance.now()}measureFrame(t,n,i){if(!this.enabled)return;this.frameCount++,this.totalDrawTime+=t,t>16.67&&this.slowFrames++;const r=performance.now();if(r-this.lastReportTime>=1e3){const a=r-this.lastReportTime,l=this.frameCount/a*1e3,o=this.totalDrawTime/this.frameCount,c=i!==void 0?` | ${i} visible`:"";console.log(`[Perf] ${l.toFixed(1)} FPS | ${o.toFixed(2)}ms avg | ${n} elements${c} | ${this.slowFrames} slow frames`),this.frameCount=0,this.slowFrames=0,this.totalDrawTime=0,this.lastReportTime=r}}setEnabled(t){this.enabled=t}}const YS=new HS(!1),Ph=e=>{const t=e.fontSize||20,n=e.fontFamily==="sans-serif"?"Inter, sans-serif":e.fontFamily==="monospace"?"Source Code Pro, monospace":"Handlee, cursive",i=e.fontWeight?typeof e.fontWeight=="string"?e.fontWeight+" ":"bold ":"";return`${e.fontStyle?typeof e.fontStyle=="string"?e.fontStyle+" ":"italic ":""}${i}${t}px ${n}`};let ku=null;const VS=()=>(ku||(ku=document.createElement("canvas").getContext("2d")),ku),QS=(e,t,n)=>{const i=t.split(/\s+/),r=[];let a="";for(const l of i){if(!l)continue;const o=a?`${a} ${l}`:l;e.measureText(o).width>n&&a?(r.push(a),a=l):a=o}return a&&r.push(a),r},ki=(e,t,n,i)=>{const r=t.fontSize||20;e.save(),e.font=Ph(t);let a=i;t.type==="circle"||t.type==="diamond"?a=i*.707:t.type==="doubleBanner"?a=i*.65:t.type==="lightbulb"?a=i*.7:t.type==="signpost"?a=i*.8:t.type==="burstBlob"&&(a=i*.6);const l=n.split(`
`),o=[];l.forEach(d=>{if(d==="")o.push("");else{const u=QS(e,d,a);o.push(...u)}});const c=r*1.2;let s=0;return o.forEach(d=>{s=Math.max(s,e.measureText(d).width)}),e.restore(),{textWidth:s,textHeight:o.length*c,lines:o,lineHeight:c}},Q0=(e,t,n)=>{if(!n||n.trim()==="")return{width:t.width||100,height:t.height||60};const i=32,r=t.fontSize||20,a=n.length,l=Math.sqrt(a*r*r*1.5);let o=Math.max(60,Math.min(500,l)),c=ki(e,t,n,o);const s=t.type==="circle"||t.type==="diamond"?.707:t.type==="doubleBanner"?.65:t.type==="lightbulb"?.7:t.type==="signpost"?.8:t.type==="burstBlob"?.6:1;let d=c.textWidth/s+i,u=c.textHeight/s+i;if(t.type==="circle"||t.type==="diamond"){const f=Math.max(d,u);return{width:f,height:f}}return(t.type==="parallelogram"||t.type==="trapezoid")&&(d+=40),{width:d,height:u}},J0=(e,t,n=!0)=>{const i=w.elements.find(c=>c.id===e);if(!i||i.type===t)return;const r=c=>["line","arrow","bezier","organicBranch"].includes(c),a=r(i.type),l=r(t);if(a!==l){console.warn(`Cannot transform ${i.type} to ${t}: Incompatible families.`);return}const o={type:t};if(l)if(t==="bezier"||t==="organicBranch"){if(o.curveType="bezier",!i.controlPoints||i.controlPoints.length!==2){const c=i.x,s=i.y,d=i.x+i.width,u=i.y+i.height,f=d-c,h=u-s,g={x:c+f*.25,y:s+h*.1},p={x:d-f*.25,y:u-h*.1};o.controlPoints=[g,p]}}else(i.type==="bezier"||i.type==="organicBranch")&&(o.curveType="straight",o.controlPoints=void 0);bt(e,o,n)},K0=e=>{const t=["line","arrow","bezier","organicBranch"],n=["rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","cross","checkmark","capsule","stickyNote","callout","speechBubble","burst","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","mobilePhone","browserWindow"];return t.includes(e)?t.filter(i=>i!==e):n.includes(e)?n.filter(i=>i!==e):[]},Z0=e=>({line:"",arrow:"",bezier:"",organicBranch:"",straight:"",elbow:"",rectangle:"",circle:"",diamond:"",triangle:"",hexagon:"",octagon:"",parallelogram:"",star:"",cloud:"",heart:"",cross:"",checkmark:"",database:"",document:"",predefinedProcess:"",internalStorage:"",server:"",loadBalancer:"",firewall:"",user:"",messageQueue:"",lambda:"",router:"",browser:"",capsule:"",stickyNote:"",callout:"",speechBubble:"",burst:"",trapezoid:"",rightTriangle:"",pentagon:"",septagon:"",browserWindow:"",mobilePhone:""})[e]||"",eg=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1"),JS=e=>["straight","bezier","elbow"].filter(t=>t!==e),KS=e=>({straight:"",bezier:"",elbow:""})[e]||"",ZS=e=>e.charAt(0).toUpperCase()+e.slice(1);function eC(e,t){const n=t.filter(o=>o.groupIds&&o.groupIds.includes(e));if(n.length===0)return null;let i=1/0,r=1/0,a=-1/0,l=-1/0;return n.forEach(o=>{const c=o.x,s=o.y,d=o.x+o.width,u=o.y+o.height;i=Math.min(i,c),r=Math.min(r,s),a=Math.max(a,d),l=Math.max(l,u)}),{x:i,y:r,width:a-i,height:l-r}}function tC(e,t,n,i){const r=eC(n,i);return r?e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height:!1}function nC(e,t){const n=new Map;return e.forEach((i,r)=>{if(i.groupIds&&i.groupIds.length>0){const a=i.groupIds[i.groupIds.length-1];if(!n.has(a)){const l=t.find(o=>o.id===i.layerId);n.set(a,{layerOrder:l?.order??999,elementIndex:r})}}}),Array.from(n.entries()).map(([i,{layerOrder:r,elementIndex:a}])=>({groupId:i,layerOrder:r,elementIndex:a})).sort((i,r)=>i.layerOrder!==r.layerOrder?r.layerOrder-i.layerOrder:r.elementIndex-i.elementIndex)}function zn(e){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(e)}var ji=Uint8Array,Ci=Uint16Array,_p=Int32Array,Np=new ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tp=new ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tg=new ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m2=function(e,t){for(var n=new Ci(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new _p(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},v2=m2(Np,2),rC=v2.b,Lf=v2.r;rC[28]=258,Lf[258]=28;var iC=m2(Tp,0),ng=iC.r,Pf=new Ci(32768);for(var er=0;er<32768;++er){var Ya=(er&43690)>>1|(er&21845)<<1;Ya=(Ya&52428)>>2|(Ya&13107)<<2,Ya=(Ya&61680)>>4|(Ya&3855)<<4,Pf[er]=((Ya&65280)>>8|(Ya&255)<<8)>>1}var xl=(function(e,t,n){for(var i=e.length,r=0,a=new Ci(t);r<i;++r)e[r]&&++a[e[r]-1];var l=new Ci(t);for(r=1;r<t;++r)l[r]=l[r-1]+a[r-1]<<1;var o;if(n){o=new Ci(1<<t);var c=15-t;for(r=0;r<i;++r)if(e[r])for(var s=r<<4|e[r],d=t-e[r],u=l[e[r]-1]++<<d,f=u|(1<<d)-1;u<=f;++u)o[Pf[u]>>c]=s}else for(o=new Ci(i),r=0;r<i;++r)e[r]&&(o[r]=Pf[l[e[r]-1]++]>>15-e[r]);return o}),jo=new ji(288);for(var er=0;er<144;++er)jo[er]=8;for(var er=144;er<256;++er)jo[er]=9;for(var er=256;er<280;++er)jo[er]=7;for(var er=280;er<288;++er)jo[er]=8;var Vd=new ji(32);for(var er=0;er<32;++er)Vd[er]=5;var aC=xl(jo,9,0),oC=xl(Vd,5,0),b2=function(e){return(e+7)/8|0},sC=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ji(e.subarray(t,n))},ba=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},hl=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Su=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:x2,l:0};if(r==1){var l=new ji(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(_,F){return _.f-F.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],s=0,d=1,u=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=r-1;)o=n[n[s].f<n[u].f?s++:u++],c=n[s!=d&&n[s].f<n[u].f?s++:u++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=a[0].s,i=1;i<r;++i)a[i].s>f&&(f=a[i].s);var h=new Ci(f+1),g=Mf(n[d-1],h,0);if(g>t){var i=0,p=0,y=g-t,A=1<<y;for(a.sort(function(F,O){return h[O.s]-h[F.s]||F.f-O.f});i<r;++i){var v=a[i].s;if(h[v]>t)p+=A-(1<<g-h[v]),h[v]=t;else break}for(p>>=y;p>0;){var x=a[i].s;h[x]<t?p-=1<<t-h[x]++-1:++i}for(;i>=0&&p;--i){var C=a[i].s;h[C]==t&&(--h[C],++p)}g=t}return{t:new ji(h),l:g}},Mf=function(e,t,n){return e.s==-1?Math.max(Mf(e.l,t,n+1),Mf(e.r,t,n+1)):t[e.s]=n},rg=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ci(++t),i=0,r=e[0],a=1,l=function(c){n[i++]=c},o=1;o<=t;++o)if(e[o]==r&&o!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=e[o]}return{c:n.subarray(0,i),n:t}},ul=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},w2=function(e,t,n){var i=n.length,r=b2(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=n[a];return(r+4+i)*8},ig=function(e,t,n,i,r,a,l,o,c,s,d){ba(t,d++,n),++r[256];for(var u=Su(r,15),f=u.t,h=u.l,g=Su(a,15),p=g.t,y=g.l,A=rg(f),v=A.c,x=A.n,C=rg(p),_=C.c,F=C.n,O=new Ci(19),E=0;E<v.length;++E)++O[v[E]&31];for(var E=0;E<_.length;++E)++O[_[E]&31];for(var I=Su(O,7),q=I.t,R=I.l,P=19;P>4&&!q[tg[P-1]];--P);var D=s+5<<3,k=ul(r,jo)+ul(a,Vd)+l,U=ul(r,f)+ul(a,p)+l+14+3*P+ul(O,q)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&D<=k&&D<=U)return w2(t,d,e.subarray(c,c+s));var ce,Q,ae,ie;if(ba(t,d,1+(U<k)),d+=2,U<k){ce=xl(f,h,0),Q=f,ae=xl(p,y,0),ie=p;var Se=xl(q,R,0);ba(t,d,x-257),ba(t,d+5,F-1),ba(t,d+10,P-4),d+=14;for(var E=0;E<P;++E)ba(t,d+3*E,q[tg[E]]);d+=3*P;for(var ne=[v,_],N=0;N<2;++N)for(var H=ne[N],E=0;E<H.length;++E){var V=H[E]&31;ba(t,d,Se[V]),d+=q[V],V>15&&(ba(t,d,H[E]>>5&127),d+=H[E]>>12)}}else ce=aC,Q=jo,ae=oC,ie=Vd;for(var E=0;E<o;++E){var te=i[E];if(te>255){var V=te>>18&31;hl(t,d,ce[V+257]),d+=Q[V+257],V>7&&(ba(t,d,te>>23&31),d+=Np[V]);var ge=te&31;hl(t,d,ae[ge]),d+=ie[ge],ge>3&&(hl(t,d,te>>5&8191),d+=Tp[ge])}else hl(t,d,ce[te]),d+=Q[te]}return hl(t,d,ce[256]),d+Q[256]},lC=new _p([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),x2=new ji(0),cC=function(e,t,n,i,r,a){var l=a.z||e.length,o=new ji(i+l+5*(1+Math.ceil(l/7e3))+r),c=o.subarray(i,o.length-r),s=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var u=lC[t-1],f=u>>13,h=u&8191,g=(1<<n)-1,p=a.p||new Ci(32768),y=a.h||new Ci(g+1),A=Math.ceil(n/3),v=2*A,x=function(B){return(e[B]^e[B+1]<<A^e[B+2]<<v)&g},C=new _p(25e3),_=new Ci(288),F=new Ci(32),O=0,E=0,I=a.i||0,q=0,R=a.w||0,P=0;I+2<l;++I){var D=x(I),k=I&32767,U=y[D];if(p[k]=U,y[D]=k,R<=I){var ce=l-I;if((O>7e3||q>24576)&&(ce>423||!s)){d=ig(e,c,0,C,_,F,E,q,P,I-P,d),q=O=E=0,P=I;for(var Q=0;Q<286;++Q)_[Q]=0;for(var Q=0;Q<30;++Q)F[Q]=0}var ae=2,ie=0,Se=h,ne=k-U&32767;if(ce>2&&D==x(I-ne))for(var N=Math.min(f,ce)-1,H=Math.min(32767,I),V=Math.min(258,ce);ne<=H&&--Se&&k!=U;){if(e[I+ae]==e[I+ae-ne]){for(var te=0;te<V&&e[I+te]==e[I+te-ne];++te);if(te>ae){if(ae=te,ie=ne,te>N)break;for(var ge=Math.min(ne,te-2),Ce=0,Q=0;Q<ge;++Q){var Pe=I-ne+Q&32767,pe=p[Pe],_e=Pe-pe&32767;_e>Ce&&(Ce=_e,U=Pe)}}}k=U,U=p[k],ne+=k-U&32767}if(ie){C[q++]=268435456|Lf[ae]<<18|ng[ie];var Oe=Lf[ae]&31,ht=ng[ie]&31;E+=Np[Oe]+Tp[ht],++_[257+Oe],++F[ht],R=I+ae,++O}else C[q++]=e[I],++_[e[I]]}}for(I=Math.max(I,R);I<l;++I)C[q++]=e[I],++_[e[I]];d=ig(e,c,s,C,_,F,E,q,P,I-P,d),s||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=y,a.p=p,a.i=I,a.w=R)}else{for(var I=a.w||0;I<l+s;I+=65535){var et=I+65535;et>=l&&(c[d/8|0]=s,et=l),d=w2(c,d+1,e.subarray(I,et))}a.i=l}return sC(o,0,i+b2(d)+r)},k2=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=n.length|0,l=0;l!=a;){for(var o=Math.min(l+2655,a);l<o;++l)r+=i+=n[l];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},dC=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new ji(a.length+e.length);l.set(a),l.set(e,a.length),e=l,r.w=a.length}return cC(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},S2=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},hC=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=k2();r.p(t.dictionary),S2(e,2,r.d())}};function _f(e,t){t||(t={});var n=k2();n.p(e);var i=dC(e,t,t.dictionary?6:2,4);return hC(i,t),S2(i,i.length-4,n.d()),i}var uC=typeof TextDecoder<"u"&&new TextDecoder,fC=0;try{uC.decode(x2,{stream:!0}),fC=1}catch{}function pC(e){if(Array.isArray(e))return e}function gC(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,a,l,o=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(o.push(i.value),o.length!==t);c=!0);}catch(d){s=!0,r=d}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw r}}return o}}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function AC(e,t){if(e){if(typeof e=="string")return ag(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ag(e,t):void 0}}function yC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function og(e,t){return pC(e)||gC(e,t)||AC(e,t)||yC()}function sg(e,t="utf8"){return new TextDecoder(t).decode(e)}const mC=new TextEncoder;function vC(e){return mC.encode(e)}const bC=1024*8,wC=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Cu={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ip{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=bC,n={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const r=n.offset?n.offset>>>0:0,a=t.byteLength-r;let l=r;(ArrayBuffer.isView(t)||t instanceof Ip)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Cu[n].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+i);if(this.littleEndian===wC&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const c=new Cu[n](o.buffer);return this.offset+=i,c.reverse(),c}const l=new Cu[n](a);return this.offset+=i,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return sg(this.readBytes(t))}decodeText(t=1,n="utf8"){return sg(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(vC(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bs(e){let t=e.length;for(;--t>=0;)e[t]=0}const xC=3,kC=258,C2=29,SC=256,CC=SC+1+C2,L2=30,LC=512,PC=new Array((CC+2)*2);Bs(PC);const MC=new Array(L2*2);Bs(MC);const _C=new Array(LC);Bs(_C);const NC=new Array(kC-xC+1);Bs(NC);const TC=new Array(C2);Bs(TC);const IC=new Array(L2);Bs(IC);const BC=(e,t,n,i)=>{let r=e&65535|0,a=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do r=r+t[i++]|0,a=a+r|0;while(--l);r%=65521,a%=65521}return r|a<<16|0};var Nf=BC;const DC=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},EC=new Uint32Array(DC()),RC=(e,t,n,i)=>{const r=EC,a=i+n;e^=-1;for(let l=i;l<a;l++)e=e>>>8^r[(e^t[l])&255];return e^-1};var Ji=RC,Tf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},P2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $C=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var FC=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)$C(n,i)&&(e[i]=n[i])}}return e},OC=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,a=e.length;i<a;i++){let l=e[i];n.set(l,r),r+=l.length}return n},M2={assign:FC,flattenChunks:OC};let _2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_2=!1}const Dl=new Uint8Array(256);for(let e=0;e<256;e++)Dl[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Dl[254]=Dl[254]=1;var zC=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,a,l=e.length,o=0;for(r=0;r<l;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<l&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,r=0;a<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<l&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const UC=(e,t)=>{if(t<65534&&e.subarray&&_2)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var WC=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const a=new Array(n*2);for(r=0,i=0;i<n;){let l=e[i++];if(l<128){a[r++]=l;continue}let o=Dl[l];if(o>4){a[r++]=65533,i+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&i<n;)l=l<<6|e[i++]&63,o--;if(o>1){a[r++]=65533;continue}l<65536?a[r++]=l:(l-=65536,a[r++]=55296|l>>10&1023,a[r++]=56320|l&1023)}return UC(a,r)},jC=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Dl[e[n]]>t?n:t},If={string2buf:zC,buf2string:WC,utf8border:jC};function qC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XC=qC;const Wc=16209,GC=16191;var HC=function(t,n){let i,r,a,l,o,c,s,d,u,f,h,g,p,y,A,v,x,C,_,F,O,E,I,q;const R=t.state;i=t.next_in,I=t.input,r=i+(t.avail_in-5),a=t.next_out,q=t.output,l=a-(n-t.avail_out),o=a+(t.avail_out-257),c=R.dmax,s=R.wsize,d=R.whave,u=R.wnext,f=R.window,h=R.hold,g=R.bits,p=R.lencode,y=R.distcode,A=(1<<R.lenbits)-1,v=(1<<R.distbits)-1;e:do{g<15&&(h+=I[i++]<<g,g+=8,h+=I[i++]<<g,g+=8),x=p[h&A];t:for(;;){if(C=x>>>24,h>>>=C,g-=C,C=x>>>16&255,C===0)q[a++]=x&65535;else if(C&16){_=x&65535,C&=15,C&&(g<C&&(h+=I[i++]<<g,g+=8),_+=h&(1<<C)-1,h>>>=C,g-=C),g<15&&(h+=I[i++]<<g,g+=8,h+=I[i++]<<g,g+=8),x=y[h&v];n:for(;;){if(C=x>>>24,h>>>=C,g-=C,C=x>>>16&255,C&16){if(F=x&65535,C&=15,g<C&&(h+=I[i++]<<g,g+=8,g<C&&(h+=I[i++]<<g,g+=8)),F+=h&(1<<C)-1,F>c){t.msg="invalid distance too far back",R.mode=Wc;break e}if(h>>>=C,g-=C,C=a-l,F>C){if(C=F-C,C>d&&R.sane){t.msg="invalid distance too far back",R.mode=Wc;break e}if(O=0,E=f,u===0){if(O+=s-C,C<_){_-=C;do q[a++]=f[O++];while(--C);O=a-F,E=q}}else if(u<C){if(O+=s+u-C,C-=u,C<_){_-=C;do q[a++]=f[O++];while(--C);if(O=0,u<_){C=u,_-=C;do q[a++]=f[O++];while(--C);O=a-F,E=q}}}else if(O+=u-C,C<_){_-=C;do q[a++]=f[O++];while(--C);O=a-F,E=q}for(;_>2;)q[a++]=E[O++],q[a++]=E[O++],q[a++]=E[O++],_-=3;_&&(q[a++]=E[O++],_>1&&(q[a++]=E[O++]))}else{O=a-F;do q[a++]=q[O++],q[a++]=q[O++],q[a++]=q[O++],_-=3;while(_>2);_&&(q[a++]=q[O++],_>1&&(q[a++]=q[O++]))}}else if((C&64)===0){x=y[(x&65535)+(h&(1<<C)-1)];continue n}else{t.msg="invalid distance code",R.mode=Wc;break e}break}}else if((C&64)===0){x=p[(x&65535)+(h&(1<<C)-1)];continue t}else if(C&32){R.mode=GC;break e}else{t.msg="invalid literal/length code",R.mode=Wc;break e}break}}while(i<r&&a<o);_=g>>3,i-=_,g-=_<<3,h&=(1<<g)-1,t.next_in=i,t.next_out=a,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=a<o?257+(o-a):257-(a-o),R.hold=h,R.bits=g};const os=15,lg=852,cg=592,dg=0,Lu=1,hg=2,YC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),VC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),QC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),JC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KC=(e,t,n,i,r,a,l,o)=>{const c=o.bits;let s=0,d=0,u=0,f=0,h=0,g=0,p=0,y=0,A=0,v=0,x,C,_,F,O,E=null,I;const q=new Uint16Array(os+1),R=new Uint16Array(os+1);let P=null,D,k,U;for(s=0;s<=os;s++)q[s]=0;for(d=0;d<i;d++)q[t[n+d]]++;for(h=c,f=os;f>=1&&q[f]===0;f--);if(h>f&&(h=f),f===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<f&&q[u]===0;u++);for(h<u&&(h=u),y=1,s=1;s<=os;s++)if(y<<=1,y-=q[s],y<0)return-1;if(y>0&&(e===dg||f!==1))return-1;for(R[1]=0,s=1;s<os;s++)R[s+1]=R[s]+q[s];for(d=0;d<i;d++)t[n+d]!==0&&(l[R[t[n+d]]++]=d);if(e===dg?(E=P=l,I=20):e===Lu?(E=YC,P=VC,I=257):(E=QC,P=JC,I=0),v=0,d=0,s=u,O=a,g=h,p=0,_=-1,A=1<<h,F=A-1,e===Lu&&A>lg||e===hg&&A>cg)return 1;for(;;){D=s-p,l[d]+1<I?(k=0,U=l[d]):l[d]>=I?(k=P[l[d]-I],U=E[l[d]-I]):(k=96,U=0),x=1<<s-p,C=1<<g,u=C;do C-=x,r[O+(v>>p)+C]=D<<24|k<<16|U|0;while(C!==0);for(x=1<<s-1;v&x;)x>>=1;if(x!==0?(v&=x-1,v+=x):v=0,d++,--q[s]===0){if(s===f)break;s=t[n+l[d]]}if(s>h&&(v&F)!==_){for(p===0&&(p=h),O+=u,g=s-p,y=1<<g;g+p<f&&(y-=q[g+p],!(y<=0));)g++,y<<=1;if(A+=1<<g,e===Lu&&A>lg||e===hg&&A>cg)return 1;_=v&F,r[_]=h<<24|g<<16|O-a|0}}return v!==0&&(r[O+v]=s-p<<24|64<<16|0),o.bits=h,0};var kl=KC;const ZC=0,N2=1,T2=2,{Z_FINISH:ug,Z_BLOCK:e6,Z_TREES:jc,Z_OK:qo,Z_STREAM_END:t6,Z_NEED_DICT:n6,Z_STREAM_ERROR:Ii,Z_DATA_ERROR:I2,Z_MEM_ERROR:B2,Z_BUF_ERROR:r6,Z_DEFLATED:fg}=P2,Mh=16180,pg=16181,gg=16182,Ag=16183,yg=16184,mg=16185,vg=16186,bg=16187,wg=16188,xg=16189,Qd=16190,wa=16191,Pu=16192,kg=16193,Mu=16194,Sg=16195,Cg=16196,Lg=16197,Pg=16198,qc=16199,Xc=16200,Mg=16201,_g=16202,Ng=16203,Tg=16204,Ig=16205,_u=16206,Bg=16207,Dg=16208,tr=16209,D2=16210,E2=16211,i6=852,a6=592,o6=15,s6=o6,Eg=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function l6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Go=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Mh||t.mode>E2?1:0},R2=e=>{if(Go(e))return Ii;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Mh,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(i6),t.distcode=t.distdyn=new Int32Array(a6),t.sane=1,t.back=-1,qo},$2=e=>{if(Go(e))return Ii;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,R2(e)},F2=(e,t)=>{let n;if(Go(e))return Ii;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ii:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,$2(e))},O2=(e,t)=>{if(!e)return Ii;const n=new l6;e.state=n,n.strm=e,n.window=null,n.mode=Mh;const i=F2(e,t);return i!==qo&&(e.state=null),i},c6=e=>O2(e,s6);let Rg=!0,Nu,Tu;const d6=e=>{if(Rg){Nu=new Int32Array(512),Tu=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kl(N2,e.lens,0,288,Nu,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kl(T2,e.lens,0,32,Tu,0,e.work,{bits:5}),Rg=!1}e.lencode=Nu,e.lenbits=9,e.distcode=Tu,e.distbits=5},z2=(e,t,n,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),i-=r,i?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},h6=(e,t)=>{let n,i,r,a,l,o,c,s,d,u,f,h,g,p,y=0,A,v,x,C,_,F,O,E;const I=new Uint8Array(4);let q,R;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Go(e)||!e.output||!e.input&&e.avail_in!==0)return Ii;n=e.state,n.mode===wa&&(n.mode=Pu),l=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,s=n.hold,d=n.bits,u=o,f=c,E=qo;e:for(;;)switch(n.mode){case Mh:if(n.wrap===0){n.mode=Pu;break}for(;d<16;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(n.wrap&2&&s===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=s&255,I[1]=s>>>8&255,n.check=Ji(n.check,I,2,0),s=0,d=0,n.mode=pg;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",n.mode=tr;break}if((s&15)!==fg){e.msg="unknown compression method",n.mode=tr;break}if(s>>>=4,d-=4,O=(s&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){e.msg="invalid window size",n.mode=tr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=s&512?xg:wa,s=0,d=0;break;case pg:for(;d<16;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(n.flags=s,(n.flags&255)!==fg){e.msg="unknown compression method",n.mode=tr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=tr;break}n.head&&(n.head.text=s>>8&1),n.flags&512&&n.wrap&4&&(I[0]=s&255,I[1]=s>>>8&255,n.check=Ji(n.check,I,2,0)),s=0,d=0,n.mode=gg;case gg:for(;d<32;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.head&&(n.head.time=s),n.flags&512&&n.wrap&4&&(I[0]=s&255,I[1]=s>>>8&255,I[2]=s>>>16&255,I[3]=s>>>24&255,n.check=Ji(n.check,I,4,0)),s=0,d=0,n.mode=Ag;case Ag:for(;d<16;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=s&255,n.head.os=s>>8),n.flags&512&&n.wrap&4&&(I[0]=s&255,I[1]=s>>>8&255,n.check=Ji(n.check,I,2,0)),s=0,d=0,n.mode=yg;case yg:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.length=s,n.head&&(n.head.extra_len=s),n.flags&512&&n.wrap&4&&(I[0]=s&255,I[1]=s>>>8&255,n.check=Ji(n.check,I,2,0)),s=0,d=0}else n.head&&(n.head.extra=null);n.mode=mg;case mg:if(n.flags&1024&&(h=n.length,h>o&&(h=o),h&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+h),O)),n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,i,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=vg;case vg:if(n.flags&2048){if(o===0)break e;h=0;do O=i[a+h++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,i,h,a)),o-=h,a+=h,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=bg;case bg:if(n.flags&4096){if(o===0)break e;h=0;do O=i[a+h++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&h<o);if(n.flags&512&&n.wrap&4&&(n.check=Ji(n.check,i,h,a)),o-=h,a+=h,O)break e}else n.head&&(n.head.comment=null);n.mode=wg;case wg:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(n.wrap&4&&s!==(n.check&65535)){e.msg="header crc mismatch",n.mode=tr;break}s=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=wa;break;case xg:for(;d<32;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}e.adler=n.check=Eg(s),s=0,d=0,n.mode=Qd;case Qd:if(n.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=s,n.bits=d,n6;e.adler=n.check=1,n.mode=wa;case wa:if(t===e6||t===jc)break e;case Pu:if(n.last){s>>>=d&7,d-=d&7,n.mode=_u;break}for(;d<3;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}switch(n.last=s&1,s>>>=1,d-=1,s&3){case 0:n.mode=kg;break;case 1:if(d6(n),n.mode=qc,t===jc){s>>>=2,d-=2;break e}break;case 2:n.mode=Cg;break;case 3:e.msg="invalid block type",n.mode=tr}s>>>=2,d-=2;break;case kg:for(s>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",n.mode=tr;break}if(n.length=s&65535,s=0,d=0,n.mode=Mu,t===jc)break e;case Mu:n.mode=Sg;case Sg:if(h=n.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;r.set(i.subarray(a,a+h),l),o-=h,a+=h,c-=h,l+=h,n.length-=h;break}n.mode=wa;break;case Cg:for(;d<14;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(n.nlen=(s&31)+257,s>>>=5,d-=5,n.ndist=(s&31)+1,s>>>=5,d-=5,n.ncode=(s&15)+4,s>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=tr;break}n.have=0,n.mode=Lg;case Lg:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.lens[P[n.have++]]=s&7,s>>>=3,d-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},E=kl(ZC,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,E){e.msg="invalid code lengths set",n.mode=tr;break}n.have=0,n.mode=Pg;case Pg:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[s&(1<<n.lenbits)-1],A=y>>>24,v=y>>>16&255,x=y&65535,!(A<=d);){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(x<16)s>>>=A,d-=A,n.lens[n.have++]=x;else{if(x===16){for(R=A+2;d<R;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(s>>>=A,d-=A,n.have===0){e.msg="invalid bit length repeat",n.mode=tr;break}O=n.lens[n.have-1],h=3+(s&3),s>>>=2,d-=2}else if(x===17){for(R=A+3;d<R;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}s>>>=A,d-=A,O=0,h=3+(s&7),s>>>=3,d-=3}else{for(R=A+7;d<R;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}s>>>=A,d-=A,O=0,h=11+(s&127),s>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=tr;break}for(;h--;)n.lens[n.have++]=O}}if(n.mode===tr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=tr;break}if(n.lenbits=9,q={bits:n.lenbits},E=kl(N2,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,E){e.msg="invalid literal/lengths set",n.mode=tr;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},E=kl(T2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,E){e.msg="invalid distances set",n.mode=tr;break}if(n.mode=qc,t===jc)break e;case qc:n.mode=Xc;case Xc:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=s,n.bits=d,HC(e,f),l=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,s=n.hold,d=n.bits,n.mode===wa&&(n.back=-1);break}for(n.back=0;y=n.lencode[s&(1<<n.lenbits)-1],A=y>>>24,v=y>>>16&255,x=y&65535,!(A<=d);){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(v&&(v&240)===0){for(C=A,_=v,F=x;y=n.lencode[F+((s&(1<<C+_)-1)>>C)],A=y>>>24,v=y>>>16&255,x=y&65535,!(C+A<=d);){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}s>>>=C,d-=C,n.back+=C}if(s>>>=A,d-=A,n.back+=A,n.length=x,v===0){n.mode=Ig;break}if(v&32){n.back=-1,n.mode=wa;break}if(v&64){e.msg="invalid literal/length code",n.mode=tr;break}n.extra=v&15,n.mode=Mg;case Mg:if(n.extra){for(R=n.extra;d<R;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.length+=s&(1<<n.extra)-1,s>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=_g;case _g:for(;y=n.distcode[s&(1<<n.distbits)-1],A=y>>>24,v=y>>>16&255,x=y&65535,!(A<=d);){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if((v&240)===0){for(C=A,_=v,F=x;y=n.distcode[F+((s&(1<<C+_)-1)>>C)],A=y>>>24,v=y>>>16&255,x=y&65535,!(C+A<=d);){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}s>>>=C,d-=C,n.back+=C}if(s>>>=A,d-=A,n.back+=A,v&64){e.msg="invalid distance code",n.mode=tr;break}n.offset=x,n.extra=v&15,n.mode=Ng;case Ng:if(n.extra){for(R=n.extra;d<R;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}n.offset+=s&(1<<n.extra)-1,s>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=tr;break}n.mode=Tg;case Tg:if(c===0)break e;if(h=f-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=tr;break}h>n.wnext?(h-=n.wnext,g=n.wsize-h):g=n.wnext-h,h>n.length&&(h=n.length),p=n.window}else p=r,g=l-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do r[l++]=p[g++];while(--h);n.length===0&&(n.mode=Xc);break;case Ig:if(c===0)break e;r[l++]=n.length,c--,n.mode=Xc;break;case _u:if(n.wrap){for(;d<32;){if(o===0)break e;o--,s|=i[a++]<<d,d+=8}if(f-=c,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?Ji(n.check,r,f,l-f):Nf(n.check,r,f,l-f)),f=c,n.wrap&4&&(n.flags?s:Eg(s))!==n.check){e.msg="incorrect data check",n.mode=tr;break}s=0,d=0}n.mode=Bg;case Bg:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,s+=i[a++]<<d,d+=8}if(n.wrap&4&&s!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=tr;break}s=0,d=0}n.mode=Dg;case Dg:E=t6;break e;case tr:E=I2;break e;case D2:return B2;case E2:default:return Ii}return e.next_out=l,e.avail_out=c,e.next_in=a,e.avail_in=o,n.hold=s,n.bits=d,(n.wsize||f!==e.avail_out&&n.mode<tr&&(n.mode<_u||t!==ug))&&z2(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?Ji(n.check,r,f,e.next_out-f):Nf(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===wa?128:0)+(n.mode===qc||n.mode===Mu?256:0),(u===0&&f===0||t===ug)&&E===qo&&(E=r6),E},u6=e=>{if(Go(e))return Ii;let t=e.state;return t.window&&(t.window=null),e.state=null,qo},f6=(e,t)=>{if(Go(e))return Ii;const n=e.state;return(n.wrap&2)===0?Ii:(n.head=t,t.done=!1,qo)},p6=(e,t)=>{const n=t.length;let i,r,a;return Go(e)||(i=e.state,i.wrap!==0&&i.mode!==Qd)?Ii:i.mode===Qd&&(r=1,r=Nf(r,t,n,0),r!==i.check)?I2:(a=z2(e,t,n,n),a?(i.mode=D2,B2):(i.havedict=1,qo))};var g6=$2,A6=F2,y6=R2,m6=c6,v6=O2,b6=h6,w6=u6,x6=f6,k6=p6,S6="pako inflate (from Nodeca project)",La={inflateReset:g6,inflateReset2:A6,inflateResetKeep:y6,inflateInit:m6,inflateInit2:v6,inflate:b6,inflateEnd:w6,inflateGetHeader:x6,inflateSetDictionary:k6,inflateInfo:S6};function C6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var L6=C6;const U2=Object.prototype.toString,{Z_NO_FLUSH:P6,Z_FINISH:M6,Z_OK:El,Z_STREAM_END:Iu,Z_NEED_DICT:Bu,Z_STREAM_ERROR:_6,Z_DATA_ERROR:$g,Z_MEM_ERROR:N6}=P2;function tc(e){this.options=M2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XC,this.strm.avail_out=0;let n=La.inflateInit2(this.strm,t.windowBits);if(n!==El)throw new Error(Tf[n]);if(this.header=new L6,La.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=If.string2buf(t.dictionary):U2.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=La.inflateSetDictionary(this.strm,t.dictionary),n!==El)))throw new Error(Tf[n])}tc.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?M6:P6,U2.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=La.inflate(n,l),a===Bu&&r&&(a=La.inflateSetDictionary(n,r),a===El?a=La.inflate(n,l):a===$g&&(a=Bu));n.avail_in>0&&a===Iu&&n.state.wrap>0&&e[n.next_in]!==0;)La.inflateReset(n),a=La.inflate(n,l);switch(a){case _6:case $g:case Bu:case N6:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===Iu))if(this.options.to==="string"){let c=If.utf8border(n.output,n.next_out),s=n.next_out-c,d=If.buf2string(n.output,c);n.next_out=s,n.avail_out=i-s,s&&n.output.set(n.output.subarray(c,c+s),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===El&&o===0)){if(a===Iu)return a=La.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};tc.prototype.onData=function(e){this.chunks.push(e)};tc.prototype.onEnd=function(e){e===El&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=M2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function T6(e,t){const n=new tc(t);if(n.push(e),n.err)throw n.msg||Tf[n.err];return n.result}var I6=tc,B6=T6,D6={Inflate:I6,inflate:B6};const{Inflate:E6,inflate:R6}=D6;var Fg=E6,$6=R6;const W2=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;W2[e]=t}const Og=4294967295;function F6(e,t,n){let i=e;for(let r=0;r<n;r++)i=W2[(i^t[r])&255]^i>>>8;return i}function O6(e,t){return(F6(Og,e,t)^Og)>>>0}function zg(e,t,n){const i=e.readUint32(),r=O6(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function j2(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function q2(e,t,n,i){let r=0;for(;r<i;r++)t[r]=e[r];for(;r<n;r++)t[r]=e[r]+t[r-i]&255}function X2(e,t,n,i){let r=0;if(n.length===0)for(;r<i;r++)t[r]=e[r];else for(;r<i;r++)t[r]=e[r]+n[r]&255}function G2(e,t,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+(t[a-r]>>1)&255}else{for(;a<r;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<i;a++)t[a]=e[a]+(t[a-r]+n[a]>>1)&255}}function H2(e,t,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+t[a-r]&255}else{for(;a<r;a++)t[a]=e[a]+n[a]&255;for(;a<i;a++)t[a]=e[a]+z6(t[a-r],n[a],n[a-r])&255}}function z6(e,t,n){const i=e+t-n,r=Math.abs(i-e),a=Math.abs(i-t),l=Math.abs(i-n);return r<=a&&r<=l?e:a<=l?t:n}function U6(e,t,n,i,r,a){switch(e){case 0:j2(t,n,r);break;case 1:q2(t,n,r,a);break;case 2:X2(t,n,i,r);break;case 3:G2(t,n,i,r,a);break;case 4:H2(t,n,i,r,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const W6=new Uint16Array([255]),j6=new Uint8Array(W6.buffer),q6=j6[0]===255;function X6(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*r,c=new Uint8Array(i*n*o);let s=0;for(let d=0;d<7;d++){const u=l[d],f=Math.ceil((n-u.x)/u.xStep),h=Math.ceil((i-u.y)/u.yStep);if(f<=0||h<=0)continue;const g=f*o,p=new Uint8Array(g);for(let y=0;y<h;y++){const A=t[s++],v=t.subarray(s,s+g);s+=g;const x=new Uint8Array(g);U6(A,v,x,p,g,o),p.set(x);for(let C=0;C<f;C++){const _=u.x+C*u.xStep,F=u.y+y*u.yStep;if(!(_>=n||F>=i))for(let O=0;O<o;O++)c[(F*n+_)*o+O]=x[C*o+O]}}}if(a===16){const d=new Uint16Array(c.buffer);if(q6)for(let u=0;u<d.length;u++)d[u]=G6(d[u]);return d}else return c}function G6(e){return(e&255)<<8|e>>8&255}const H6=new Uint16Array([255]),Y6=new Uint8Array(H6.buffer),V6=Y6[0]===255,Q6=new Uint8Array(0);function Ug(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,l=Math.ceil(a/8)*r,o=Math.ceil(a/8*r*n),c=new Uint8Array(i*o);let s=Q6,d=0,u,f;for(let h=0;h<i;h++){switch(u=t.subarray(d+1,d+1+o),f=c.subarray(h*o,(h+1)*o),t[d]){case 0:j2(u,f,o);break;case 1:q2(u,f,o,l);break;case 2:X2(u,f,s,o);break;case 3:G2(u,f,s,o,l);break;case 4:H2(u,f,s,o,l);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}s=f,d+=o+1}if(a===16){const h=new Uint16Array(c.buffer);if(V6)for(let g=0;g<h.length;g++)h[g]=J6(h[g]);return h}else return c}function J6(e){return(e&255)<<8|e>>8&255}const gd=Uint8Array.of(137,80,78,71,13,10,26,10);function Wg(e){if(!K6(e.readBytes(gd.length)))throw new Error("wrong PNG signature")}function K6(e){if(e.length<gd.length)return!1;for(let t=0;t<gd.length;t++)if(e[t]!==gd[t])return!1;return!0}const Z6="tEXt",e8=0,Y2=new TextDecoder("latin1");function t8(e){if(r8(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const n8=/^[\u0000-\u00FF]*$/;function r8(e){if(!n8.test(e))throw new Error("invalid latin1 text")}function i8(e,t,n){const i=V2(t);e[i]=a8(t,n-i.length-1)}function V2(e){for(e.mark();e.readByte()!==e8;);const t=e.offset;e.reset();const n=Y2.decode(e.readBytes(t-e.offset-1));return e.skip(1),t8(n),n}function a8(e,t){return Y2.decode(e.readBytes(t))}const mi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Du={UNKNOWN:-1,DEFLATE:0},jg={UNKNOWN:-1,ADAPTIVE:0},Eu={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Gc={NONE:0,BACKGROUND:1,PREVIOUS:2},Ru={SOURCE:0,OVER:1};class o8 extends Ip{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Fg,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Du.UNKNOWN,this._filterMethod=jg.UNKNOWN,this._interlaceMethod=Eu.UNKNOWN,this._colorType=mi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Wg(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(Wg(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Z6:i8(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zg(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?zg(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=s8(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case mi.GREYSCALE:i=1;break;case mi.TRUECOLOUR:i=3;break;case mi.INDEXED_COLOUR:i=1;break;case mi.GREYSCALE_ALPHA:i=2;break;case mi.TRUECOLOUR_ALPHA:i=4;break;case mi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Du.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let r=0;r<n;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case mi.GREYSCALE:case mi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case mi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case mi.UNKNOWN:case mi.GREYSCALE_ALPHA:case mi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=V2(this),i=this.readUint8();if(i!==Du.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const r=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:$6(r)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Ug({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const r=this._apng.frames.at(t-1);this.disposeFrame(i,r,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case Gc.NONE:break;case Gc.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){const l=(r*t.width+a)*this._png.channels;for(let o=0;o<this._png.channels;o++)i.data[l+o]=0}break;case Gc.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,r=(a,l)=>{const o=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,c=(a*n.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case Ru.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:o,frameIndex:c}=r(a,l);for(let s=0;s<this._png.channels;s++)t.data[o+s]=n.data[c+s]}break;case Ru.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:o,frameIndex:c}=r(a,l);for(let s=0;s<this._png.channels;s++){const d=n.data[c+this._png.channels-1]/i,u=s%(this._png.channels-1)===0?1:n.data[c+s],f=Math.floor(d*u+(1-d)*t.data[o+s]);t.data[o+s]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==jg.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Eu.NO_INTERLACE)this._png.data=Ug({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Eu.ADAM7)this._png.data=X6({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Gc.NONE,blendOp:Ru.SOURCE,data:t}),this._inflator=new Fg,this._writingDataChunks=!1}}function s8(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var qg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(qg||(qg={}));function l8(e,t){return new o8(e,t).decode()}var an=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $u(){an.console&&typeof an.console.log=="function"&&an.console.log.apply(an.console,arguments)}var Gn={log:$u,warn:function(e){an.console&&(typeof an.console.warn=="function"?an.console.warn.apply(an.console,arguments):$u.call(null,arguments))},error:function(e){an.console&&(typeof an.console.error=="function"?an.console.error.apply(an.console,arguments):$u(e))}};function Fu(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){No(i.response,t,n)},i.onerror=function(){Gn.error("could not download file")},i.send()}function Xg(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Hc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var No=an.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==an?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=an.URL||an.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?Xg(r.href)?Fu(e,t,n):Hc(r,r.target="_blank"):Hc(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Hc(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Xg(e))Fu(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Hc(i)})}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:zn(a)!=="object"&&(Gn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Fu(e,t,n);var r=e.type==="application/octet-stream",a=/constructor/i.test(an.HTMLElement)||an.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},o.readAsDataURL(e)}else{var c=an.URL||an.webkitURL,s=c.createObjectURL(e);i?i.location=s:location.href=s,i=null,setTimeout(function(){c.revokeObjectURL(s)},4e4)}});function Q2(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,l=r.exec(e);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),s=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),s.length==1&&(s="0"+s),"#"+o+c+s}}var Ad=an.atob.bind(an),Gg=an.btoa.bind(an);function Ou(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=Ur(n,i,r,a,t[0],7,-680876936),a=Ur(a,n,i,r,t[1],12,-389564586),r=Ur(r,a,n,i,t[2],17,606105819),i=Ur(i,r,a,n,t[3],22,-1044525330),n=Ur(n,i,r,a,t[4],7,-176418897),a=Ur(a,n,i,r,t[5],12,1200080426),r=Ur(r,a,n,i,t[6],17,-1473231341),i=Ur(i,r,a,n,t[7],22,-45705983),n=Ur(n,i,r,a,t[8],7,1770035416),a=Ur(a,n,i,r,t[9],12,-1958414417),r=Ur(r,a,n,i,t[10],17,-42063),i=Ur(i,r,a,n,t[11],22,-1990404162),n=Ur(n,i,r,a,t[12],7,1804603682),a=Ur(a,n,i,r,t[13],12,-40341101),r=Ur(r,a,n,i,t[14],17,-1502002290),n=Wr(n,i=Ur(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Wr(a,n,i,r,t[6],9,-1069501632),r=Wr(r,a,n,i,t[11],14,643717713),i=Wr(i,r,a,n,t[0],20,-373897302),n=Wr(n,i,r,a,t[5],5,-701558691),a=Wr(a,n,i,r,t[10],9,38016083),r=Wr(r,a,n,i,t[15],14,-660478335),i=Wr(i,r,a,n,t[4],20,-405537848),n=Wr(n,i,r,a,t[9],5,568446438),a=Wr(a,n,i,r,t[14],9,-1019803690),r=Wr(r,a,n,i,t[3],14,-187363961),i=Wr(i,r,a,n,t[8],20,1163531501),n=Wr(n,i,r,a,t[13],5,-1444681467),a=Wr(a,n,i,r,t[2],9,-51403784),r=Wr(r,a,n,i,t[7],14,1735328473),n=jr(n,i=Wr(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=jr(a,n,i,r,t[8],11,-2022574463),r=jr(r,a,n,i,t[11],16,1839030562),i=jr(i,r,a,n,t[14],23,-35309556),n=jr(n,i,r,a,t[1],4,-1530992060),a=jr(a,n,i,r,t[4],11,1272893353),r=jr(r,a,n,i,t[7],16,-155497632),i=jr(i,r,a,n,t[10],23,-1094730640),n=jr(n,i,r,a,t[13],4,681279174),a=jr(a,n,i,r,t[0],11,-358537222),r=jr(r,a,n,i,t[3],16,-722521979),i=jr(i,r,a,n,t[6],23,76029189),n=jr(n,i,r,a,t[9],4,-640364487),a=jr(a,n,i,r,t[12],11,-421815835),r=jr(r,a,n,i,t[15],16,530742520),n=qr(n,i=jr(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=qr(a,n,i,r,t[7],10,1126891415),r=qr(r,a,n,i,t[14],15,-1416354905),i=qr(i,r,a,n,t[5],21,-57434055),n=qr(n,i,r,a,t[12],6,1700485571),a=qr(a,n,i,r,t[3],10,-1894986606),r=qr(r,a,n,i,t[10],15,-1051523),i=qr(i,r,a,n,t[1],21,-2054922799),n=qr(n,i,r,a,t[8],6,1873313359),a=qr(a,n,i,r,t[15],10,-30611744),r=qr(r,a,n,i,t[6],15,-1560198380),i=qr(i,r,a,n,t[13],21,1309151649),n=qr(n,i,r,a,t[4],6,-145523070),a=qr(a,n,i,r,t[11],10,-1120210379),r=qr(r,a,n,i,t[2],15,718787259),i=qr(i,r,a,n,t[9],21,-343485551),e[0]=Za(n,e[0]),e[1]=Za(i,e[1]),e[2]=Za(r,e[2]),e[3]=Za(a,e[3])}function _h(e,t,n,i,r,a){return t=Za(Za(t,e),Za(i,a)),Za(t<<r|t>>>32-r,n)}function Ur(e,t,n,i,r,a,l){return _h(t&n|~t&i,e,t,r,a,l)}function Wr(e,t,n,i,r,a,l){return _h(t&i|n&~i,e,t,r,a,l)}function jr(e,t,n,i,r,a,l){return _h(t^n^i,e,t,r,a,l)}function qr(e,t,n,i,r,a,l){return _h(n^(t|~i),e,t,r,a,l)}function J2(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ou(i,c8(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Ou(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,Ou(i,r),i}function c8(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Hg="0123456789abcdef".split("");function d8(e){for(var t="",n=0;n<4;n++)t+=Hg[e>>8*n+4&15]+Hg[e>>8*n&15];return t}function h8(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Bf(e){return J2(e).map(h8).join("")}var u8=(function(e){for(var t=0;t<e.length;t++)e[t]=d8(e[t]);return e.join("")})(J2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Za(e,t){if(u8){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Df(e,t){var n,i,r,a;if(e!==n){for(var l=(r=e,a=1+(256/e.length|0),new Array(a+1).join(r)),o=[],c=0;c<256;c++)o[c]=c;var s=0;for(c=0;c<256;c++){var d=o[c];s=(s+d+l.charCodeAt(c))%256,o[c]=o[s],o[s]=d}n=e,i=o}else o=i;var u=t.length,f=0,h=0,g="";for(c=0;c<u;c++)h=(h+(d=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=d,l=o[(o[f]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^l);return g}var Yg={print:4,modify:8,copy:16,"annot-forms":32};function gs(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(o){if(Yg.perm!==void 0)throw new Error("Invalid permission: "+o);r+=Yg[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=Bf(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Df(this.encryptionKey,this.padding)}function As(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return t}function Vg(e){if(zn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var l=t[n][a];try{l[0].apply(e,i)}catch(o){an.console&&Gn.error("jsPDF PubSub Error",o.message,o)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Jd(e){if(!(this instanceof Jd))return new Jd(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function K2(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function To(e,t,n,i,r){if(!(this instanceof To))return new To(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,K2.call(this,i,r)}function vs(e,t,n,i,r){if(!(this instanceof vs))return new vs(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,K2.call(this,i,r)}function qt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],l=[],o=1,c=16,s="S",d=null;zn(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),s=e.defaultPathOperation||"S"),l=e.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Vg;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(L){g=L};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var A=h.__private__.getPageFormat=function(L){return y[L]};r=r||"a4";var v="compat",x="advanced",C=v;function _(){this.saveGraphicsState(),z(new we(Ut,0,0,-Ut,0,go()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),s="n",C=x}function F(){this.restoreGraphicsState(),s="S",C=v}var O=h.__private__.combineFontStyleAndFontWeight=function(L,W){if(L=="bold"&&W=="normal"||L=="bold"&&W==400||L=="normal"&&W=="italic"||L=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(L=W==400||W==="normal"?L==="italic"?"italic":"normal":W!=700&&W!=="bold"||L!=="normal"?(W==700?"bold":W)+""+L:"bold"),L};h.advancedAPI=function(L){var W=C===v;return W&&_.call(this),typeof L!="function"||(L(this),W&&F.call(this)),this},h.compatAPI=function(L){var W=C===x;return W&&F.call(this),typeof L!="function"||(L(this),W&&_.call(this)),this},h.isAdvancedAPI=function(){return C===x};var E,I=function(L){if(C!==x)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=h.roundToPrecision=h.__private__.roundToPrecision=function(L,W){var ue=t||W;if(isNaN(L)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ue).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return q(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return q(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return q(L,16)};var R=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return q(L,2)},P=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return q(L,3)},D=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return C===v?L*Ut:C===x?L:void 0},k=function(L){return D((function(W){return C===v?go()-W:C===x?W:void 0})(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var U,ce="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return ce},ae=h.__private__.setFileId=function(L){return ce=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(fr=new gs(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};h.setFileId=function(L){return ae(L),this},h.getFileId=function(){return Q()};var ie=h.__private__.convertDateToPDFDate=function(L){var W=L.getTimezoneOffset(),ue=W<0?"+":"-",ye=Math.floor(Math.abs(W/60)),Te=Math.abs(W%60),tt=[ue,V(ye),"'",V(Te),"'"].join("");return["D:",L.getFullYear(),V(L.getMonth()+1),V(L.getDate()),V(L.getHours()),V(L.getMinutes()),V(L.getSeconds()),tt].join("")},Se=h.__private__.convertPDFDateToDate=function(L){var W=parseInt(L.substr(2,4),10),ue=parseInt(L.substr(6,2),10)-1,ye=parseInt(L.substr(8,2),10),Te=parseInt(L.substr(10,2),10),tt=parseInt(L.substr(12,2),10),lt=parseInt(L.substr(14,2),10);return new Date(W,ue,ye,Te,tt,lt,0)},ne=h.__private__.setCreationDate=function(L){var W;if(L===void 0&&(L=new Date),L instanceof Date)W=ie(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=L}return U=W},N=h.__private__.getCreationDate=function(L){var W=U;return L==="jsDate"&&(W=Se(U)),W};h.setCreationDate=function(L){return ne(L),this},h.getCreationDate=function(L){return N(L)};var H,V=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},te=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ge=0,Ce=[],Pe=[],pe=0,_e=[],Oe=[],ht=!1,et=Pe;h.__private__.setCustomOutputDestination=function(L){ht=!0,et=L};var B=function(L){ht||(et=L)};h.__private__.resetCustomOutputDestination=function(){ht=!1,et=Pe};var z=h.__private__.out=function(L){return L=L.toString(),pe+=L.length+1,et.push(L),et},ve=h.__private__.write=function(L){return z(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},se=h.__private__.getArrayBuffer=function(L){for(var W=L.length,ue=new ArrayBuffer(W),ye=new Uint8Array(ue);W--;)ye[W]=L.charCodeAt(W);return ue},K=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return K};var le=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return le=C===x?L/Ut:L,this};var Ie,Be=h.__private__.getFontSize=h.getFontSize=function(){return C===v?le:le*Ut},me=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return me=L,this},h.__private__.getR2L=h.getR2L=function(){return me};var je,ut=h.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ie=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ie=L}else Ie=parseInt(L,10)};h.__private__.getZoomMode=function(){return Ie};var Qe,dt=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');je=L};h.__private__.getPageMode=function(){return je};var Tt=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Qe=L};h.__private__.getLayoutMode=function(){return Qe},h.__private__.setDisplayMode=h.setDisplayMode=function(L,W,ue){return ut(L),Tt(W),dt(ue),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys(Nt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[L]},h.__private__.getDocumentProperties=function(){return Nt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var W in Nt)Nt.hasOwnProperty(W)&&L[W]&&(Nt[W]=L[W]);return this},h.__private__.setDocumentProperty=function(L,W){if(Object.keys(Nt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[L]=W};var Ct,Ut,_t,Nn,Dt,Zt={},nn={},yn=[],Ft={},Tn={},Ht={},en={},$n=null,rn=0,Gt=[],In=new Vg(h),S=e.hotfixes||[],oe={},Me={},Ae=[],we=function L(W,ue,ye,Te,tt,lt){if(!(this instanceof L))return new L(W,ue,ye,Te,tt,lt);isNaN(W)&&(W=1),isNaN(ue)&&(ue=0),isNaN(ye)&&(ye=0),isNaN(Te)&&(Te=1),isNaN(tt)&&(tt=0),isNaN(lt)&&(lt=0),this._matrix=[W,ue,ye,Te,tt,lt]};Object.defineProperty(we.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(we.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(we.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(we.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(we.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(we.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(we.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(we.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(we.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(we.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(we.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(we.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(we.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(we.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(we.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(we.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),we.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},we.prototype.multiply=function(L){var W=L.sx*this.sx+L.shy*this.shx,ue=L.sx*this.shy+L.shy*this.sy,ye=L.shx*this.sx+L.sy*this.shx,Te=L.shx*this.shy+L.sy*this.sy,tt=L.tx*this.sx+L.ty*this.shx+this.tx,lt=L.tx*this.shy+L.ty*this.sy+this.ty;return new we(W,ue,ye,Te,tt,lt)},we.prototype.decompose=function(){var L=this.sx,W=this.shy,ue=this.shx,ye=this.sy,Te=this.tx,tt=this.ty,lt=Math.sqrt(L*L+W*W),$t=(L/=lt)*ue+(W/=lt)*ye;ue-=L*$t,ye-=W*$t;var jt=Math.sqrt(ue*ue+ye*ye);return $t/=jt,L*(ye/=jt)<W*(ue/=jt)&&(L=-L,W=-W,$t=-$t,lt=-lt),{scale:new we(lt,0,0,jt,0,0),translate:new we(1,0,0,1,Te,tt),rotate:new we(L,W,-W,L,0,0),skew:new we(1,0,$t,1,0,0)}},we.prototype.toString=function(L){return this.join(" ")},we.prototype.inversed=function(){var L=this.sx,W=this.shy,ue=this.shx,ye=this.sy,Te=this.tx,tt=this.ty,lt=1/(L*ye-W*ue),$t=ye*lt,jt=-W*lt,ln=-ue*lt,An=L*lt;return new we($t,jt,ln,An,-$t*Te-ln*tt,-jt*Te-An*tt)},we.prototype.applyToPoint=function(L){var W=L.x*this.sx+L.y*this.shx+this.tx,ue=L.x*this.shy+L.y*this.sy+this.ty;return new ca(W,ue)},we.prototype.applyToRectangle=function(L){var W=this.applyToPoint(L),ue=this.applyToPoint(new ca(L.x+L.w,L.y+L.h));return new Os(W.x,W.y,ue.x-W.x,ue.y-W.y)},we.prototype.clone=function(){var L=this.sx,W=this.shy,ue=this.shx,ye=this.sy,Te=this.tx,tt=this.ty;return new we(L,W,ue,ye,Te,tt)},h.Matrix=we;var fe=h.matrixMult=function(L,W){return W.multiply(L)},X=new we(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=X;var Ue=function(L,W){if(!Tn[L]){var ue=(W instanceof To?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);W.id=ue,Tn[L]=ue,Ft[ue]=W,In.publish("addPattern",W)}};h.ShadingPattern=To,h.TilingPattern=vs,h.addShadingPattern=function(L,W){return I("addShadingPattern()"),Ue(L,W),this},h.beginTilingPattern=function(L){I("beginTilingPattern()"),zs(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,W){I("endTilingPattern()"),W.stream=Oe[H].join(`
`),Ue(L,W),In.publish("endTilingPattern",W),Ae.pop().restore()};var He,Xe=h.__private__.newObject=function(){var L=Ee();return Ye(L,!0),L},Ee=h.__private__.newObjectDeferred=function(){return ge++,Ce[ge]=function(){return pe},ge},Ye=function(L,W){return W=typeof W=="boolean"&&W,Ce[L]=pe,W&&z(L+" 0 obj"),L},Ve=h.__private__.newAdditionalObject=function(){var L={objId:Ee(),content:""};return _e.push(L),L},qe=Ee(),Je=Ee(),vt=h.__private__.decodeColorString=function(L){var W=L.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var ue=parseFloat(W[0]);W=[ue,ue,ue,"r"]}for(var ye="#",Te=0;Te<3;Te++)ye+=("0"+Math.floor(255*parseFloat(W[Te])).toString(16)).slice(-2);return ye},pt=h.__private__.encodeColorString=function(L){var W;typeof L=="string"&&(L={ch1:L});var ue=L.ch1,ye=L.ch2,Te=L.ch3,tt=L.ch4,lt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var $t=new Q2(ue);if($t.ok)ue=$t.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var jt=parseInt(ue.substr(1),16);ue=jt>>16&255,ye=jt>>8&255,Te=255&jt}if(ye===void 0||tt===void 0&&ue===ye&&ye===Te)W=typeof ue=="string"?ue+" "+lt[0]:L.precision===2?R(ue/255)+" "+lt[0]:P(ue/255)+" "+lt[0];else if(tt===void 0||zn(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return["1.","1.","1.",lt[1]].join(" ");W=typeof ue=="string"?[ue,ye,Te,lt[1]].join(" "):L.precision===2?[R(ue/255),R(ye/255),R(Te/255),lt[1]].join(" "):[P(ue/255),P(ye/255),P(Te/255),lt[1]].join(" ")}else W=typeof ue=="string"?[ue,ye,Te,tt,lt[2]].join(" "):L.precision===2?[R(ue),R(ye),R(Te),R(tt),lt[2]].join(" "):[P(ue),P(ye),P(Te),P(tt),lt[2]].join(" ");return W},ft=h.__private__.getFilters=function(){return l},Ge=h.__private__.putStream=function(L){var W=(L=L||{}).data||"",ue=L.filters||ft(),ye=L.alreadyAppliedFilters||[],Te=L.addLength1||!1,tt=W.length,lt=L.objectId,$t=function(Cr){return Cr};if(d!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($t=fr.encryptor(lt,0));var jt={};ue===!0&&(ue=["FlateEncode"]);var ln=L.additionalKeyValues||[],An=(jt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(W,ue):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(jt.data.length!==0&&(ln.push({key:"Length",value:jt.data.length}),Te===!0&&ln.push({key:"Length1",value:tt})),An.length!=0)if(An.split("/").length-1==1)ln.push({key:"Filter",value:An});else{ln.push({key:"Filter",value:"["+An+"]"});for(var Mn=0;Mn<ln.length;Mn+=1)if(ln[Mn].key==="DecodeParms"){for(var ir=[],xr=0;xr<jt.reverseChain.split("/").length-1;xr+=1)ir.push("null");ir.push(ln[Mn].value),ln[Mn].value="["+ir.join(" ")+"]"}}z("<<");for(var Vn=0;Vn<ln.length;Vn++)z("/"+ln[Vn].key+" "+ln[Vn].value);z(">>"),jt.data.length!==0&&(z("stream"),z($t(jt.data)),z("endstream"))},ze=h.__private__.putPage=function(L){var W=L.number,ue=L.data,ye=L.objId,Te=L.contentsObjId;Ye(ye,!0),z("<</Type /Page"),z("/Parent "+L.rootDictionaryObjId+" 0 R"),z("/Resources "+L.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&z("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&z("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&z("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&z("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&z("/UserUnit "+L.userUnit),In.publish("putPage",{objId:ye,pageContext:Gt[W],pageNumber:W,page:ue}),z("/Contents "+Te+" 0 R"),z(">>"),z("endobj");var tt=ue.join(`
`);return C===x&&(tt+=`
Q`),Ye(Te,!0),Ge({data:tt,filters:ft(),objectId:Te}),z("endobj"),ye},be=h.__private__.putPages=function(){var L,W,ue=[];for(L=1;L<=rn;L++)Gt[L].objId=Ee(),Gt[L].contentsObjId=Ee();for(L=1;L<=rn;L++)ue.push(ze({number:L,data:Oe[L],objId:Gt[L].objId,contentsObjId:Gt[L].contentsObjId,mediaBox:Gt[L].mediaBox,cropBox:Gt[L].cropBox,bleedBox:Gt[L].bleedBox,trimBox:Gt[L].trimBox,artBox:Gt[L].artBox,userUnit:Gt[L].userUnit,rootDictionaryObjId:qe,resourceDictionaryObjId:Je}));Ye(qe,!0),z("<</Type /Pages");var ye="/Kids [";for(W=0;W<rn;W++)ye+=ue[W]+" 0 R ";z(ye+"]"),z("/Count "+rn),z(">>"),z("endobj"),In.publish("postPutPages")},Fe=function(L){In.publish("putFont",{font:L,out:z,newObject:Xe,putStream:Ge}),L.isAlreadyPutted!==!0&&(L.objectNumber=Xe(),z("<<"),z("/Type /Font"),z("/BaseFont /"+As(L.postScriptName)),z("/Subtype /Type1"),typeof L.encoding=="string"&&z("/Encoding /"+L.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},Z=function(L){L.objectNumber=Xe();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ue=L.pages[1].join(`
`);Ge({data:ue,additionalKeyValues:W,objectId:L.objectNumber}),z("endobj")},at=function(L,W){W||(W=21);var ue=Xe(),ye=(function(lt,$t){var jt,ln=[],An=1/($t-1);for(jt=0;jt<1;jt+=An)ln.push(jt);if(ln.push(1),lt[0].offset!=0){var Mn={offset:0,color:lt[0].color};lt.unshift(Mn)}if(lt[lt.length-1].offset!=1){var ir={offset:1,color:lt[lt.length-1].color};lt.push(ir)}for(var xr="",Vn=0,Cr=0;Cr<ln.length;Cr++){for(jt=ln[Cr];jt>lt[Vn+1].offset;)Vn++;var kr=lt[Vn].offset,Er=(jt-kr)/(lt[Vn+1].offset-kr),ua=lt[Vn].color,$i=lt[Vn+1].color;xr+=te(Math.round((1-Er)*ua[0]+Er*$i[0]).toString(16))+te(Math.round((1-Er)*ua[1]+Er*$i[1]).toString(16))+te(Math.round((1-Er)*ua[2]+Er*$i[2]).toString(16))}return xr.trim()})(L.colors,W),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+W+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:ye,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),z("endobj"),L.objectNumber=Xe(),z("<< /ShadingType "+L.type),z("/ColorSpace /DeviceRGB");var tt="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?tt+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):tt+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),z(tt+="]"),L.matrix&&z("/Matrix ["+L.matrix.toString()+"]"),z("/Function "+ue+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},gt=function(L,W){var ue=Ee(),ye=Xe();W.push({resourcesOid:ue,objectOid:ye}),L.objectNumber=ye;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),Te.push({key:"XStep",value:E(L.xStep)}),Te.push({key:"YStep",value:E(L.yStep)}),Te.push({key:"Resources",value:ue+" 0 R"}),L.matrix&&Te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ge({data:L.stream,additionalKeyValues:Te,objectId:L.objectNumber}),z("endobj")},rt=function(L){for(var W in L.objectNumber=Xe(),z("<<"),L)switch(W){case"opacity":z("/ca "+R(L[W]));break;case"stroke-opacity":z("/CA "+R(L[W]))}z(">>"),z("endobj")},kt=function(L){Ye(L.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var W in z("/Font <<"),Zt)Zt.hasOwnProperty(W)&&(u===!1||u===!0&&f.hasOwnProperty(W))&&z("/"+W+" "+Zt[W].objectNumber+" 0 R");z(">>")})(),(function(){if(Object.keys(Ft).length>0){for(var W in z("/Shading <<"),Ft)Ft.hasOwnProperty(W)&&Ft[W]instanceof To&&Ft[W].objectNumber>=0&&z("/"+W+" "+Ft[W].objectNumber+" 0 R");In.publish("putShadingPatternDict"),z(">>")}})(),(function(W){if(Object.keys(Ft).length>0){for(var ue in z("/Pattern <<"),Ft)Ft.hasOwnProperty(ue)&&Ft[ue]instanceof h.TilingPattern&&Ft[ue].objectNumber>=0&&Ft[ue].objectNumber<W&&z("/"+ue+" "+Ft[ue].objectNumber+" 0 R");In.publish("putTilingPatternDict"),z(">>")}})(L.objectOid),(function(){if(Object.keys(Ht).length>0){var W;for(W in z("/ExtGState <<"),Ht)Ht.hasOwnProperty(W)&&Ht[W].objectNumber>=0&&z("/"+W+" "+Ht[W].objectNumber+" 0 R");In.publish("putGStateDict"),z(">>")}})(),(function(){for(var W in z("/XObject <<"),oe)oe.hasOwnProperty(W)&&oe[W].objectNumber>=0&&z("/"+W+" "+oe[W].objectNumber+" 0 R");In.publish("putXobjectDict"),z(">>")})(),z(">>"),z("endobj")},It=function(L){nn[L.fontName]=nn[L.fontName]||{},nn[L.fontName][L.fontStyle]=L.id},mt=function(L,W,ue,ye,Te){var tt={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:L,fontName:W,fontStyle:ue,encoding:ye,isStandardFont:Te||!1,metadata:{}};return In.publish("addFont",{font:tt,instance:this}),Zt[tt.id]=tt,It(tt),tt.id},Rt=h.__private__.pdfEscape=h.pdfEscape=function(L,W){return(function(ue,ye){var Te,tt,lt,$t,jt,ln,An,Mn,ir;if(lt=(ye=ye||{}).sourceEncoding||"Unicode",jt=ye.outputEncoding,(ye.autoencode||jt)&&Zt[Ct].metadata&&Zt[Ct].metadata[lt]&&Zt[Ct].metadata[lt].encoding&&($t=Zt[Ct].metadata[lt].encoding,!jt&&Zt[Ct].encoding&&(jt=Zt[Ct].encoding),!jt&&$t.codePages&&(jt=$t.codePages[0]),typeof jt=="string"&&(jt=$t[jt]),jt)){for(An=!1,ln=[],Te=0,tt=ue.length;Te<tt;Te++)(Mn=jt[ue.charCodeAt(Te)])?ln.push(String.fromCharCode(Mn)):ln.push(ue[Te]),ln[Te].charCodeAt(0)>>8&&(An=!0);ue=ln.join("")}for(Te=ue.length;An===void 0&&Te!==0;)ue.charCodeAt(Te-1)>>8&&(An=!0),Te--;if(!An)return ue;for(ln=ye.noBOM?[]:[254,255],Te=0,tt=ue.length;Te<tt;Te++){if((ir=(Mn=ue.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ln.push(ir),ln.push(Mn-(ir<<8))}return String.fromCharCode.apply(void 0,ln)})(L,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},St=h.__private__.beginPage=function(L){Oe[++rn]=[],Gt[rn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Wt(rn),B(Oe[H])},fn=function(L,W){var ue,ye,Te;switch(n=W||n,typeof L=="string"&&(ue=A(L.toLowerCase()),Array.isArray(ue)&&(ye=ue[0],Te=ue[1])),Array.isArray(L)&&(ye=L[0]*Ut,Te=L[1]*Ut),isNaN(ye)&&(ye=r[0],Te=r[1]),(ye>14400||Te>14400)&&(Gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Te=Math.min(14400,Te)),r=[ye,Te],n.substr(0,1)){case"l":Te>ye&&(r=[Te,ye]);break;case"p":ye>Te&&(r=[Te,ye])}St(r),dn(Es),z(Vo),$s!==0&&z($s+" J"),Fs!==0&&z(Fs+" j"),In.publish("addPage",{pageNumber:rn})},sr=function(L){L>0&&L<=rn&&(Oe.splice(L,1),Gt.splice(L,1),rn--,H>rn&&(H=rn),this.setPage(H))},Wt=function(L){L>0&&L<=rn&&(H=L)},wr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Oe.length-1},mn=function(L,W,ue){var ye,Te=void 0;return ue=ue||{},L=L!==void 0?L:Zt[Ct].fontName,W=W!==void 0?W:Zt[Ct].fontStyle,ye=L.toLowerCase(),nn[ye]!==void 0&&nn[ye][W]!==void 0?Te=nn[ye][W]:nn[L]!==void 0&&nn[L][W]!==void 0?Te=nn[L][W]:ue.disableWarning===!1&&Gn.warn("Unable to look up font label for font '"+L+"', '"+W+"'. Refer to getFontList() for available fonts."),Te||ue.noFallback||(Te=nn.times[W])==null&&(Te=nn.times.normal),Te},Un=h.__private__.putInfo=function(){var L=Xe(),W=function(ye){return ye};for(var ue in d!==null&&(W=fr.encryptor(L,0)),z("<<"),z("/Producer ("+Rt(W("jsPDF "+qt.version))+")"),Nt)Nt.hasOwnProperty(ue)&&Nt[ue]&&z("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Rt(W(Nt[ue]))+")");z("/CreationDate ("+Rt(W(U))+")"),z(">>"),z("endobj")},Kn=h.__private__.putCatalog=function(L){var W=(L=L||{}).rootDictionaryObjId||qe;switch(Xe(),z("<<"),z("/Type /Catalog"),z("/Pages "+W+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ie;ue.substr(ue.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&z("/OpenAction [3 0 R /XYZ null null "+R(Ie)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}je&&z("/PageMode /"+je),In.publish("putCatalog"),z(">>"),z("endobj")},lr=h.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(ge+1)),z("/Root "+ge+" 0 R"),z("/Info "+(ge-1)+" 0 R"),d!==null&&z("/Encrypt "+fr.oid+" 0 R"),z("/ID [ <"+ce+"> <"+ce+"> ]"),z(">>")},Pn=h.__private__.putHeader=function(){z("%PDF-"+g),z("%")},Ia=h.__private__.putXRef=function(){var L="0000000000";z("xref"),z("0 "+(ge+1)),z("0000000000 65535 f ");for(var W=1;W<=ge;W++)typeof Ce[W]=="function"?z((L+Ce[W]()).slice(-10)+" 00000 n "):Ce[W]!==void 0?z((L+Ce[W]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Yn=h.__private__.buildDocument=function(){var L;ge=0,pe=0,Pe=[],Ce=[],_e=[],qe=Ee(),Je=Ee(),B(Pe),In.publish("buildDocument"),Pn(),be(),(function(){In.publish("putAdditionalObjects");for(var ue=0;ue<_e.length;ue++){var ye=_e[ue];Ye(ye.objId,!0),z(ye.content),z("endobj")}In.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var ue in Zt)Zt.hasOwnProperty(ue)&&(u===!1||u===!0&&f.hasOwnProperty(ue))&&Fe(Zt[ue])})(),(function(){var ue;for(ue in Ht)Ht.hasOwnProperty(ue)&&rt(Ht[ue])})(),(function(){for(var ue in oe)oe.hasOwnProperty(ue)&&Z(oe[ue])})(),(function(ue){var ye;for(ye in Ft)Ft.hasOwnProperty(ye)&&(Ft[ye]instanceof To?at(Ft[ye]):Ft[ye]instanceof vs&&gt(Ft[ye],ue))})(L),In.publish("putResources"),L.forEach(kt),kt({resourcesOid:Je,objectOid:Number.MAX_SAFE_INTEGER}),In.publish("postPutResources"),d!==null&&(fr.oid=Xe(),z("<<"),z("/Filter /Standard"),z("/V "+fr.v),z("/R "+fr.r),z("/U <"+fr.toHexString(fr.U)+">"),z("/O <"+fr.toHexString(fr.O)+">"),z("/P "+fr.P),z(">>"),z("endobj")),Un(),Kn();var W=pe;return Ia(),lr(),z("startxref"),z(""+W),z("%%EOF"),B(Oe[H]),Pe.join(`
`)},Ei=h.__private__.getBlob=function(L){return new Blob([se(L)],{type:"application/pdf"})},aa=h.output=h.__private__.output=(He=function(L,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",L){case void 0:return Yn();case"save":h.save(W.filename);break;case"arraybuffer":return se(Yn());case"blob":return Ei(Yn());case"bloburi":case"bloburl":if(an.URL!==void 0&&typeof an.URL.createObjectURL=="function")return an.URL&&an.URL.createObjectURL(Ei(Yn()))||void 0;Gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ye=Yn();try{ue=Gg(ye)}catch{ue=Gg(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+W.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Te=W.pdfObjectUrl,tt="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",$t=an.open();return $t!==null&&$t.document.write(lt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(an)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',ln=an.open();if(ln!==null){ln.document.write(jt);var An=this;ln.document.documentElement.querySelector("#pdfViewer").onload=function(){ln.document.title=W.filename,ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(an)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',ir=an.open();if(ir!==null&&(ir.document.write(Mn),ir.document.title=W.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return an.document.location.href=this.output("datauristring",W);default:return null}},He.foo=function(){try{return He.apply(this,arguments)}catch(ue){var L=ue.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var W="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ue.message;if(!an.console)throw new Error(W);an.console.error(W,ue),an.alert&&alert(W)}},He.foo.bar=He,He.foo),Dr=function(L){return Array.isArray(S)===!0&&S.indexOf(L)>-1};switch(i){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ut=i}var fr=null;ne(),ae();var Zr=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[L].objId,pageNumber:L,pageContext:Gt[L]}},rc=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Gt)if(Gt[W].objId===L)break;return Zr(W)},Th=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Gt[H].objId,pageNumber:H,pageContext:Gt[H]}};h.addPage=function(){return fn.apply(this,arguments),this},h.setPage=function(){return Wt.apply(this,arguments),B.call(this,Oe[H]),this},h.insertPage=function(L){return this.addPage(),this.movePage(H,L),this},h.movePage=function(L,W){var ue,ye;if(L>W){ue=Oe[L],ye=Gt[L];for(var Te=L;Te>W;Te--)Oe[Te]=Oe[Te-1],Gt[Te]=Gt[Te-1];Oe[W]=ue,Gt[W]=ye,this.setPage(W)}else if(L<W){ue=Oe[L],ye=Gt[L];for(var tt=L;tt<W;tt++)Oe[tt]=Oe[tt+1],Gt[tt]=Gt[tt+1];Oe[W]=ue,Gt[W]=ye,this.setPage(W)}return this},h.deletePage=function(){return sr.apply(this,arguments),this},h.__private__.text=h.text=function(L,W,ue,ye,Te){var tt,lt,$t,jt,ln,An,Mn,ir,xr,Vn=(ye=ye||{}).scope||this;if(typeof L=="number"&&typeof W=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Cr=ue;ue=W,W=L,L=Cr}if(arguments[3]instanceof we==0?($t=arguments[4],jt=arguments[5],zn(Mn=arguments[3])==="object"&&Mn!==null||(typeof $t=="string"&&(jt=$t,$t=null),typeof Mn=="string"&&(jt=Mn,Mn=null),typeof Mn=="number"&&($t=Mn,Mn=null),ye={flags:Mn,angle:$t,align:jt})):(I("The transform parameter of text() with a Matrix value"),xr=Te),isNaN(W)||isNaN(ue)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Vn;var kr,Er="",ua=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:uo,$i=Vn.internal.scaleFactor;function fa(En){return En=En.split("	").join(Array(ye.TabLen||9).join(" ")),Rt(En,Mn)}function Ws(En){for(var qn,gr=En.concat(),Lr=[],Aa=gr.length;Aa--;)typeof(qn=gr.shift())=="string"?Lr.push(qn):Array.isArray(En)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Lr.push(qn[0]):Lr.push([qn[0],qn[1],qn[2]]);return Lr}function Jo(En,qn){var gr;if(typeof En=="string")gr=qn(En)[0];else if(Array.isArray(En)){for(var Lr,Aa,Ks=En.concat(),es=[],pc=Ks.length;pc--;)typeof(Lr=Ks.shift())=="string"?es.push(qn(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(Aa=qn(Lr[0],Lr[1],Lr[2]),es.push([Aa[0],Aa[1],Aa[2]]));gr=es}return gr}var Ba=!1,Ao=!0;if(typeof L=="string")Ba=!0;else if(Array.isArray(L)){var yo=L.concat();lt=[];for(var Da,Rr=yo.length;Rr--;)(typeof(Da=yo.shift())!="string"||Array.isArray(Da)&&typeof Da[0]!="string")&&(Ao=!1);Ba=Ao}if(Ba===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var mo=le/Vn.internal.scaleFactor,vo=mo*(ua-1);switch(ye.baseline){case"bottom":ue-=vo;break;case"top":ue+=mo-vo;break;case"hanging":ue+=mo-2*vo;break;case"middle":ue+=mo/2-vo}if((An=ye.maxWidth||0)>0&&(typeof L=="string"?L=Vn.splitTextToSize(L,An):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(En,qn){return En.concat(Vn.splitTextToSize(qn,An))},[]))),tt={text:L,x:W,y:ue,options:ye,mutex:{pdfEscape:Rt,activeFontKey:Ct,fonts:Zt,activeFontSize:le}},In.publish("preProcessText",tt),L=tt.text,$t=(ye=tt.options).angle,xr instanceof we==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,ye.rotationDirection===0&&($t=-$t),C===x&&($t=-$t);var js=Math.cos($t),qs=Math.sin($t);xr=new we(js,qs,-qs,js,0,0)}else $t&&$t instanceof we&&(xr=$t);C!==x||xr||(xr=X),(ln=ye.charSpace||la)!==void 0&&(Er+=E(D(ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=ye.horizontalScale)!==void 0&&(Er+=E(100*ir)+` Tz
`),ye.lang;var Yr=-1,pa=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,Ko=Vn.internal.getCurrentPageInfo().pageContext;switch(pa){case 0:case!1:case"fill":Yr=0;break;case 1:case!0:case"stroke":Yr=1;break;case 2:case"fillThenStroke":Yr=2;break;case 3:case"invisible":Yr=3;break;case 4:case"fillAndAddForClipping":Yr=4;break;case 5:case"strokeAndAddPathForClipping":Yr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yr=6;break;case 7:case"addToPathForClipping":Yr=7}var uc=Ko.usedRenderingMode!==void 0?Ko.usedRenderingMode:-1;Yr!==-1?Er+=Yr+` Tr
`:uc!==-1&&(Er+=`0 Tr
`),Yr!==-1&&(Ko.usedRenderingMode=Yr),jt=ye.align||"left";var Li,bo=le*ua,Xs=Vn.internal.pageSize.getWidth(),Gs=Zt[Ct];ln=ye.charSpace||la,An=ye.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Ea=[],wo=function(En){return Vn.getStringUnitWidth(En,{font:Gs,charSpace:ln,fontSize:le,doKerning:!1})*le/$i};if(Object.prototype.toString.call(L)==="[object Array]"){var li;lt=Ws(L),jt!=="left"&&(Li=lt.map(wo));var ci,Ra=0;if(jt==="right"){W-=Li[0],L=[],Rr=lt.length;for(var ga=0;ga<Rr;ga++)ga===0?(ci=oa(W),li=sa(ue)):(ci=D(Ra-Li[ga]),li=-bo),L.push([lt[ga],ci,li]),Ra=Li[ga]}else if(jt==="center"){W-=Li[0]/2,L=[],Rr=lt.length;for(var $a=0;$a<Rr;$a++)$a===0?(ci=oa(W),li=sa(ue)):(ci=D((Ra-Li[$a])/2),li=-bo),L.push([lt[$a],ci,li]),Ra=Li[$a]}else if(jt==="left"){L=[],Rr=lt.length;for(var Hs=0;Hs<Rr;Hs++)L.push(lt[Hs])}else if(jt==="justify"&&Gs.encoding==="Identity-H"){L=[],Rr=lt.length,An=An!==0?An:Xs;for(var Zo=0,pr=0;pr<Rr;pr++)if(li=pr===0?sa(ue):-bo,ci=pr===0?oa(W):Zo,pr<Rr-1){var fc=D((An-Li[pr])/(lt[pr].split(" ").length-1)),Yi=lt[pr].split(" ");L.push([Yi[0]+" ",ci,li]),Zo=0;for(var Vi=1;Vi<Yi.length;Vi++){var Ys=(wo(Yi[Vi-1]+" "+Yi[Vi])-wo(Yi[Vi]))*$i+fc;Vi==Yi.length-1?L.push([Yi[Vi],Ys,0]):L.push([Yi[Vi]+" ",Ys,0]),Zo-=Ys}}else L.push([lt[pr],ci,li]);L.push(["",Zo,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Rr=lt.length,An=An!==0?An:Xs,pr=0;pr<Rr;pr++){li=pr===0?sa(ue):-bo,ci=pr===0?oa(W):0;var Vs=lt[pr].split(" ").length-1,Qs=Vs>0?(An-Li[pr])/Vs:0;pr<Rr-1?Ea.push(E(D(Qs))):Ea.push(0),L.push([lt[pr],ci,li])}}}(typeof ye.R2L=="boolean"?ye.R2L:me)===!0&&(L=Jo(L,function(En,qn,gr){return[En.split("").reverse().join(""),qn,gr]})),tt={text:L,x:W,y:ue,options:ye,mutex:{pdfEscape:Rt,activeFontKey:Ct,fonts:Zt,activeFontSize:le}},In.publish("postProcessText",tt),L=tt.text,kr=tt.mutex.isHex||!1;var Js=Zt[Ct].encoding;Js!=="WinAnsiEncoding"&&Js!=="StandardEncoding"||(L=Jo(L,function(En,qn,gr){return[fa(En),qn,gr]})),lt=Ws(L),L=[];for(var Fa,Oa,za,xo=Array.isArray(lt[0])?1:0,Ua="",ko=function(En,qn,gr){var Lr="";return gr instanceof we?(gr=typeof ye.angle=="number"?fe(gr,new we(1,0,0,1,En,qn)):fe(new we(1,0,0,1,En,qn),gr),C===x&&(gr=fe(new we(1,0,0,-1,0,0),gr)),Lr=gr.join(" ")+` Tm
`):Lr=E(En)+" "+E(qn)+` Td
`,Lr},Pi=0;Pi<lt.length;Pi++){switch(Ua="",xo){case 1:za=(kr?"<":"(")+lt[Pi][0]+(kr?">":")"),Fa=parseFloat(lt[Pi][1]),Oa=parseFloat(lt[Pi][2]);break;case 0:za=(kr?"<":"(")+lt[Pi]+(kr?">":")"),Fa=oa(W),Oa=sa(ue)}Ea!==void 0&&Ea[Pi]!==void 0&&(Ua=Ea[Pi]+` Tw
`),Pi===0?L.push(Ua+ko(Fa,Oa,xr)+za):xo===0?L.push(Ua+za):xo===1&&L.push(Ua+ko(Fa,Oa,xr)+za)}L=xo===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Qi=`BT
/`;return Qi+=Ct+" "+le+` Tf
`,Qi+=E(le*ua)+` TL
`,Qi+=fo+`
`,Qi+=Er,Qi+=L,z(Qi+="ET"),f[Ct]=!0,Vn};var Ih=h.__private__.clip=h.clip=function(L){return z(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ih("evenodd")},h.__private__.discardPath=h.discardPath=function(){return z("n"),this};var Hi=h.__private__.isValidStyle=function(L){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(W=!0),W};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return Hi(L)&&(s=L),this};var ic=h.__private__.getStyle=h.getStyle=function(L){var W=s;switch(L){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=L}return W},ac=h.close=function(){return z("h"),this};h.stroke=function(){return z("S"),this},h.fill=function(L){return Yo("f",L),this},h.fillEvenOdd=function(L){return Yo("f*",L),this},h.fillStroke=function(L){return Yo("B",L),this},h.fillStrokeEvenOdd=function(L){return Yo("B*",L),this};var Yo=function(L,W){zn(W)==="object"?Dh(W,L):z(L)},ho=function(L){L===null||C===x&&L===void 0||(L=ic(L),z(L))};function Bh(L,W,ue,ye,Te){var tt=new vs(W||this.boundingBox,ue||this.xStep,ye||this.yStep,this.gState,Te||this.matrix);tt.stream=this.stream;var lt=L+"$$"+this.cloneIndex+++"$$";return Ue(lt,tt),tt}var Dh=function(L,W){var ue=Tn[L.key],ye=Ft[ue];if(ye instanceof To)z("q"),z(Eh(W)),ye.gState&&h.setGState(ye.gState),z(L.matrix.toString()+" cm"),z("/"+ue+" sh"),z("Q");else if(ye instanceof vs){var Te=new we(1,0,0,-1,0,go());L.matrix&&(Te=Te.multiply(L.matrix||X),ue=Bh.call(ye,L.key,L.boundingBox,L.xStep,L.yStep,Te).id),z("q"),z("/Pattern cs"),z("/"+ue+" scn"),ye.gState&&h.setGState(ye.gState),z(W),z("Q")}},Eh=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ds=h.moveTo=function(L,W){return z(E(D(L))+" "+E(k(W))+" m"),this},oc=h.lineTo=function(L,W){return z(E(D(L))+" "+E(k(W))+" l"),this},Ri=h.curveTo=function(L,W,ue,ye,Te,tt){return z([E(D(L)),E(k(W)),E(D(ue)),E(k(ye)),E(D(Te)),E(k(tt)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,W,ue,ye,Te){if(isNaN(L)||isNaN(W)||isNaN(ue)||isNaN(ye)||!Hi(Te))throw new Error("Invalid arguments passed to jsPDF.line");return C===v?this.lines([[ue-L,ye-W]],L,W,[1,1],Te||"S"):this.lines([[ue-L,ye-W]],L,W,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,W,ue,ye,Te,tt){var lt,$t,jt,ln,An,Mn,ir,xr,Vn,Cr,kr,Er;if(typeof L=="number"&&(Er=ue,ue=W,W=L,L=Er),ye=ye||[1,1],tt=tt||!1,isNaN(W)||isNaN(ue)||!Array.isArray(L)||!Array.isArray(ye)||!Hi(Te)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ds(W,ue),lt=ye[0],$t=ye[1],ln=L.length,Cr=W,kr=ue,jt=0;jt<ln;jt++)(An=L[jt]).length===2?(Cr=An[0]*lt+Cr,kr=An[1]*$t+kr,oc(Cr,kr)):(Mn=An[0]*lt+Cr,ir=An[1]*$t+kr,xr=An[2]*lt+Cr,Vn=An[3]*$t+kr,Cr=An[4]*lt+Cr,kr=An[5]*$t+kr,Ri(Mn,ir,xr,Vn,Cr,kr));return tt&&ac(),ho(Te),this},h.path=function(L){for(var W=0;W<L.length;W++){var ue=L[W],ye=ue.c;switch(ue.op){case"m":Ds(ye[0],ye[1]);break;case"l":oc(ye[0],ye[1]);break;case"c":Ri.apply(this,ye);break;case"h":ac()}}return this},h.__private__.rect=h.rect=function(L,W,ue,ye,Te){if(isNaN(L)||isNaN(W)||isNaN(ue)||isNaN(ye)||!Hi(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return C===v&&(ye=-ye),z([E(D(L)),E(k(W)),E(D(ue)),E(D(ye)),"re"].join(" ")),ho(Te),this},h.__private__.triangle=h.triangle=function(L,W,ue,ye,Te,tt,lt){if(isNaN(L)||isNaN(W)||isNaN(ue)||isNaN(ye)||isNaN(Te)||isNaN(tt)||!Hi(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-L,ye-W],[Te-ue,tt-ye],[L-Te,W-tt]],L,W,[1,1],lt,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,W,ue,ye,Te,tt,lt){if(isNaN(L)||isNaN(W)||isNaN(ue)||isNaN(ye)||isNaN(Te)||isNaN(tt)||!Hi(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*ue),tt=Math.min(tt,.5*ye),this.lines([[ue-2*Te,0],[Te*$t,0,Te,tt-tt*$t,Te,tt],[0,ye-2*tt],[0,tt*$t,-Te*$t,tt,-Te,tt],[2*Te-ue,0],[-Te*$t,0,-Te,-tt*$t,-Te,-tt],[0,2*tt-ye],[0,-tt*$t,Te*$t,-tt,Te,-tt]],L+Te,W,[1,1],lt,!0),this},h.__private__.ellipse=h.ellipse=function(L,W,ue,ye,Te){if(isNaN(L)||isNaN(W)||isNaN(ue)||isNaN(ye)||!Hi(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*ue,lt=4/3*(Math.SQRT2-1)*ye;return Ds(L+ue,W),Ri(L+ue,W-lt,L+tt,W-ye,L,W-ye),Ri(L-tt,W-ye,L-ue,W-lt,L-ue,W),Ri(L-ue,W+lt,L-tt,W+ye,L,W+ye),Ri(L+tt,W+ye,L+ue,W+lt,L+ue,W),ho(Te),this},h.__private__.circle=h.circle=function(L,W,ue,ye){if(isNaN(L)||isNaN(W)||isNaN(ue)||!Hi(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,W,ue,ue,ye)},h.setFont=function(L,W,ue){return ue&&(W=O(W,ue)),Ct=mn(L,W,{disableWarning:!1}),this};var Rh=h.__private__.getFont=h.getFont=function(){return Zt[mn.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,W,ue={};for(L in nn)if(nn.hasOwnProperty(L))for(W in ue[L]=[],nn[L])nn[L].hasOwnProperty(W)&&ue[L].push(W);return ue},h.addFont=function(L,W,ue,ye,Te){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(ue=O(ue,ye)),mt.call(this,L,W,ue,Te=Te||"Identity-H")};var uo,Es=e.lineWidth||.200025,$h=h.__private__.getLineWidth=h.getLineWidth=function(){return Es},dn=h.__private__.setLineWidth=h.setLineWidth=function(L){return Es=L,z(E(D(L))+" w"),this};h.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(L,W){if(L=L||[],W=W||0,isNaN(W)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ue){return E(D(ue))}).join(" "),W=E(D(W)),z("["+L+"] "+W+" d"),this};var Fh=h.__private__.getLineHeight=h.getLineHeight=function(){return le*uo};h.__private__.getLineHeight=h.getLineHeight=function(){return le*uo};var Oh=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(uo=L),this},zh=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return uo};Oh(e.lineHeight);var oa=h.__private__.getHorizontalCoordinate=function(L){return D(L)},sa=h.__private__.getVerticalCoordinate=function(L){return C===x?L:Gt[H].mediaBox.topRightY-Gt[H].mediaBox.bottomLeftY-D(L)},Uh=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return E(oa(L))},Wh=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return E(sa(L))},Vo=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return vt(Vo)},h.__private__.setStrokeColor=h.setDrawColor=function(L,W,ue,ye){return Vo=pt({ch1:L,ch2:W,ch3:ue,ch4:ye,pdfColorType:"draw",precision:2}),z(Vo),this};var Rs=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return vt(Rs)},h.__private__.setFillColor=h.setFillColor=function(L,W,ue,ye){return Rs=pt({ch1:L,ch2:W,ch3:ue,ch4:ye,pdfColorType:"fill",precision:2}),z(Rs),this};var fo=e.textColor||"0 g",jh=h.__private__.getTextColor=h.getTextColor=function(){return vt(fo)};h.__private__.setTextColor=h.setTextColor=function(L,W,ue,ye){return fo=pt({ch1:L,ch2:W,ch3:ue,ch4:ye,pdfColorType:"text",precision:3}),this};var la=e.charSpace,qh=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(la||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return la=L,this};var $s=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var W=h.CapJoinStyles[L];if(W===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $s=W,z(W+" J"),this};var Fs=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var W=h.CapJoinStyles[L];if(W===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fs=W,z(W+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(E(D(L))+" M"),this},h.GState=Jd,h.setGState=function(L){(L=typeof L=="string"?Ht[en[L]]:sc(null,L)).equals($n)||(z("/"+L.id+" gs"),$n=L)};var sc=function(L,W){if(!L||!en[L]){var ue=!1;for(var ye in Ht)if(Ht.hasOwnProperty(ye)&&Ht[ye].equals(W)){ue=!0;break}if(ue)W=Ht[ye];else{var Te="GS"+(Object.keys(Ht).length+1).toString(10);Ht[Te]=W,W.id=Te}return L&&(en[L]=W.id),In.publish("addGState",W),W}};h.addGState=function(L,W){return sc(L,W),this},h.saveGraphicsState=function(){return z("q"),yn.push({key:Ct,size:le,color:fo}),this},h.restoreGraphicsState=function(){z("Q");var L=yn.pop();return Ct=L.key,le=L.size,fo=L.color,$n=null,this},h.setCurrentTransformationMatrix=function(L){return z(L.toString()+" cm"),this},h.comment=function(L){return z("#"+L),this};var ca=function(L,W){var ue=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(tt){isNaN(tt)||(ue=parseFloat(tt))}});var ye=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(tt){isNaN(tt)||(ye=parseFloat(tt))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(tt){Te=tt.toString()}}),this},Os=function(L,W,ue,ye){ca.call(this,L,W),this.type="rect";var Te=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(lt){isNaN(lt)||(Te=parseFloat(lt))}});var tt=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(lt){isNaN(lt)||(tt=parseFloat(lt))}}),this},Qo=function(){this.page=rn,this.currentPage=H,this.pages=Oe.slice(0),this.pagesContext=Gt.slice(0),this.x=_t,this.y=Nn,this.matrix=Dt,this.width=Us(H),this.height=cc(H),this.outputDestination=et,this.id="",this.objectNumber=-1};Qo.prototype.restore=function(){rn=this.page,H=this.currentPage,Gt=this.pagesContext,Oe=this.pages,_t=this.x,Nn=this.y,Dt=this.matrix,lc(H,this.width),da(H,this.height),et=this.outputDestination};var zs=function(L,W,ue,ye,Te){Ae.push(new Qo),rn=H=0,Oe=[],_t=L,Nn=W,Dt=Te,St([ue,ye])};for(var po in h.beginFormObject=function(L,W,ue,ye,Te){return zs(L,W,ue,ye,Te),this},h.endFormObject=function(L){return(function(W){if(Me[W])Ae.pop().restore();else{var ue=new Qo,ye="Xo"+(Object.keys(oe).length+1).toString(10);ue.id=ye,Me[W]=ye,oe[ye]=ue,In.publish("addFormObject",ue),Ae.pop().restore()}})(L),this},h.doFormObject=function(L,W){var ue=oe[Me[L]];return z("q"),z(W.toString()+" cm"),z("/"+ue.id+" Do"),z("Q"),this},h.getFormObject=function(L){var W=oe[Me[L]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},h.save=function(L,W){return L=L||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(No(Ei(Yn()),L),typeof No.unload=="function"&&an.setTimeout&&setTimeout(No.unload,911),this):new Promise(function(ue,ye){try{var Te=No(Ei(Yn()),L);typeof No.unload=="function"&&an.setTimeout&&setTimeout(No.unload,911),ue(Te)}catch(tt){ye(tt.message)}})},qt.API)qt.API.hasOwnProperty(po)&&(po==="events"&&qt.API.events.length?(function(L,W){var ue,ye,Te;for(Te=W.length-1;Te!==-1;Te--)ue=W[Te][0],ye=W[Te][1],L.subscribe.apply(L,[ue].concat(typeof ye=="function"?[ye]:ye))})(In,qt.API.events):h[po]=qt.API[po]);function Us(L){return Gt[L].mediaBox.topRightX-Gt[L].mediaBox.bottomLeftX}function lc(L,W){Gt[L].mediaBox.topRightX=W+Gt[L].mediaBox.bottomLeftX}function cc(L){return Gt[L].mediaBox.topRightY-Gt[L].mediaBox.bottomLeftY}function da(L,W){Gt[L].mediaBox.topRightY=W+Gt[L].mediaBox.bottomLeftY}var ha=h.getPageWidth=function(L){return Us(L=L||H)/Ut},dc=h.setPageWidth=function(L,W){lc(L,W*Ut)},go=h.getPageHeight=function(L){return cc(L=L||H)/Ut},hc=h.setPageHeight=function(L,W){da(L,W*Ut)};return h.internal={pdfEscape:Rt,getStyle:ic,getFont:Rh,getFontSize:Be,getCharSpace:qh,getTextColor:jh,getLineHeight:Fh,getLineHeightFactor:zh,getLineWidth:$h,write:ve,getHorizontalCoordinate:oa,getVerticalCoordinate:sa,getCoordinateString:Uh,getVerticalCoordinateString:Wh,collections:{},newObject:Xe,newAdditionalObject:Ve,newObjectDeferred:Ee,newObjectDeferredBegin:Ye,getFilters:ft,putStream:Ge,events:In,scaleFactor:Ut,pageSize:{getWidth:function(){return ha(H)},setWidth:function(L){dc(H,L)},getHeight:function(){return go(H)},setHeight:function(L){hc(H,L)}},encryptionOptions:d,encryption:fr,getEncryptor:function(L){return d!==null?fr.encryptor(L,0):function(W){return W}},output:aa,getNumberOfPages:wr,get pages(){return Oe},out:z,f2:R,f3:P,getPageInfo:Zr,getPageInfoByObjId:rc,getCurrentPageInfo:Th,getPDFVersion:p,Point:ca,Rectangle:Os,Matrix:we,hasHotfix:Dr},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ha(H)},set:function(L){dc(H,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return go(H)},set:function(L){hc(H,L)},enumerable:!0,configurable:!0}),(function(L){for(var W=0,ue=K.length;W<ue;W++){var ye=mt.call(this,L[W][0],L[W][1],L[W][2],K[W][3],!0);u===!1&&(f[ye]=!0);var Te=L[W][0].split("-");It({id:ye,fontName:Te[0],fontStyle:Te[1]||""})}In.publish("addFonts",{fonts:Zt,dictionary:nn})}).call(h,K),Ct="F1",fn(r,n),In.publish("initialized"),h}gs.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},gs.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gs.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},gs.prototype.processOwnerPassword=function(e,t){return Df(Bf(t).substr(0,5),e)},gs.prototype.encryptor=function(e,t){var n=Bf(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Df(n,i)}},Jd.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||zn(e)!==zn(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},qt.API={events:[]},qt.version="4.0.0";var ur=qt.API,Bp=1,Ho=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ss=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(e){return e.toFixed(2)},Va=function(e){return e.toFixed(5)};ur.__acroform__={};var si=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Qg=function(e){return e*Bp},Ki=function(e){var t=new em,n=Et.internal.getHeight(e)||0,i=Et.internal.getWidth(e)||0;return t.BBox=[0,0,Number(un(i)),Number(un(n))],t},f8=ur.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},p8=ur.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},g8=ur.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},mr=ur.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g8(e,t-1)},vr=ur.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return f8(e,t-1)},br=ur.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p8(e,t-1)},A8=ur.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=n(r)||0,c.lowerLeft_Y=i(a+o)||0,c.upperRight_X=n(r+l)||0,c.upperRight_Y=i(a)||0,[Number(un(c.lowerLeft_X)),Number(un(c.lowerLeft_Y)),Number(un(c.upperRight_X)),Number(un(c.upperRight_Y))]},y8=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=Ef(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+un(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ki(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Ef=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(R){return R.split(`
`)}):r.map(function(R){return[R]});var a=n,l=Et.internal.getHeight(e)||0;l=l<0?-l:l;var o=Et.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(R,P,D){if(R+1<r.length){var k=P+" "+r[R+1][0];return Yc(k,e,D).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var s,d,u=Yc("3",e,a).height,f=e.multiline?l-a:(l-u)/2,h=f+=2,g=0,p=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Yc(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var A="",v=0,x=0;x<r.length;x++)if(r.hasOwnProperty(x)){var C=!1;if(r[x].length!==1&&y!==r[x].length-1){if((u+2)*(v+2)+2>l)continue e;A+=r[x][y],C=!0,p=x,x--}else{A=(A+=r[x][y]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var _=parseInt(x),F=c(_,A,a),O=x>=r.length-1;if(F&&!O){A+=" ",y=0;continue}if(F||O){if(O)p=_;else if(e.multiline&&(u+2)*(v+2)+2>l)continue e}else{if(!e.multiline||(u+2)*(v+2)+2>l)continue e;p=_}}for(var E="",I=g;I<=p;I++){var q=r[I];if(e.multiline){if(I===p){E+=q[y]+" ",y=(y+1)%q.length;continue}if(I===g){E+=q[q.length-1]+" ";continue}}E+=q[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Yc(E,e,a).width,e.textAlign){case"right":s=o-d-2;break;case"center":s=(o-d)/2;break;default:s=2}t+=un(s)+" "+un(h)+` Td
`,t+="("+Ho(E)+`) Tj
`,t+=-un(s)+` 0 Td
`,h=-(a+2),d=0,g=C?p:p+1,v++,A=""}break}return i.text=t,i.fontSize=a,i},Yc=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},m8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},v8=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},b8=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Xi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(m8)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bp=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tm,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&v8(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var l in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var o=i[l],c=[],s=o.Rect;if(o.Rect&&(o.Rect=A8(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Et.createDefaultAppearanceStream(o),zn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=y8(o);c.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var u="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var l in h)if(h.hasOwnProperty(l)){var g=h[l];typeof g=="function"&&(g=g.call(r,o)),u+="/"+l+" "+g+" ",r.internal.acroformPlugin.xForms.indexOf(g)>=0||r.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(r,o)),u+="/"+l+" "+g,r.internal.acroformPlugin.xForms.indexOf(g)>=0||r.internal.acroformPlugin.xForms.push(g);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:o.objId}),r.internal.out("endobj")}a&&(function(p,y){for(var A in p)if(p.hasOwnProperty(A)){var v=A,x=p[A];y.internal.newObjectDeferredBegin(x.objId,!0),zn(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete p[v]}})(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Z2=ur.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(l){return l};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),zn(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+Ho(i(e[a].toString()))+")"):r+=e[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zu=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Ho(i(e))+")"},ta=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ta.prototype.toString=function(){return this.objId+" 0 R"},ta.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ta.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Z2(r,this.objId,this.scope)}):r instanceof ta?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var em=function(){ta.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};si(em,ta);var tm=function(){ta.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ho(n(e))+")"}},set:function(n){e=n}})};si(tm,ta);var Xi=function e(){ta.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mr(t,3)},set:function(A){A?this.F=vr(t,3):this.F=br(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');n=A}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(A){i=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(A){i[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(A){i[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(A){i[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(A){i[3]=A}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Kd)return;a="FieldObject"+e.FieldNum++}var A=function(v){return v};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Ho(A(a))+")"},set:function(A){a=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(A){a=A}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var s=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return s===void 0?50/Bp:s},set:function(A){s=A}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Kd||this instanceof zo))return zu(u,this.objId,this.scope)},set:function(A){A=A.toString(),u=A}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Tr==0?zu(f,this.objId,this.scope):f},set:function(A){A=A.toString(),f=this instanceof Tr==0?A.substr(0,1)==="("?ss(A.substr(1,A.length-2)):ss(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr==1?ss(f.substr(1,f.length-1)):f},set:function(A){A=A.toString(),f=this instanceof Tr==1?"/"+A:A}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Tr==0?zu(h,this.objId,this.scope):h},set:function(A){A=A.toString(),h=this instanceof Tr==0?A.substr(0,1)==="("?ss(A.substr(1,A.length-2)):ss(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr==1?ss(h.substr(1,h.length-1)):h},set:function(A){A=A.toString(),h=this instanceof Tr==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){A=!!A,p=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(A){g=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,1)},set:function(A){A?this.Ff=vr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,2)},set:function(A){A?this.Ff=vr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,3)},set:function(A){A?this.Ff=vr(this.Ff,3):this.Ff=br(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');y=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(y){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};si(Xi,ta);var Cs=function(){Xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z2(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=(function(a,l,o){o||(o=1);for(var c,s=[];c=l.exec(a);)s.push(c[o]);return s})(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,18)},set:function(n){n?this.Ff=vr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,20)},set:function(n){n?(this.Ff=vr(this.Ff,20),t.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,22)},set:function(n){n?this.Ff=vr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(n){n?this.Ff=vr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,27)},set:function(n){n?this.Ff=vr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};si(Cs,Xi);var Ls=function(){Cs.call(this),this.fontName="helvetica",this.combo=!1};si(Ls,Cs);var Ps=function(){Ls.call(this),this.combo=!0};si(Ps,Ls);var yd=function(){Ps.call(this),this.edit=!0};si(yd,Ps);var Tr=function(){Xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,15)},set:function(n){n?this.Ff=vr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,16)},set:function(n){n?this.Ff=vr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,17)},set:function(n){n?this.Ff=vr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(n){n?this.Ff=vr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Ho(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){zn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};si(Tr,Xi);var md=function(){Tr.call(this),this.pushButton=!0};si(md,Tr);var Ms=function(){Tr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};si(Ms,Tr);var Kd=function(){var e,t;Xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+Ho(r(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){zn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};si(Kd,Xi),Ms.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ms.prototype.createOption=function(e){var t=new Kd;return t.Parent=this,t.optionName=e,this.Kids.push(t),w8.call(this.scope,t),t};var vd=function(){Tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};si(vd,Tr);var zo=function(){Xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,13)},set:function(t){t?this.Ff=vr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,21)},set:function(t){t?this.Ff=vr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(t){t?this.Ff=vr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,24)},set:function(t){t?this.Ff=vr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,25)},set:function(t){t?this.Ff=vr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(t){t?this.Ff=vr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};si(zo,Xi);var bd=function(){zo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,14)},set:function(e){e?this.Ff=vr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};si(bd,zo);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=Ef(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+un(Et.internal.getWidth(e))+" "+un(Et.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+un(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=Et.internal.getHeight(e),l=Et.internal.getWidth(e),o=Ef(e,e.caption);return r.push("1 g"),r.push("0 0 "+un(l)+" "+un(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+un(l-1)+" "+un(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+un(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Et.internal.getWidth(e))+" "+un(Et.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Et.RadioButton.Circle.YesNormal,t.D[e]=Et.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=[],i=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Et.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Va(Et.internal.getWidth(e)/2)+" "+Va(Et.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],i=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Et.internal.Bezier_C).toFixed(5)),l=Number((i*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Et.internal.getWidth(e)/2)+" "+Va(Et.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Va(Et.internal.getWidth(e)/2)+" "+Va(Et.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],i=Et.internal.getWidth(e)<=Et.internal.getHeight(e)?Et.internal.getWidth(e)/4:Et.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Et.internal.getWidth(e)/2)+" "+Va(Et.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Et.RadioButton.Cross.YesNormal,t.D[e]=Et.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=[],i=Et.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+un(Et.internal.getWidth(e)-2)+" "+un(Et.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(un(i.x1.x)+" "+un(i.x1.y)+" m"),n.push(un(i.x2.x)+" "+un(i.x2.y)+" l"),n.push(un(i.x4.x)+" "+un(i.x4.y)+" m"),n.push(un(i.x3.x)+" "+un(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=Et.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+un(Et.internal.getWidth(e))+" "+un(Et.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+un(Et.internal.getWidth(e)-2)+" "+un(Et.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(un(n.x1.x)+" "+un(n.x1.y)+" m"),i.push(un(n.x2.x)+" "+un(n.x2.y)+" l"),i.push(un(n.x4.x)+" "+un(n.x4.y)+" m"),i.push(un(n.x3.x)+" "+un(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+un(Et.internal.getWidth(e))+" "+un(Et.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Et.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Et.internal.getWidth(e),n=Et.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Et.internal.getWidth=function(e){var t=0;return zn(e)==="object"&&(t=Qg(e.Rect[2])),t},Et.internal.getHeight=function(e){var t=0;return zn(e)==="object"&&(t=Qg(e.Rect[3])),t};var w8=ur.addField=function(e){if(b8(this,e),!(e instanceof Xi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=Cs,ur.AcroFormListBox=Ls,ur.AcroFormComboBox=Ps,ur.AcroFormEditBox=yd,ur.AcroFormButton=Tr,ur.AcroFormPushButton=md,ur.AcroFormRadioButton=Ms,ur.AcroFormCheckBox=vd,ur.AcroFormTextField=zo,ur.AcroFormPasswordField=bd,ur.AcroFormAppearance=Et,ur.AcroForm={ChoiceField:Cs,ListBox:Ls,ComboBox:Ps,EditBox:yd,Button:Tr,PushButton:md,RadioButton:Ms,CheckBox:vd,TextField:zo,PasswordField:bd,Appearance:Et},qt.AcroForm={ChoiceField:Cs,ListBox:Ls,ComboBox:Ps,EditBox:yd,Button:Tr,PushButton:md,RadioButton:Ms,CheckBox:vd,TextField:zo,PasswordField:bd,Appearance:Et};qt.AcroForm;function nm(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(R,P){var D,k,U,ce,Q,ae=n;if((P=P||n)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(F(R))for(Q in i)for(U=i[Q],D=0;D<U.length;D+=1){for(ce=!0,k=0;k<U[D].length;k+=1)if(U[D][k]!==void 0&&U[D][k]!==R[k]){ce=!1;break}if(ce===!0){ae=Q;break}}else for(Q in i)for(U=i[Q],D=0;D<U.length;D+=1){for(ce=!0,k=0;k<U[D].length;k+=1)if(U[D][k]!==void 0&&U[D][k]!==R.charCodeAt(k)){ce=!1;break}if(ce===!0){ae=Q;break}}return ae===n&&P!==n&&(ae=P),ae},a=function R(P){for(var D=this.internal.write,k=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:P.width}),ce.push({key:"Height",value:P.height}),P.colorSpace===A.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===A.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var Q="",ae=0,ie=P.transparency.length;ae<ie;ae++)Q+=P.transparency[ae]+" "+P.transparency[ae]+" ";ce.push({key:"Mask",value:"["+Q+"]"})}P.sMask!==void 0&&ce.push({key:"SMask",value:P.objectId+1+" 0 R"});var Se=P.filter!==void 0?["/"+P.filter]:void 0;if(k({data:P.data,additionalKeyValues:ce,alreadyAppliedFilters:Se,objectId:P.objectId}),D("endobj"),"sMask"in P&&P.sMask!==void 0){var ne,N=(ne=P.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:P.bitsPerComponent,H={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:P.sMask};"filter"in P&&(H.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(P.width),H.filter=P.filter),R.call(this,H)}if(P.colorSpace===A.INDEXED){var V=this.internal.newObject();k({data:E(new Uint8Array(P.palette)),objectId:V}),D("endobj")}},l=function(){var R=this.internal.collections[t+"images"];for(var P in R)a.call(this,R[P])},o=function(){var R,P=this.internal.collections[t+"images"],D=this.internal.write;for(var k in P)D("/I"+(R=P[k]).index,R.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},s=function(){var R=this.internal.collections[t+"images"];return c.call(this),R},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(R){return typeof e["process"+R.toUpperCase()]=="function"},f=function(R){return zn(R)==="object"&&R.nodeType===1},h=function(R,P){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var D=""+R.getAttribute("src");if(D.indexOf("data:image/")===0)return Ad(unescape(D).split("base64,").pop());var k=e.loadFile(D,!0);if(k!==void 0)return k}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return Ad(R.toDataURL(U,1).split("base64,").pop())}},g=function(R){var P=this.internal.collections[t+"images"];if(P){for(var D in P)if(R===P[D].alias)return P[D]}},p=function(R,P,D){return R||P||(R=-96,P=-96),R<0&&(R=-1*D.width*72/R/this.internal.scaleFactor),P<0&&(P=-1*D.height*72/P/this.internal.scaleFactor),R===0&&(R=P*D.width/D.height),P===0&&(P=R*D.height/D.width),[R,P]},y=function(R,P,D,k,U,ce){var Q=p.call(this,D,k,U),ae=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,Se=s.call(this);if(D=Q[0],k=Q[1],Se[U.index]=U,ce){ce*=Math.PI/180;var ne=Math.cos(ce),N=Math.sin(ce),H=function(te){return te.toFixed(4)},V=[H(ne),H(N),H(-1*N),H(ne),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,ae(R),ie(P+k),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ae(D),"0","0",ae(k),"0","0","cm"].join(" "))):this.internal.write([ae(D),"0","0",ae(k),ae(R),ie(P+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(R){var P,D,k=0;if(typeof R=="string")for(D=R.length,P=0;P<D;P++)k=(k<<5)-k+R.charCodeAt(P),k|=0;else if(F(R))for(D=R.byteLength/2,P=0;P<D;P++)k=(k<<5)-k+R[P],k|=0;return k},C=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var P=!0;return R.length===0&&(P=!1),R.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(P=!1),P},_=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var P=R.indexOf(",");return P<0?null:R.substring(0,P).trim().endsWith("base64")?R.substring(P+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(R){for(var P=R.length,D=new Uint8Array(P),k=0;k<P;k++)D[k]=R.charCodeAt(k);return D},E=e.__addimage__.arrayBufferToBinaryString=function(R){for(var P="",D=F(R)?R:new Uint8Array(R),k=0;k<D.length;k+=8192)P+=String.fromCharCode.apply(null,D.subarray(k,k+8192));return P};e.addImage=function(){var R,P,D,k,U,ce,Q,ae,ie;if(typeof arguments[1]=="number"?(P=n,D=arguments[1],k=arguments[2],U=arguments[3],ce=arguments[4],Q=arguments[5],ae=arguments[6],ie=arguments[7]):(P=arguments[1],D=arguments[2],k=arguments[3],U=arguments[4],ce=arguments[5],Q=arguments[6],ae=arguments[7],ie=arguments[8]),zn(R=arguments[0])==="object"&&!f(R)&&"imageData"in R){var Se=R;R=Se.imageData,P=Se.format||P||n,D=Se.x||D||0,k=Se.y||k||0,U=Se.w||Se.width||U,ce=Se.h||Se.height||ce,Q=Se.alias||Q,ae=Se.compression||ae,ie=Se.rotation||Se.angle||ie}var ne=this.internal.getFilters();if(ae===void 0&&ne.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(D)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var N=I.call(this,R,P,Q,ae);return y.call(this,D,k,U,ce,N,ie),this};var I=function(R,P,D,k){var U,ce,Q;if(typeof R=="string"&&r(R)===n){R=unescape(R);var ae=q(R,!1);(ae!==""||(ae=e.loadFile(R,!0))!==void 0)&&(R=ae)}if(f(R)&&(R=h(R,P)),P=r(R,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((Q=D)==null||Q.length===0)&&(D=(function(ie){return typeof ie=="string"||F(ie)?x(ie):F(ie.data)?x(ie.data):null})(R)),(U=g.call(this,D))||(R instanceof Uint8Array||P==="RGBA"||(ce=R,R=O(R)),U=this["process"+P.toUpperCase()](R,d.call(this),D,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:v.NONE})(k),ce)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},q=e.__addimage__.convertBase64ToBinaryString=function(R,P){P=typeof P!="boolean"||P;var D,k="";if(typeof R=="string"){var U;D=(U=_(R))!==null&&U!==void 0?U:R;try{k=Ad(D)}catch(ce){if(P)throw C(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};e.getImageProperties=function(R){var P,D,k="";if(f(R)&&(R=h(R)),typeof R=="string"&&r(R)===n&&((k=q(R,!1))===""&&(k=e.loadFile(R)||""),R=k),D=r(R),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(R instanceof Uint8Array||(R=O(R)),!(P=this["process"+D.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=D,P}})(qt.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};qt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,a,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),s=n.pageContext.annotations,d=!1,u=0;u<s.length&&!d;u++)switch((i=s[u]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<s.length;f++){i=s[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(p.objId),v=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+h(A(i.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(A(v))+") >>",p.content=a;var x=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+x,i.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(p.objId,"0 R",y.objId,"0 R");break;case"freetext":r="/Rect ["+l(i.bounds.x)+" "+o(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var C=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(g(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var _=this.annotations._nameMap[i.options.name];i.options.pageNumber=_.page,i.options.top=_.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var F=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+F+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,a,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:s(i),w:c(n+r),h:s(i+a)},options:l,type:"link"})},e.textWithLink=function(n,i,r,a){var l,o,c=this.getTextWidth(n),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(n,o).length;l=Math.ceil(s*d)}else o=c,l=s;return this.text(n,i,r,a),r+=.2*s,a.align==="center"&&(i-=c/2),a.align==="right"&&(i-=c),this.link(i,r-s,o,l,a),c},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(qt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return l(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return l(p)&&r.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return l(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var s=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return l(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return l(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return l(p)&&a(p)&&t[p.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(p){var y=0,A=n,v="",x=0;for(y=0;y<p.length;y+=1)A[p.charCodeAt(y)]!==void 0?(x++,typeof(A=A[p.charCodeAt(y)])=="number"&&(v+=String.fromCharCode(A),A=n,x=0),y===p.length-1&&(A=n,v+=p.charAt(y-(x-1)),y-=x-1,x=0)):(A=n,v+=p.charAt(y-x),y-=x,x=0);return v};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&i[p.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(p,y,A){return l(p)?a(p)===!1?-1:!s(p)||!l(y)&&!l(A)||!l(A)&&o(y)||o(p)&&!l(y)||o(p)&&c(y)||o(p)&&o(y)?0:d(p)&&l(y)&&!o(y)&&l(A)&&s(A)?3:o(p)||!l(A)?1:2:-1},h=function(p){var y=0,A=0,v=0,x="",C="",_="",F=(p=p||"").split("\\s+"),O=[];for(y=0;y<F.length;y+=1){for(O.push(""),A=0;A<F[y].length;A+=1)x=F[y][A],C=F[y][A-1],_=F[y][A+1],l(x)?(v=f(x,C,_),O[y]+=v!==-1?String.fromCharCode(t[x.charCodeAt(0)][v]):x):O[y]+=x;O[y]=u(O[y])}return O.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(y)){var v=0;for(A=[],v=0;v<y.length;v+=1)Array.isArray(y[v])?A.push([h(y[v][0]),y[v][1],y[v][2]]):A.push([h(y[v])]);p=A}else p=h(y);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])})(qt.API),qt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(qt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var s=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return s},set:function(p){s=p}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,s){i.call(this);var d=(s=s||{}).fontSize||this.getFontSize(),u=s.font||this.getFont(),f=s.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var A=s.maxWidth;A>0?typeof c=="string"?c=this.splitTextToSize(c,A):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(x,C){return x.concat(y.splitTextToSize(C,A))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)h<(p=this.getStringUnitWidth(c[v],{font:u})*d)&&(h=p);return h!==0&&(g=c.length),{w:h/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var s=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return s.lineNumber!==void 0&&(s.lineNumber===c.lineNumber?(c.x=(s.x||0)+(s.width||0),c.y=s.y||0):s.y+s.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,h&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=s.y+s.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,s,d,u,f){if(i.call(this),!d)throw new Error("No data for PDF table.");var h,g,p,y,A=[],v=[],x=[],C={},_={},F=[],O=[],E=(f=f||{}).autoSize||!1,I=f.printHeaders!==!1,q=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,R=f.margins||Object.assign({width:this.getPageWidth()},t),P=typeof f.padding=="number"?f.padding:3,D=f.headerBackgroundColor||"#c8c8c8",k=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=k,this.setFontSize(q),u==null)v=A=Object.keys(d[0]),x=A.map(function(){return"left"});else if(Array.isArray(u)&&zn(u[0])==="object")for(A=u.map(function(Se){return Se.name}),v=u.map(function(Se){return Se.prompt||Se.name||""}),x=u.map(function(Se){return Se.align||"left"}),h=0;h<u.length;h+=1)_[u[h].name]=.7499990551181103*u[h].width;else Array.isArray(u)&&typeof u[0]=="string"&&(v=A=u,x=A.map(function(){return"left"}));if(E||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<A.length;h+=1){for(C[y=A[h]]=d.map(function(Se){return Se[y]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[y],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)F.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,F)+P+P,F=[]}if(I){var U={};for(h=0;h<A.length;h+=1)U[A[h]]={},U[A[h]].text=v[h],U[A[h]].align=x[h];var ce=o.call(this,U,_);O=A.map(function(Se){return new a(c,s,_[Se],ce,U[Se].text,void 0,U[Se].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var Q=u.reduce(function(Se,ne){return Se[ne.name]=ne.align,Se},{});for(h=0;h<d.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:d[h]},this);var ae=o.call(this,d[h],_);for(p=0;p<A.length;p+=1){var ie=d[h][A[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:p,data:ie},this),l.call(this,new a(c,s,_[A[p]],ae,ie,h+2,Q[A[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=s,this};var o=function(c,s){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,s[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/f+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,s){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),s&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}})(qt.API);var rm={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},im=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Rf=nm(im),am=[100,200,300,400,500,600,700,800,900],x8=nm(am);function Uu(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return rm[a=a||"normal"]?a:"normal"})(e.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),r=(function(a){return typeof Rf[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function Jg(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var k8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Kg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zg(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function e1(e){return e.trimLeft()}function S8(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function C8(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vc,t1,n1,ls,Qc,r1,i1,a1,Wu=["times"];function o1(e,t,n,i,r){var a=4,l=l1;switch(r){case qt.API.image_compression.FAST:a=1,l=s1;break;case qt.API.image_compression.MEDIUM:a=6,l=c1;break;case qt.API.image_compression.SLOW:a=9,l=d1}e=(function(c,s,d,u){for(var f,h=c.length/s,g=new Uint8Array(c.length+h),p=[L8,s1,l1,c1,d1],y=0;y<h;y+=1){var A=y*s,v=c.subarray(A,A+s);if(u)g.set(u(v,d,f),A+y);else{for(var x=p.length,C=[],_=0;_<x;_+=1)C[_]=p[_](v,d,f);var F=M8(C.concat());g.set(C[F],A+y)}f=v}return g})(e,t,Math.ceil(n*i/8),l);var o=_f(e,{level:a});return qt.API.__addimage__.arrayBufferToBinaryString(o)}function L8(e){var t=Array.apply([],e);return t.unshift(0),t}function s1(e,t){var n=e.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var a=e[r-t]||0;i[r+1]=e[r]-a+256&255}return i}function l1(e,t,n){var i=e.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var l=n&&n[a]||0;r[a+1]=e[a]-l+256&255}return r}function c1(e,t,n){var i=e.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var l=e[a-t]||0,o=n&&n[a]||0;r[a+1]=e[a]+256-(l+o>>>1)&255}return r}function d1(e,t,n){var i=e.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var l=P8(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);r[a+1]=e[a]-l+256&255}return r}function P8(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),r=Math.abs(e-n),a=Math.abs(e+t-n-n);return i<=r&&i<=a?e:r<=a?t:n}function M8(e){var t=e.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function ju(e,t,n){var i=t*n,r=Math.floor(i/8),a=16-(i-8*r+n),l=(1<<n)-1;return om(e,r)>>a&l}function h1(e,t,n,i){var r=n*i,a=Math.floor(r/8),l=16-(r-8*a+i),o=(1<<i)-1,c=(t&o)<<l;(function(s,d,u){if(d+1<s.byteLength)s.setUint16(d,u,!1);else{var f=u>>8&255;s.setUint8(d,f)}})(e,a,om(e,a)&~(o<<l)&65535|c)}function om(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function _8(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,l=1<<1+(7&r);e[t++],e[t++];var o=null,c=null;a&&(o=t,c=l,t+=3*l);var s=!0,d=[],u=0,f=null,h=0,g=null;for(this.width=n,this.height=i;s&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,f=e[t++],1&p||(f=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,C=e[t++],_=C>>6&1,F=1<<1+(7&C),O=o,E=c,I=!1;C>>7&&(I=!0,O=t,E=F,t+=3*F);var q=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}d.push({x:y,y:A,width:v,height:x,has_local_palette:I,palette_offset:O,palette_size:E,data_offset:q,data_length:t-q,transparent_index:f,interlaced:!!_,delay:u,disposal:h});break;case 59:s=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,D){var k=this.frameInfo(P),U=k.width*k.height,ce=new Uint8Array(U);u1(e,k.data_offset,ce,U);var Q=k.palette_offset,ae=k.transparent_index;ae===null&&(ae=256);var ie=k.width,Se=n-ie,ne=ie,N=4*(k.y*n+k.x),H=4*((k.y+k.height)*n+k.x),V=N,te=4*Se;k.interlaced===!0&&(te+=4*n*7);for(var ge=8,Ce=0,Pe=ce.length;Ce<Pe;++Ce){var pe=ce[Ce];if(ne===0&&(ne=ie,(V+=te)>=H&&(te=4*Se+4*n*(ge-1),V=N+(ie+Se)*(ge<<1),ge>>=1)),pe===ae)V+=4;else{var _e=e[Q+3*pe],Oe=e[Q+3*pe+1],ht=e[Q+3*pe+2];D[V++]=ht,D[V++]=Oe,D[V++]=_e,D[V++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(P,D){var k=this.frameInfo(P),U=k.width*k.height,ce=new Uint8Array(U);u1(e,k.data_offset,ce,U);var Q=k.palette_offset,ae=k.transparent_index;ae===null&&(ae=256);var ie=k.width,Se=n-ie,ne=ie,N=4*(k.y*n+k.x),H=4*((k.y+k.height)*n+k.x),V=N,te=4*Se;k.interlaced===!0&&(te+=4*n*7);for(var ge=8,Ce=0,Pe=ce.length;Ce<Pe;++Ce){var pe=ce[Ce];if(ne===0&&(ne=ie,(V+=te)>=H&&(te=4*Se+4*n*(ge-1),V=N+(ie+Se)*(ge<<1),ge>>=1)),pe===ae)V+=4;else{var _e=e[Q+3*pe],Oe=e[Q+3*pe+1],ht=e[Q+3*pe+2];D[V++]=_e,D[V++]=Oe,D[V++]=ht,D[V++]=255}--ne}}}function u1(e,t,n,i){for(var r=e[t++],a=1<<r,l=a+1,o=l+1,c=r+1,s=(1<<c)-1,d=0,u=0,f=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;d<16&&h!==0;)u|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var y=u&s;if(u>>=c,d-=c,y!==a){if(y===l)break;for(var A=y<o?y:p,v=0,x=A;x>a;)x=g[x]>>8,++v;var C=x;if(f+v+(A!==y?1:0)>i)return void Gn.log("Warning, gif stream longer than expected.");n[f++]=C;var _=f+=v;for(A!==y&&(n[f++]=C),x=A;v--;)x=g[x],n[--_]=255&x,x>>=8;p!==null&&o<4096&&(g[o++]=p<<8|C,o>=s+1&&c<12&&(++c,s=s<<1|1)),p=y}else o=l+1,s=(1<<(c=r+1))-1,p=null}return f!==i&&Gn.log("Warning, gif stream shorter than expected."),n}function qu(e){var t,n,i,r,a,l=Math.floor,o=new Array(64),c=new Array(64),s=new Array(64),d=new Array(64),u=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),p=[],y=0,A=7,v=new Array(64),x=new Array(64),C=new Array(64),_=new Array(256),F=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(N,H){for(var V=0,te=0,ge=new Array,Ce=1;Ce<=16;Ce++){for(var Pe=1;Pe<=N[Ce];Pe++)ge[H[te]]=[],ge[H[te]][0]=V,ge[H[te]][1]=Ce,te++,V++;V*=2}return ge}function Q(N){for(var H=N[0],V=N[1]-1;V>=0;)H&1<<V&&(y|=1<<A),V--,--A<0&&(y==255?(ae(255),ae(0)):ae(y),A=7,y=0)}function ae(N){p.push(N)}function ie(N){ae(N>>8&255),ae(255&N)}function Se(N,H,V,te,ge){for(var Ce,Pe=ge[0],pe=ge[240],_e=(function(le,Ie){var Be,me,je,ut,Qe,dt,Tt,Nt,Ct,Ut,_t=0;for(Ct=0;Ct<8;++Ct){Be=le[_t],me=le[_t+1],je=le[_t+2],ut=le[_t+3],Qe=le[_t+4],dt=le[_t+5],Tt=le[_t+6];var Nn=Be+(Nt=le[_t+7]),Dt=Be-Nt,Zt=me+Tt,nn=me-Tt,yn=je+dt,Ft=je-dt,Tn=ut+Qe,Ht=ut-Qe,en=Nn+Tn,$n=Nn-Tn,rn=Zt+yn,Gt=Zt-yn;le[_t]=en+rn,le[_t+4]=en-rn;var In=.707106781*(Gt+$n);le[_t+2]=$n+In,le[_t+6]=$n-In;var S=.382683433*((en=Ht+Ft)-(Gt=nn+Dt)),oe=.5411961*en+S,Me=1.306562965*Gt+S,Ae=.707106781*(rn=Ft+nn),we=Dt+Ae,fe=Dt-Ae;le[_t+5]=fe+oe,le[_t+3]=fe-oe,le[_t+1]=we+Me,le[_t+7]=we-Me,_t+=8}for(_t=0,Ct=0;Ct<8;++Ct){Be=le[_t],me=le[_t+8],je=le[_t+16],ut=le[_t+24],Qe=le[_t+32],dt=le[_t+40],Tt=le[_t+48];var X=Be+(Nt=le[_t+56]),Ue=Be-Nt,He=me+Tt,Xe=me-Tt,Ee=je+dt,Ye=je-dt,Ve=ut+Qe,qe=ut-Qe,Je=X+Ve,vt=X-Ve,pt=He+Ee,ft=He-Ee;le[_t]=Je+pt,le[_t+32]=Je-pt;var Ge=.707106781*(ft+vt);le[_t+16]=vt+Ge,le[_t+48]=vt-Ge;var ze=.382683433*((Je=qe+Ye)-(ft=Xe+Ue)),be=.5411961*Je+ze,Fe=1.306562965*ft+ze,Z=.707106781*(pt=Ye+Xe),at=Ue+Z,gt=Ue-Z;le[_t+40]=gt+be,le[_t+24]=gt-be,le[_t+8]=at+Fe,le[_t+56]=at-Fe,_t++}for(Ct=0;Ct<64;++Ct)Ut=le[Ct]*Ie[Ct],h[Ct]=Ut>0?Ut+.5|0:Ut-.5|0;return h})(N,H),Oe=0;Oe<64;++Oe)g[O[Oe]]=_e[Oe];var ht=g[0]-V;V=g[0],ht==0?Q(te[0]):(Q(te[f[Ce=32767+ht]]),Q(u[Ce]));for(var et=63;et>0&&g[et]==0;)et--;if(et==0)return Q(Pe),V;for(var B,z=1;z<=et;){for(var ve=z;g[z]==0&&z<=et;)++z;var se=z-ve;if(se>=16){B=se>>4;for(var K=1;K<=B;++K)Q(pe);se&=15}Ce=32767+g[z],Q(ge[(se<<4)+f[Ce]]),Q(u[Ce]),z++}return et!=63&&Q(Pe),V}function ne(N){N=Math.min(Math.max(N,1),100),a!=N&&((function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ge=l((V[te]*H+50)/100);ge=Math.min(Math.max(ge,1),255),o[O[te]]=ge}for(var Ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var pe=l((Ce[Pe]*H+50)/100);pe=Math.min(Math.max(pe,1),255),c[O[Pe]]=pe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,ht=0;ht<8;ht++)for(var et=0;et<8;et++)s[Oe]=1/(o[O[Oe]]*_e[ht]*_e[et]*8),d[Oe]=1/(c[O[Oe]]*_e[ht]*_e[et]*8),Oe++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),a=N)}this.encode=function(N,H){H&&ne(H),p=new Array,y=0,A=7,ie(65496),ie(65504),ie(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),ie(1),ie(1),ae(0),ae(0),(function(){ie(65499),ie(132),ae(0);for(var me=0;me<64;me++)ae(o[me]);ae(1);for(var je=0;je<64;je++)ae(c[je])})(),(function(me,je){ie(65472),ie(17),ae(8),ie(je),ie(me),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)})(N.width,N.height),(function(){ie(65476),ie(418),ae(0);for(var me=0;me<16;me++)ae(E[me+1]);for(var je=0;je<=11;je++)ae(I[je]);ae(16);for(var ut=0;ut<16;ut++)ae(q[ut+1]);for(var Qe=0;Qe<=161;Qe++)ae(R[Qe]);ae(1);for(var dt=0;dt<16;dt++)ae(P[dt+1]);for(var Tt=0;Tt<=11;Tt++)ae(D[Tt]);ae(17);for(var Nt=0;Nt<16;Nt++)ae(k[Nt+1]);for(var Ct=0;Ct<=161;Ct++)ae(U[Ct])})(),ie(65498),ie(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var V=0,te=0,ge=0;y=0,A=7,this.encode.displayName="_encode_";for(var Ce,Pe,pe,_e,Oe,ht,et,B,z,ve=N.data,se=N.width,K=N.height,le=4*se,Ie=0;Ie<K;){for(Ce=0;Ce<le;){for(Oe=le*Ie+Ce,et=-1,B=0,z=0;z<64;z++)ht=Oe+(B=z>>3)*le+(et=4*(7&z)),Ie+B>=K&&(ht-=le*(Ie+1+B-K)),Ce+et>=le&&(ht-=Ce+et-le+4),Pe=ve[ht++],pe=ve[ht++],_e=ve[ht++],v[z]=(F[Pe]+F[pe+256|0]+F[_e+512|0]>>16)-128,x[z]=(F[Pe+768|0]+F[pe+1024|0]+F[_e+1280|0]>>16)-128,C[z]=(F[Pe+1280|0]+F[pe+1536|0]+F[_e+1792|0]>>16)-128;V=Se(v,s,V,t,i),te=Se(x,d,te,n,r),ge=Se(C,d,ge,n,r),Ce+=32}Ie+=8}if(A>=0){var Be=[];Be[1]=A+1,Be[0]=(1<<A+1)-1,Q(Be)}return ie(65497),new Uint8Array(p)},e=e||50,(function(){for(var N=String.fromCharCode,H=0;H<256;H++)_[H]=N(H)})(),t=ce(E,I),n=ce(P,D),i=ce(q,R),r=ce(k,U),(function(){for(var N=1,H=2,V=1;V<=15;V++){for(var te=N;te<H;te++)f[32767+te]=V,u[32767+te]=[],u[32767+te][1]=V,u[32767+te][0]=te;for(var ge=-(H-1);ge<=-N;ge++)f[32767+ge]=V,u[32767+ge]=[],u[32767+ge][1]=V,u[32767+ge][0]=H-1+ge;N<<=1,H<<=1}})(),(function(){for(var N=0;N<256;N++)F[N]=19595*N,F[N+256|0]=38470*N,F[N+512|0]=7471*N+32768,F[N+768|0]=-11059*N,F[N+1024|0]=-21709*N,F[N+1280|0]=32768*N+8421375,F[N+1536|0]=-27439*N,F[N+1792|0]=-5329*N})(),ne(e)}function Ui(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f1(e){function t(I){if(!I)throw Error("assert :P")}function n(I,q,R){for(var P=0;4>P;P++)if(I[q+P]!=R.charCodeAt(P))return!0;return!1}function i(I,q,R,P,D){for(var k=0;k<D;k++)I[q+k]=R[P+k]}function r(I,q,R,P){for(var D=0;D<P;D++)I[q+D]=R}function a(I){return new Int32Array(I)}function l(I,q){for(var R=[],P=0;P<I;P++)R.push(new q);return R}function o(I,q){var R=[];return(function P(D,k,U){for(var ce=U[k],Q=0;Q<ce&&(D.push(U.length>k+1?[]:new q),!(U.length<k+1));Q++)P(D[Q],k+1,U)})(R,0,I),R}var c=function(){var I=this;function q(m,b){for(var M=1<<b-1>>>0;m&M;)M>>>=1;return M?(m&M-1)+M:m}function R(m,b,M,T,j){t(!(T%M));do m[b+(T-=M)]=j;while(0<T)}function P(m,b,M,T,j){if(t(2328>=j),512>=j)var G=a(512);else if((G=a(j))==null)return 0;return(function(Y,J,re,de,ke,$e){var he,Le,De=J,Ke=1<<re,Re=a(16),Ze=a(16);for(t(ke!=0),t(de!=null),t(Y!=null),t(0<re),Le=0;Le<ke;++Le){if(15<de[Le])return 0;++Re[de[Le]]}if(Re[0]==ke)return 0;for(Ze[1]=0,he=1;15>he;++he){if(Re[he]>1<<he)return 0;Ze[he+1]=Ze[he]+Re[he]}for(Le=0;Le<ke;++Le)he=de[Le],0<de[Le]&&($e[Ze[he]++]=Le);if(Ze[15]==1)return(de=new D).g=0,de.value=$e[0],R(Y,De,1,Ke,de),Ke;var nt,At=-1,ct=Ke-1,Xt=0,Bt=1,vn=1,Ot=1<<re;for(Le=0,he=1,ke=2;he<=re;++he,ke<<=1){if(Bt+=vn<<=1,0>(vn-=Re[he]))return 0;for(;0<Re[he];--Re[he])(de=new D).g=he,de.value=$e[Le++],R(Y,De+Xt,ke,Ot,de),Xt=q(Xt,he)}for(he=re+1,ke=2;15>=he;++he,ke<<=1){if(Bt+=vn<<=1,0>(vn-=Re[he]))return 0;for(;0<Re[he];--Re[he]){if(de=new D,(Xt&ct)!=At){for(De+=Ot,nt=1<<(At=he)-re;15>At&&!(0>=(nt-=Re[At]));)++At,nt<<=1;Ke+=Ot=1<<(nt=At-re),Y[J+(At=Xt&ct)].g=nt+re,Y[J+At].value=De-J-At}de.g=he-re,de.value=$e[Le++],R(Y,De+(Xt>>re),ke,Ot,de),Xt=q(Xt,he)}}return Bt!=2*Ze[15]-1?0:Ke})(m,b,M,T,j,G)}function D(){this.value=this.g=0}function k(){this.value=this.g=0}function U(){this.G=l(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(wo,k)}function ce(m,b,M,T){t(m!=null),t(b!=null),t(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=M,m.Jd=b,m.Yc=M+T,m.Zc=4<=T?M+T-4+1:M,Pe(m)}function Q(m,b){for(var M=0;0<b--;)M|=_e(m,128)<<b;return M}function ae(m,b){var M=Q(m,b);return pe(m)?-M:M}function ie(m,b,M,T){var j,G=0;for(t(m!=null),t(b!=null),t(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),j=0;j<T;++j)G+=b[M+j]<<8*j;m.Ra=G,m.bb=T,m.oa=b,m.pa=M}function Se(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ra-8>>>0,++m.bb,m.u-=8;te(m)&&(m.h=1,m.u=0)}function ne(m,b){if(t(0<=b),!m.h&&b<=ci){var M=V(m)&li[b];return m.u+=b,Se(m),M}return m.h=1,m.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&Ra-1)>>>0}function te(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ra}function ge(m,b){m.u=b,m.h=te(m)}function Ce(m){m.u>=ga&&(t(m.u>=ga),Se(m))}function Pe(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function pe(m){return Q(m,1)}function _e(m,b){var M=m.Ca;0>m.b&&Pe(m);var T=m.b,j=M*b>>>8,G=(m.I>>>T>j)+0;for(G?(M-=j,m.I-=j+1<<T>>>0):M=j+1,T=M,j=0;256<=T;)j+=8,T>>=8;return T=7^j+$a[T],m.b-=T,m.Ca=(M<<T)-1,G}function Oe(m,b,M){m[b+0]=M>>24&255,m[b+1]=M>>16&255,m[b+2]=M>>8&255,m[b+3]=255&M}function ht(m,b){return m[b+0]|m[b+1]<<8}function et(m,b){return ht(m,b)|m[b+2]<<16}function B(m,b){return ht(m,b)|ht(m,b+2)<<16}function z(m,b){var M=1<<b;return t(m!=null),t(0<b),m.X=a(M),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function ve(m,b){t(m!=null),t(b!=null),t(m.Xa==b.Xa),i(b.X,0,m.X,0,1<<b.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function K(m,b,M,T){t(M!=null),t(T!=null);var j=M[0],G=T[0];return j==0&&(j=(m*G+b/2)/b),G==0&&(G=(b*j+m/2)/m),0>=j||0>=G?0:(M[0]=j,T[0]=G,1)}function le(m,b){return m+(1<<b)-1>>>b}function Ie(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Be(m,b){I[b]=function(M,T,j,G,Y,J,re){var de;for(de=0;de<Y;++de){var ke=I[m](J[re+de-1],j,G+de);J[re+de]=Ie(M[T+de],ke)}}}function me(){this.ud=this.hd=this.jd=0}function je(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function ut(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Qe(m,b){return ut(m+(m-b+.5>>1))}function dt(m,b,M){return Math.abs(b-M)-Math.abs(m-M)}function Tt(m,b,M,T,j,G,Y){for(T=G[Y-1],M=0;M<j;++M)G[Y+M]=T=Ie(m[b+M],T)}function Nt(m,b,M,T,j){var G;for(G=0;G<M;++G){var Y=m[b+G],J=Y>>8&255,re=16711935&(re=(re=16711935&Y)+((J<<16)+J));T[j+G]=(4278255360&Y)+re>>>0}}function Ct(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function Ut(m,b,M,T,j,G){var Y;for(Y=0;Y<T;++Y){var J=b[M+Y],re=J>>>8,de=J,ke=255&(ke=(ke=J>>>16)+((m.jd<<24>>24)*(re<<24>>24)>>>5));de=255&(de=(de+=(m.hd<<24>>24)*(re<<24>>24)>>>5)+((m.ud<<24>>24)*(ke<<24>>24)>>>5)),j[G+Y]=(4278255360&J)+(ke<<16)+de}}function _t(m,b,M,T,j){I[b]=function(G,Y,J,re,de,ke,$e,he,Le){for(re=$e;re<he;++re)for($e=0;$e<Le;++$e)de[ke++]=j(J[T(G[Y++])])},I[m]=function(G,Y,J,re,de,ke,$e){var he=8>>G.b,Le=G.Ea,De=G.K[0],Ke=G.w;if(8>he)for(G=(1<<G.b)-1,Ke=(1<<he)-1;Y<J;++Y){var Re,Ze=0;for(Re=0;Re<Le;++Re)Re&G||(Ze=T(re[de++])),ke[$e++]=j(De[Ze&Ke]),Ze>>=he}else I["VP8LMapColor"+M](re,de,De,Ke,ke,$e,Y,J,Le)}}function Nn(m,b,M,T,j){for(M=b+M;b<M;){var G=m[b++];T[j++]=G>>16&255,T[j++]=G>>8&255,T[j++]=255&G}}function Dt(m,b,M,T,j){for(M=b+M;b<M;){var G=m[b++];T[j++]=G>>16&255,T[j++]=G>>8&255,T[j++]=255&G,T[j++]=G>>24&255}}function Zt(m,b,M,T,j){for(M=b+M;b<M;){var G=(Y=m[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;T[j++]=G,T[j++]=Y}}function nn(m,b,M,T,j){for(M=b+M;b<M;){var G=(Y=m[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;T[j++]=G,T[j++]=Y}}function yn(m,b,M,T,j){for(M=b+M;b<M;){var G=m[b++];T[j++]=255&G,T[j++]=G>>8&255,T[j++]=G>>16&255}}function Ft(m,b,M,T,j,G){if(G==0)for(M=b+M;b<M;)Oe(T,((G=m[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),j+=32;else i(T,j,m,b,M)}function Tn(m,b){I[b][0]=I[m+"0"],I[b][1]=I[m+"1"],I[b][2]=I[m+"2"],I[b][3]=I[m+"3"],I[b][4]=I[m+"4"],I[b][5]=I[m+"5"],I[b][6]=I[m+"6"],I[b][7]=I[m+"7"],I[b][8]=I[m+"8"],I[b][9]=I[m+"9"],I[b][10]=I[m+"10"],I[b][11]=I[m+"11"],I[b][12]=I[m+"12"],I[b][13]=I[m+"13"],I[b][14]=I[m+"0"],I[b][15]=I[m+"0"]}function Ht(m){return m==Hh||m==Yh||m==bc||m==Vh}function en(){this.eb=[],this.size=this.A=this.fb=0}function $n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new en,this.f.kb=new $n,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function S(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function oe(m,b){var M=m.T,T=b.ba.f.RGBA,j=T.eb,G=T.fb+m.ka*T.A,Y=_i[b.ba.S],J=m.y,re=m.O,de=m.f,ke=m.N,$e=m.ea,he=m.W,Le=b.cc,De=b.dc,Ke=b.Mc,Re=b.Nc,Ze=m.ka,nt=m.ka+m.T,At=m.U,ct=At+1>>1;for(Ze==0?Y(J,re,null,null,de,ke,$e,he,de,ke,$e,he,j,G,null,null,At):(Y(b.ec,b.fc,J,re,Le,De,Ke,Re,de,ke,$e,he,j,G-T.A,j,G,At),++M);Ze+2<nt;Ze+=2)Le=de,De=ke,Ke=$e,Re=he,ke+=m.Rc,he+=m.Rc,G+=2*T.A,Y(J,(re+=2*m.fa)-m.fa,J,re,Le,De,Ke,Re,de,ke,$e,he,j,G-T.A,j,G,At);return re+=m.fa,m.j+nt<m.o?(i(b.ec,b.fc,J,re,At),i(b.cc,b.dc,de,ke,ct),i(b.Mc,b.Nc,$e,he,ct),M--):1&nt||Y(J,re,null,null,de,ke,$e,he,de,ke,$e,he,j,G+T.A,null,null,At),M}function Me(m,b,M){var T=m.F,j=[m.J];if(T!=null){var G=m.U,Y=b.ba.S,J=Y==vc||Y==bc;b=b.ba.f.RGBA;var re=[0],de=m.ka;re[0]=m.T,m.Kb&&(de==0?--re[0]:(--de,j[0]-=m.width),m.j+m.ka+m.T==m.o&&(re[0]=m.o-m.j-de));var ke=b.eb;de=b.fb+de*b.A,m=Xp(T,j[0],m.width,G,re,ke,de+(J?0:3),b.A),t(M==re),m&&Ht(Y)&&Zs(ke,de,J,G,re,b.A)}return 0}function Ae(m){var b=m.ma,M=b.ba.S,T=11>M,j=M==yc||M==mc||M==vc||M==Gh||M==12||Ht(M);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Xs(b.Oa,m,j?11:12))return 0;if(j&&Ht(M)&&Ws(),m.da)alert("todo:use_scaling");else{if(T){if(b.Ib=S,m.Kb){if(M=m.U+1>>1,b.memory=a(m.U+2*M),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+M,b.Ib=oe,Ws()}}else alert("todo:EmitYUV");j&&(b.Jb=Me,T&&$i())}if(T&&!s0){for(m=0;256>m;++m)jm[m]=89858*(m-128)+xc>>wc,Gm[m]=-22014*(m-128)+xc,Xm[m]=-45773*(m-128),qm[m]=113618*(m-128)+xc>>wc;for(m=tl;m<Kh;++m)b=76283*(m-16)+xc>>wc,Hm[m-tl]=Un(b,255),Ym[m-tl]=Un(b+8>>4,15);s0=1}return 1}function we(m){var b=m.ma,M=m.U,T=m.T;return t(!(1&m.ka)),0>=M||0>=T?0:(M=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,M),b.Dc+=M,1)}function fe(m){m.ma.memory=null}function X(m,b,M,T){return ne(m,8)!=47?0:(b[0]=ne(m,14)+1,M[0]=ne(m,14)+1,T[0]=ne(m,1),ne(m,3)!=0?0:!m.h)}function Ue(m,b){if(4>m)return m+1;var M=m-2>>1;return(2+(1&m)<<M)+ne(b,M)+1}function He(m,b){return 120<b?b-120:1<=(M=((M=_m[b-1])>>4)*m+(8-(15&M)))?M:1;var M}function Xe(m,b,M){var T=V(M),j=m[b+=255&T].g-8;return 0<j&&(ge(M,M.u+8),T=V(M),b+=m[b].value,b+=T&(1<<j)-1),ge(M,M.u+m[b].g),m[b].value}function Ee(m,b,M){return M.g+=m.g,M.value+=m.value<<b>>>0,t(8>=M.g),m.g}function Ye(m,b,M){var T=m.xc;return t((b=T==0?0:m.vc[m.md*(M>>T)+(b>>T)])<m.Wb),m.Ya[b]}function Ve(m,b,M,T){var j=m.ab,G=m.c*b,Y=m.C;b=Y+b;var J=M,re=T;for(T=m.Ta,M=m.Ua;0<j--;){var de=m.gc[j],ke=Y,$e=b,he=J,Le=re,De=(re=T,J=M,de.Ea);switch(t(ke<$e),t($e<=de.nc),de.hc){case 2:pr(he,Le,($e-ke)*De,re,J);break;case 0:var Ke=ke,Re=$e,Ze=re,nt=J,At=(Ot=de).Ea;Ke==0&&(Hs(he,Le,null,null,1,Ze,nt),Tt(he,Le+1,0,0,At-1,Ze,nt+1),Le+=At,nt+=At,++Ke);for(var ct=1<<Ot.b,Xt=ct-1,Bt=le(At,Ot.b),vn=Ot.K,Ot=Ot.w+(Ke>>Ot.b)*Bt;Ke<Re;){var kn=vn,Pr=Ot,bn=1;for(Zo(he,Le,Ze,nt-At,1,Ze,nt);bn<At;){var zt=(bn&~Xt)+ct;zt>At&&(zt=At),(0,Vs[kn[Pr++]>>8&15])(he,Le+ +bn,Ze,nt+bn-At,zt-bn,Ze,nt+bn),bn=zt}Le+=At,nt+=At,++Ke&Xt||(Ot+=Bt)}$e!=de.nc&&i(re,J-De,re,J+($e-ke-1)*De,De);break;case 1:for(De=he,Re=Le,At=(he=de.Ea)-(nt=he&~(Ze=(Le=1<<de.b)-1)),Ke=le(he,de.b),ct=de.K,de=de.w+(ke>>de.b)*Ke;ke<$e;){for(Xt=ct,Bt=de,vn=new me,Ot=Re+nt,kn=Re+he;Re<Ot;)Ct(Xt[Bt++],vn),Qs(vn,De,Re,Le,re,J),Re+=Le,J+=Le;Re<kn&&(Ct(Xt[Bt++],vn),Qs(vn,De,Re,At,re,J),Re+=At,J+=At),++ke&Ze||(de+=Ke)}break;case 3:if(he==re&&Le==J&&0<de.b){for(Re=re,he=De=J+($e-ke)*De-(nt=($e-ke)*le(de.Ea,de.b)),Le=re,Ze=J,Ke=[],nt=(At=nt)-1;0<=nt;--nt)Ke[nt]=Le[Ze+nt];for(nt=At-1;0<=nt;--nt)Re[he+nt]=Ke[nt];fc(de,ke,$e,re,De,re,J)}else fc(de,ke,$e,he,Le,re,J)}J=T,re=M}re!=M&&i(T,M,J,re,G)}function qe(m,b){var M=m.V,T=m.Ba+m.c*m.C,j=b-m.C;if(t(b<=m.l.o),t(16>=j),0<j){var G=m.l,Y=m.Ta,J=m.Ua,re=G.width;if(Ve(m,j,M,T),j=J=[J],t((M=m.C)<(T=b)),t(G.v<G.va),T>G.o&&(T=G.o),M<G.j){var de=G.j-M;M=G.j,j[0]+=de*re}if(M>=T?M=0:(j[0]+=4*G.v,G.ka=M-G.j,G.U=G.va-G.v,G.T=T-M,M=1),M){if(J=J[0],11>(M=m.ca).S){var ke=M.f.RGBA,$e=(T=M.S,j=G.U,G=G.T,de=ke.eb,ke.A),he=G;for(ke=ke.fb+m.Ma*ke.A;0<he--;){var Le=Y,De=J,Ke=j,Re=de,Ze=ke;switch(T){case Ac:Js(Le,De,Ke,Re,Ze);break;case yc:Fa(Le,De,Ke,Re,Ze);break;case Hh:Fa(Le,De,Ke,Re,Ze),Zs(Re,Ze,0,Ke,1,0);break;case Kp:xo(Le,De,Ke,Re,Ze);break;case mc:Ft(Le,De,Ke,Re,Ze,1);break;case Yh:Ft(Le,De,Ke,Re,Ze,1),Zs(Re,Ze,0,Ke,1,0);break;case vc:Ft(Le,De,Ke,Re,Ze,0);break;case bc:Ft(Le,De,Ke,Re,Ze,0),Zs(Re,Ze,1,Ke,1,0);break;case Gh:Oa(Le,De,Ke,Re,Ze);break;case Vh:Oa(Le,De,Ke,Re,Ze),qp(Re,Ze,Ke,1,0);break;case Zp:za(Le,De,Ke,Re,Ze);break;default:t(0)}J+=re,ke+=$e}m.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=M.height)}}m.C=b,t(m.C<=m.i)}function Je(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var M=m.Ya[b].G,T=m.Ya[b].H;if(0<M[1][T[1]+0].g||0<M[2][T[2]+0].g||0<M[3][T[3]+0].g)return 0}return 1}function vt(m,b,M,T,j,G){if(m.Z!=0){var Y=m.qd,J=m.rd;for(t(ja[m.Z]!=null);b<M;++b)ja[m.Z](Y,J,T,j,T,j,G),Y=T,J=j,j+=G;m.qd=Y,m.rd=J}}function pt(m,b){var M=m.l.ma,T=M.Z==0||M.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,t(b<=m.l.o),b>T){var j=m.l.width,G=M.ca,Y=M.tb+j*T,J=m.V,re=m.Ba+m.c*T,de=m.gc;t(m.ab==1),t(de[0].hc==3),Vi(de[0],T,b,J,re,G,Y),vt(M,T,b,G,Y,j)}m.C=m.Ma=b}function ft(m,b,M,T,j,G,Y){var J=m.$/T,re=m.$%T,de=m.m,ke=m.s,$e=M+m.$,he=$e;j=M+T*j;var Le=M+T*G,De=280+ke.ua,Ke=m.Pb?J:16777216,Re=0<ke.ua?ke.Wa:null,Ze=ke.wc,nt=$e<Le?Ye(ke,re,J):null;t(m.C<G),t(Le<=j);var At=!1;e:for(;;){for(;At||$e<Le;){var ct=0;if(J>=Ke){var Xt=$e-M;t((Ke=m).Pb),Ke.wd=Ke.m,Ke.xd=Xt,0<Ke.s.ua&&ve(Ke.s.Wa,Ke.s.vb),Ke=J+Tm}if(re&Ze||(nt=Ye(ke,re,J)),t(nt!=null),nt.Qb&&(b[$e]=nt.qb,At=!0),!At)if(Ce(de),nt.jc){ct=de,Xt=b;var Bt=$e,vn=nt.pd[V(ct)&wo-1];t(nt.jc),256>vn.g?(ge(ct,ct.u+vn.g),Xt[Bt]=vn.value,ct=0):(ge(ct,ct.u+vn.g-256),t(256<=vn.value),ct=vn.value),ct==0&&(At=!0)}else ct=Xe(nt.G[0],nt.H[0],de);if(de.h)break;if(At||256>ct){if(!At)if(nt.nd)b[$e]=(nt.qb|ct<<8)>>>0;else{if(Ce(de),At=Xe(nt.G[1],nt.H[1],de),Ce(de),Xt=Xe(nt.G[2],nt.H[2],de),Bt=Xe(nt.G[3],nt.H[3],de),de.h)break;b[$e]=(Bt<<24|At<<16|ct<<8|Xt)>>>0}if(At=!1,++$e,++re>=T&&(re=0,++J,Y!=null&&J<=G&&!(J%16)&&Y(m,J),Re!=null))for(;he<$e;)ct=b[he++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else if(280>ct){if(ct=Ue(ct-256,de),Xt=Xe(nt.G[4],nt.H[4],de),Ce(de),Xt=He(T,Xt=Ue(Xt,de)),de.h)break;if($e-M<Xt||j-$e<ct)break e;for(Bt=0;Bt<ct;++Bt)b[$e+Bt]=b[$e+Bt-Xt];for($e+=ct,re+=ct;re>=T;)re-=T,++J,Y!=null&&J<=G&&!(J%16)&&Y(m,J);if(t($e<=j),re&Ze&&(nt=Ye(ke,re,J)),Re!=null)for(;he<$e;)ct=b[he++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else{if(!(ct<De))break e;for(At=ct-280,t(Re!=null);he<$e;)ct=b[he++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct;ct=$e,t(!(At>>>(Xt=Re).Xa)),b[ct]=Xt.X[At],At=!0}At||t(de.h==te(de))}if(m.Pb&&de.h&&$e<j)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ve(m.s.vb,m.s.Wa);else{if(de.h)break e;Y?.(m,J>G?G:J),m.a=0,m.$=$e-M}return 1}return m.a=3,0}function Ge(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,t(m!=null)}function ze(){var m=new ln;return m==null?null:(m.a=0,m.xb=n0,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),pr=Nt,Qs=Ut,Js=Nn,Fa=Dt,Oa=Zt,za=nn,xo=yn,I.VP8LMapColor32b=Yi,I.VP8LMapColor8b=Ys,m)}function be(m,b,M,T,j){var G=1,Y=[m],J=[b],re=T.m,de=T.s,ke=null,$e=0;e:for(;;){if(M)for(;G&&ne(re,1);){var he=Y,Le=J,De=T,Ke=1,Re=De.m,Ze=De.gc[De.ab],nt=ne(Re,2);if(De.Oc&1<<nt)G=0;else{switch(De.Oc|=1<<nt,Ze.hc=nt,Ze.Ea=he[0],Ze.nc=Le[0],Ze.K=[null],++De.ab,t(4>=De.ab),nt){case 0:case 1:Ze.b=ne(Re,3)+2,Ke=be(le(Ze.Ea,Ze.b),le(Ze.nc,Ze.b),0,De,Ze.K),Ze.K=Ze.K[0];break;case 3:var At,ct=ne(Re,8)+1,Xt=16<ct?0:4<ct?1:2<ct?2:3;if(he[0]=le(Ze.Ea,Xt),Ze.b=Xt,At=Ke=be(ct,1,0,De,Ze.K)){var Bt,vn=ct,Ot=Ze,kn=1<<(8>>Ot.b),Pr=a(kn);if(Pr==null)At=0;else{var bn=Ot.K[0],zt=Ot.w;for(Pr[0]=Ot.K[0][0],Bt=1;Bt<1*vn;++Bt)Pr[Bt]=Ie(bn[zt+Bt],Pr[Bt-1]);for(;Bt<4*kn;++Bt)Pr[Bt]=0;Ot.K[0]=null,Ot.K[0]=Pr,At=1}}Ke=At;break;case 2:break;default:t(0)}G=Ke}}if(Y=Y[0],J=J[0],G&&ne(re,1)&&!(G=1<=($e=ne(re,4))&&11>=$e)){T.a=3;break e}var Mt;if(Mt=G)t:{var Ar,pn,Ln,Zn=T,$r=Y,Vr=J,cr=$e,zr=M,Qr=Zn.m,Mr=Zn.s,_n=[null],Fn=1,dr=0,On=Nm[cr];n:for(;;){if(zr&&ne(Qr,1)){var Fr=ne(Qr,3)+2,Oi=le($r,Fr),yr=le(Vr,Fr),ei=Oi*yr;if(!be(Oi,yr,0,Zn,_n))break n;for(_n=_n[0],Mr.xc=Fr,Ar=0;Ar<ei;++Ar){var Xn=_n[Ar]>>8&65535;_n[Ar]=Xn,Xn>=Fn&&(Fn=Xn+1)}}if(Qr.h)break n;for(pn=0;5>pn;++pn){var _r=e0[pn];!pn&&0<cr&&(_r+=1<<cr),dr<_r&&(dr=_r)}var hi=l(Fn*On,D),Jr=Fn,ui=l(Jr,U);if(ui==null)var fi=null;else t(65536>=Jr),fi=ui;var ti=a(dr);if(fi==null||ti==null||hi==null){Zn.a=1;break n}var pi=hi;for(Ar=Ln=0;Ar<Fn;++Ar){var Qn=fi[Ar],gi=Qn.G,zi=Qn.H,So=0,ma=1,Or=0;for(pn=0;5>pn;++pn){_r=e0[pn],gi[pn]=pi,zi[pn]=Ln,!pn&&0<cr&&(_r+=1<<cr);i:{var Sc,Zh=_r,Cc=Zn,nl=ti,Jm=pi,Km=Ln,eu=0,qa=Cc.m,Zm=ne(qa,1);if(r(nl,0,0,Zh),Zm){var ev=ne(qa,1)+1,tv=ne(qa,1),d0=ne(qa,tv==0?1:8);nl[d0]=1,ev==2&&(nl[d0=ne(qa,8)]=1);var Lc=1}else{var h0=a(19),u0=ne(qa,4)+4;if(19<u0){Cc.a=3;var Pc=0;break i}for(Sc=0;Sc<u0;++Sc)h0[Mm[Sc]]=ne(qa,3);var tu=void 0,rl=void 0,f0=Cc,nv=h0,Mc=Zh,p0=nl,nu=0,Xa=f0.m,g0=8,A0=l(128,D);r:for(;P(A0,0,7,nv,19);){if(ne(Xa,1)){var rv=2+2*ne(Xa,3);if((tu=2+ne(Xa,rv))>Mc)break r}else tu=Mc;for(rl=0;rl<Mc&&tu--;){Ce(Xa);var y0=A0[0+(127&V(Xa))];ge(Xa,Xa.u+y0.g);var ts=y0.value;if(16>ts)p0[rl++]=ts,ts!=0&&(g0=ts);else{var iv=ts==16,m0=ts-16,av=Lm[m0],v0=ne(Xa,Cm[m0])+av;if(rl+v0>Mc)break r;for(var ov=iv?g0:0;0<v0--;)p0[rl++]=ov}}nu=1;break r}nu||(f0.a=3),Lc=nu}(Lc=Lc&&!qa.h)&&(eu=P(Jm,Km,8,nl,Zh)),Lc&&eu!=0?Pc=eu:(Cc.a=3,Pc=0)}if(Pc==0)break n;if(ma&&Pm[pn]==1&&(ma=pi[Ln].g==0),So+=pi[Ln].g,Ln+=Pc,3>=pn){var il,ru=ti[0];for(il=1;il<_r;++il)ti[il]>ru&&(ru=ti[il]);Or+=ru}}if(Qn.nd=ma,Qn.Qb=0,ma&&(Qn.qb=(gi[3][zi[3]+0].value<<24|gi[1][zi[1]+0].value<<16|gi[2][zi[2]+0].value)>>>0,So==0&&256>gi[0][zi[0]+0].value&&(Qn.Qb=1,Qn.qb+=gi[0][zi[0]+0].value<<8)),Qn.jc=!Qn.Qb&&6>Or,Qn.jc){var _c,va=Qn;for(_c=0;_c<wo;++_c){var Ga=_c,Ha=va.pd[Ga],Nc=va.G[0][va.H[0]+Ga];256<=Nc.value?(Ha.g=Nc.g+256,Ha.value=Nc.value):(Ha.g=0,Ha.value=0,Ga>>=Ee(Nc,8,Ha),Ga>>=Ee(va.G[1][va.H[1]+Ga],16,Ha),Ga>>=Ee(va.G[2][va.H[2]+Ga],0,Ha),Ee(va.G[3][va.H[3]+Ga],24,Ha))}}}Mr.vc=_n,Mr.Wb=Fn,Mr.Ya=fi,Mr.yc=hi,Mt=1;break t}Mt=0}if(!(G=Mt)){T.a=3;break e}if(0<$e){if(de.ua=1<<$e,!z(de.Wa,$e)){T.a=1,G=0;break e}}else de.ua=0;var iu=T,b0=Y,sv=J,au=iu.s,ou=au.xc;if(iu.c=b0,iu.i=sv,au.md=le(b0,ou),au.wc=ou==0?-1:(1<<ou)-1,M){T.xb=Fm;break e}if((ke=a(Y*J))==null){T.a=1,G=0;break e}G=(G=ft(T,ke,0,Y,J,J,null))&&!re.h;break e}return G?(j!=null?j[0]=ke:(t(ke==null),t(M)),T.$=0,M||Ge(de)):Ge(de),G}function Fe(m,b){var M=m.c*m.i,T=M+b+16*b;return t(m.c<=b),m.V=a(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+M+b,1)}function Z(m,b){var M=m.C,T=b-M,j=m.V,G=m.Ba+m.c*M;for(t(b<=m.l.o);0<T;){var Y=16<T?16:T,J=m.l.ma,re=m.l.width,de=re*Y,ke=J.ca,$e=J.tb+re*M,he=m.Ta,Le=m.Ua;Ve(m,Y,j,G),Gp(he,Le,ke,$e,de),vt(J,M,M+Y,ke,$e,re),T-=Y,j+=Y*m.c,M+=Y}t(M==b),m.C=m.Ma=b}function at(){this.ub=this.yd=this.td=this.Rb=0}function gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function kt(){this.Yb=(function(){var m=[];return(function b(M,T,j){for(var G=j[T],Y=0;Y<G&&(M.push(j.length>T+1?[]:0),!(j.length<T+1));Y++)b(M[Y],T+1,j)})(m,0,[3,11]),m})()}function It(){this.jb=a(3),this.Wc=o([4,8],kt),this.Xc=o([4,17],kt)}function mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Rt(){this.ld=this.La=this.dd=this.tc=0}function St(){this.Na=this.la=0}function fn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rt),this.Y=0,this.ya=Array(new sr),this.aa=0,this.l=new Kn}function wr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function mn(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new at,this.Kc=new gt,this.ed=new mt,this.Qa=new rt,this.Ic=this.$c=this.Aa=0,this.D=new Wt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,N),this.ia=0,this.pb=l(4,fn),this.Pa=new It,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wr),this.Hd=0,this.rb=Array(new St),this.sb=0,this.wa=Array(new Rt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sr),this.L=this.aa=0,this.gd=o([4,2],Rt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Un(m,b){return 0>m?0:m>b?b:m}function Kn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lr(){var m=new mn;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,el||(el=Ei)),m}function Pn(m,b,M){return m.a==0&&(m.a=b,m.sc=M,m.cb=0),0}function Ia(m,b,M){return 3<=M&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Yn(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Pn(m,2,"null VP8Io passed to VP8GetHeaders()");var M=b.data,T=b.w,j=b.ha;if(4>j)return Pn(m,7,"Truncated header.");var G=M[T+0]|M[T+1]<<8|M[T+2]<<16,Y=m.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return Pn(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return Pn(m,4,"Frame not displayable.");T+=3,j-=3;var J=m.Kc;if(Y.Rb){if(7>j)return Pn(m,7,"cannot parse picture header");if(!Ia(M,T,j))return Pn(m,3,"Bad code word");J.c=16383&(M[T+4]<<8|M[T+3]),J.Td=M[T+4]>>6,J.i=16383&(M[T+6]<<8|M[T+5]),J.Ud=M[T+6]>>6,T+=7,j-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,b.width=J.c,b.height=J.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,r((G=m.Pa).jb,0,255,G.jb.length),t((G=m.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,r(G.Zb,0,0,G.Zb.length),r(G.Lb,0,0,G.Lb)}if(Y.ub>j)return Pn(m,7,"bad partition length");ce(G=m.m,M,T,Y.ub),T+=Y.ub,j-=Y.ub,Y.Rb&&(J.Ld=pe(G),J.Kd=pe(G)),J=m.Qa;var re,de=m.Pa;if(t(G!=null),t(J!=null),J.Cb=pe(G),J.Cb){if(J.Bb=pe(G),pe(G)){for(J.Fb=pe(G),re=0;4>re;++re)J.Zb[re]=pe(G)?ae(G,7):0;for(re=0;4>re;++re)J.Lb[re]=pe(G)?ae(G,6):0}if(J.Bb)for(re=0;3>re;++re)de.jb[re]=pe(G)?Q(G,8):255}else J.Bb=0;if(G.Ka)return Pn(m,3,"cannot parse segment header");if((J=m.ed).zd=pe(G),J.Tb=Q(G,6),J.wb=Q(G,3),J.Pc=pe(G),J.Pc&&pe(G)){for(de=0;4>de;++de)pe(G)&&(J.vd[de]=ae(G,6));for(de=0;4>de;++de)pe(G)&&(J.od[de]=ae(G,6))}if(m.L=J.Tb==0?0:J.zd?1:2,G.Ka)return Pn(m,3,"cannot parse filter header");var ke=j;if(j=re=T,T=re+ke,J=ke,m.Xb=(1<<Q(m.m,2))-1,ke<3*(de=m.Xb))M=7;else{for(re+=3*de,J-=3*de,ke=0;ke<de;++ke){var $e=M[j+0]|M[j+1]<<8|M[j+2]<<16;$e>J&&($e=J),ce(m.Jc[+ke],M,re,$e),re+=$e,J-=$e,j+=3}ce(m.Jc[+de],M,re,J),M=re<T?0:5}if(M!=0)return Pn(m,M,"cannot parse partitions");for(M=Q(re=m.m,7),j=pe(re)?ae(re,4):0,T=pe(re)?ae(re,4):0,J=pe(re)?ae(re,4):0,de=pe(re)?ae(re,4):0,re=pe(re)?ae(re,4):0,ke=m.Qa,$e=0;4>$e;++$e){if(ke.Cb){var he=ke.Zb[$e];ke.Fb||(he+=M)}else{if(0<$e){m.pb[$e]=m.pb[0];continue}he=M}var Le=m.pb[$e];Le.Sc[0]=Qh[Un(he+j,127)],Le.Sc[1]=Jh[Un(he+0,127)],Le.Eb[0]=2*Qh[Un(he+T,127)],Le.Eb[1]=101581*Jh[Un(he+J,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=Qh[Un(he+de,117)],Le.Qc[1]=Jh[Un(he+re,127)],Le.lc=he+re}if(!Y.Rb)return Pn(m,4,"Not a key frame.");for(pe(G),Y=m.Pa,M=0;4>M;++M){for(j=0;8>j;++j)for(T=0;3>T;++T)for(J=0;11>J;++J)de=_e(G,Rm[M][j][T][J])?Q(G,8):Dm[M][j][T][J],Y.Wc[M][j].Yb[T][J]=de;for(j=0;17>j;++j)Y.Xc[M][j]=Y.Wc[M][$m[j]]}return m.kc=pe(G),m.kc&&(m.Bd=Q(G,8)),m.cb=1}function Ei(m,b,M,T,j,G,Y){var J=b[j].Yb[M];for(M=0;16>j;++j){if(!_e(m,J[M+0]))return j;for(;!_e(m,J[M+1]);)if(J=b[++j].Yb[0],M=0,j==16)return 16;var re=b[j+1].Yb;if(_e(m,J[M+2])){var de=m,ke=0;if(_e(de,(he=J)[($e=M)+3]))if(_e(de,he[$e+6])){for(J=0,$e=2*(ke=_e(de,he[$e+8]))+(he=_e(de,he[$e+9+ke])),ke=0,he=Im[$e];he[J];++J)ke+=ke+_e(de,he[J]);ke+=3+(8<<$e)}else _e(de,he[$e+7])?(ke=7+2*_e(de,165),ke+=_e(de,145)):ke=5+_e(de,159);else ke=_e(de,he[$e+4])?3+_e(de,he[$e+5]):2;J=re[2]}else ke=1,J=re[1];re=Y+Bm[j],0>(de=m).b&&Pe(de);var $e,he=de.b,Le=($e=de.Ca>>1)-(de.I>>he)>>31;--de.b,de.Ca+=Le,de.Ca|=1,de.I-=($e+1&Le)<<he,G[re]=((ke^Le)-Le)*T[(0<j)+0]}return 16}function aa(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,r(m.zc,0,0,m.zc.length),m.ja=0}function Dr(m,b,M,T,j){j=m[b+M+32*T]+(j>>3),m[b+M+32*T]=-256&j?0>j?0:255:j}function fr(m,b,M,T,j,G){Dr(m,b,0,M,T+j),Dr(m,b,1,M,T+G),Dr(m,b,2,M,T-G),Dr(m,b,3,M,T-j)}function Zr(m){return(20091*m>>16)+m}function rc(m,b,M,T){var j,G=0,Y=a(16);for(j=0;4>j;++j){var J=m[b+0]+m[b+8],re=m[b+0]-m[b+8],de=(35468*m[b+4]>>16)-Zr(m[b+12]),ke=Zr(m[b+4])+(35468*m[b+12]>>16);Y[G+0]=J+ke,Y[G+1]=re+de,Y[G+2]=re-de,Y[G+3]=J-ke,G+=4,b++}for(j=G=0;4>j;++j)J=(m=Y[G+0]+4)+Y[G+8],re=m-Y[G+8],de=(35468*Y[G+4]>>16)-Zr(Y[G+12]),Dr(M,T,0,0,J+(ke=Zr(Y[G+4])+(35468*Y[G+12]>>16))),Dr(M,T,1,0,re+de),Dr(M,T,2,0,re-de),Dr(M,T,3,0,J-ke),G++,T+=32}function Th(m,b,M,T){var j=m[b+0]+4,G=35468*m[b+4]>>16,Y=Zr(m[b+4]),J=35468*m[b+1]>>16;fr(M,T,0,j+Y,m=Zr(m[b+1]),J),fr(M,T,1,j+G,m,J),fr(M,T,2,j-G,m,J),fr(M,T,3,j-Y,m,J)}function Ih(m,b,M,T,j){rc(m,b,M,T),j&&rc(m,b+16,M,T+4)}function Hi(m,b,M,T){ko(m,b+0,M,T,1),ko(m,b+32,M,T+128,1)}function ic(m,b,M,T){var j;for(m=m[b+0]+4,j=0;4>j;++j)for(b=0;4>b;++b)Dr(M,T,b,j,m)}function ac(m,b,M,T){m[b+0]&&En(m,b+0,M,T),m[b+16]&&En(m,b+16,M,T+4),m[b+32]&&En(m,b+32,M,T+128),m[b+48]&&En(m,b+48,M,T+128+4)}function Yo(m,b,M,T){var j,G=a(16);for(j=0;4>j;++j){var Y=m[b+0+j]+m[b+12+j],J=m[b+4+j]+m[b+8+j],re=m[b+4+j]-m[b+8+j],de=m[b+0+j]-m[b+12+j];G[0+j]=Y+J,G[8+j]=Y-J,G[4+j]=de+re,G[12+j]=de-re}for(j=0;4>j;++j)Y=(m=G[0+4*j]+3)+G[3+4*j],J=G[1+4*j]+G[2+4*j],re=G[1+4*j]-G[2+4*j],de=m-G[3+4*j],M[T+0]=Y+J>>3,M[T+16]=de+re>>3,M[T+32]=Y-J>>3,M[T+48]=de-re>>3,T+=64}function ho(m,b,M){var T,j=b-32,G=di,Y=255-m[j-1];for(T=0;T<M;++T){var J,re=G,de=Y+m[b-1];for(J=0;J<M;++J)m[b+J]=re[de+m[j+J]];b+=32}}function Bh(m,b){ho(m,b,4)}function Dh(m,b){ho(m,b,8)}function Eh(m,b){ho(m,b,16)}function Ds(m,b){var M;for(M=0;16>M;++M)i(m,b+32*M,m,b-32,16)}function oc(m,b){var M;for(M=16;0<M;--M)r(m,b,m[b-1],16),b+=32}function Ri(m,b,M){var T;for(T=0;16>T;++T)r(b,M+32*T,m,16)}function Rh(m,b){var M,T=16;for(M=0;16>M;++M)T+=m[b-1+32*M]+m[b+M-32];Ri(T>>5,m,b)}function uo(m,b){var M,T=8;for(M=0;16>M;++M)T+=m[b-1+32*M];Ri(T>>4,m,b)}function Es(m,b){var M,T=8;for(M=0;16>M;++M)T+=m[b+M-32];Ri(T>>4,m,b)}function $h(m,b){Ri(128,m,b)}function dn(m,b,M){return m+2*b+M+2>>2}function Fh(m,b){var M,T=b-32;for(T=new Uint8Array([dn(m[T-1],m[T+0],m[T+1]),dn(m[T+0],m[T+1],m[T+2]),dn(m[T+1],m[T+2],m[T+3]),dn(m[T+2],m[T+3],m[T+4])]),M=0;4>M;++M)i(m,b+32*M,T,0,T.length)}function Oh(m,b){var M=m[b-1],T=m[b-1+32],j=m[b-1+64],G=m[b-1+96];Oe(m,b+0,16843009*dn(m[b-1-32],M,T)),Oe(m,b+32,16843009*dn(M,T,j)),Oe(m,b+64,16843009*dn(T,j,G)),Oe(m,b+96,16843009*dn(j,G,G))}function zh(m,b){var M,T=4;for(M=0;4>M;++M)T+=m[b+M-32]+m[b-1+32*M];for(T>>=3,M=0;4>M;++M)r(m,b+32*M,T,4)}function oa(m,b){var M=m[b-1+0],T=m[b-1+32],j=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],J=m[b+1-32],re=m[b+2-32],de=m[b+3-32];m[b+0+96]=dn(T,j,m[b-1+96]),m[b+1+96]=m[b+0+64]=dn(M,T,j),m[b+2+96]=m[b+1+64]=m[b+0+32]=dn(G,M,T),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=dn(Y,G,M),m[b+3+64]=m[b+2+32]=m[b+1+0]=dn(J,Y,G),m[b+3+32]=m[b+2+0]=dn(re,J,Y),m[b+3+0]=dn(de,re,J)}function sa(m,b){var M=m[b+1-32],T=m[b+2-32],j=m[b+3-32],G=m[b+4-32],Y=m[b+5-32],J=m[b+6-32],re=m[b+7-32];m[b+0+0]=dn(m[b+0-32],M,T),m[b+1+0]=m[b+0+32]=dn(M,T,j),m[b+2+0]=m[b+1+32]=m[b+0+64]=dn(T,j,G),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=dn(j,G,Y),m[b+3+32]=m[b+2+64]=m[b+1+96]=dn(G,Y,J),m[b+3+64]=m[b+2+96]=dn(Y,J,re),m[b+3+96]=dn(J,re,re)}function Uh(m,b){var M=m[b-1+0],T=m[b-1+32],j=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],J=m[b+1-32],re=m[b+2-32],de=m[b+3-32];m[b+0+0]=m[b+1+64]=G+Y+1>>1,m[b+1+0]=m[b+2+64]=Y+J+1>>1,m[b+2+0]=m[b+3+64]=J+re+1>>1,m[b+3+0]=re+de+1>>1,m[b+0+96]=dn(j,T,M),m[b+0+64]=dn(T,M,G),m[b+0+32]=m[b+1+96]=dn(M,G,Y),m[b+1+32]=m[b+2+96]=dn(G,Y,J),m[b+2+32]=m[b+3+96]=dn(Y,J,re),m[b+3+32]=dn(J,re,de)}function Wh(m,b){var M=m[b+0-32],T=m[b+1-32],j=m[b+2-32],G=m[b+3-32],Y=m[b+4-32],J=m[b+5-32],re=m[b+6-32],de=m[b+7-32];m[b+0+0]=M+T+1>>1,m[b+1+0]=m[b+0+64]=T+j+1>>1,m[b+2+0]=m[b+1+64]=j+G+1>>1,m[b+3+0]=m[b+2+64]=G+Y+1>>1,m[b+0+32]=dn(M,T,j),m[b+1+32]=m[b+0+96]=dn(T,j,G),m[b+2+32]=m[b+1+96]=dn(j,G,Y),m[b+3+32]=m[b+2+96]=dn(G,Y,J),m[b+3+64]=dn(Y,J,re),m[b+3+96]=dn(J,re,de)}function Vo(m,b){var M=m[b-1+0],T=m[b-1+32],j=m[b-1+64],G=m[b-1+96];m[b+0+0]=M+T+1>>1,m[b+2+0]=m[b+0+32]=T+j+1>>1,m[b+2+32]=m[b+0+64]=j+G+1>>1,m[b+1+0]=dn(M,T,j),m[b+3+0]=m[b+1+32]=dn(T,j,G),m[b+3+32]=m[b+1+64]=dn(j,G,G),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=G}function Rs(m,b){var M=m[b-1+0],T=m[b-1+32],j=m[b-1+64],G=m[b-1+96],Y=m[b-1-32],J=m[b+0-32],re=m[b+1-32],de=m[b+2-32];m[b+0+0]=m[b+2+32]=M+Y+1>>1,m[b+0+32]=m[b+2+64]=T+M+1>>1,m[b+0+64]=m[b+2+96]=j+T+1>>1,m[b+0+96]=G+j+1>>1,m[b+3+0]=dn(J,re,de),m[b+2+0]=dn(Y,J,re),m[b+1+0]=m[b+3+32]=dn(M,Y,J),m[b+1+32]=m[b+3+64]=dn(T,M,Y),m[b+1+64]=m[b+3+96]=dn(j,T,M),m[b+1+96]=dn(G,j,T)}function fo(m,b){var M;for(M=0;8>M;++M)i(m,b+32*M,m,b-32,8)}function jh(m,b){var M;for(M=0;8>M;++M)r(m,b,m[b-1],8),b+=32}function la(m,b,M){var T;for(T=0;8>T;++T)r(b,M+32*T,m,8)}function qh(m,b){var M,T=8;for(M=0;8>M;++M)T+=m[b+M-32]+m[b-1+32*M];la(T>>4,m,b)}function $s(m,b){var M,T=4;for(M=0;8>M;++M)T+=m[b+M-32];la(T>>3,m,b)}function Fs(m,b){var M,T=4;for(M=0;8>M;++M)T+=m[b-1+32*M];la(T>>3,m,b)}function sc(m,b){la(128,m,b)}function ca(m,b,M){var T=m[b-M],j=m[b+0],G=3*(j-T)+Xh[1020+m[b-2*M]-m[b+M]],Y=gc[112+(G+4>>3)];m[b-M]=di[255+T+gc[112+(G+3>>3)]],m[b+0]=di[255+j-Y]}function Os(m,b,M,T){var j=m[b+0],G=m[b+M];return Mi[255+m[b-2*M]-m[b-M]]>T||Mi[255+G-j]>T}function Qo(m,b,M,T){return 4*Mi[255+m[b-M]-m[b+0]]+Mi[255+m[b-2*M]-m[b+M]]<=T}function zs(m,b,M,T,j){var G=m[b-3*M],Y=m[b-2*M],J=m[b-M],re=m[b+0],de=m[b+M],ke=m[b+2*M],$e=m[b+3*M];return 4*Mi[255+J-re]+Mi[255+Y-de]>T?0:Mi[255+m[b-4*M]-G]<=j&&Mi[255+G-Y]<=j&&Mi[255+Y-J]<=j&&Mi[255+$e-ke]<=j&&Mi[255+ke-de]<=j&&Mi[255+de-re]<=j}function po(m,b,M,T){var j=2*T+1;for(T=0;16>T;++T)Qo(m,b+T,M,j)&&ca(m,b+T,M)}function Us(m,b,M,T){var j=2*T+1;for(T=0;16>T;++T)Qo(m,b+T*M,1,j)&&ca(m,b+T*M,1)}function lc(m,b,M,T){var j;for(j=3;0<j;--j)po(m,b+=4*M,M,T)}function cc(m,b,M,T){var j;for(j=3;0<j;--j)Us(m,b+=4,M,T)}function da(m,b,M,T,j,G,Y,J){for(G=2*G+1;0<j--;){if(zs(m,b,M,G,Y))if(Os(m,b,M,J))ca(m,b,M);else{var re=m,de=b,ke=M,$e=re[de-2*ke],he=re[de-ke],Le=re[de+0],De=re[de+ke],Ke=re[de+2*ke],Re=27*(nt=Xh[1020+3*(Le-he)+Xh[1020+$e-De]])+63>>7,Ze=18*nt+63>>7,nt=9*nt+63>>7;re[de-3*ke]=di[255+re[de-3*ke]+nt],re[de-2*ke]=di[255+$e+Ze],re[de-ke]=di[255+he+Re],re[de+0]=di[255+Le-Re],re[de+ke]=di[255+De-Ze],re[de+2*ke]=di[255+Ke-nt]}b+=T}}function ha(m,b,M,T,j,G,Y,J){for(G=2*G+1;0<j--;){if(zs(m,b,M,G,Y))if(Os(m,b,M,J))ca(m,b,M);else{var re=m,de=b,ke=M,$e=re[de-ke],he=re[de+0],Le=re[de+ke],De=gc[112+(4+(Ke=3*(he-$e))>>3)],Ke=gc[112+(Ke+3>>3)],Re=De+1>>1;re[de-2*ke]=di[255+re[de-2*ke]+Re],re[de-ke]=di[255+$e+Ke],re[de+0]=di[255+he-De],re[de+ke]=di[255+Le-Re]}b+=T}}function dc(m,b,M,T,j,G){da(m,b,M,1,16,T,j,G)}function go(m,b,M,T,j,G){da(m,b,1,M,16,T,j,G)}function hc(m,b,M,T,j,G){var Y;for(Y=3;0<Y;--Y)ha(m,b+=4*M,M,1,16,T,j,G)}function L(m,b,M,T,j,G){var Y;for(Y=3;0<Y;--Y)ha(m,b+=4,1,M,16,T,j,G)}function W(m,b,M,T,j,G,Y,J){da(m,b,j,1,8,G,Y,J),da(M,T,j,1,8,G,Y,J)}function ue(m,b,M,T,j,G,Y,J){da(m,b,1,j,8,G,Y,J),da(M,T,1,j,8,G,Y,J)}function ye(m,b,M,T,j,G,Y,J){ha(m,b+4*j,j,1,8,G,Y,J),ha(M,T+4*j,j,1,8,G,Y,J)}function Te(m,b,M,T,j,G,Y,J){ha(m,b+4,1,j,8,G,Y,J),ha(M,T+4,1,j,8,G,Y,J)}function tt(){this.ba=new rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jt(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new D}function ln(){this.xb=this.a=0,this.l=new Kn,this.ca=new rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jt,this.ab=0,this.gc=l(4,$t),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mn(m,b,M,T,j,G,Y){for(m=m==null?0:m[b+0],b=0;b<Y;++b)j[G+b]=m+M[T+b]&255,m=j[G+b]}function ir(m,b,M,T,j,G,Y){var J;if(m==null)Mn(null,null,M,T,j,G,Y);else for(J=0;J<Y;++J)j[G+J]=m[b+J]+M[T+J]&255}function xr(m,b,M,T,j,G,Y){if(m==null)Mn(null,null,M,T,j,G,Y);else{var J,re=m[b+0],de=re,ke=re;for(J=0;J<Y;++J)de=ke+(re=m[b+J])-de,ke=M[T+J]+(-256&de?0>de?0:255:de)&255,de=re,j[G+J]=ke}}function Vn(m,b,M,T){var j=b.width,G=b.o;if(t(m!=null&&b!=null),0>M||0>=T||M+T>G)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new An,(Y=m.ga==null)||(Y=b.width*b.o,t(m.Gb.length==0),m.Gb=a(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var J=m.Fa,re=m.P,de=m.qc,ke=m.mb,$e=m.nb,he=re+1,Le=de-1,De=Y.l;if(t(J!=null&&ke!=null&&b!=null),ja[0]=null,ja[1]=Mn,ja[2]=ir,ja[3]=xr,Y.ca=ke,Y.tb=$e,Y.c=b.width,Y.i=b.height,t(0<Y.c&&0<Y.i),1>=de)b=0;else if(Y.$a=3&J[re+0],Y.Z=J[re+0]>>2&3,Y.Lc=J[re+0]>>4&3,re=J[re+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||re)b=0;else if(De.put=we,De.ac=Ae,De.bc=fe,De.ma=Y,De.width=b.width,De.height=b.height,De.Da=b.Da,De.v=b.v,De.va=b.va,De.j=b.j,De.o=b.o,Y.$a)e:{t(Y.$a==1),b=ze();t:for(;;){if(b==null){b=0;break e}if(t(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,ie(b.m,J,he,Le),!be(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Je(b.s)?(Y.ic=1,J=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(J),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=Fe(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=Le>=Y.c*Y.i;Y=!b}if(Y)return null;m.ga.Lc!=1?m.Ga=0:T=G-M}t(m.ga!=null),t(M+T<=G);e:{if(b=(J=m.ga).c,G=J.l.o,J.$a==0){if(he=m.rc,Le=m.Vc,De=m.Fa,re=m.P+1+M*b,de=m.mb,ke=m.nb+M*b,t(re<=m.P+m.qc),J.Z!=0)for(t(ja[J.Z]!=null),Y=0;Y<T;++Y)ja[J.Z](he,Le,De,re,de,ke,b),he=de,Le=ke,ke+=b,re+=b;else for(Y=0;Y<T;++Y)i(de,ke,De,re,b),he=de,Le=ke,ke+=b,re+=b;m.rc=he,m.Vc=Le}else{if(t(J.mc!=null),b=M+T,t((Y=J.mc)!=null),t(b<=Y.i),Y.C>=b)b=1;else if(J.ic||$i(),J.ic){J=Y.V,he=Y.Ba,Le=Y.c;var Ke=Y.i,Re=(De=1,re=Y.$/Le,de=Y.$%Le,ke=Y.m,$e=Y.s,Y.$),Ze=Le*Ke,nt=Le*b,At=$e.wc,ct=Re<nt?Ye($e,de,re):null;t(Re<=Ze),t(b<=Ke),t(Je($e));t:for(;;){for(;!ke.h&&Re<nt;){if(de&At||(ct=Ye($e,de,re)),t(ct!=null),Ce(ke),256>(Ke=Xe(ct.G[0],ct.H[0],ke)))J[he+Re]=Ke,++Re,++de>=Le&&(de=0,++re<=b&&!(re%16)&&pt(Y,re));else{if(!(280>Ke)){De=0;break t}Ke=Ue(Ke-256,ke);var Xt,Bt=Xe(ct.G[4],ct.H[4],ke);if(Ce(ke),!(Re>=(Bt=He(Le,Bt=Ue(Bt,ke)))&&Ze-Re>=Ke)){De=0;break t}for(Xt=0;Xt<Ke;++Xt)J[he+Re+Xt]=J[he+Re+Xt-Bt];for(Re+=Ke,de+=Ke;de>=Le;)de-=Le,++re<=b&&!(re%16)&&pt(Y,re);Re<nt&&de&At&&(ct=Ye($e,de,re))}t(ke.h==te(ke))}pt(Y,re>b?b:re);break t}!De||ke.h&&Re<Ze?(De=0,Y.a=ke.h?5:3):Y.$=Re,b=De}else b=ft(Y,Y.V,Y.Ba,Y.c,Y.i,b,Z);if(!b){T=0;break e}}M+T>=G&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+M*j}function Cr(m,b,M,T,j,G){for(;0<j--;){var Y,J=m,re=b+(M?1:0),de=m,ke=b+(M?0:3);for(Y=0;Y<T;++Y){var $e=de[ke+4*Y];$e!=255&&($e*=32897,J[re+4*Y+0]=J[re+4*Y+0]*$e>>23,J[re+4*Y+1]=J[re+4*Y+1]*$e>>23,J[re+4*Y+2]=J[re+4*Y+2]*$e>>23)}b+=G}}function kr(m,b,M,T,j){for(;0<T--;){var G;for(G=0;G<M;++G){var Y=m[b+2*G+0],J=15&(de=m[b+2*G+1]),re=4369*J,de=(240&de|de>>4)*re>>16;m[b+2*G+0]=(240&Y|Y>>4)*re>>16&240|(15&Y|Y<<4)*re>>16>>4&15,m[b+2*G+1]=240&de|J}b+=j}}function Er(m,b,M,T,j,G,Y,J){var re,de,ke=255;for(de=0;de<j;++de){for(re=0;re<T;++re){var $e=m[b+re];G[Y+4*re]=$e,ke&=$e}b+=M,Y+=J}return ke!=255}function ua(m,b,M,T,j){var G;for(G=0;G<j;++G)M[T+G]=m[b+G]>>8}function $i(){Zs=Cr,qp=kr,Xp=Er,Gp=ua}function fa(m,b,M){I[m]=function(T,j,G,Y,J,re,de,ke,$e,he,Le,De,Ke,Re,Ze,nt,At){var ct,Xt=At-1>>1,Bt=J[re+0]|de[ke+0]<<16,vn=$e[he+0]|Le[De+0]<<16;t(T!=null);var Ot=3*Bt+vn+131074>>2;for(b(T[j+0],255&Ot,Ot>>16,Ke,Re),G!=null&&(Ot=3*vn+Bt+131074>>2,b(G[Y+0],255&Ot,Ot>>16,Ze,nt)),ct=1;ct<=Xt;++ct){var kn=J[re+ct]|de[ke+ct]<<16,Pr=$e[he+ct]|Le[De+ct]<<16,bn=Bt+kn+vn+Pr+524296,zt=bn+2*(kn+vn)>>3;Ot=zt+Bt>>1,Bt=(bn=bn+2*(Bt+Pr)>>3)+kn>>1,b(T[j+2*ct-1],255&Ot,Ot>>16,Ke,Re+(2*ct-1)*M),b(T[j+2*ct-0],255&Bt,Bt>>16,Ke,Re+(2*ct-0)*M),G!=null&&(Ot=bn+vn>>1,Bt=zt+Pr>>1,b(G[Y+2*ct-1],255&Ot,Ot>>16,Ze,nt+(2*ct-1)*M),b(G[Y+2*ct+0],255&Bt,Bt>>16,Ze,nt+(2*ct+0)*M)),Bt=kn,vn=Pr}1&At||(Ot=3*Bt+vn+131074>>2,b(T[j+At-1],255&Ot,Ot>>16,Ke,Re+(At-1)*M),G!=null&&(Ot=3*vn+Bt+131074>>2,b(G[Y+At-1],255&Ot,Ot>>16,Ze,nt+(At-1)*M)))}}function Ws(){_i[Ac]=Om,_i[yc]=r0,_i[Kp]=zm,_i[mc]=i0,_i[vc]=a0,_i[Gh]=o0,_i[Zp]=Um,_i[Hh]=r0,_i[Yh]=i0,_i[bc]=a0,_i[Vh]=o0}function Jo(m){return m&-16384?0>m?0:255:m>>Wm}function Ba(m,b){return Jo((19077*m>>8)+(26149*b>>8)-14234)}function Ao(m,b,M){return Jo((19077*m>>8)-(6419*b>>8)-(13320*M>>8)+8708)}function yo(m,b){return Jo((19077*m>>8)+(33050*b>>8)-17685)}function Da(m,b,M,T,j){T[j+0]=Ba(m,M),T[j+1]=Ao(m,b,M),T[j+2]=yo(m,b)}function Rr(m,b,M,T,j){T[j+0]=yo(m,b),T[j+1]=Ao(m,b,M),T[j+2]=Ba(m,M)}function mo(m,b,M,T,j){var G=Ao(m,b,M);b=G<<3&224|yo(m,b)>>3,T[j+0]=248&Ba(m,M)|G>>5,T[j+1]=b}function vo(m,b,M,T,j){var G=240&yo(m,b)|15;T[j+0]=240&Ba(m,M)|Ao(m,b,M)>>4,T[j+1]=G}function js(m,b,M,T,j){T[j+0]=255,Da(m,b,M,T,j+1)}function qs(m,b,M,T,j){Rr(m,b,M,T,j),T[j+3]=255}function Yr(m,b,M,T,j){Da(m,b,M,T,j),T[j+3]=255}function pa(m,b,M){I[m]=function(T,j,G,Y,J,re,de,ke,$e){for(var he=ke+(-2&$e)*M;ke!=he;)b(T[j+0],G[Y+0],J[re+0],de,ke),b(T[j+1],G[Y+0],J[re+0],de,ke+M),j+=2,++Y,++re,ke+=2*M;1&$e&&b(T[j+0],G[Y+0],J[re+0],de,ke)}}function Ko(m,b,M){return M==0?m==0?b==0?6:5:b==0?4:0:M}function uc(m,b,M,T,j){switch(m>>>30){case 3:ko(b,M,T,j,0);break;case 2:Pi(b,M,T,j);break;case 1:En(b,M,T,j)}}function Li(m,b){var M,T,j=b.M,G=b.Nb,Y=m.oc,J=m.pc+40,re=m.oc,de=m.pc+584,ke=m.oc,$e=m.pc+600;for(M=0;16>M;++M)Y[J+32*M-1]=129;for(M=0;8>M;++M)re[de+32*M-1]=129,ke[$e+32*M-1]=129;for(0<j?Y[J-1-32]=re[de-1-32]=ke[$e-1-32]=129:(r(Y,J-32-1,127,21),r(re,de-32-1,127,9),r(ke,$e-32-1,127,9)),T=0;T<m.za;++T){var he=b.ya[b.aa+T];if(0<T){for(M=-1;16>M;++M)i(Y,J+32*M-4,Y,J+32*M+12,4);for(M=-1;8>M;++M)i(re,de+32*M-4,re,de+32*M+4,4),i(ke,$e+32*M-4,ke,$e+32*M+4,4)}var Le=m.Gd,De=m.Hd+T,Ke=he.ad,Re=he.Hc;if(0<j&&(i(Y,J-32,Le[De].y,0,16),i(re,de-32,Le[De].f,0,8),i(ke,$e-32,Le[De].ea,0,8)),he.Za){var Ze=Y,nt=J-32+16;for(0<j&&(T>=m.za-1?r(Ze,nt,Le[De].y[15],4):i(Ze,nt,Le[De+1].y,0,4)),M=0;4>M;M++)Ze[nt+128+M]=Ze[nt+256+M]=Ze[nt+384+M]=Ze[nt+0+M];for(M=0;16>M;++M,Re<<=2)Ze=Y,nt=J+l0[M],Fi[he.Ob[M]](Ze,nt),uc(Re,Ke,16*+M,Ze,nt)}else if(Ze=Ko(T,j,he.Ob[0]),Wa[Ze](Y,J),Re!=0)for(M=0;16>M;++M,Re<<=2)uc(Re,Ke,16*+M,Y,J+l0[M]);for(M=he.Gc,Ze=Ko(T,j,he.Dd),ya[Ze](re,de),ya[Ze](ke,$e),Re=Ke,Ze=re,nt=de,255&(he=0|M)&&(170&he?Qi(Re,256,Ze,nt):qn(Re,256,Ze,nt)),he=ke,Re=$e,255&(M>>=8)&&(170&M?Qi(Ke,320,he,Re):qn(Ke,320,he,Re)),j<m.Ub-1&&(i(Le[De].y,0,Y,J+480,16),i(Le[De].f,0,re,de+224,8),i(Le[De].ea,0,ke,$e+224,8)),M=8*G*m.B,Le=m.sa,De=m.ta+16*T+16*G*m.R,Ke=m.qa,he=m.ra+8*T+M,Re=m.Ha,Ze=m.Ia+8*T+M,M=0;16>M;++M)i(Le,De+M*m.R,Y,J+32*M,16);for(M=0;8>M;++M)i(Ke,he+M*m.B,re,de+32*M,8),i(Re,Ze+M*m.B,ke,$e+32*M,8)}}function bo(m,b,M,T,j,G,Y,J,re){var de=[0],ke=[0],$e=0,he=re!=null?re.kd:0,Le=re??new lt;if(m==null||12>M)return 7;Le.data=m,Le.w=b,Le.ha=M,b=[b],M=[M],Le.gb=[Le.gb];e:{var De=b,Ke=M,Re=Le.gb;if(t(m!=null),t(Ke!=null),t(Re!=null),Re[0]=0,12<=Ke[0]&&!n(m,De[0],"RIFF")){if(n(m,De[0]+8,"WEBP")){Re=3;break e}var Ze=B(m,De[0]+4);if(12>Ze||4294967286<Ze){Re=3;break e}if(he&&Ze>Ke[0]-8){Re=7;break e}Re[0]=Ze,De[0]+=12,Ke[0]-=12}Re=0}if(Re!=0)return Re;for(Ze=0<Le.gb[0],M=M[0];;){e:{var nt=m;Ke=b,Re=M;var At=de,ct=ke,Xt=De=[0];if((Ot=$e=[$e])[0]=0,8>Re[0])Re=7;else{if(!n(nt,Ke[0],"VP8X")){if(B(nt,Ke[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Bt=B(nt,Ke[0]+8),vn=1+et(nt,Ke[0]+12);if(2147483648<=vn*(nt=1+et(nt,Ke[0]+15))){Re=3;break e}Xt!=null&&(Xt[0]=Bt),At!=null&&(At[0]=vn),ct!=null&&(ct[0]=nt),Ke[0]+=18,Re[0]-=18,Ot[0]=1}Re=0}}if($e=$e[0],De=De[0],Re!=0)return Re;if(Ke=!!(2&De),!Ze&&$e)return 3;if(G!=null&&(G[0]=!!(16&De)),Y!=null&&(Y[0]=Ke),J!=null&&(J[0]=0),Y=de[0],De=ke[0],$e&&Ke&&re==null){Re=0;break}if(4>M){Re=7;break}if(Ze&&$e||!Ze&&!$e&&!n(m,b[0],"ALPH")){M=[M],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Bt=m,Re=b,Ze=M;var Ot=Le.gb;At=Le.na,ct=Le.P,Xt=Le.Sa,vn=22,t(Bt!=null),t(Ze!=null),nt=Re[0];var kn=Ze[0];for(t(At!=null),t(Xt!=null),At[0]=null,ct[0]=null,Xt[0]=0;;){if(Re[0]=nt,Ze[0]=kn,8>kn){Re=7;break e}var Pr=B(Bt,nt+4);if(4294967286<Pr){Re=3;break e}var bn=8+Pr+1&-2;if(vn+=bn,0<Ot&&vn>Ot){Re=3;break e}if(!n(Bt,nt,"VP8 ")||!n(Bt,nt,"VP8L")){Re=0;break e}if(kn[0]<bn){Re=7;break e}n(Bt,nt,"ALPH")||(At[0]=Bt,ct[0]=nt+8,Xt[0]=Pr),nt+=bn,kn-=bn}}if(M=M[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Re!=0)break}M=[M],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ot=m,Re=b,Ze=M,At=Le.gb[0],ct=Le.Ja,Xt=Le.xa,Bt=Re[0],nt=!n(Ot,Bt,"VP8 "),vn=!n(Ot,Bt,"VP8L"),t(Ot!=null),t(Ze!=null),t(ct!=null),t(Xt!=null),8>Ze[0])Re=7;else{if(nt||vn){if(Ot=B(Ot,Bt+4),12<=At&&Ot>At-12){Re=3;break e}if(he&&Ot>Ze[0]-8){Re=7;break e}ct[0]=Ot,Re[0]+=8,Ze[0]-=8,Xt[0]=vn}else Xt[0]=5<=Ze[0]&&Ot[Bt+0]==47&&!(Ot[Bt+4]>>5),ct[0]=Ze[0];Re=0}if(M=M[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],b=b[0],Re!=0)break;if(4294967286<Le.Ja)return 3;if(J==null||Ke||(J[0]=Le.xa?2:1),Y=[Y],De=[De],Le.xa){if(5>M){Re=7;break}J=Y,he=De,Ke=G,m==null||5>M?m=0:5<=M&&m[b+0]==47&&!(m[b+4]>>5)?(Ze=[0],Ot=[0],At=[0],ie(ct=new H,m,b,M),X(ct,Ze,Ot,At)?(J!=null&&(J[0]=Ze[0]),he!=null&&(he[0]=Ot[0]),Ke!=null&&(Ke[0]=At[0]),m=1):m=0):m=0}else{if(10>M){Re=7;break}J=De,m==null||10>M||!Ia(m,b+3,M-3)?m=0:(he=m[b+0]|m[b+1]<<8|m[b+2]<<16,Ke=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Le.Ja||!Ke||!m?m=0:(Y&&(Y[0]=Ke),J&&(J[0]=m),m=1))}if(!m||(Y=Y[0],De=De[0],$e&&(de[0]!=Y||ke[0]!=De)))return 3;re!=null&&(re[0]=Le,re.offset=b-re.w,t(4294967286>b-re.w),t(re.offset==re.ha-M));break}return Re==0||Re==7&&$e&&re==null?(G!=null&&(G[0]|=Le.na!=null&&0<Le.na.length),T!=null&&(T[0]=Y),j!=null&&(j[0]=De),0):Re}function Xs(m,b,M){var T=b.width,j=b.height,G=0,Y=0,J=T,re=j;if(b.Da=m!=null&&0<m.Da,b.Da&&(J=m.cd,re=m.bd,G=m.v,Y=m.j,11>M||(G&=-2,Y&=-2),0>G||0>Y||0>=J||0>=re||G+J>T||Y+re>j))return 0;if(b.v=G,b.j=Y,b.va=G+J,b.o=Y+re,b.U=J,b.T=re,b.da=m!=null&&0<m.da,b.da){if(!K(J,re,M=[m.ib],G=[m.hb]))return 0;b.ib=M[0],b.hb=G[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*T/4&&b.hb<3*j/4,b.Kb=0),1}function Gs(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Ea(m,b,M,T){if(T==null||0>=m||0>=b)return 2;if(M!=null){if(M.Da){var j=M.cd,G=M.bd,Y=-2&M.v,J=-2&M.j;if(0>Y||0>J||0>=j||0>=G||Y+j>m||J+G>b)return 2;m=j,b=G}if(M.da){if(!K(m,b,j=[M.ib],G=[M.hb]))return 2;m=j[0],b=G[0]}}T.width=m,T.height=b;e:{var re=T.width,de=T.height;if(m=T.S,0>=re||0>=de||!(m>=Ac&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){Y=G=j=b=0;var ke=(J=re*c0[m])*de;if(11>m||(G=(de+1)/2*(b=(re+1)/2),m==12&&(Y=(j=re)*de)),(de=a(ke+2*G+Y))==null){m=1;break e}T.sd=de,11>m?((re=T.f.RGBA).eb=de,re.fb=0,re.A=J,re.size=ke):((re=T.f.kb).y=de,re.O=0,re.fa=J,re.Fd=ke,re.f=de,re.N=0+ke,re.Ab=b,re.Cd=G,re.ea=de,re.W=0+ke+G,re.Db=b,re.Ed=G,m==12&&(re.F=de,re.J=0+ke+2*G),re.Tc=Y,re.lb=j)}if(b=1,j=T.S,G=T.width,Y=T.height,j>=Ac&&13>j)if(11>j)m=T.f.RGBA,b&=(J=Math.abs(m.A))*(Y-1)+G<=m.size,b&=J>=G*c0[j],b&=m.eb!=null;else{m=T.f.kb,J=(G+1)/2,ke=(Y+1)/2,re=Math.abs(m.fa),de=Math.abs(m.Ab);var $e=Math.abs(m.Db),he=Math.abs(m.lb),Le=he*(Y-1)+G;b&=re*(Y-1)+G<=m.Fd,b&=de*(ke-1)+J<=m.Cd,b=(b&=$e*(ke-1)+J<=m.Ed)&re>=G&de>=J&$e>=J,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,j==12&&(b&=he>=G,b&=Le<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||M!=null&&M.fd&&(m=Gs(T)),m}var wo=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ci=24,Ra=32,ga=8,$a=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(m){return m},I.Predictor2=function(m,b,M){return b[M+0]},I.Predictor3=function(m,b,M){return b[M+1]},I.Predictor4=function(m,b,M){return b[M-1]},I.Predictor5=function(m,b,M){return je(je(m,b[M+1]),b[M+0])},I.Predictor6=function(m,b,M){return je(m,b[M-1])},I.Predictor7=function(m,b,M){return je(m,b[M+0])},I.Predictor8=function(m,b,M){return je(b[M-1],b[M+0])},I.Predictor9=function(m,b,M){return je(b[M+0],b[M+1])},I.Predictor10=function(m,b,M){return je(je(m,b[M-1]),je(b[M+0],b[M+1]))},I.Predictor11=function(m,b,M){var T=b[M+0];return 0>=dt(T>>24&255,m>>24&255,(b=b[M-1])>>24&255)+dt(T>>16&255,m>>16&255,b>>16&255)+dt(T>>8&255,m>>8&255,b>>8&255)+dt(255&T,255&m,255&b)?T:m},I.Predictor12=function(m,b,M){var T=b[M+0];return(ut((m>>24&255)+(T>>24&255)-((b=b[M-1])>>24&255))<<24|ut((m>>16&255)+(T>>16&255)-(b>>16&255))<<16|ut((m>>8&255)+(T>>8&255)-(b>>8&255))<<8|ut((255&m)+(255&T)-(255&b)))>>>0},I.Predictor13=function(m,b,M){var T=b[M-1];return(Qe((m=je(m,b[M+0]))>>24&255,T>>24&255)<<24|Qe(m>>16&255,T>>16&255)<<16|Qe(m>>8&255,T>>8&255)<<8|Qe(255&m,255&T))>>>0};var Hs=I.PredictorAdd0;I.PredictorAdd1=Tt,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Zo=I.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var pr,fc=I.ColorIndexInverseTransform,Yi=I.MapARGB,Vi=I.VP8LColorIndexInverseTransformAlpha,Ys=I.MapAlpha,Vs=I.VP8LPredictorsAdd=[];Vs.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Qs,Js,Fa,Oa,za,xo,Ua,ko,Pi,Qi,En,qn,gr,Lr,Aa,Ks,es,pc,Fp,Op,zp,Up,Wp,jp,Zs,qp,Xp,Gp,Hp=a(511),Yp=a(2041),Vp=a(225),Qp=a(767),Jp=0,Xh=Yp,gc=Vp,di=Qp,Mi=Hp,Ac=0,yc=1,Kp=2,mc=3,vc=4,Gh=5,Zp=6,Hh=7,Yh=8,bc=9,Vh=10,Cm=[2,3,7],Lm=[3,3,11],e0=[280,256,256,256,40],Pm=[0,1,1,1,0],Mm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_m=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tm=8,Qh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Jh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],el=null,Im=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],t0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Em=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$m=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wa=[],Fi=[],ya=[],Fm=1,n0=2,ja=[],_i=[];fa("UpsampleRgbLinePair",Da,3),fa("UpsampleBgrLinePair",Rr,3),fa("UpsampleRgbaLinePair",Yr,4),fa("UpsampleBgraLinePair",qs,4),fa("UpsampleArgbLinePair",js,4),fa("UpsampleRgba4444LinePair",vo,2),fa("UpsampleRgb565LinePair",mo,2);var Om=I.UpsampleRgbLinePair,zm=I.UpsampleBgrLinePair,r0=I.UpsampleRgbaLinePair,i0=I.UpsampleBgraLinePair,a0=I.UpsampleArgbLinePair,o0=I.UpsampleRgba4444LinePair,Um=I.UpsampleRgb565LinePair,wc=16,xc=1<<wc-1,tl=-227,Kh=482,Wm=6,s0=0,jm=a(256),qm=a(256),Xm=a(256),Gm=a(256),Hm=a(Kh-tl),Ym=a(Kh-tl);pa("YuvToRgbRow",Da,3),pa("YuvToBgrRow",Rr,3),pa("YuvToRgbaRow",Yr,4),pa("YuvToBgraRow",qs,4),pa("YuvToArgbRow",js,4),pa("YuvToRgba4444Row",vo,2),pa("YuvToRgb565Row",mo,2);var l0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kc=[0,2,8],Vm=[8,7,6,4,4,2,2,2,1,1,1,1],Qm=1;this.WebPDecodeRGBA=function(m,b,M,T,j){var G=yc,Y=new tt,J=new rn;Y.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var re=J.width,de=J.height,ke=new Gt;if(ke==null||m==null)var $e=2;else t(ke!=null),$e=bo(m,b,M,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if($e!=0?re=0:(re!=null&&(re[0]=ke.width[0]),de!=null&&(de[0]=ke.height[0]),re=1),re){J.width=J.width[0],J.height=J.height[0],T!=null&&(T[0]=J.width),j!=null&&(j[0]=J.height);e:{if(T=new Kn,(j=new lt).data=m,j.w=b,j.ha=M,j.kd=1,b=[0],t(j!=null),((m=bo(j.data,j.w,j.ha,null,null,null,b,null,j))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(t(Y!=null),T.data=j.data,T.w=j.w+j.offset,T.ha=j.ha-j.offset,T.put=we,T.ac=Ae,T.bc=fe,T.ma=Y,j.xa){if((m=ze())==null){Y=1;break e}if((function(he,Le){var De=[0],Ke=[0],Re=[0];t:for(;;){if(he==null)return 0;if(Le==null)return he.a=2,0;if(he.l=Le,he.a=0,ie(he.m,Le.data,Le.w,Le.ha),!X(he.m,De,Ke,Re)){he.a=3;break t}if(he.xb=n0,Le.width=De[0],Le.height=Ke[0],!be(De[0],Ke[0],1,he,null))break t;return 1}return t(he.a!=0),0})(m,T)){if(T=(b=Ea(T.width,T.height,Y.Oa,Y.ba))==0){t:{T=m;n:for(;;){if(T==null){T=0;break t}if(t(T.s.yc!=null),t(T.s.Ya!=null),t(0<T.s.Wb),t((M=T.l)!=null),t((j=M.ma)!=null),T.xb!=0){if(T.ca=j.ba,T.tb=j.tb,t(T.ca!=null),!Xs(j.Oa,M,mc)){T.a=2;break n}if(!Fe(T,M.width)||M.da)break n;if((M.da||Ht(T.ca.S))&&$i(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&$i()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!z(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!ft(T,T.V,T.Ba,T.c,T.i,M.o,qe))break n;j.Dc=T.Ma,T=1;break t}t(T.a!=0),T=0}T=!T}T&&(b=m.a)}else b=m.a}else{if((m=new lr)==null){Y=1;break e}if(m.Fa=j.na,m.P=j.P,m.qc=j.Sa,Yn(m,T)){if((b=Ea(T.width,T.height,Y.Oa,Y.ba))==0){if(m.Aa=0,M=Y.Oa,t((j=m)!=null),M!=null){if(0<(re=0>(re=M.Md)?0:100<re?255:255*re/100)){for(de=ke=0;4>de;++de)12>($e=j.pb[de]).lc&&($e.ia=re*Vm[0>$e.lc?0:$e.lc]>>3),ke|=$e.ia;ke&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=M.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(he,Le){if(he==null)return 0;if(Le==null)return Pn(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Yn(he,Le))return 0;if(t(he.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(he.L=0);var De=kc[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Le.v-De>>4,he.zb=Le.j-De>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Le.o+15+De>>4,he.Hb=Le.va+15+De>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ke=he.ed;for(De=0;4>De;++De){var Re;if(he.Qa.Cb){var Ze=he.Qa.Lb[De];he.Qa.Fb||(Ze+=Ke.Tb)}else Ze=Ke.Tb;for(Re=0;1>=Re;++Re){var nt=he.gd[De][Re],At=Ze;if(Ke.Pc&&(At+=Ke.vd[0],Re&&(At+=Ke.od[0])),0<(At=0>At?0:63<At?63:At)){var ct=At;0<Ke.wb&&(ct=4<Ke.wb?ct>>2:ct>>1)>9-Ke.wb&&(ct=9-Ke.wb),1>ct&&(ct=1),nt.dd=ct,nt.tc=2*At+ct,nt.ld=40<=At?2:15<=At?1:0}else nt.tc=0;nt.La=Re}}}De=0}else Pn(he,6,"Frame setup failed"),De=he.a;if(De=De==0){if(De){he.$c=0,0<he.Aa||(he.Ic=Qm);t:{De=he.Ic,Ke=4*(ct=he.za);var Xt=32*ct,Bt=ct+1,vn=0<he.L?ct*(0<he.Aa?2:1):0,Ot=(he.Aa==2?2:1)*ct;if((nt=Ke+832+(Re=3*(16*De+kc[he.L])/2*Xt)+(Ze=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=nt)De=0;else{if(nt>he.Vb){if(he.Vb=0,he.Ec=a(nt),he.Fc=0,he.Ec==null){De=Pn(he,1,"no memory during frame initialization.");break t}he.Vb=nt}nt=he.Ec,At=he.Fc,he.Ac=nt,he.Bc=At,At+=Ke,he.Gd=l(Xt,wr),he.Hd=0,he.rb=l(Bt+1,St),he.sb=1,he.wa=vn?l(vn,Rt):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=ct),t(!0),he.oc=nt,he.pc=At,At+=832,he.ya=l(Ot,sr),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=ct),he.R=16*ct,he.B=8*ct,ct=(Xt=kc[he.L])*he.R,Xt=Xt/2*he.B,he.sa=nt,he.ta=At+ct,he.qa=he.sa,he.ra=he.ta+16*De*he.R+Xt,he.Ha=he.qa,he.Ia=he.ra+8*De*he.B+Xt,he.$c=0,At+=Re,he.mb=Ze?nt:null,he.nb=Ze?At:null,t(At+Ze<=he.Fc+he.Vb),aa(he),r(he.Ac,he.Bc,0,Ke),De=1}}if(De){if(Le.ka=0,Le.y=he.sa,Le.O=he.ta,Le.f=he.qa,Le.N=he.ra,Le.ea=he.Ha,Le.Vd=he.Ia,Le.fa=he.R,Le.Rc=he.B,Le.F=null,Le.J=0,!Jp){for(De=-255;255>=De;++De)Hp[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)Yp[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)Vp[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)Qp[255+De]=0>De?0:255<De?255:De;Jp=1}Ua=Yo,ko=Ih,Qi=Hi,En=ic,qn=ac,Pi=Th,gr=dc,Lr=go,Aa=W,Ks=ue,es=hc,pc=L,Fp=ye,Op=Te,zp=po,Up=Us,Wp=lc,jp=cc,Fi[0]=zh,Fi[1]=Bh,Fi[2]=Fh,Fi[3]=Oh,Fi[4]=oa,Fi[5]=Uh,Fi[6]=sa,Fi[7]=Wh,Fi[8]=Rs,Fi[9]=Vo,Wa[0]=Rh,Wa[1]=Eh,Wa[2]=Ds,Wa[3]=oc,Wa[4]=uo,Wa[5]=Es,Wa[6]=$h,ya[0]=qh,ya[1]=Dh,ya[2]=fo,ya[3]=jh,ya[4]=Fs,ya[5]=$s,ya[6]=sc,De=1}else De=0}De&&(De=(function(kn,Pr){for(kn.M=0;kn.M<kn.Va;++kn.M){var bn,zt=kn.Jc[kn.M&kn.Xb],Mt=kn.m,Ar=kn;for(bn=0;bn<Ar.za;++bn){var pn=Mt,Ln=Ar,Zn=Ln.Ac,$r=Ln.Bc+4*bn,Vr=Ln.zc,cr=Ln.ya[Ln.aa+bn];if(Ln.Qa.Bb?cr.$b=_e(pn,Ln.Pa.jb[0])?2+_e(pn,Ln.Pa.jb[2]):_e(pn,Ln.Pa.jb[1]):cr.$b=0,Ln.kc&&(cr.Ad=_e(pn,Ln.Bd)),cr.Za=!_e(pn,145)+0,cr.Za){var zr=cr.Ob,Qr=0;for(Ln=0;4>Ln;++Ln){var Mr,_n=Vr[0+Ln];for(Mr=0;4>Mr;++Mr){_n=Em[Zn[$r+Mr]][_n];for(var Fn=t0[_e(pn,_n[0])];0<Fn;)Fn=t0[2*Fn+_e(pn,_n[Fn])];_n=-Fn,Zn[$r+Mr]=_n}i(zr,Qr,Zn,$r,4),Qr+=4,Vr[0+Ln]=_n}}else _n=_e(pn,156)?_e(pn,128)?1:3:_e(pn,163)?2:0,cr.Ob[0]=_n,r(Zn,$r,_n,4),r(Vr,0,_n,4);cr.Dd=_e(pn,142)?_e(pn,114)?_e(pn,183)?1:3:2:0}if(Ar.m.Ka)return Pn(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if(Ar=zt,pn=(Mt=kn).rb[Mt.sb-1],Zn=Mt.rb[Mt.sb+Mt.ja],bn=Mt.ya[Mt.aa+Mt.ja],$r=Mt.kc?bn.Ad:0)pn.la=Zn.la=0,bn.Za||(pn.Na=Zn.Na=0),bn.Hc=0,bn.Gc=0,bn.ia=0;else{var dr,On;if(pn=Zn,Zn=Ar,$r=Mt.Pa.Xc,Vr=Mt.ya[Mt.aa+Mt.ja],cr=Mt.pb[Vr.$b],Ln=Vr.ad,zr=0,Qr=Mt.rb[Mt.sb-1],_n=Mr=0,r(Ln,zr,0,384),Vr.Za)var Fr=0,Oi=$r[3];else{Fn=a(16);var yr=pn.Na+Qr.Na;if(yr=el(Zn,$r[1],yr,cr.Eb,0,Fn,0),pn.Na=Qr.Na=(0<yr)+0,1<yr)Ua(Fn,0,Ln,zr);else{var ei=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)Ln[zr+Fn]=ei}Fr=1,Oi=$r[0]}var Xn=15&pn.la,_r=15&Qr.la;for(Fn=0;4>Fn;++Fn){var hi=1&_r;for(ei=On=0;4>ei;++ei)Xn=Xn>>1|(hi=(yr=el(Zn,Oi,yr=hi+(1&Xn),cr.Sc,Fr,Ln,zr))>Fr)<<7,On=On<<2|(3<yr?3:1<yr?2:Ln[zr+0]!=0),zr+=16;Xn>>=4,_r=_r>>1|hi<<7,Mr=(Mr<<8|On)>>>0}for(Oi=Xn,Fr=_r>>4,dr=0;4>dr;dr+=2){for(On=0,Xn=pn.la>>4+dr,_r=Qr.la>>4+dr,Fn=0;2>Fn;++Fn){for(hi=1&_r,ei=0;2>ei;++ei)yr=hi+(1&Xn),Xn=Xn>>1|(hi=0<(yr=el(Zn,$r[2],yr,cr.Qc,0,Ln,zr)))<<3,On=On<<2|(3<yr?3:1<yr?2:Ln[zr+0]!=0),zr+=16;Xn>>=2,_r=_r>>1|hi<<5}_n|=On<<4*dr,Oi|=Xn<<4<<dr,Fr|=(240&_r)<<dr}pn.la=Oi,Qr.la=Fr,Vr.Hc=Mr,Vr.Gc=_n,Vr.ia=43690&_n?0:cr.ia,$r=!(Mr|_n)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[bn.$b][bn.Za],Mt.wa[Mt.Y+Mt.ja].La|=!$r),Ar.Ka)return Pn(kn,7,"Premature end-of-file encountered.")}if(aa(kn),Mt=Pr,Ar=1,bn=(zt=kn).D,pn=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(bn.M=zt.M,bn.uc=pn,Li(zt,bn),Ar=1,bn=(On=zt.D).Nb,pn=(_n=kc[zt.L])*zt.R,Zn=_n/2*zt.B,Fn=16*bn*zt.R,ei=8*bn*zt.B,$r=zt.sa,Vr=zt.ta-pn+Fn,cr=zt.qa,Ln=zt.ra-Zn+ei,zr=zt.Ha,Qr=zt.Ia-Zn+ei,_r=(Xn=On.M)==0,Mr=Xn>=zt.Va-1,zt.Aa==2&&Li(zt,On),On.uc)for(hi=(yr=zt).D.M,t(yr.D.uc),On=yr.yb;On<yr.Hb;++On){Fr=On,Oi=hi;var Jr=(ui=(Or=yr).D).Nb;dr=Or.R;var ui=ui.wa[ui.Y+Fr],fi=Or.sa,ti=Or.ta+16*Jr*dr+16*Fr,pi=ui.dd,Qn=ui.tc;if(Qn!=0)if(t(3<=Qn),Or.L==1)0<Fr&&Up(fi,ti,dr,Qn+4),ui.La&&jp(fi,ti,dr,Qn),0<Oi&&zp(fi,ti,dr,Qn+4),ui.La&&Wp(fi,ti,dr,Qn);else{var gi=Or.B,zi=Or.qa,So=Or.ra+8*Jr*gi+8*Fr,ma=Or.Ha,Or=Or.Ia+8*Jr*gi+8*Fr;Jr=ui.ld,0<Fr&&(Lr(fi,ti,dr,Qn+4,pi,Jr),Ks(zi,So,ma,Or,gi,Qn+4,pi,Jr)),ui.La&&(pc(fi,ti,dr,Qn,pi,Jr),Op(zi,So,ma,Or,gi,Qn,pi,Jr)),0<Oi&&(gr(fi,ti,dr,Qn+4,pi,Jr),Aa(zi,So,ma,Or,gi,Qn+4,pi,Jr)),ui.La&&(es(fi,ti,dr,Qn,pi,Jr),Fp(zi,So,ma,Or,gi,Qn,pi,Jr))}}if(zt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(On=16*Xn,Xn=16*(Xn+1),_r?(Mt.y=zt.sa,Mt.O=zt.ta+Fn,Mt.f=zt.qa,Mt.N=zt.ra+ei,Mt.ea=zt.Ha,Mt.W=zt.Ia+ei):(On-=_n,Mt.y=$r,Mt.O=Vr,Mt.f=cr,Mt.N=Ln,Mt.ea=zr,Mt.W=Qr),Mr||(Xn-=_n),Xn>Mt.o&&(Xn=Mt.o),Mt.F=null,Mt.J=null,zt.Fa!=null&&0<zt.Fa.length&&On<Xn&&(Mt.J=Vn(zt,Mt,On,Xn-On),Mt.F=zt.mb,Mt.F==null&&Mt.F.length==0)){Ar=Pn(zt,3,"Could not decode alpha data.");break t}On<Mt.j&&(_n=Mt.j-On,On=Mt.j,t(!(1&_n)),Mt.O+=zt.R*_n,Mt.N+=zt.B*(_n>>1),Mt.W+=zt.B*(_n>>1),Mt.F!=null&&(Mt.J+=Mt.width*_n)),On<Xn&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=On-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=Xn-On,Ar=Mt.put(Mt))}bn+1!=zt.Ic||Mr||(i(zt.sa,zt.ta-pn,$r,Vr+16*zt.R,pn),i(zt.qa,zt.ra-Zn,cr,Ln+8*zt.B,Zn),i(zt.Ha,zt.Ia-Zn,zr,Qr+8*zt.B,Zn))}if(!Ar)return Pn(kn,6,"Output aborted.")}return 1})(he,Le)),Le.bc!=null&&Le.bc(Le),De&=1}return De?(he.cb=0,De):0})(m,T)||(b=m.a)}}else b=m.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=Gs(Y.ba))}Y=b}G=Y!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var c0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function s(I,q){for(var R="",P=0;P<4;P++)R+=String.fromCharCode(I[q++]);return R}function d(I,q){return I[q+0]|I[q+1]<<8}function u(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16)>>>0}function f(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16|I[q+3]<<24)>>>0}new c;var h=[0],g=[0],p=[],y=new c,A=e,v=(function(I,q){var R={},P=0,D=!1,k=0,U=0;if(R.frames=[],!(function(N,H){for(var V=0;V<4;V++)if(N[H+V]!="RIFF".charCodeAt(V))return!0;return!1})(I,q)){for(f(I,q+=4),q+=8;q<I.length;){var ce=s(I,q),Q=f(I,q+=4);q+=4;var ae=Q+(1&Q);switch(ce){case"VP8 ":case"VP8L":R.frames[P]===void 0&&(R.frames[P]={}),(ne=R.frames[P]).src_off=D?U:q-8,ne.src_size=k+Q+8,P++,D&&(D=!1,k=0,U=0);break;case"VP8X":(ne=R.header={}).feature_flags=I[q];var ie=q+4;ne.canvas_width=1+u(I,ie),ie+=3,ne.canvas_height=1+u(I,ie),ie+=3;break;case"ALPH":D=!0,k=ae+8,U=q-8;break;case"ANIM":(ne=R.header).bgcolor=f(I,q),ie=q+4,ne.loop_count=d(I,ie),ie+=2;break;case"ANMF":var Se,ne;(ne=R.frames[P]={}).offset_x=2*u(I,q),q+=3,ne.offset_y=2*u(I,q),q+=3,ne.width=1+u(I,q),q+=3,ne.height=1+u(I,q),q+=3,ne.duration=u(I,q),q+=3,Se=I[q++],ne.dispose=1&Se,ne.blend=Se>>1&1}ce!="ANMF"&&(q+=ae)}return R}})(A,0);v.response=A,v.rgbaoutput=!0,v.dataurl=!1;var x=v.header?v.header:null,C=v.frames?v.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],g=[x.canvas_width];for(var _=0;_<C.length&&C[_].blend!=0;_++);}var F=C[0],O=y.WebPDecodeRGBA(A,F.src_off,F.src_size,g,h);F.rgba=O,F.imgwidth=g[0],F.imgheight=h[0];for(var E=0;E<g[0]*h[0]*4;E++)p[E]=O[E];return this.width=g,this.height=h,this.data=p,this}(function(e){var t,n,i,r,a,l,o,c,s,d=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new c,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new l,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new l,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,s=new d}]);var u=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=N;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(z){V=!!z}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(z){te=!!z}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(z){isNaN(z)||(ge=z)}});var Ce=0;Object.defineProperty(this,"posY",{get:function(){return Ce},set:function(z){isNaN(z)||(Ce=z)}}),Object.defineProperty(this,"margin",{get:function(){return s.margin},set:function(z){var ve;typeof z=="number"?ve=[z,z,z,z]:((ve=new Array(4))[0]=z[0],ve[1]=z.length>=2?z[1]:ve[0],ve[2]=z.length>=3?z[2]:ve[0],ve[3]=z.length>=4?z[3]:ve[1]),s.margin=ve}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(z){Pe=z}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(z){pe=z}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(z){_e=z}}),Object.defineProperty(this,"ctx",{get:function(){return s},set:function(z){z instanceof d&&(s=z)}}),Object.defineProperty(this,"path",{get:function(){return s.path},set:function(z){s.path=z}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(z){Oe=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var ve;ve=f(z),this.ctx.fillStyle=ve.style,this.ctx.isFillTransparent=ve.a===0,this.ctx.fillOpacity=ve.a,this.pdf.setFillColor(ve.r,ve.g,ve.b,{a:ve.a}),this.pdf.setTextColor(ve.r,ve.g,ve.b,{a:ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var ve=f(z);this.ctx.strokeStyle=ve.style,this.ctx.isStrokeTransparent=ve.a===0,this.ctx.strokeOpacity=ve.a,ve.a===0?this.pdf.setDrawColor(255,255,255):(ve.a,this.pdf.setDrawColor(ve.r,ve.g,ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var ht=null,et=null,B=null;Object.defineProperty(this,"fontFaces",{get:function(){return B},set:function(z){ht=null,et=null,B=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var ve;if(this.ctx.font=z,(ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var se=ve[1];ve[2];var K=ve[3],le=ve[4];ve[5];var Ie=ve[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(le)[2];le=Math.floor(Be==="px"?parseFloat(le)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(le)*this.pdf.getFontSize():parseFloat(le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(le);var me=(function(_t){var Nn,Dt,Zt=[],nn=_t.trim();if(nn==="")return Wu;if(nn in Kg)return[Kg[nn]];for(;nn!=="";){switch(Dt=null,Nn=(nn=e1(nn)).charAt(0)){case'"':case"'":Dt=S8(nn.substring(1),Nn);break;default:Dt=C8(nn)}if(Dt===null||(Zt.push(Dt[0]),(nn=e1(Dt[1]))!==""&&nn.charAt(0)!==","))return Wu;nn=nn.replace(/^,/,"")}return Zt})(Ie);if(this.fontFaces){var je=(function(_t,Nn){var Dt=_t.getFontList(),Zt=JSON.stringify(Dt);if(ht===null||et!==Zt){var nn=(function(yn){var Ft=[];return Object.keys(yn).forEach(function(Tn){yn[Tn].forEach(function(Ht){var en=null;switch(Ht){case"bold":en={family:Tn,weight:"bold"};break;case"italic":en={family:Tn,style:"italic"};break;case"bolditalic":en={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":en={family:Tn}}en!==null&&(en.ref={name:Tn,style:Ht},Ft.push(en))})}),Ft})(Dt);ht=(function(yn){for(var Ft={},Tn=0;Tn<yn.length;++Tn){var Ht=Uu(yn[Tn]),en=Ht.family,$n=Ht.stretch,rn=Ht.style,Gt=Ht.weight;Ft[en]=Ft[en]||{},Ft[en][$n]=Ft[en][$n]||{},Ft[en][$n][rn]=Ft[en][$n][rn]||{},Ft[en][$n][rn][Gt]=Ht}return Ft})(nn.concat(Nn)),et=Zt}return ht})(this.pdf,this.fontFaces),ut=me.map(function(_t){return{family:_t,stretch:"normal",weight:K,style:se}}),Qe=(function(_t,Nn,Dt){for(var Zt=(Dt=Dt||{}).defaultFontFamily||"times",nn=Object.assign({},k8,Dt.genericFontFamilies||{}),yn=null,Ft=null,Tn=0;Tn<Nn.length;++Tn)if(nn[(yn=Uu(Nn[Tn])).family]&&(yn.family=nn[yn.family]),_t.hasOwnProperty(yn.family)){Ft=_t[yn.family];break}if(!(Ft=Ft||_t[Zt]))throw new Error("Could not find a font-family for the rule '"+Zg(yn)+"' and default family '"+Zt+"'.");if(Ft=(function(Ht,en){if(en[Ht])return en[Ht];var $n=Rf[Ht],rn=$n<=Rf.normal?-1:1,Gt=Jg(en,im,$n,rn);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+Ht);return Gt})(yn.stretch,Ft),Ft=(function(Ht,en){if(en[Ht])return en[Ht];for(var $n=rm[Ht],rn=0;rn<$n.length;++rn)if(en[$n[rn]])return en[$n[rn]];throw new Error("Could not find a matching font-style for "+Ht)})(yn.style,Ft),!(Ft=(function(Ht,en){if(en[Ht])return en[Ht];if(Ht===400&&en[500])return en[500];if(Ht===500&&en[400])return en[400];var $n=x8[Ht],rn=Jg(en,am,$n,Ht<400?-1:1);if(!rn)throw new Error("Could not find a matching font-weight for value "+Ht);return rn})(yn.weight,Ft)))throw new Error("Failed to resolve a font for the rule '"+Zg(yn)+"'.");return Ft})(je,ut);this.pdf.setFont(Qe.ref.name,Qe.ref.style)}else{var dt="";(K==="bold"||parseInt(K,10)>=700||se==="bold")&&(dt="bold"),se==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var Tt="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<me.length;Ct++){if(this.pdf.internal.getFont(me[Ct],dt,{noFallback:!0,disableWarning:!0})!==void 0){Tt=me[Ct];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(me[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=me[Ct],dt="bold";else if(this.pdf.internal.getFont(me[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=me[Ct],dt="normal";break}}if(Tt===""){for(var Ut=0;Ut<me.length;Ut++)if(Nt[me[Ut]]){Tt=Nt[me[Ut]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};u.prototype.setLineDash=function(N){this.lineDash=N},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){C.call(this,"fill",!1)},u.prototype.stroke=function(){C.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(N,H){if(isNaN(N)||isNaN(H))throw Gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new l(N,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new l(N,H)},u.prototype.closePath=function(){var N=new l(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&zn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){N=new l(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(N.x,N.y)},u.prototype.lineTo=function(N,H){if(isNaN(N)||isNaN(H))throw Gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new l(N,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new l(V.x,V.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},u.prototype.quadraticCurveTo=function(N,H,V,te){if(isNaN(V)||isNaN(te)||isNaN(N)||isNaN(H))throw Gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new l(V,te)),Ce=this.ctx.transform.applyToPoint(new l(N,H));this.path.push({type:"qct",x1:Ce.x,y1:Ce.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new l(ge.x,ge.y)},u.prototype.bezierCurveTo=function(N,H,V,te,ge,Ce){if(isNaN(ge)||isNaN(Ce)||isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new l(ge,Ce)),pe=this.ctx.transform.applyToPoint(new l(N,H)),_e=this.ctx.transform.applyToPoint(new l(V,te));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:_e.x,y2:_e.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new l(Pe.x,Pe.y)},u.prototype.arc=function(N,H,V,te,ge,Ce){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te)||isNaN(ge))throw Gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ce=!!Ce,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new l(N,H));N=Pe.x,H=Pe.y;var pe=this.ctx.transform.applyToPoint(new l(0,V)),_e=this.ctx.transform.applyToPoint(new l(0,0));V=Math.sqrt(Math.pow(pe.x-_e.x,2)+Math.pow(pe.y-_e.y,2))}Math.abs(ge-te)>=2*Math.PI&&(te=0,ge=2*Math.PI),this.path.push({type:"arc",x:N,y:H,radius:V,startAngle:te,endAngle:ge,counterclockwise:Ce})},u.prototype.arcTo=function(N,H,V,te,ge){throw new Error("arcTo not implemented.")},u.prototype.rect=function(N,H,V,te){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,H),this.lineTo(N+V,H),this.lineTo(N+V,H+te),this.lineTo(N,H+te),this.lineTo(N,H),this.lineTo(N+V,H),this.lineTo(N,H)},u.prototype.fillRect=function(N,H,V,te){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,H,V,te),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},u.prototype.strokeRect=function(N,H,V,te){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(N,H,V,te),this.stroke())},u.prototype.clearRect=function(N,H,V,te){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,H,V,te))},u.prototype.save=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},u.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(N){var H,V,te,ge;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))H=0,V=0,te=0,ge=0;else{var Ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(Ce!==null)H=parseInt(Ce[1]),V=parseInt(Ce[2]),te=parseInt(Ce[3]),ge=1;else if((Ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)H=parseInt(Ce[1]),V=parseInt(Ce[2]),te=parseInt(Ce[3]),ge=parseFloat(Ce[4]);else{if(ge=1,typeof N=="string"&&N.charAt(0)!=="#"){var Pe=new Q2(N);N=Pe.ok?Pe.toHex():"#000000"}N.length===4?(H=N.substring(1,2),H+=H,V=N.substring(2,3),V+=V,te=N.substring(3,4),te+=te):(H=N.substring(1,3),V=N.substring(3,5),te=N.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),te=parseInt(te,16)}}return{r:H,g:V,b:te,a:ge,style:N}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(N,H,V,te){if(isNaN(H)||isNaN(V)||typeof N!="string")throw Gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!h.call(this)){var ge=ae(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;P.call(this,{text:N,x:H,y:V,scale:Ce,angle:ge,align:this.textAlign,maxWidth:te})}},u.prototype.strokeText=function(N,H,V,te){if(isNaN(H)||isNaN(V)||typeof N!="string")throw Gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){te=isNaN(te)?void 0:te;var ge=ae(this.ctx.transform.rotation),Ce=this.ctx.transform.scaleX;P.call(this,{text:N,x:H,y:V,scale:Ce,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:te})}},u.prototype.measureText=function(N){if(typeof N!="string")throw Gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,te=H.internal.getFontSize(),ge=H.getStringUnitWidth(N)*te/H.internal.scaleFactor;return new function(Ce){var Pe=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:ge*=Math.round(96*V/72*1e4)/1e4})},u.prototype.scale=function(N,H){if(isNaN(N)||isNaN(H))throw Gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(N,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.rotate=function(N){if(isNaN(N))throw Gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},u.prototype.translate=function(N,H){if(isNaN(N)||isNaN(H))throw Gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,N,H);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.transform=function(N,H,V,te,ge,Ce){if(isNaN(N)||isNaN(H)||isNaN(V)||isNaN(te)||isNaN(ge)||isNaN(Ce))throw Gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new c(N,H,V,te,ge,Ce);this.ctx.transform=this.ctx.transform.multiply(Pe)},u.prototype.setTransform=function(N,H,V,te,ge,Ce){N=isNaN(N)?1:N,H=isNaN(H)?0:H,V=isNaN(V)?0:V,te=isNaN(te)?1:te,ge=isNaN(ge)?0:ge,Ce=isNaN(Ce)?0:Ce,this.ctx.transform=new c(N,H,V,te,ge,Ce)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(N,H,V,te,ge,Ce,Pe,pe,_e){var Oe=this.pdf.getImageProperties(N),ht=1,et=1,B=1,z=1;te!==void 0&&pe!==void 0&&(B=pe/te,z=_e/ge,ht=Oe.width/te*pe/te,et=Oe.height/ge*_e/ge),Ce===void 0&&(Ce=H,Pe=V,H=0,V=0),te!==void 0&&pe===void 0&&(pe=te,_e=ge),te===void 0&&pe===void 0&&(pe=Oe.width,_e=Oe.height);var ve=this.ctx.transform.decompose(),se=ae(ve.rotate.shx),K=new c,le=(K=(K=(K=K.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new o(Ce-H*B,Pe-V*z,te*ht,ge*et));if(this.autoPaging){for(var Ie,Be=y.call(this,le),me=[],je=0;je<Be.length;je+=1)me.indexOf(Be[je])===-1&&me.push(Be[je]);x(me);for(var ut=me[0],Qe=me[me.length-1],dt=ut;dt<Qe+1;dt++){this.pdf.setPage(dt);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=dt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=dt===1?0:Ct+(dt-2)*Ut;if(this.ctx.clip_path.length!==0){var Nn=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ie,this.posX+this.margin[3],-_t+Nt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Nn}var Dt=JSON.parse(JSON.stringify(le));Dt=v([Dt],this.posX+this.margin[3],-_t+Nt+this.ctx.prevPageLastElemOffset)[0];var Zt=(dt>ut||dt<Qe)&&p.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Ut,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,se),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(N,"JPEG",le.x,le.y,le.w,le.h,null,null,se)};var y=function(N,H,V){var te=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":te.push(Math.floor((N.y+ge)/V)+1);break;case"arc":te.push(Math.floor((N.y+ge-N.radius)/V)+1),te.push(Math.floor((N.y+ge+N.radius)/V)+1);break;case"qct":var Ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);te.push(Math.floor((Ce.y+ge)/V)+1),te.push(Math.floor((Ce.y+Ce.h+ge)/V)+1);break;case"bct":var Pe=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);te.push(Math.floor((Pe.y+ge)/V)+1),te.push(Math.floor((Pe.y+Pe.h+ge)/V)+1);break;case"rect":te.push(Math.floor((N.y+ge)/V)+1),te.push(Math.floor((N.y+N.h+ge)/V)+1)}for(var pe=0;pe<te.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<te[pe];)A.call(this);return te},A=function(){var N=this.fillStyle,H=this.strokeStyle,V=this.font,te=this.lineCap,ge=this.lineWidth,Ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=H,this.font=V,this.lineCap=te,this.lineWidth=ge,this.lineJoin=Ce},v=function(N,H,V){for(var te=0;te<N.length;te++)switch(N[te].type){case"bct":N[te].x2+=H,N[te].y2+=V;case"qct":N[te].x1+=H,N[te].y1+=V;default:N[te].x+=H,N[te].y+=V}return N},x=function(N){return N.sort(function(H,V){return H-V})},C=function(N,H){var V=this.fillStyle,te=this.strokeStyle,ge=this.lineCap,Ce=this.lineWidth,Pe=Math.abs(Ce*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var _e,Oe,ht=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),B=[],z=0;z<et.length;z++)if(et[z].x!==void 0)for(var ve=y.call(this,et[z]),se=0;se<ve.length;se+=1)B.indexOf(ve[se])===-1&&B.push(ve[se]);for(var K=0;K<B.length;K++)for(;this.pdf.internal.getNumberOfPages()<B[K];)A.call(this);x(B);for(var le=B[0],Ie=B[B.length-1],Be=le;Be<Ie+1;Be++){this.pdf.setPage(Be),this.fillStyle=V,this.strokeStyle=te,this.lineCap=ge,this.lineWidth=Pe,this.lineJoin=pe;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Be===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Be===1?0:ut+(Be-2)*Qe;if(this.ctx.clip_path.length!==0){var Tt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(_e,this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset),_.call(this,N,!0),this.path=Tt}if(Oe=JSON.parse(JSON.stringify(ht)),this.path=v(Oe,this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset),H===!1||Be===0){var Nt=(Be>le||Be<Ie)&&p.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Qe,null).clip().discardPath()),_.call(this,N,H),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}this.path=ht}else this.lineWidth=Pe,_.call(this,N,H),this.lineWidth=Ce},_=function(N,H){if((N!=="stroke"||H||!g.call(this))&&(N==="stroke"||H||!h.call(this))){for(var V,te,ge=[],Ce=this.path,Pe=0;Pe<Ce.length;Pe++){var pe=Ce[Pe];switch(pe.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:pe,deltas:[],abs:[]});break;case"lt":var _e=ge.length;if(Ce[Pe-1]&&!isNaN(Ce[Pe-1].x)&&(V=[pe.x-Ce[Pe-1].x,pe.y-Ce[Pe-1].y],_e>0)){for(;_e>=0;_e--)if(ge[_e-1].close!==!0&&ge[_e-1].begin!==!0){ge[_e-1].deltas.push(V),ge[_e-1].abs.push(pe);break}}break;case"bct":V=[pe.x1-Ce[Pe-1].x,pe.y1-Ce[Pe-1].y,pe.x2-Ce[Pe-1].x,pe.y2-Ce[Pe-1].y,pe.x-Ce[Pe-1].x,pe.y-Ce[Pe-1].y],ge[ge.length-1].deltas.push(V);break;case"qct":var Oe=Ce[Pe-1].x+2/3*(pe.x1-Ce[Pe-1].x),ht=Ce[Pe-1].y+2/3*(pe.y1-Ce[Pe-1].y),et=pe.x+2/3*(pe.x1-pe.x),B=pe.y+2/3*(pe.y1-pe.y),z=pe.x,ve=pe.y;V=[Oe-Ce[Pe-1].x,ht-Ce[Pe-1].y,et-Ce[Pe-1].x,B-Ce[Pe-1].y,z-Ce[Pe-1].x,ve-Ce[Pe-1].y],ge[ge.length-1].deltas.push(V);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(pe)}}te=H?null:N==="stroke"?"stroke":"fill";for(var se=!1,K=0;K<ge.length;K++)if(ge[K].arc)for(var le=ge[K].abs,Ie=0;Ie<le.length;Ie++){var Be=le[Ie];Be.type==="arc"?E.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,H,!se):D.call(this,Be.x,Be.y),se=!0}else if(ge[K].close===!0)this.pdf.internal.out("h"),se=!1;else if(ge[K].begin!==!0){var me=ge[K].start.x,je=ge[K].start.y;k.call(this,ge[K].deltas,me,je),se=!0}te&&I.call(this,te),H&&q.call(this)}},F=function(N){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-V;case"top":return N+H-V;case"hanging":return N+H-2*V;case"middle":return N+H/2-V;default:return N}},O=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(H,V){this.colorStops.push([H,V])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(N,H,V,te,ge,Ce,Pe,pe,_e){for(var Oe=ce.call(this,V,te,ge,Ce),ht=0;ht<Oe.length;ht++){var et=Oe[ht];ht===0&&(_e?R.call(this,et.x1+N,et.y1+H):D.call(this,et.x1+N,et.y1+H)),U.call(this,N,H,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}pe?q.call(this):I.call(this,Pe)},I=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(N,H){this.pdf.internal.out(n(N)+" "+i(H)+" m")},P=function(N){var H;switch(N.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var V,te,ge,Ce=this.pdf.getTextDimensions(N.text),Pe=F.call(this,N.y),pe=O.call(this,Pe)-Ce.h,_e=this.ctx.transform.applyToPoint(new l(N.x,Pe));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),ht=new c;ht=(ht=(ht=ht.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var et=this.ctx.transform.applyToRectangle(new o(N.x,Pe,Ce.w,Ce.h)),B=ht.applyToRectangle(new o(N.x,pe,Ce.w,Ce.h)),z=y.call(this,B),ve=[],se=0;se<z.length;se+=1)ve.indexOf(z[se])===-1&&ve.push(z[se]);x(ve);for(var K=ve[0],le=ve[ve.length-1],Ie=K;Ie<le+1;Ie++){this.pdf.setPage(Ie);var Be=Ie===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],ut=je-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],dt=Qe-this.margin[3],Tt=Ie===1?0:me+(Ie-2)*ut;if(this.ctx.clip_path.length!==0){var Nt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(V,this.posX+this.margin[3],-1*Tt+Be),_.call(this,"fill",!0),this.path=Nt}var Ct=v([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-Tt+Be+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*N.scale),ge=this.lineWidth,this.lineWidth=ge*N.scale);var Ut=this.autoPaging!=="text";if(Ut||Ct.y+Ct.h<=je){if(Ut||Ct.y>=Be&&Ct.x<=Qe){var _t=Ut?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Qe-Ct.x)[0],Nn=v([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Tt+Be+this.ctx.prevPageLastElemOffset)[0],Dt=Ut&&(Ie>K||Ie<le)&&p.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,ut,null).clip().discardPath()),this.pdf.text(_t,Nn.x,Nn.y,{angle:N.angle,align:H,renderingMode:N.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else Ct.y<je&&(this.ctx.prevPageLastElemOffset+=je-Ct.y);N.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ge)}}else N.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*N.scale),ge=this.lineWidth,this.lineWidth=ge*N.scale),this.pdf.text(N.text,_e.x+this.posX,_e.y+this.posY,{angle:N.angle,align:H,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ge)},D=function(N,H,V,te){V=V||0,te=te||0,this.pdf.internal.out(n(N+V)+" "+i(H+te)+" l")},k=function(N,H,V){return this.pdf.lines(N,H,V,null,null)},U=function(N,H,V,te,ge,Ce,Pe,pe){this.pdf.internal.out([t(r(V+N)),t(a(te+H)),t(r(ge+N)),t(a(Ce+H)),t(r(Pe+N)),t(a(pe+H)),"c"].join(" "))},ce=function(N,H,V,te){for(var ge=2*Math.PI,Ce=Math.PI/2;H>V;)H-=ge;var Pe=Math.abs(V-H);Pe<ge&&te&&(Pe=ge-Pe);for(var pe=[],_e=te?-1:1,Oe=H;Pe>1e-5;){var ht=Oe+_e*Math.min(Pe,Ce);pe.push(Q.call(this,N,Oe,ht)),Pe-=Math.abs(ht-Oe),Oe=ht}return pe},Q=function(N,H,V){var te=(V-H)/2,ge=N*Math.cos(te),Ce=N*Math.sin(te),Pe=ge,pe=-Ce,_e=Pe*Pe+pe*pe,Oe=_e+Pe*ge+pe*Ce,ht=4/3*(Math.sqrt(2*_e*Oe)-Oe)/(Pe*Ce-pe*ge),et=Pe-ht*pe,B=pe+ht*Pe,z=et,ve=-B,se=te+H,K=Math.cos(se),le=Math.sin(se);return{x1:N*Math.cos(H),y1:N*Math.sin(H),x2:et*K-B*le,y2:et*le+B*K,x3:z*K-ve*le,y3:z*le+ve*K,x4:N*Math.cos(V),y4:N*Math.sin(V)}},ae=function(N){return 180*N/Math.PI},ie=function(N,H,V,te,ge,Ce){var Pe=N+.5*(V-N),pe=H+.5*(te-H),_e=ge+.5*(V-ge),Oe=Ce+.5*(te-Ce),ht=Math.min(N,ge,Pe,_e),et=Math.max(N,ge,Pe,_e),B=Math.min(H,Ce,pe,Oe),z=Math.max(H,Ce,pe,Oe);return new o(ht,B,et-ht,z-B)},Se=function(N,H,V,te,ge,Ce,Pe,pe){var _e,Oe,ht,et,B,z,ve,se,K,le,Ie,Be,me,je,ut=V-N,Qe=te-H,dt=ge-V,Tt=Ce-te,Nt=Pe-ge,Ct=pe-Ce;for(Oe=0;Oe<41;Oe++)K=(ve=(ht=N+(_e=Oe/40)*ut)+_e*((B=V+_e*dt)-ht))+_e*(B+_e*(ge+_e*Nt-B)-ve),le=(se=(et=H+_e*Qe)+_e*((z=te+_e*Tt)-et))+_e*(z+_e*(Ce+_e*Ct-z)-se),Oe==0?(Ie=K,Be=le,me=K,je=le):(Ie=Math.min(Ie,K),Be=Math.min(Be,le),me=Math.max(me,K),je=Math.max(je,le));return new o(Math.round(Ie),Math.round(Be),Math.round(me-Ie),Math.round(je-Be))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,H,V=(N=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(qt.API),(function(e){var t=function(l){var o,c,s,d,u,f,h,g,p,y;for(c=[],s=0,d=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;d>s;s+=4)(u=(l.charCodeAt(s)<<24)+(l.charCodeAt(s+1)<<16)+(l.charCodeAt(s+2)<<8)+l.charCodeAt(s+3))!==0?(f=(u=((u=((u=((u=(u-(y=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)%85,c.push(f+33,h+33,g+33,p+33,y+33)):c.push(122);return(function(A,v){for(var x=v;x>0;x--)A.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(l){var o,c,s,d,u,f=String,h="length",g=255,p="charCodeAt",y="slice",A="replace";for(l[y](-2),l=l[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),s=[],d=0,u=(l+=o="uuuuu"[y](l[h]%5||5))[h];u>d;d+=5)c=52200625*(l[p](d)-33)+614125*(l[p](d+1)-33)+7225*(l[p](d+2)-33)+85*(l[p](d+3)-33)+(l[p](d+4)-33),s.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(v,x){for(var C=x;C>0;C--)v.pop()})(s,o[h]),f.fromCharCode.apply(f,s)},i=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",s=0;s<l.length;s+=2)c+=String.fromCharCode("0x"+(l[s]+l[s+1]));return c},a=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=_f(o)).reduce(function(s,d){return s+String.fromCharCode(d)},"")};e.processDataByFilters=function(l,o){var c=0,s=l||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=i(s),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=a(s),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:s,reverseChain:d.reverse().join(" ")}}})(qt.API),(function(e){e.loadFile=function(t,n,i){return(function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,s,d){var u=new XMLHttpRequest,f=0,h=function(g){var p=g.length,y=[],A=String.fromCharCode;for(f=0;f<p;f+=1)y.push(A(255&g.charCodeAt(f)));return y.join("")};if(u.open("GET",c,!s),u.overrideMimeType("text/plain; charset=x-user-defined"),s===!1&&(u.onload=function(){u.status===200?d(h(this.responseText)):d(void 0)}),u.send(null),s&&u.status===200)return h(u.responseText)})(r,a,l)}catch{}return o})(t,n,i)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(qt.API),(function(e){function t(){return(an.html2canvas?Promise.resolve(an.html2canvas):Ro(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(an.DOMPurify?Promise.resolve(an.DOMPurify):Ro(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=zn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var s=document.createElement(o);for(var d in c.className&&(s.className=c.className),c.innerHTML&&c.dompurify&&(s.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)s.style[d]=c.style[d];return s},a=function o(c,s){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),u=c.firstChild;u;u=u.nextSibling)s!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||d.appendChild(o(u,s));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},l=function o(c){var s=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),s);return(d=d.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(s){switch(i(s)){case"string":return"string";case"element":return s.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(s){return this.set({src:r("div",{innerHTML:o,dompurify:s})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var s=Object.assign({},this.opt.html2canvas);return delete s.onrendered,c(this.prop.container,s)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var s=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,s.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,s.context2d.posX=this.opt.x,s.context2d.posY=this.opt.y,s.context2d.margin=this.opt.margin,s.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],p=g.src.find(function(y){return y.format==="truetype"});p&&s.addFont(p.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,s.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,s){return(s=s||"pdf").toLowerCase()==="img"||s.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(s){if(s in l.template.prop)return function(){this.prop[s]=o[s]};switch(s){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[s]=o[s]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var s=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(s):s})},l.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(s,d){return Math.floor(s*d/72*96)}return this.then(function(){(o=o||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,s,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),s!=null&&(this.progress.n=s),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,s,d){return this.setProgress(o?this.progress.val+o:null,c||null,s?this.progress.n+s:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(o,c){var s=this;return this.thenCore(o,c,function(d,u){return s.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return s.updateProgress(null,d),f}).then(d,u).then(function(f){return s.updateProgress(1),f})})},l.prototype.thenCore=function(o,c,s){s=s||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),f=s.call(u,o,c);return l.convert(f,d.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(s){c=c.thenCore(s)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,qt.getPageSize=function(o,c,s){if(zn(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,s=d.format||s}c=c||"mm",s=s||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+s).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var g,p=0,y=0;if(h.hasOwnProperty(f))p=h[f][1]/u,y=h[f][0]/u;else try{p=s[1],y=s[0]}catch{throw new Error("Invalid format: "+s)}if(o==="p"||o==="portrait")o="p",y>p&&(g=y,y=p,p=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>y&&(g=y,y=p,p=g)}return{width:y,height:p,unit:c,k:u,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Uu):null;var s=new l(c);return c.worker?s:s.from(o).doCallback()}})(qt.API),qt.API.addJS=function(e){return n1=e,this.internal.events.subscribe("postPutResources",function(){Vc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vc!==void 0&&t1!==void 0&&this.internal.out("/Names <</JavaScript "+Vc+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],o=i.exec(l);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,d=[];for(a=0;a<s;a++){var u=n.internal.newObject();d.push(u);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var l={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var s=0;s<i.children.length;s++)this.renderItems(i.children[s])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])})(qt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,a,l,o){var c,s=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(u){for(var f,h=256*u.charCodeAt(4)+u.charCodeAt(5),g=u.length,p={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=h,t.indexOf(u.charCodeAt(y+1))!==-1){f=256*u.charCodeAt(y+5)+u.charCodeAt(y+6),p={width:256*u.charCodeAt(y+7)+u.charCodeAt(y+8),height:f,numcomponents:u.charCodeAt(y+9)};break}h=256*u.charCodeAt(y+2)+u.charCodeAt(y+3)}return p})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:s,index:i,alias:r}}return d}})(qt.API),qt.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,a=l8(e,{checkCrc:!0}),l=a.width,o=a.height,c=a.channels,s=a.palette,d=a.depth;r=s&&c===1?(function(E){for(var I=E.width,q=E.height,R=E.data,P=E.palette,D=E.depth,k=!1,U=[],ce=[],Q=void 0,ae=!1,ie=0,Se=0;Se<P.length;Se++){var ne=og(P[Se],4),N=ne[0],H=ne[1],V=ne[2],te=ne[3];U.push(N,H,V),te!=null&&(te===0?(ie++,ce.length<1&&ce.push(Se)):te<255&&(ae=!0))}if(ae||ie>1){k=!0,ce=void 0;var ge=I*q;Q=new Uint8Array(ge);for(var Ce=new DataView(R.buffer),Pe=0;Pe<ge;Pe++){var pe=ju(Ce,Pe,D),_e=og(P[pe],4)[3];Q[Pe]=_e}}else ie===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:k?8:void 0,colorBytes:R,alphaBytes:Q,needSMask:k,palette:U,mask:ce}})(a):c===2||c===4?(function(E){for(var I=E.data,q=E.width,R=E.height,P=E.channels,D=E.depth,k=P===2?"DeviceGray":"DeviceRGB",U=P-1,ce=q*R,Q=U,ae=ce*Q,ie=1*ce,Se=Math.ceil(ae*D/8),ne=Math.ceil(ie*D/8),N=new Uint8Array(Se),H=new Uint8Array(ne),V=new DataView(I.buffer),te=new DataView(N.buffer),ge=new DataView(H.buffer),Ce=!1,Pe=0;Pe<ce;Pe++){for(var pe=Pe*P,_e=0;_e<Q;_e++)h1(te,ju(V,pe+_e,D),Pe*Q+_e,D);var Oe=ju(V,pe+Q,D);Oe<(1<<D)-1&&(Ce=!0),h1(ge,Oe,1*Pe,D)}return{colorSpace:k,colorsPerPixel:U,sMaskBitsPerComponent:Ce?D:void 0,colorBytes:N,alphaBytes:H,needSMask:Ce}})(a):(function(E){var I=E.data,q=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(R){for(var P=R.length,D=new Uint8Array(2*P),k=new DataView(D.buffer,D.byteOffset,D.byteLength),U=0;U<P;U++)k.setUint16(2*U,R[U],!1);return D})(I):I,needSMask:!1}})(a);var u,f,h,g=r,p=g.colorSpace,y=g.colorsPerPixel,A=g.sMaskBitsPerComponent,v=g.colorBytes,x=g.alphaBytes,C=g.needSMask,_=g.palette,F=g.mask,O=null;return i!==qt.API.image_compression.NONE&&typeof _f=="function"?(O=(function(E){var I;switch(E){case qt.API.image_compression.FAST:I=11;break;case qt.API.image_compression.MEDIUM:I=13;break;case qt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(i),u=this.decode.FLATE_DECODE,f="/Predictor ".concat(O," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(l),e=o1(v,Math.ceil(l*y*d/8),y,d,i),C&&(h=o1(x,Math.ceil(l*A/8),1,A,i))):(u=void 0,f=void 0,e=v,C&&(h=x)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:u,decodeParameters:f,transparency:F,palette:_,sMask:h,predictor:O,width:l,height:o,bitsPerComponent:d,sMaskBitsPerComponent:A,colorSpace:p}}},(function(e){e.processGIF89A=function(t,n,i,r){var a=new _8(t),l=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var s={data:c,width:l,height:o},d=new qu(100).encode(s,100);return e.processJPEG.call(this,d,n,i,r)},e.processGIF87A=e.processGIF89A})(qt.API),Ui.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ui.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Gn.log("bit decode error:"+n)}},Ui.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ui.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*r*4,o=a>>4,c=15&a,s=this.palette[o];if(this.data[l]=s.blue,this.data[l+1]=s.green,this.data[l+2]=s.red,this.data[l+3]=255,2*r+1>=this.width)break;s=this.palette[c],this.data[l+4]=s.blue,this.data[l+4+1]=s.green,this.data[l+4+2]=s.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Ui.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ui.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,s=a>>15?255:0,d=i*this.width*4+4*r;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=l,this.data[d+3]=s}this.pos+=e}},Ui.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&n)/n*255|0,s=(l>>11)/t*255|0,d=r*this.width*4+4*a;this.data[d]=s,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Ui.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},Ui.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=l}},Ui.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,i,r){var a=new Ui(t,!1),l=a.width,o=a.height,c={data:a.getData(),width:l,height:o},s=new qu(100).encode(c,100);return e.processJPEG.call(this,s,n,i,r)}})(qt.API),f1.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,i,r){var a=new f1(t),l=a.width,o=a.height,c={data:a.getData(),width:l,height:o},s=new qu(100).encode(c,100);return e.processJPEG.call(this,s,n,i,r)}})(qt.API),qt.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),o=0,c=0,s=0;s<r;s+=4){var d=i[s],u=i[s+1],f=i[s+2],h=i[s+3];a[o++]=d,a[o++]=u,a[o++]=f,l[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ls=qt.API,Qc=ls.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:r.metadata.Unicode.widths,c=o.fof?o.fof:1,s=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=s.fof?s.fof:1,u=t.doKerning!==!1,f=0,h=e.length,g=0,p=o[0]||c,y=[];for(n=0;n<h;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?y.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(f=u&&zn(s[i])==="object"&&!isNaN(parseInt(s[i][g],10))?s[i][g]/d:0,y.push((o[i]||p)/c+f)),g=i;return y},r1=ls.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return ls.processArabic&&(e=ls.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:Qc.apply(this,arguments).reduce(function(a,l){return a+l},0)},i1=function(e,t,n,i){for(var r=[],a=0,l=e.length,o=0;a!==l&&o+t[a]<n;)o+=t[a],a++;r.push(e.slice(0,a));var c=a;for(o=0;a!==l;)o+t[a]>i&&(r.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&r.push(e.slice(c,a)),r},a1=function(e,t,n){n||(n={});var i,r,a,l,o,c,s,d=[],u=[d],f=n.textIndent||0,h=0,g=0,p=e.split(" "),y=Qc.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?p[0].length+2:n.lineIndent||0){var A=Array(c).join(" "),v=[];p.map(function(C){(C=C.split(/\s*\n/)).length>1?v=v.concat(C.map(function(_,F){return(F&&_.length?`
`:"")+_})):v.push(C[0])}),p=v,c=r1.apply(this,[A,n])}for(a=0,l=p.length;a<l;a++){var x=0;if(i=p[a],c&&i[0]==`
`&&(i=i.substr(1),x=1),f+h+(g=(r=Qc.apply(this,[i,n])).reduce(function(C,_){return C+_},0))>t||x){if(g>t){for(o=i1.apply(this,[i,r,t-(f+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);g=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(C,_){return C+_},0)}else d=[i];u.push(d),f=g+c,h=y}else d.push(i),f+=h+g,h=y}return s=c?function(C,_){return(_?A:"")+C.join(" ")}:function(C){return C.join(" ")},u.map(s)},ls.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle),f="Unicode";return u.metadata[f]?{widths:u.metadata[f].widths||{0:1},kerning:u.metadata[f].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var o,c,s=[];for(o=0,c=i.length;o<c;o++)s=s.concat(a1.apply(this,[i[o],l,a]));return s},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[n[a]]=t[a],r[t[a]]=n[a];var l=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,g,p,y,A=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=l(v).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof h=="number")h<0?(p=l(h).slice(3),y="-"):(p=l(h).slice(2),y=""),p=y+p.slice(0,-1)+r[p.slice(-1)];else{if(zn(h)!=="object")throw new Error("Don't know what to do with value type "+zn(h)+".");p=o(h)}A.push(g+p)}return A.push("}"),A.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,p,y,A={},v=1,x=A,C=[],_="",F="",O=f.length-1,E=1;E<O;E+=1)(y=f[E])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(y):y=="{"?(C.push([x,p]),x={},p=void 0):y=="}"?((g=C.pop())[0][g[1]]=x,p=void 0,x=g[0]):y=="-"?v=-1:p===void 0?i.hasOwnProperty(y)?(_+=i[y],p=parseInt(_,16)*v,v=1,_=""):_+=y:i.hasOwnProperty(y)?(F+=i[y],x[p]=parseInt(F,16)*v,v=1,p=void 0,F=""):F+=y;return A},s={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:s,"Courier-Bold":s,"Courier-BoldOblique":s,"Courier-Oblique":s,Helvetica:s,"Helvetica-Bold":s,"Helvetica-BoldOblique":s,"Helvetica-Oblique":s,"Times-Roman":s,"Times-Bold":s,"Times-BoldItalic":s,"Times-Italic":s}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])})(qt.API),(function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ad(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,i)}}])})(qt),qt.API.addSvgAsImage=function(e,t,n,i,r,a,l,o){if(isNaN(t)||isNaN(n))throw Gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=r;var s=c.getContext("2d");s.fillStyle="#fff",s.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(an.canvg?Promise.resolve(an.canvg):Ro(()=>import("./index.es-DXMAkDyg.js"),[],import.meta.url)).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(s,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(d)}).then(function(){u.addImage(c.toDataURL("image/jpeg",1),t,n,i,r,l,o)})},qt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},qt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],s=0,d=0,u=0;function f(g,p){var y,A=!1;for(y=0;y<g.length;y+=1)g[y]===p&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(u=0;u<h;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if(zn(e)==="object"){for(r in e)if(a=e[r],f(o,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&f(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(s=0;s<a.length;s+=1)if(i=!0,a[s].length===1&&typeof a[s][0]=="number")c.push(String(a[s]-1));else if(a[s].length>1){for(d=0;d<a[s].length;d+=1)typeof a[s][d]!="number"&&(i=!1);i===!0&&c.push([a[s][0]-1,a[s][1]-1].join(" "))}n[r].value="["+c.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?p.push("/"+g+" /"+n[g].value):p.push("/"+g+" "+n[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),s=a.length+l.length+o.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(r+a+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(qt.API),(function(e){var t=e.API,n=t.pdfEscape16=function(a,l){for(var o,c=l.metadata.Unicode.widths,s=["","0","00","000","0000"],d=[""],u=0,f=a.length;u<f;++u){if(o=l.metadata.characterToGlyph(a.charCodeAt(u)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=a.charCodeAt(u),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(s[4-o.length],o)}return d.join("")},i=function(a){var l,o,c,s,d,u,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,f=(o=Object.keys(a).sort(function(h,g){return h-g})).length;u<f;u++)l=o[u],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(s=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+s+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var o=l.font,c=l.out,s=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var u=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var p=s();d({data:h,addLength1:!0,objectId:p}),c("endobj");var y=s();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var A=s();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+As(o.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var v=s();c("<<"),c("/Type /Font"),c("/BaseFont /"+As(o.fontName)),c("/FontDescriptor "+A+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=s(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+As(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var o=l.font,c=l.out,s=l.newObject,d=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var u=o.metadata.rawData,f="",h=0;h<u.length;h++)f+=String.fromCharCode(u[h]);var g=s();d({data:f,addLength1:!0,objectId:g}),c("endobj");var p=s();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var y=s();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+As(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=s();for(var A=0;A<o.metadata.hmtx.widths.length;A++)o.metadata.hmtx.widths[A]=parseInt(o.metadata.hmtx.widths[A]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+As(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,o=a.text||"",c=a.x,s=a.y,d=a.options||{},u=a.mutex||{},f=u.pdfEscape,h=u.activeFontKey,g=u.fonts,p=h,y="",A=0,v="",x=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:o,x:c,y:s,options:d,mutex:u};for(v=o,p=h,Array.isArray(o)&&(v=o[0]),A=0;A<v.length;A+=1)g[p].metadata.hasOwnProperty("cmap")&&(l=g[p].metadata.cmap.unicode.codeMap[v[A].charCodeAt(0)]),l||v[A].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?y+=v[A]:y+="";var C="";return parseInt(p.slice(1))<14||x==="WinAnsiEncoding"?C=f(y,p).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(C=n(y,g[p])),u.isHex=!0,{text:C,x:c,y:s,options:d,mutex:u}};t.events.push(["postProcessText",function(a){var l=a.text||"",o=[],c={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var s=0;for(s=0;s<l.length;s+=1)Array.isArray(l[s])&&l[s].length===3?o.push([r(Object.assign({},c,{text:l[s][0]})).text,l[s][1],l[s][2]]):o.push(r(Object.assign({},c,{text:l[s]})).text);a.text=o}else a.text=r(Object.assign({},c,{text:l})).text}])})(qt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(qt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,l,o,c,s,d,u=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,x=0;this.__bidiEngine__={};var C=function(R){var P=R.charCodeAt(),D=P>>8,k=p[D];return k!==void 0?u[256*k+(255&P)]:D===252||D===253?"AL":A.test(D)?"L":D===8?"R":"N"},_=function(R){for(var P,D=0;D<R.length;D++){if((P=C(R.charAt(D)))==="L")return!1;if(P==="R")return!0}return!1},F=function(R,P,D,k){var U,ce,Q,ae,ie=P[k];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(ie="AN");break;case"AL":v=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":k<1||k+1>=P.length||(U=D[k-1])!=="EN"&&U!=="AN"||(ce=P[k+1])!=="EN"&&ce!=="AN"?ie="N":v&&(ce="AN"),ie=ce===U?ce:"N";break;case"ES":ie=(U=k>0?D[k-1]:"B")==="EN"&&k+1<P.length&&P[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&D[k-1]==="EN"){ie="EN";break}if(v){ie="N";break}for(Q=k+1,ae=P.length;Q<ae&&P[Q]==="ET";)Q++;ie=Q<ae&&P[Q]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ae=P.length,Q=k+1;Q<ae&&P[Q]==="NSM";)Q++;if(Q<ae){var Se=R[k],ne=Se>=1425&&Se<=2303||Se===64286;if(U=P[Q],ne&&(U==="R"||U==="AL")){ie="R";break}}}ie=k<1||(U=P[k-1])==="B"?"N":D[k-1];break;case"B":v=!1,r=!0,ie=x;break;case"S":a=!0,ie="N"}return ie},O=function(R,P,D){var k=R.split("");return D&&E(k,D,{hiLevel:x}),k.reverse(),P&&P.reverse(),k.join("")},E=function(R,P,D){var k,U,ce,Q,ae,ie=-1,Se=R.length,ne=0,N=[],H=x?h:f,V=[];for(v=!1,r=!1,a=!1,U=0;U<Se;U++)V[U]=C(R[U]);for(ce=0;ce<Se;ce++){if(ae=ne,N[ce]=F(R,V,N,ce),k=240&(ne=H[ae][g[N[ce]]]),ne&=15,P[ce]=Q=H[ne][5],k>0)if(k===16){for(U=ie;U<ce;U++)P[U]=1;ie=-1}else ie=-1;if(H[ne][6])ie===-1&&(ie=ce);else if(ie>-1){for(U=ie;U<ce;U++)P[U]=Q;ie=-1}V[ce]==="B"&&(P[ce]=0),D.hiLevel|=Q}a&&(function(te,ge,Ce){for(var Pe=0;Pe<Ce;Pe++)if(te[Pe]==="S"){ge[Pe]=x;for(var pe=Pe-1;pe>=0&&te[pe]==="WS";pe--)ge[pe]=x}})(V,P,Se)},I=function(R,P,D,k,U){if(!(U.hiLevel<R)){if(R===1&&x===1&&!r)return P.reverse(),void(D&&D.reverse());for(var ce,Q,ae,ie,Se=P.length,ne=0;ne<Se;){if(k[ne]>=R){for(ae=ne+1;ae<Se&&k[ae]>=R;)ae++;for(ie=ne,Q=ae-1;ie<Q;ie++,Q--)ce=P[ie],P[ie]=P[Q],P[Q]=ce,D&&(ce=D[ie],D[ie]=D[Q],D[Q]=ce);ne=ae}ne++}}},q=function(R,P,D){var k=R.split(""),U={hiLevel:x};return D||(D=[]),E(k,D,U),(function(ce,Q,ae){if(ae.hiLevel!==0&&d)for(var ie,Se=0;Se<ce.length;Se++)Q[Se]===1&&(ie=y.indexOf(ce[Se]))>=0&&(ce[Se]=y[ie+1])})(k,D,U),I(2,k,P,D,U),I(1,k,P,D,U),k.join("")};return this.__bidiEngine__.doBidiReorder=function(R,P,D){if((function(U,ce){if(ce)for(var Q=0;Q<U.length;Q++)ce[Q]=Q;o===void 0&&(o=_(U)),s===void 0&&(s=_(U))})(R,P),l||!c||s)if(l&&c&&o^s)x=o?1:0,R=O(R,P,D);else if(!l&&c&&s)x=o?1:0,R=q(R,P,D),R=O(R,P);else if(!l||o||c||s){if(l&&!c&&o^s)R=O(R,P),o?(x=0,R=q(R,P,D)):(x=1,R=q(R,P,D),R=O(R,P));else if(l&&o&&!c&&s)x=1,R=q(R,P,D),R=O(R,P);else if(!l&&!c&&o^s){var k=d;o?(x=1,R=q(R,P,D),x=0,d=!1,R=q(R,P,D),d=k):(x=0,R=q(R,P,D),R=O(R,P),x=1,d=!1,R=q(R,P,D),d=k,R=O(R,P))}}else x=0,R=q(R,P,D);else x=o?1:0,R=q(R,P,D);return R},this.__bidiEngine__.setOptions=function(R){R&&(l=R.isInputVisual,c=R.isOutputVisual,o=R.isInputRtl,s=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(l=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?l.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):l.push([n.doBidiReorder(r[o])]);i.text=l}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])})(qt),qt.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ao(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new q8(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new N8(this.contents),this.head=new I8(this),this.name=new $8(this),this.cmap=new sm(this),this.toUnicode={},this.hhea=new B8(this),this.maxp=new F8(this),this.hmtx=new O8(this),this.post=new E8(this),this.os2=new D8(this),this.loca=new j8(this),this.glyf=new z8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,s;for(s=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],s.push(Math.round(t*this.scaleFactor));return s}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,a,l,o;for(l=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)r=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e})();var Gi,ao=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,a,l,o,c;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)n=t[i],a.push(this.writeByte(n));return a},e})(),N8=(function(){var e;function t(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,a,l,o,c,s,d,u,f,h,g,p;for(p in h=Object.keys(n).length,c=Math.log(2),u=16*Math.floor(Math.log(h)/c),l=Math.floor(u/c),d=16*h-u,(r=new ao).writeInt(this.scalarType),r.writeShort(h),r.writeShort(u),r.writeShort(l),r.writeShort(d),a=16*h,s=r.pos+a,o=null,g=[],n)for(f=n[p],r.writeString(p),r.writeInt(e(f)),r.writeInt(s),r.writeInt(f.length),g=g.concat(f),p==="head"&&(o=s),s+=f.length;s%4;)g.push(0),s++;return r.write(g),i=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(i),r.data},e=function(n){var i,r,a,l;for(n=lm.call(n);n.length%4;)n.push(0);for(a=new ao(n),r=0,i=0,l=n.length;i<l;i=i+=4)r+=a.readUInt32();return 4294967295&r},t})(),T8={}.hasOwnProperty,ia=function(e,t){for(var n in t)T8.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Gi=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var I8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ao).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),p1=(function(){function e(t,n){var i,r,a,l,o,c,s,d,u,f,h,g,p,y,A,v,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,a=(function(){var C,_;for(_=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)_.push(t.readUInt16());return _})(),t.pos+=2,p=(function(){var C,_;for(_=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)_.push(t.readUInt16());return _})(),s=(function(){var C,_;for(_=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)_.push(t.readUInt16());return _})(),d=(function(){var C,_;for(_=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)_.push(t.readUInt16());return _})(),r=(this.length-t.pos+this.offset)/2,o=(function(){var C,_;for(_=[],c=C=0;0<=r?C<r:C>r;c=0<=r?++C:--C)_.push(t.readUInt16());return _})(),c=A=0,x=a.length;A<x;c=++A)for(y=a[c],i=v=g=p[c];g<=y?v<=y:v>=y;i=g<=y?++v:--v)d[c]===0?l=i+s[c]:(l=o[d[c]/2+(i-g)-(f-c)]||0)!==0&&(l+=s[c]),this.codeMap[i]=65535&l}t.pos=u}return e.encode=function(t,n){var i,r,a,l,o,c,s,d,u,f,h,g,p,y,A,v,x,C,_,F,O,E,I,q,R,P,D,k,U,ce,Q,ae,ie,Se,ne,N,H,V,te,ge,Ce,Pe,pe,_e,Oe,ht;switch(k=new ao,l=Object.keys(t).sort(function(et,B){return et-B}),n){case"macroman":for(p=0,y=(function(){var et=[];for(g=0;g<256;++g)et.push(0);return et})(),v={0:0},a={},U=0,ie=l.length;U<ie;U++)v[pe=t[r=l[U]]]==null&&(v[pe]=++p),a[r]={old:t[r],new:v[t[r]]},y[r]=v[t[r]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(y),{charMap:a,subtable:k.data,maxGlyphID:p+1};case"unicode":for(P=[],u=[],x=0,v={},i={},A=s=null,ce=0,Se=l.length;ce<Se;ce++)v[_=t[r=l[ce]]]==null&&(v[_]=++x),i[r]={old:_,new:v[_]},o=v[_]-r,A!=null&&o===s||(A&&u.push(A),P.push(r),s=o),A=r;for(A&&u.push(A),u.push(65535),P.push(65535),q=2*(I=P.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,O=2*I-E,c=[],F=[],h=[],g=Q=0,ne=P.length;Q<ne;g=++Q){if(R=P[g],d=u[g],R===65535){c.push(0),F.push(0);break}if(R-(D=i[R].new)>=32768)for(c.push(0),F.push(2*(h.length+I-g)),r=ae=R;R<=d?ae<=d:ae>=d;r=R<=d?++ae:--ae)h.push(i[r].new);else c.push(D-R),F.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*I+2*h.length),k.writeUInt16(0),k.writeUInt16(q),k.writeUInt16(E),k.writeUInt16(f),k.writeUInt16(O),Ce=0,N=u.length;Ce<N;Ce++)r=u[Ce],k.writeUInt16(r);for(k.writeUInt16(0),Pe=0,H=P.length;Pe<H;Pe++)r=P[Pe],k.writeUInt16(r);for(_e=0,V=c.length;_e<V;_e++)o=c[_e],k.writeUInt16(o);for(Oe=0,te=F.length;Oe<te;Oe++)C=F[Oe],k.writeUInt16(C);for(ht=0,ge=h.length;ht<ge;ht++)p=h[ht],k.writeUInt16(p);return{charMap:i,subtable:k.data,maxGlyphID:x+1}}},e})(),sm=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new p1(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,r;return n==null&&(n="macroman"),i=p1.encode(t,n),(r=new ao).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e})(),B8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),D8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),E8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)n=t.readByte(),r.push(this.names.push(t.readString(n)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var l,o,c;for(c=[],a=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;a=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),R8=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,r,a,l,o,c,s,d,u,f;for(t.pos=this.offset,t.readShort(),n=t.readShort(),o=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},a=d=0,u=i.length;d<u;a=++d)r=i[a],t.pos=r.offset,s=t.readString(r.length),l=new R8(s,r),c[f=r.nameID]==null&&(c[f]=[]),c[r.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),F8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),O8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,r,a,l,o,c;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var s,d;for(d=[],n=s=0;0<=r?s<r:s>r;n=0<=r?++s:--s)d.push(t.readInt16());return d})(),this.widths=(function(){var s,d,u,f;for(f=[],s=0,d=(u=this.metrics).length;s<d;s++)a=u[s],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],n=l=0;0<=r?l<r:l>r;n=0<=r?++l:--l)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),lm=[].slice,z8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,r,a,l,o,c,s,d,u;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(r=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,l=(o=new ao(n.read(r))).readShort(),s=o.readShort(),u=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[t]=l===-1?new W8(o,s,u,c,d):new U8(o,l,s,u,c,d),this.cache[t]))},e.prototype.encode=function(t,n,i){var r,a,l,o,c;for(l=[],a=[],o=0,c=n.length;o<c;o++)r=t[n[o]],a.push(l.length),r&&(l=l.concat(r.encode(i)));return a.push(l.length),{table:l,offsets:a}},e})(),U8=(function(){function e(t,n,i,r,a,l){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),W8=(function(){function e(t,n,i,r,a){var l,o;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new ao(lm.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),j8=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,Gi),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),r=0,a=0,l=0;l<i.length;++l)if(i[l]=r,a<n.length&&n[a]==l){++a,i[l]=r;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(r+=c)}for(var s=new Array(4*i.length),d=0;d<i.length;++d)s[4*d+3]=255&i[d],s[4*d+2]=(65280&i[d])>>8,s[4*d+1]=(16711680&i[d])>>16,s[4*d]=(4278190080&i[d])>>24;return s},e})(),q8=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,a,l,o,c;for(r={},l=0,o=t.length;l<o;l++)r[a=t[l]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))i=c[a],r[a]=i;return r},e.prototype.encode=function(t,n){var i,r,a,l,o,c,s,d,u,f,h,g,p,y,A;for(r in i=sm.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),h={0:0},A=i.charMap)h[(c=A[r]).old]=c.new;for(g in f=i.maxGlyphID,l)g in h||(h[g]=f++);return d=(function(v){var x,C;for(x in C={},v)C[v[x]]=x;return C})(h),u=Object.keys(d).sort(function(v,x){return v-x}),p=(function(){var v,x,C;for(C=[],v=0,x=u.length;v<x;v++)o=u[v],C.push(d[o]);return C})(),a=this.font.glyf.encode(l,p,h),s=this.font.loca.encode(a.offsets,p),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:s,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e})();qt.API.PDFObject=(function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,a,l;if(Array.isArray(n))return"["+(function(){var o,c,s;for(s=[],o=0,c=n.length;o<c;o++)i=n[o],s.push(t.convert(i));return s})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)l=n[r],a.push("/"+r+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+n},t})();var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xu={exports:{}};var g1;function G8(){return g1||(g1=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,r,a){function l(s,d){if(!r[s]){if(!i[s]){var u=typeof Kc=="function"&&Kc;if(!d&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=r[s]={exports:{}};i[s][0].call(h.exports,function(g){var p=i[s][1][g];return l(p||g)},h,h.exports,n,i,r,a)}return r[s].exports}for(var o=typeof Kc=="function"&&Kc,c=0;c<a.length;c++)l(a[c]);return l})({1:[function(n,i,r){var a=n("./utils"),l=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var s,d,u,f,h,g,p,y=[],A=0,v=c.length,x=v,C=a.getTypeOf(c)!=="string";A<c.length;)x=v-A,u=C?(s=c[A++],d=A<v?c[A++]:0,A<v?c[A++]:0):(s=c.charCodeAt(A++),d=A<v?c.charCodeAt(A++):0,A<v?c.charCodeAt(A++):0),f=s>>2,h=(3&s)<<4|d>>4,g=1<x?(15&d)<<2|u>>6:64,p=2<x?63&u:64,y.push(o.charAt(f)+o.charAt(h)+o.charAt(g)+o.charAt(p));return y.join("")},r.decode=function(c){var s,d,u,f,h,g,p=0,y=0,A="data:";if(c.substr(0,A.length)===A)throw new Error("Invalid base64 input, it looks like a data url.");var v,x=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&x--,c.charAt(c.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=l.uint8array?new Uint8Array(0|x):new Array(0|x);p<c.length;)s=o.indexOf(c.charAt(p++))<<2|(f=o.indexOf(c.charAt(p++)))>>4,d=(15&f)<<4|(h=o.indexOf(c.charAt(p++)))>>2,u=(3&h)<<6|(g=o.indexOf(c.charAt(p++))),v[y++]=s,h!==64&&(v[y++]=d),g!==64&&(v[y++]=u);return v}},{"./support":30,"./utils":32}],2:[function(n,i,r){var a=n("./external"),l=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function s(d,u,f,h,g){this.compressedSize=d,this.uncompressedSize=u,this.crc32=f,this.compression=h,this.compressedContent=g}s.prototype={getContentWorker:function(){var d=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),u=this;return d.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(d,u,f){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(u.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",u)},i.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var a=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var a=n("./utils"),l=(function(){for(var o,c=[],s=0;s<256;s++){o=s;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[s]=o}return c})();i.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?(function(s,d,u,f){var h=l,g=f+u;s^=-1;for(var p=f;p<g;p++)s=s>>>8^h[255&(s^d[p])];return-1^s})(0|c,o,o.length,0):(function(s,d,u,f){var h=l,g=f+u;s^=-1;for(var p=f;p<g;p++)s=s>>>8^h[255&(s^d.charCodeAt(p))];return-1^s})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),s=a?"uint8array":"array";function d(u,f){c.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=f,this.meta={}}r.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(s,u.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(f){u.push({data:f,meta:u.meta})}},r.compressWorker=function(u){return new d("Deflate",u)},r.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function a(h,g){var p,y="";for(p=0;p<g;p++)y+=String.fromCharCode(255&h),h>>>=8;return y}function l(h,g,p,y,A,v){var x,C,_=h.file,F=h.compression,O=v!==s.utf8encode,E=o.transformTo("string",v(_.name)),I=o.transformTo("string",s.utf8encode(_.name)),q=_.comment,R=o.transformTo("string",v(q)),P=o.transformTo("string",s.utf8encode(q)),D=I.length!==_.name.length,k=P.length!==q.length,U="",ce="",Q="",ae=_.dir,ie=_.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};g&&!p||(Se.crc32=h.crc32,Se.compressedSize=h.compressedSize,Se.uncompressedSize=h.uncompressedSize);var ne=0;g&&(ne|=8),O||!D&&!k||(ne|=2048);var N=0,H=0;ae&&(N|=16),A==="UNIX"?(H=798,N|=(function(te,ge){var Ce=te;return te||(Ce=ge?16893:33204),(65535&Ce)<<16})(_.unixPermissions,ae)):(H=20,N|=(function(te){return 63&(te||0)})(_.dosPermissions)),x=ie.getUTCHours(),x<<=6,x|=ie.getUTCMinutes(),x<<=5,x|=ie.getUTCSeconds()/2,C=ie.getUTCFullYear()-1980,C<<=4,C|=ie.getUTCMonth()+1,C<<=5,C|=ie.getUTCDate(),D&&(ce=a(1,1)+a(d(E),4)+I,U+="up"+a(ce.length,2)+ce),k&&(Q=a(1,1)+a(d(R),4)+P,U+="uc"+a(Q.length,2)+Q);var V="";return V+=`
\0`,V+=a(ne,2),V+=F.magic,V+=a(x,2),V+=a(C,2),V+=a(Se.crc32,4),V+=a(Se.compressedSize,4),V+=a(Se.uncompressedSize,4),V+=a(E.length,2),V+=a(U.length,2),{fileRecord:u.LOCAL_FILE_HEADER+V+E+U,dirRecord:u.CENTRAL_FILE_HEADER+a(H,2)+V+a(R.length,2)+"\0\0\0\0"+a(N,4)+a(y,4)+E+U+R}}var o=n("../utils"),c=n("../stream/GenericWorker"),s=n("../utf8"),d=n("../crc32"),u=n("../signature");function f(h,g,p,y){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=p,this.encodeFileName=y,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,c),f.prototype.push=function(h){var g=h.meta.percent||0,p=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(g+100*(p-y-1))/p:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var g=this.streamFiles&&!h.file.dir;if(g){var p=l(h,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var g=this.streamFiles&&!h.file.dir,p=l(h,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),g)this.push({data:(function(y){return u.DATA_DESCRIPTOR+a(y.crc32,4)+a(y.compressedSize,4)+a(y.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var p=this.bytesWritten-h,y=(function(A,v,x,C,_){var F=o.transformTo("string",_(C));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(A,2)+a(A,2)+a(v,4)+a(x,4)+a(F.length,2)+F})(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var g=this;return h.on("data",function(p){g.processChunk(p)}),h.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),h.on("error",function(p){g.error(p)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var g=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var p=0;p<g.length;p++)try{g[p].error(h)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,g=0;g<h.length;g++)h[g].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var a=n("../compressions"),l=n("./ZipFileWorker");r.generateWorker=function(o,c,s){var d=new l(c.streamFiles,s,c.platform,c.encodeFileName),u=0;try{o.forEach(function(f,h){u++;var g=(function(v,x){var C=v||x,_=a[C];if(!_)throw new Error(C+" is not a valid compression method !");return _})(h.options.compression,c.compression),p=h.options.compressionOptions||c.compressionOptions||{},y=h.dir,A=h.date;h._compressWorker(g,p).withStreamInfo("file",{name:f,dir:y,date:A,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=u}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(l,o){return new a().loadAsync(l,o)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var a=n("./utils"),l=n("./external"),o=n("./utf8"),c=n("./zipEntries"),s=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function u(f){return new l.Promise(function(h,g){var p=f.decompressed.getContentWorker().pipe(new s);p.on("error",function(y){g(y)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}i.exports=function(f,h){var g=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(f)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(p){var y=new c(h);return y.load(p),y}).then(function(p){var y=[l.Promise.resolve(p)],A=p.files;if(h.checkCRC32)for(var v=0;v<A.length;v++)y.push(u(A[v]));return l.Promise.all(y)}).then(function(p){for(var y=p.shift(),A=y.files,v=0;v<A.length;v++){var x=A[v],C=x.fileNameStr,_=a.resolve(x.fileNameStr);g.file(_,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(g.file(_).unsafeOriginalName=C)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var a=n("../utils"),l=n("../stream/GenericWorker");function o(c,s){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(s)}a.inherits(o,l),o.prototype._bindStream=function(c){var s=this;(this._stream=c).pause(),c.on("data",function(d){s.push({data:d,meta:{percent:0}})}).on("error",function(d){s.isPaused?this.generatedError=d:s.error(d)}).on("end",function(){s.isPaused?s._upstreamEnded=!0:s.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var a=n("readable-stream").Readable;function l(o,c,s){a.call(this,c),this._helper=o;var d=this;o.on("data",function(u,f){d.push(u)||d._helper.pause(),s&&s(f)}).on("error",function(u){d.emit("error",u)}).on("end",function(){d.push(null)})}n("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,r){function a(_,F,O){var E,I=o.getTypeOf(F),q=o.extend(O||{},d);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(_=A(_)),q.createFolders&&(E=y(_))&&v.call(this,E,!0);var R=I==="string"&&q.binary===!1&&q.base64===!1;O&&O.binary!==void 0||(q.binary=!R),(F instanceof u&&F.uncompressedSize===0||q.dir||!F||F.length===0)&&(q.base64=!1,q.binary=!0,F="",q.compression="STORE",I="string");var P=null;P=F instanceof u||F instanceof c?F:g.isNode&&g.isStream(F)?new p(_,F):o.prepareContent(_,F,q.binary,q.optimizedBinaryString,q.base64);var D=new f(_,P,q);this.files[_]=D}var l=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),s=n("./stream/StreamHelper"),d=n("./defaults"),u=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),g=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),y=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var F=_.lastIndexOf("/");return 0<F?_.substring(0,F):""},A=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},v=function(_,F){return F=F!==void 0?F:d.createFolders,_=A(_),this.files[_]||a.call(this,_,null,{dir:!0,createFolders:F}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var F,O,E;for(F in this.files)E=this.files[F],(O=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&_(O,E)},filter:function(_){var F=[];return this.forEach(function(O,E){_(O,E)&&F.push(E)}),F},file:function(_,F,O){if(arguments.length!==1)return _=this.root+_,a.call(this,_,F,O),this;if(x(_)){var E=_;return this.filter(function(q,R){return!R.dir&&E.test(q)})}var I=this.files[this.root+_];return I&&!I.dir?I:null},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(I,q){return q.dir&&_.test(I)});var F=this.root+_,O=v.call(this,F),E=this.clone();return E.root=O.name,E},remove:function(_){_=this.root+_;var F=this.files[_];if(F||(_.slice(-1)!=="/"&&(_+="/"),F=this.files[_]),F&&!F.dir)delete this.files[_];else for(var O=this.filter(function(I,q){return q.name.slice(0,_.length)===_}),E=0;E<O.length;E++)delete this.files[O[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var F,O={};try{if((O=o.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var E=O.comment||this.comment||"";F=h.generateWorker(this,O,E)}catch(I){(F=new c("error")).error(I)}return new s(F,O.type||"string",O.mimeType)},generateAsync:function(_,F){return this.generateInternalStream(_).accumulate(F)},generateNodeStream:function(_,F){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(F)}};i.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var a=n("./DataReader");function l(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(l,a),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),s=o.charCodeAt(1),d=o.charCodeAt(2),u=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===s&&this.data[f+2]===d&&this.data[f+3]===u)return f-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),s=o.charCodeAt(1),d=o.charCodeAt(2),u=o.charCodeAt(3),f=this.readData(4);return c===f[0]&&s===f[1]&&d===f[2]&&u===f[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var a=n("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,s=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)s=(s<<8)+this.byteAt(c);return this.index+=o,s},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=l},{"../utils":32}],19:[function(n,i,r){var a=n("./Uint8ArrayReader");function l(o){a.call(this,o)}n("../utils").inherits(l,a),l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var a=n("./DataReader");function l(o){a.call(this,o)}n("../utils").inherits(l,a),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var a=n("./ArrayReader");function l(o){a.call(this,o)}n("../utils").inherits(l,a),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var a=n("../utils"),l=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),s=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");i.exports=function(u){var f=a.getTypeOf(u);return a.checkSupport(f),f!=="string"||l.uint8array?f==="nodebuffer"?new s(u):l.uint8array?new d(a.transformTo("uint8array",u)):new o(a.transformTo("array",u)):new c(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var a=n("./GenericWorker"),l=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var a=n("./GenericWorker"),l=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var a=n("../utils"),l=n("./GenericWorker");function o(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,l),o.prototype.processChunk=function(c){if(c){var s=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=s+c.data.length}l.prototype.processChunk.call(this,c)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var a=n("../utils"),l=n("./GenericWorker");function o(c){l.call(this,"DataWorker");var s=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){s.dataIsReady=!0,s.data=d,s.max=d&&d.length||0,s.type=a.getTypeOf(d),s.isPaused||s._tickAndRepeat()},function(d){s.error(d)})}a.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,s=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,s);break;case"uint8array":c=this.data.subarray(this.index,s);break;case"array":case"nodebuffer":c=this.data.slice(this.index,s)}return this.index=s,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(c){o.processChunk(c)}),l.on("end",function(){o.end()}),l.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=a},{}],29:[function(n,i,r){var a=n("../utils"),l=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),s=n("../support"),d=n("../external"),u=null;if(s.nodestream)try{u=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,p){return new d.Promise(function(y,A){var v=[],x=g._internalType,C=g._outputType,_=g._mimeType;g.on("data",function(F,O){v.push(F),p&&p(O)}).on("error",function(F){v=[],A(F)}).on("end",function(){try{var F=(function(O,E,I){switch(O){case"blob":return a.newBlob(a.transformTo("arraybuffer",E),I);case"base64":return c.encode(E);default:return a.transformTo(O,E)}})(C,(function(O,E){var I,q=0,R=null,P=0;for(I=0;I<E.length;I++)P+=E[I].length;switch(O){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(R=new Uint8Array(P),I=0;I<E.length;I++)R.set(E[I],q),q+=E[I].length;return R;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+O+"'")}})(x,v),_);y(F)}catch(O){A(O)}v=[]}).resume()})}function h(g,p,y){var A=p;switch(p){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string"}try{this._internalType=A,this._outputType=p,this._mimeType=y,a.checkSupport(A),this._worker=g.pipe(new l(A)),g.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}h.prototype={accumulate:function(g){return f(this,g)},on:function(g,p){var y=this;return g==="data"?this._worker.on(g,function(A){p.call(y,A.data,A.meta)}):this._worker.on(g,function(){a.delay(p,arguments,y)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var a=new ArrayBuffer(0);try{r.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),r.blob=l.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var a=n("./utils"),l=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),s=new Array(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;s[254]=s[254]=1;function u(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}r.utf8encode=function(h){return l.nodebuffer?o.newBufferFrom(h,"utf-8"):(function(g){var p,y,A,v,x,C=g.length,_=0;for(v=0;v<C;v++)(64512&(y=g.charCodeAt(v)))==55296&&v+1<C&&(64512&(A=g.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(A-56320),v++),_+=y<128?1:y<2048?2:y<65536?3:4;for(p=l.uint8array?new Uint8Array(_):new Array(_),v=x=0;x<_;v++)(64512&(y=g.charCodeAt(v)))==55296&&v+1<C&&(64512&(A=g.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(A-56320),v++),y<128?p[x++]=y:(y<2048?p[x++]=192|y>>>6:(y<65536?p[x++]=224|y>>>12:(p[x++]=240|y>>>18,p[x++]=128|y>>>12&63),p[x++]=128|y>>>6&63),p[x++]=128|63&y);return p})(h)},r.utf8decode=function(h){return l.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(g){var p,y,A,v,x=g.length,C=new Array(2*x);for(p=y=0;p<x;)if((A=g[p++])<128)C[y++]=A;else if(4<(v=s[A]))C[y++]=65533,p+=v-1;else{for(A&=v===2?31:v===3?15:7;1<v&&p<x;)A=A<<6|63&g[p++],v--;1<v?C[y++]=65533:A<65536?C[y++]=A:(A-=65536,C[y++]=55296|A>>10&1023,C[y++]=56320|1023&A)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),a.applyFromCharCode(C)})(h=a.transformTo(l.uint8array?"uint8array":"array",h))},a.inherits(u,c),u.prototype.processChunk=function(h){var g=a.transformTo(l.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var p=g;(g=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),g.set(p,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=(function(v,x){var C;for((x=x||v.length)>v.length&&(x=v.length),C=x-1;0<=C&&(192&v[C])==128;)C--;return C<0||C===0?x:C+s[v[C]]>x?C:x})(g),A=g;y!==g.length&&(l.uint8array?(A=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(A=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:r.utf8decode(A),meta:h.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,a.inherits(f,c),f.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var a=n("./support"),l=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function s(p){return p}function d(p,y){for(var A=0;A<p.length;++A)y[A]=255&p.charCodeAt(A);return y}n("setimmediate"),r.newBlob=function(p,y){r.checkSupport("blob");try{return new Blob([p],{type:y})}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return A.append(p),A.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(p,y,A){var v=[],x=0,C=p.length;if(C<=A)return String.fromCharCode.apply(null,p);for(;x<C;)y==="array"||y==="nodebuffer"?v.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+A,C)))):v.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+A,C)))),x+=A;return v.join("")},stringifyByChar:function(p){for(var y="",A=0;A<p.length;A++)y+=String.fromCharCode(p[A]);return y},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function f(p){var y=65536,A=r.getTypeOf(p),v=!0;if(A==="uint8array"?v=u.applyCanBeUsed.uint8array:A==="nodebuffer"&&(v=u.applyCanBeUsed.nodebuffer),v)for(;1<y;)try{return u.stringifyByChunk(p,A,y)}catch{y=Math.floor(y/2)}return u.stringifyByChar(p)}function h(p,y){for(var A=0;A<p.length;A++)y[A]=p[A];return y}r.applyFromCharCode=f;var g={};g.string={string:s,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return g.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,o.allocBuffer(p.length))}},g.array={string:f,array:s,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},g.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:s,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},g.uint8array={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:s,nodebuffer:function(p){return o.newBufferFrom(p)}},g.nodebuffer={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return g.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:s},r.transformTo=function(p,y){if(y=y||"",!p)return y;r.checkSupport(p);var A=r.getTypeOf(y);return g[A][p](y)},r.resolve=function(p){for(var y=p.split("/"),A=[],v=0;v<y.length;v++){var x=y[v];x==="."||x===""&&v!==0&&v!==y.length-1||(x===".."?A.pop():A.push(x))}return A.join("/")},r.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(p){var y,A,v="";for(A=0;A<(p||"").length;A++)v+="\\x"+((y=p.charCodeAt(A))<16?"0":"")+y.toString(16).toUpperCase();return v},r.delay=function(p,y,A){setImmediate(function(){p.apply(A||null,y||[])})},r.inherits=function(p,y){function A(){}A.prototype=y.prototype,p.prototype=new A},r.extend=function(){var p,y,A={};for(p=0;p<arguments.length;p++)for(y in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],y)&&A[y]===void 0&&(A[y]=arguments[p][y]);return A},r.prepareContent=function(p,y,A,v,x){return c.Promise.resolve(y).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,F){var O=new FileReader;O.onload=function(E){_(E.target.result)},O.onerror=function(E){F(E.target.error)},O.readAsArrayBuffer(C)}):C}).then(function(C){var _=r.getTypeOf(C);return _?(_==="arraybuffer"?C=r.transformTo("uint8array",C):_==="string"&&(x?C=l.decode(C):A&&v!==!0&&(C=(function(F){return d(F,a.uint8array?new Uint8Array(F.length):new Array(F.length))})(C))),C):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var a=n("./reader/readerFor"),l=n("./utils"),o=n("./signature"),c=n("./zipEntry"),s=n("./support");function d(u){this.files=[],this.loadOptions=u}d.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(f)+", expected "+l.pretty(u)+")")}},isSignature:function(u,f){var h=this.reader.index;this.reader.setIndex(u);var g=this.reader.readString(4)===f;return this.reader.setIndex(h),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),f=s.uint8array?"uint8array":"array",h=l.transformTo(f,u);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,f,h,g=this.zip64EndOfCentralSize-44;0<g;)u=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[u]={id:u,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,f;for(u=0;u<this.files.length;u++)f=this.files[u],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var f=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var g=f-h;if(0<g)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(u){this.reader=a(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var a=n("./reader/readerFor"),l=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),s=n("./utf8"),d=n("./compressions"),u=n("./support");function f(h,g){this.options=h,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var g,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(y){for(var A in d)if(Object.prototype.hasOwnProperty.call(d,A)&&d[A].magic===y)return d[A];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var g=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(g),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var g,p,y,A=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<A;)g=h.readInt(2),p=h.readInt(2),y=h.readData(p),this.extraFields[g]={id:g,length:p,value:y};h.setIndex(A)},handleUTF8:function(){var h=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var p=l.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var A=l.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(A)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var g=a(h.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:s.utf8decode(g.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var g=a(h.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:s.utf8decode(g.readData(h.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function a(g,p,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=p,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var l=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),s=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(g){var p=null,y="string";try{if(!g)throw new Error("No output type specified.");var A=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),p=this._decompressWorker();var v=!this._dataBinary;v&&!A&&(p=p.pipe(new c.Utf8EncodeWorker)),!v&&A&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(x){(p=new d("error")).error(x)}return new l(p,y,"")},async:function(g,p){return this.internalStream(g).accumulate(p)},nodeStream:function(g,p){return this.internalStream(g||"nodebuffer").toNodejsStream(p)},_compressWorker:function(g,p){if(this._data instanceof s&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new c.Utf8EncodeWorker)),s.createWorkerFrom(y,g,p)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)a.prototype[u[h]]=f;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(a){var l,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var s=0,d=new c(g),u=a.document.createTextNode("");d.observe(u,{characterData:!0}),l=function(){u.data=s=++s%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){g(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(g,0)};else{var f=new a.MessageChannel;f.port1.onmessage=g,l=function(){f.port2.postMessage(0)}}var h=[];function g(){var p,y;o=!0;for(var A=h.length;A;){for(y=h,h=[],p=-1;++p<A;)y[p]();A=h.length}o=!1}i.exports=function(p){h.push(p)!==1||o||l()}}).call(this,typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var a=n("immediate");function l(){}var o={},c=["REJECTED"],s=["FULFILLED"],d=["PENDING"];function u(A){if(typeof A!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,A!==l&&p(this,A)}function f(A,v,x){this.promise=A,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(A,v,x){a(function(){var C;try{C=v(x)}catch(_){return o.reject(A,_)}C===A?o.reject(A,new TypeError("Cannot resolve promise with itself")):o.resolve(A,C)})}function g(A){var v=A&&A.then;if(A&&(typeof A=="object"||typeof A=="function")&&typeof v=="function")return function(){v.apply(A,arguments)}}function p(A,v){var x=!1;function C(O){x||(x=!0,o.reject(A,O))}function _(O){x||(x=!0,o.resolve(A,O))}var F=y(function(){v(_,C)});F.status==="error"&&C(F.value)}function y(A,v){var x={};try{x.value=A(v),x.status="success"}catch(C){x.status="error",x.value=C}return x}(i.exports=u).prototype.finally=function(A){if(typeof A!="function")return this;var v=this.constructor;return this.then(function(x){return v.resolve(A()).then(function(){return x})},function(x){return v.resolve(A()).then(function(){throw x})})},u.prototype.catch=function(A){return this.then(null,A)},u.prototype.then=function(A,v){if(typeof A!="function"&&this.state===s||typeof v!="function"&&this.state===c)return this;var x=new this.constructor(l);return this.state!==d?h(x,this.state===s?A:v,this.outcome):this.queue.push(new f(x,A,v)),x},f.prototype.callFulfilled=function(A){o.resolve(this.promise,A)},f.prototype.otherCallFulfilled=function(A){h(this.promise,this.onFulfilled,A)},f.prototype.callRejected=function(A){o.reject(this.promise,A)},f.prototype.otherCallRejected=function(A){h(this.promise,this.onRejected,A)},o.resolve=function(A,v){var x=y(g,v);if(x.status==="error")return o.reject(A,x.value);var C=x.value;if(C)p(A,C);else{A.state=s,A.outcome=v;for(var _=-1,F=A.queue.length;++_<F;)A.queue[_].callFulfilled(v)}return A},o.reject=function(A,v){A.state=c,A.outcome=v;for(var x=-1,C=A.queue.length;++x<C;)A.queue[x].callRejected(v);return A},u.resolve=function(A){return A instanceof this?A:o.resolve(new this(l),A)},u.reject=function(A){var v=new this(l);return o.reject(v,A)},u.all=function(A){var v=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=A.length,C=!1;if(!x)return this.resolve([]);for(var _=new Array(x),F=0,O=-1,E=new this(l);++O<x;)I(A[O],O);return E;function I(q,R){v.resolve(q).then(function(P){_[R]=P,++F!==x||C||(C=!0,o.resolve(E,_))},function(P){C||(C=!0,o.reject(E,P))})}},u.race=function(A){var v=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=A.length,C=!1;if(!x)return this.resolve([]);for(var _=-1,F=new this(l);++_<x;)O=A[_],v.resolve(O).then(function(E){C||(C=!0,o.resolve(F,E))},function(E){C||(C=!0,o.reject(F,E))});var O;return F}},{immediate:36}],38:[function(n,i,r){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var a=n("./zlib/deflate"),l=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),s=n("./zlib/zstream"),d=Object.prototype.toString,u=0,f=-1,h=0,g=8;function p(A){if(!(this instanceof p))return new p(A);this.options=l.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},A||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(x!==u)throw new Error(c[x]);if(v.header&&a.deflateSetHeader(this.strm,v.header),v.dictionary){var C;if(C=typeof v.dictionary=="string"?o.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(x=a.deflateSetDictionary(this.strm,C))!==u)throw new Error(c[x]);this._dict_set=!0}}function y(A,v){var x=new p(v);if(x.push(A,!0),x.err)throw x.msg||c[x.err];return x.result}p.prototype.push=function(A,v){var x,C,_=this.strm,F=this.options.chunkSize;if(this.ended)return!1;C=v===~~v?v:v===!0?4:0,typeof A=="string"?_.input=o.string2buf(A):d.call(A)==="[object ArrayBuffer]"?_.input=new Uint8Array(A):_.input=A,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(F),_.next_out=0,_.avail_out=F),(x=a.deflate(_,C))!==1&&x!==u)return this.onEnd(x),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(_.output,_.next_out))):this.onData(l.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&x!==1);return C===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===u):C!==2||(this.onEnd(u),!(_.avail_out=0))},p.prototype.onData=function(A){this.chunks.push(A)},p.prototype.onEnd=function(A){A===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},r.Deflate=p,r.deflate=y,r.deflateRaw=function(A,v){return(v=v||{}).raw=!0,y(A,v)},r.gzip=function(A,v){return(v=v||{}).gzip=!0,y(A,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var a=n("./zlib/inflate"),l=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),s=n("./zlib/messages"),d=n("./zlib/zstream"),u=n("./zlib/gzheader"),f=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},p||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||p&&p.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var A=a.inflateInit2(this.strm,y.windowBits);if(A!==c.Z_OK)throw new Error(s[A]);this.header=new u,a.inflateGetHeader(this.strm,this.header)}function g(p,y){var A=new h(y);if(A.push(p,!0),A.err)throw A.msg||s[A.err];return A.result}h.prototype.push=function(p,y){var A,v,x,C,_,F,O=this.strm,E=this.options.chunkSize,I=this.options.dictionary,q=!1;if(this.ended)return!1;v=y===~~y?y:y===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?O.input=o.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?O.input=new Uint8Array(p):O.input=p,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(E),O.next_out=0,O.avail_out=E),(A=a.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(F=typeof I=="string"?o.string2buf(I):f.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,A=a.inflateSetDictionary(this.strm,F)),A===c.Z_BUF_ERROR&&q===!0&&(A=c.Z_OK,q=!1),A!==c.Z_STREAM_END&&A!==c.Z_OK)return this.onEnd(A),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&A!==c.Z_STREAM_END&&(O.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(O.output,O.next_out),C=O.next_out-x,_=o.buf2string(O.output,x),O.next_out=C,O.avail_out=E-C,C&&l.arraySet(O.output,O.output,x,C,0),this.onData(_)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(q=!0)}while((0<O.avail_in||O.avail_out===0)&&A!==c.Z_STREAM_END);return A===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(A=a.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Inflate=h,r.inflate=g,r.inflateRaw=function(p,y){return(y=y||{}).raw=!0,g(p,y)},r.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var d=s.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var u in d)d.hasOwnProperty(u)&&(c[u]=d[u])}}return c},r.shrinkBuf=function(c,s){return c.length===s?c:c.subarray?c.subarray(0,s):(c.length=s,c)};var l={arraySet:function(c,s,d,u,f){if(s.subarray&&c.subarray)c.set(s.subarray(d,d+u),f);else for(var h=0;h<u;h++)c[f+h]=s[d+h]},flattenChunks:function(c){var s,d,u,f,h,g;for(s=u=0,d=c.length;s<d;s++)u+=c[s].length;for(g=new Uint8Array(u),s=f=0,d=c.length;s<d;s++)h=c[s],g.set(h,f),f+=h.length;return g}},o={arraySet:function(c,s,d,u,f){for(var h=0;h<u;h++)c[f+h]=s[d+h]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,l)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(a)},{}],42:[function(n,i,r){var a=n("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),s=0;s<256;s++)c[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function d(u,f){if(f<65537&&(u.subarray&&o||!u.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(u,f));for(var h="",g=0;g<f;g++)h+=String.fromCharCode(u[g]);return h}c[254]=c[254]=1,r.string2buf=function(u){var f,h,g,p,y,A=u.length,v=0;for(p=0;p<A;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<A&&(64512&(g=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),v+=h<128?1:h<2048?2:h<65536?3:4;for(f=new a.Buf8(v),p=y=0;y<v;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<A&&(64512&(g=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),h<128?f[y++]=h:(h<2048?f[y++]=192|h>>>6:(h<65536?f[y++]=224|h>>>12:(f[y++]=240|h>>>18,f[y++]=128|h>>>12&63),f[y++]=128|h>>>6&63),f[y++]=128|63&h);return f},r.buf2binstring=function(u){return d(u,u.length)},r.binstring2buf=function(u){for(var f=new a.Buf8(u.length),h=0,g=f.length;h<g;h++)f[h]=u.charCodeAt(h);return f},r.buf2string=function(u,f){var h,g,p,y,A=f||u.length,v=new Array(2*A);for(h=g=0;h<A;)if((p=u[h++])<128)v[g++]=p;else if(4<(y=c[p]))v[g++]=65533,h+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&h<A;)p=p<<6|63&u[h++],y--;1<y?v[g++]=65533:p<65536?v[g++]=p:(p-=65536,v[g++]=55296|p>>10&1023,v[g++]=56320|1023&p)}return d(v,g)},r.utf8border=function(u,f){var h;for((f=f||u.length)>u.length&&(f=u.length),h=f-1;0<=h&&(192&u[h])==128;)h--;return h<0||h===0?f:h+c[u[h]]>f?h:f}},{"./common":41}],43:[function(n,i,r){i.exports=function(a,l,o,c){for(var s=65535&a|0,d=a>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;d=d+(s=s+l[c++]|0)|0,--u;);s%=65521,d%=65521}return s|d<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var a=(function(){for(var l,o=[],c=0;c<256;c++){l=c;for(var s=0;s<8;s++)l=1&l?3988292384^l>>>1:l>>>1;o[c]=l}return o})();i.exports=function(l,o,c,s){var d=a,u=s+c;l^=-1;for(var f=s;f<u;f++)l=l>>>8^d[255&(l^o[f])];return-1^l}},{}],46:[function(n,i,r){var a,l=n("../utils/common"),o=n("./trees"),c=n("./adler32"),s=n("./crc32"),d=n("./messages"),u=0,f=4,h=0,g=-2,p=-1,y=4,A=2,v=8,x=9,C=286,_=30,F=19,O=2*C+1,E=15,I=3,q=258,R=q+I+1,P=42,D=113,k=1,U=2,ce=3,Q=4;function ae(B,z){return B.msg=d[z],z}function ie(B){return(B<<1)-(4<B?9:0)}function Se(B){for(var z=B.length;0<=--z;)B[z]=0}function ne(B){var z=B.state,ve=z.pending;ve>B.avail_out&&(ve=B.avail_out),ve!==0&&(l.arraySet(B.output,z.pending_buf,z.pending_out,ve,B.next_out),B.next_out+=ve,z.pending_out+=ve,B.total_out+=ve,B.avail_out-=ve,z.pending-=ve,z.pending===0&&(z.pending_out=0))}function N(B,z){o._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,z),B.block_start=B.strstart,ne(B.strm)}function H(B,z){B.pending_buf[B.pending++]=z}function V(B,z){B.pending_buf[B.pending++]=z>>>8&255,B.pending_buf[B.pending++]=255&z}function te(B,z){var ve,se,K=B.max_chain_length,le=B.strstart,Ie=B.prev_length,Be=B.nice_match,me=B.strstart>B.w_size-R?B.strstart-(B.w_size-R):0,je=B.window,ut=B.w_mask,Qe=B.prev,dt=B.strstart+q,Tt=je[le+Ie-1],Nt=je[le+Ie];B.prev_length>=B.good_match&&(K>>=2),Be>B.lookahead&&(Be=B.lookahead);do if(je[(ve=z)+Ie]===Nt&&je[ve+Ie-1]===Tt&&je[ve]===je[le]&&je[++ve]===je[le+1]){le+=2,ve++;do;while(je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&je[++le]===je[++ve]&&le<dt);if(se=q-(dt-le),le=dt-q,Ie<se){if(B.match_start=z,Be<=(Ie=se))break;Tt=je[le+Ie-1],Nt=je[le+Ie]}}while((z=Qe[z&ut])>me&&--K!=0);return Ie<=B.lookahead?Ie:B.lookahead}function ge(B){var z,ve,se,K,le,Ie,Be,me,je,ut,Qe=B.w_size;do{if(K=B.window_size-B.lookahead-B.strstart,B.strstart>=Qe+(Qe-R)){for(l.arraySet(B.window,B.window,Qe,Qe,0),B.match_start-=Qe,B.strstart-=Qe,B.block_start-=Qe,z=ve=B.hash_size;se=B.head[--z],B.head[z]=Qe<=se?se-Qe:0,--ve;);for(z=ve=Qe;se=B.prev[--z],B.prev[z]=Qe<=se?se-Qe:0,--ve;);K+=Qe}if(B.strm.avail_in===0)break;if(Ie=B.strm,Be=B.window,me=B.strstart+B.lookahead,je=K,ut=void 0,ut=Ie.avail_in,je<ut&&(ut=je),ve=ut===0?0:(Ie.avail_in-=ut,l.arraySet(Be,Ie.input,Ie.next_in,ut,me),Ie.state.wrap===1?Ie.adler=c(Ie.adler,Be,ut,me):Ie.state.wrap===2&&(Ie.adler=s(Ie.adler,Be,ut,me)),Ie.next_in+=ut,Ie.total_in+=ut,ut),B.lookahead+=ve,B.lookahead+B.insert>=I)for(le=B.strstart-B.insert,B.ins_h=B.window[le],B.ins_h=(B.ins_h<<B.hash_shift^B.window[le+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[le+I-1])&B.hash_mask,B.prev[le&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=le,le++,B.insert--,!(B.lookahead+B.insert<I)););}while(B.lookahead<R&&B.strm.avail_in!==0)}function Ce(B,z){for(var ve,se;;){if(B.lookahead<R){if(ge(B),B.lookahead<R&&z===u)return k;if(B.lookahead===0)break}if(ve=0,B.lookahead>=I&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+I-1])&B.hash_mask,ve=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ve!==0&&B.strstart-ve<=B.w_size-R&&(B.match_length=te(B,ve)),B.match_length>=I)if(se=o._tr_tally(B,B.strstart-B.match_start,B.match_length-I),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=I){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+I-1])&B.hash_mask,ve=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else se=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(se&&(N(B,!1),B.strm.avail_out===0))return k}return B.insert=B.strstart<I-1?B.strstart:I-1,z===f?(N(B,!0),B.strm.avail_out===0?ce:Q):B.last_lit&&(N(B,!1),B.strm.avail_out===0)?k:U}function Pe(B,z){for(var ve,se,K;;){if(B.lookahead<R){if(ge(B),B.lookahead<R&&z===u)return k;if(B.lookahead===0)break}if(ve=0,B.lookahead>=I&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+I-1])&B.hash_mask,ve=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=I-1,ve!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ve<=B.w_size-R&&(B.match_length=te(B,ve),B.match_length<=5&&(B.strategy===1||B.match_length===I&&4096<B.strstart-B.match_start)&&(B.match_length=I-1)),B.prev_length>=I&&B.match_length<=B.prev_length){for(K=B.strstart+B.lookahead-I,se=o._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-I),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=K&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+I-1])&B.hash_mask,ve=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=I-1,B.strstart++,se&&(N(B,!1),B.strm.avail_out===0))return k}else if(B.match_available){if((se=o._tr_tally(B,0,B.window[B.strstart-1]))&&N(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return k}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(se=o._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<I-1?B.strstart:I-1,z===f?(N(B,!0),B.strm.avail_out===0?ce:Q):B.last_lit&&(N(B,!1),B.strm.avail_out===0)?k:U}function pe(B,z,ve,se,K){this.good_length=B,this.max_lazy=z,this.nice_length=ve,this.max_chain=se,this.func=K}function _e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*_+1)),this.bl_tree=new l.Buf16(2*(2*F+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(E+1),this.heap=new l.Buf16(2*C+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*C+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Oe(B){var z;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=A,(z=B.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?P:D,B.adler=z.wrap===2?0:1,z.last_flush=u,o._tr_init(z),h):ae(B,g)}function ht(B){var z=Oe(B);return z===h&&(function(ve){ve.window_size=2*ve.w_size,Se(ve.head),ve.max_lazy_match=a[ve.level].max_lazy,ve.good_match=a[ve.level].good_length,ve.nice_match=a[ve.level].nice_length,ve.max_chain_length=a[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=I-1,ve.match_available=0,ve.ins_h=0})(B.state),z}function et(B,z,ve,se,K,le){if(!B)return g;var Ie=1;if(z===p&&(z=6),se<0?(Ie=0,se=-se):15<se&&(Ie=2,se-=16),K<1||x<K||ve!==v||se<8||15<se||z<0||9<z||le<0||y<le)return ae(B,g);se===8&&(se=9);var Be=new _e;return(B.state=Be).strm=B,Be.wrap=Ie,Be.gzhead=null,Be.w_bits=se,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=K+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+I-1)/I),Be.window=new l.Buf8(2*Be.w_size),Be.head=new l.Buf16(Be.hash_size),Be.prev=new l.Buf16(Be.w_size),Be.lit_bufsize=1<<K+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new l.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=z,Be.strategy=le,Be.method=ve,ht(B)}a=[new pe(0,0,0,0,function(B,z){var ve=65535;for(ve>B.pending_buf_size-5&&(ve=B.pending_buf_size-5);;){if(B.lookahead<=1){if(ge(B),B.lookahead===0&&z===u)return k;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var se=B.block_start+ve;if((B.strstart===0||B.strstart>=se)&&(B.lookahead=B.strstart-se,B.strstart=se,N(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-R&&(N(B,!1),B.strm.avail_out===0))return k}return B.insert=0,z===f?(N(B,!0),B.strm.avail_out===0?ce:Q):(B.strstart>B.block_start&&(N(B,!1),B.strm.avail_out),k)}),new pe(4,4,8,4,Ce),new pe(4,5,16,8,Ce),new pe(4,6,32,32,Ce),new pe(4,4,16,16,Pe),new pe(8,16,32,32,Pe),new pe(8,16,128,128,Pe),new pe(8,32,128,256,Pe),new pe(32,128,258,1024,Pe),new pe(32,258,258,4096,Pe)],r.deflateInit=function(B,z){return et(B,z,v,15,8,0)},r.deflateInit2=et,r.deflateReset=ht,r.deflateResetKeep=Oe,r.deflateSetHeader=function(B,z){return B&&B.state?B.state.wrap!==2?g:(B.state.gzhead=z,h):g},r.deflate=function(B,z){var ve,se,K,le;if(!B||!B.state||5<z||z<0)return B?ae(B,g):g;if(se=B.state,!B.output||!B.input&&B.avail_in!==0||se.status===666&&z!==f)return ae(B,B.avail_out===0?-5:g);if(se.strm=B,ve=se.last_flush,se.last_flush=z,se.status===P)if(se.wrap===2)B.adler=0,H(se,31),H(se,139),H(se,8),se.gzhead?(H(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),H(se,255&se.gzhead.time),H(se,se.gzhead.time>>8&255),H(se,se.gzhead.time>>16&255),H(se,se.gzhead.time>>24&255),H(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),H(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(H(se,255&se.gzhead.extra.length),H(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(B.adler=s(B.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(H(se,0),H(se,0),H(se,0),H(se,0),H(se,0),H(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),H(se,3),se.status=D);else{var Ie=v+(se.w_bits-8<<4)<<8;Ie|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,se.status=D,V(se,Ie),se.strstart!==0&&(V(se,B.adler>>>16),V(se,65535&B.adler)),B.adler=1}if(se.status===69)if(se.gzhead.extra){for(K=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),ne(B),K=se.pending,se.pending!==se.pending_buf_size));)H(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){K=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),ne(B),K=se.pending,se.pending===se.pending_buf_size)){le=1;break}le=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,H(se,le)}while(le!==0);se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),le===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){K=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),ne(B),K=se.pending,se.pending===se.pending_buf_size)){le=1;break}le=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,H(se,le)}while(le!==0);se.gzhead.hcrc&&se.pending>K&&(B.adler=s(B.adler,se.pending_buf,se.pending-K,K)),le===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&ne(B),se.pending+2<=se.pending_buf_size&&(H(se,255&B.adler),H(se,B.adler>>8&255),B.adler=0,se.status=D)):se.status=D),se.pending!==0){if(ne(B),B.avail_out===0)return se.last_flush=-1,h}else if(B.avail_in===0&&ie(z)<=ie(ve)&&z!==f)return ae(B,-5);if(se.status===666&&B.avail_in!==0)return ae(B,-5);if(B.avail_in!==0||se.lookahead!==0||z!==u&&se.status!==666){var Be=se.strategy===2?(function(me,je){for(var ut;;){if(me.lookahead===0&&(ge(me),me.lookahead===0)){if(je===u)return k;break}if(me.match_length=0,ut=o._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,ut&&(N(me,!1),me.strm.avail_out===0))return k}return me.insert=0,je===f?(N(me,!0),me.strm.avail_out===0?ce:Q):me.last_lit&&(N(me,!1),me.strm.avail_out===0)?k:U})(se,z):se.strategy===3?(function(me,je){for(var ut,Qe,dt,Tt,Nt=me.window;;){if(me.lookahead<=q){if(ge(me),me.lookahead<=q&&je===u)return k;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=I&&0<me.strstart&&(Qe=Nt[dt=me.strstart-1])===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]){Tt=me.strstart+q;do;while(Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&Qe===Nt[++dt]&&dt<Tt);me.match_length=q-(Tt-dt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=I?(ut=o._tr_tally(me,1,me.match_length-I),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(ut=o._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),ut&&(N(me,!1),me.strm.avail_out===0))return k}return me.insert=0,je===f?(N(me,!0),me.strm.avail_out===0?ce:Q):me.last_lit&&(N(me,!1),me.strm.avail_out===0)?k:U})(se,z):a[se.level].func(se,z);if(Be!==ce&&Be!==Q||(se.status=666),Be===k||Be===ce)return B.avail_out===0&&(se.last_flush=-1),h;if(Be===U&&(z===1?o._tr_align(se):z!==5&&(o._tr_stored_block(se,0,0,!1),z===3&&(Se(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),ne(B),B.avail_out===0))return se.last_flush=-1,h}return z!==f?h:se.wrap<=0?1:(se.wrap===2?(H(se,255&B.adler),H(se,B.adler>>8&255),H(se,B.adler>>16&255),H(se,B.adler>>24&255),H(se,255&B.total_in),H(se,B.total_in>>8&255),H(se,B.total_in>>16&255),H(se,B.total_in>>24&255)):(V(se,B.adler>>>16),V(se,65535&B.adler)),ne(B),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?h:1)},r.deflateEnd=function(B){var z;return B&&B.state?(z=B.state.status)!==P&&z!==69&&z!==73&&z!==91&&z!==103&&z!==D&&z!==666?ae(B,g):(B.state=null,z===D?ae(B,-3):h):g},r.deflateSetDictionary=function(B,z){var ve,se,K,le,Ie,Be,me,je,ut=z.length;if(!B||!B.state||(le=(ve=B.state).wrap)===2||le===1&&ve.status!==P||ve.lookahead)return g;for(le===1&&(B.adler=c(B.adler,z,ut,0)),ve.wrap=0,ut>=ve.w_size&&(le===0&&(Se(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),je=new l.Buf8(ve.w_size),l.arraySet(je,z,ut-ve.w_size,ve.w_size,0),z=je,ut=ve.w_size),Ie=B.avail_in,Be=B.next_in,me=B.input,B.avail_in=ut,B.next_in=0,B.input=z,ge(ve);ve.lookahead>=I;){for(se=ve.strstart,K=ve.lookahead-(I-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[se+I-1])&ve.hash_mask,ve.prev[se&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=se,se++,--K;);ve.strstart=se,ve.lookahead=I-1,ge(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=I-1,ve.match_available=0,B.next_in=Be,B.input=me,B.avail_in=Ie,ve.wrap=le,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(a,l){var o,c,s,d,u,f,h,g,p,y,A,v,x,C,_,F,O,E,I,q,R,P,D,k,U;o=a.state,c=a.next_in,k=a.input,s=c+(a.avail_in-5),d=a.next_out,U=a.output,u=d-(l-a.avail_out),f=d+(a.avail_out-257),h=o.dmax,g=o.wsize,p=o.whave,y=o.wnext,A=o.window,v=o.hold,x=o.bits,C=o.lencode,_=o.distcode,F=(1<<o.lenbits)-1,O=(1<<o.distbits)-1;e:do{x<15&&(v+=k[c++]<<x,x+=8,v+=k[c++]<<x,x+=8),E=C[v&F];t:for(;;){if(v>>>=I=E>>>24,x-=I,(I=E>>>16&255)===0)U[d++]=65535&E;else{if(!(16&I)){if((64&I)==0){E=C[(65535&E)+(v&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}q=65535&E,(I&=15)&&(x<I&&(v+=k[c++]<<x,x+=8),q+=v&(1<<I)-1,v>>>=I,x-=I),x<15&&(v+=k[c++]<<x,x+=8,v+=k[c++]<<x,x+=8),E=_[v&O];n:for(;;){if(v>>>=I=E>>>24,x-=I,!(16&(I=E>>>16&255))){if((64&I)==0){E=_[(65535&E)+(v&(1<<I)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(R=65535&E,x<(I&=15)&&(v+=k[c++]<<x,(x+=8)<I&&(v+=k[c++]<<x,x+=8)),h<(R+=v&(1<<I)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=I,x-=I,(I=d-u)<R){if(p<(I=R-I)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(D=A,(P=0)===y){if(P+=g-I,I<q){for(q-=I;U[d++]=A[P++],--I;);P=d-R,D=U}}else if(y<I){if(P+=g+y-I,(I-=y)<q){for(q-=I;U[d++]=A[P++],--I;);if(P=0,y<q){for(q-=I=y;U[d++]=A[P++],--I;);P=d-R,D=U}}}else if(P+=y-I,I<q){for(q-=I;U[d++]=A[P++],--I;);P=d-R,D=U}for(;2<q;)U[d++]=D[P++],U[d++]=D[P++],U[d++]=D[P++],q-=3;q&&(U[d++]=D[P++],1<q&&(U[d++]=D[P++]))}else{for(P=d-R;U[d++]=U[P++],U[d++]=U[P++],U[d++]=U[P++],2<(q-=3););q&&(U[d++]=U[P++],1<q&&(U[d++]=U[P++]))}break}}break}}while(c<s&&d<f);c-=q=x>>3,v&=(1<<(x-=q<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<s?s-c+5:5-(c-s),a.avail_out=d<f?f-d+257:257-(d-f),o.hold=v,o.bits=x}},{}],49:[function(n,i,r){var a=n("../utils/common"),l=n("./adler32"),o=n("./crc32"),c=n("./inffast"),s=n("./inftrees"),d=1,u=2,f=0,h=-2,g=1,p=852,y=592;function A(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(P){var D;return P&&P.state?(D=P.state,P.total_in=P.total_out=D.total=0,P.msg="",D.wrap&&(P.adler=1&D.wrap),D.mode=g,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(p),D.distcode=D.distdyn=new a.Buf32(y),D.sane=1,D.back=-1,f):h}function C(P){var D;return P&&P.state?((D=P.state).wsize=0,D.whave=0,D.wnext=0,x(P)):h}function _(P,D){var k,U;return P&&P.state?(U=P.state,D<0?(k=0,D=-D):(k=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:(U.window!==null&&U.wbits!==D&&(U.window=null),U.wrap=k,U.wbits=D,C(P))):h}function F(P,D){var k,U;return P?(U=new v,(P.state=U).window=null,(k=_(P,D))!==f&&(P.state=null),k):h}var O,E,I=!0;function q(P){if(I){var D;for(O=new a.Buf32(512),E=new a.Buf32(32),D=0;D<144;)P.lens[D++]=8;for(;D<256;)P.lens[D++]=9;for(;D<280;)P.lens[D++]=7;for(;D<288;)P.lens[D++]=8;for(s(d,P.lens,0,288,O,0,P.work,{bits:9}),D=0;D<32;)P.lens[D++]=5;s(u,P.lens,0,32,E,0,P.work,{bits:5}),I=!1}P.lencode=O,P.lenbits=9,P.distcode=E,P.distbits=5}function R(P,D,k,U){var ce,Q=P.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new a.Buf8(Q.wsize)),U>=Q.wsize?(a.arraySet(Q.window,D,k-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(U<(ce=Q.wsize-Q.wnext)&&(ce=U),a.arraySet(Q.window,D,k-U,ce,Q.wnext),(U-=ce)?(a.arraySet(Q.window,D,k-U,U,0),Q.wnext=U,Q.whave=Q.wsize):(Q.wnext+=ce,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=ce))),0}r.inflateReset=C,r.inflateReset2=_,r.inflateResetKeep=x,r.inflateInit=function(P){return F(P,15)},r.inflateInit2=F,r.inflate=function(P,D){var k,U,ce,Q,ae,ie,Se,ne,N,H,V,te,ge,Ce,Pe,pe,_e,Oe,ht,et,B,z,ve,se,K=0,le=new a.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return h;(k=P.state).mode===12&&(k.mode=13),ae=P.next_out,ce=P.output,Se=P.avail_out,Q=P.next_in,U=P.input,ie=P.avail_in,ne=k.hold,N=k.bits,H=ie,V=Se,z=f;e:for(;;)switch(k.mode){case g:if(k.wrap===0){k.mode=13;break}for(;N<16;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(2&k.wrap&&ne===35615){le[k.check=0]=255&ne,le[1]=ne>>>8&255,k.check=o(k.check,le,2,0),N=ne=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&ne)<<8)+(ne>>8))%31){P.msg="incorrect header check",k.mode=30;break}if((15&ne)!=8){P.msg="unknown compression method",k.mode=30;break}if(N-=4,B=8+(15&(ne>>>=4)),k.wbits===0)k.wbits=B;else if(B>k.wbits){P.msg="invalid window size",k.mode=30;break}k.dmax=1<<B,P.adler=k.check=1,k.mode=512&ne?10:12,N=ne=0;break;case 2:for(;N<16;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(k.flags=ne,(255&k.flags)!=8){P.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){P.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=ne>>8&1),512&k.flags&&(le[0]=255&ne,le[1]=ne>>>8&255,k.check=o(k.check,le,2,0)),N=ne=0,k.mode=3;case 3:for(;N<32;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.head&&(k.head.time=ne),512&k.flags&&(le[0]=255&ne,le[1]=ne>>>8&255,le[2]=ne>>>16&255,le[3]=ne>>>24&255,k.check=o(k.check,le,4,0)),N=ne=0,k.mode=4;case 4:for(;N<16;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.head&&(k.head.xflags=255&ne,k.head.os=ne>>8),512&k.flags&&(le[0]=255&ne,le[1]=ne>>>8&255,k.check=o(k.check,le,2,0)),N=ne=0,k.mode=5;case 5:if(1024&k.flags){for(;N<16;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.length=ne,k.head&&(k.head.extra_len=ne),512&k.flags&&(le[0]=255&ne,le[1]=ne>>>8&255,k.check=o(k.check,le,2,0)),N=ne=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ie<(te=k.length)&&(te=ie),te&&(k.head&&(B=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,U,Q,te,B)),512&k.flags&&(k.check=o(k.check,U,te,Q)),ie-=te,Q+=te,k.length-=te),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ie===0)break e;for(te=0;B=U[Q+te++],k.head&&B&&k.length<65536&&(k.head.name+=String.fromCharCode(B)),B&&te<ie;);if(512&k.flags&&(k.check=o(k.check,U,te,Q)),ie-=te,Q+=te,B)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ie===0)break e;for(te=0;B=U[Q+te++],k.head&&B&&k.length<65536&&(k.head.comment+=String.fromCharCode(B)),B&&te<ie;);if(512&k.flags&&(k.check=o(k.check,U,te,Q)),ie-=te,Q+=te,B)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;N<16;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(ne!==(65535&k.check)){P.msg="header crc mismatch",k.mode=30;break}N=ne=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),P.adler=k.check=0,k.mode=12;break;case 10:for(;N<32;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}P.adler=k.check=A(ne),N=ne=0,k.mode=11;case 11:if(k.havedict===0)return P.next_out=ae,P.avail_out=Se,P.next_in=Q,P.avail_in=ie,k.hold=ne,k.bits=N,2;P.adler=k.check=1,k.mode=12;case 12:if(D===5||D===6)break e;case 13:if(k.last){ne>>>=7&N,N-=7&N,k.mode=27;break}for(;N<3;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}switch(k.last=1&ne,N-=1,3&(ne>>>=1)){case 0:k.mode=14;break;case 1:if(q(k),k.mode=20,D!==6)break;ne>>>=2,N-=2;break e;case 2:k.mode=17;break;case 3:P.msg="invalid block type",k.mode=30}ne>>>=2,N-=2;break;case 14:for(ne>>>=7&N,N-=7&N;N<32;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if((65535&ne)!=(ne>>>16^65535)){P.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&ne,N=ne=0,k.mode=15,D===6)break e;case 15:k.mode=16;case 16:if(te=k.length){if(ie<te&&(te=ie),Se<te&&(te=Se),te===0)break e;a.arraySet(ce,U,Q,te,ae),ie-=te,Q+=te,Se-=te,ae+=te,k.length-=te;break}k.mode=12;break;case 17:for(;N<14;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(k.nlen=257+(31&ne),ne>>>=5,N-=5,k.ndist=1+(31&ne),ne>>>=5,N-=5,k.ncode=4+(15&ne),ne>>>=4,N-=4,286<k.nlen||30<k.ndist){P.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;N<3;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.lens[Ie[k.have++]]=7&ne,ne>>>=3,N-=3}for(;k.have<19;)k.lens[Ie[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ve={bits:k.lenbits},z=s(0,k.lens,0,19,k.lencode,0,k.work,ve),k.lenbits=ve.bits,z){P.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;pe=(K=k.lencode[ne&(1<<k.lenbits)-1])>>>16&255,_e=65535&K,!((Pe=K>>>24)<=N);){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(_e<16)ne>>>=Pe,N-=Pe,k.lens[k.have++]=_e;else{if(_e===16){for(se=Pe+2;N<se;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(ne>>>=Pe,N-=Pe,k.have===0){P.msg="invalid bit length repeat",k.mode=30;break}B=k.lens[k.have-1],te=3+(3&ne),ne>>>=2,N-=2}else if(_e===17){for(se=Pe+3;N<se;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}N-=Pe,B=0,te=3+(7&(ne>>>=Pe)),ne>>>=3,N-=3}else{for(se=Pe+7;N<se;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}N-=Pe,B=0,te=11+(127&(ne>>>=Pe)),ne>>>=7,N-=7}if(k.have+te>k.nlen+k.ndist){P.msg="invalid bit length repeat",k.mode=30;break}for(;te--;)k.lens[k.have++]=B}}if(k.mode===30)break;if(k.lens[256]===0){P.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ve={bits:k.lenbits},z=s(d,k.lens,0,k.nlen,k.lencode,0,k.work,ve),k.lenbits=ve.bits,z){P.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ve={bits:k.distbits},z=s(u,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ve),k.distbits=ve.bits,z){P.msg="invalid distances set",k.mode=30;break}if(k.mode=20,D===6)break e;case 20:k.mode=21;case 21:if(6<=ie&&258<=Se){P.next_out=ae,P.avail_out=Se,P.next_in=Q,P.avail_in=ie,k.hold=ne,k.bits=N,c(P,V),ae=P.next_out,ce=P.output,Se=P.avail_out,Q=P.next_in,U=P.input,ie=P.avail_in,ne=k.hold,N=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;pe=(K=k.lencode[ne&(1<<k.lenbits)-1])>>>16&255,_e=65535&K,!((Pe=K>>>24)<=N);){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(pe&&(240&pe)==0){for(Oe=Pe,ht=pe,et=_e;pe=(K=k.lencode[et+((ne&(1<<Oe+ht)-1)>>Oe)])>>>16&255,_e=65535&K,!(Oe+(Pe=K>>>24)<=N);){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}ne>>>=Oe,N-=Oe,k.back+=Oe}if(ne>>>=Pe,N-=Pe,k.back+=Pe,k.length=_e,pe===0){k.mode=26;break}if(32&pe){k.back=-1,k.mode=12;break}if(64&pe){P.msg="invalid literal/length code",k.mode=30;break}k.extra=15&pe,k.mode=22;case 22:if(k.extra){for(se=k.extra;N<se;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.length+=ne&(1<<k.extra)-1,ne>>>=k.extra,N-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;pe=(K=k.distcode[ne&(1<<k.distbits)-1])>>>16&255,_e=65535&K,!((Pe=K>>>24)<=N);){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if((240&pe)==0){for(Oe=Pe,ht=pe,et=_e;pe=(K=k.distcode[et+((ne&(1<<Oe+ht)-1)>>Oe)])>>>16&255,_e=65535&K,!(Oe+(Pe=K>>>24)<=N);){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}ne>>>=Oe,N-=Oe,k.back+=Oe}if(ne>>>=Pe,N-=Pe,k.back+=Pe,64&pe){P.msg="invalid distance code",k.mode=30;break}k.offset=_e,k.extra=15&pe,k.mode=24;case 24:if(k.extra){for(se=k.extra;N<se;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}k.offset+=ne&(1<<k.extra)-1,ne>>>=k.extra,N-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){P.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(Se===0)break e;if(te=V-Se,k.offset>te){if((te=k.offset-te)>k.whave&&k.sane){P.msg="invalid distance too far back",k.mode=30;break}ge=te>k.wnext?(te-=k.wnext,k.wsize-te):k.wnext-te,te>k.length&&(te=k.length),Ce=k.window}else Ce=ce,ge=ae-k.offset,te=k.length;for(Se<te&&(te=Se),Se-=te,k.length-=te;ce[ae++]=Ce[ge++],--te;);k.length===0&&(k.mode=21);break;case 26:if(Se===0)break e;ce[ae++]=k.length,Se--,k.mode=21;break;case 27:if(k.wrap){for(;N<32;){if(ie===0)break e;ie--,ne|=U[Q++]<<N,N+=8}if(V-=Se,P.total_out+=V,k.total+=V,V&&(P.adler=k.check=k.flags?o(k.check,ce,V,ae-V):l(k.check,ce,V,ae-V)),V=Se,(k.flags?ne:A(ne))!==k.check){P.msg="incorrect data check",k.mode=30;break}N=ne=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;N<32;){if(ie===0)break e;ie--,ne+=U[Q++]<<N,N+=8}if(ne!==(4294967295&k.total)){P.msg="incorrect length check",k.mode=30;break}N=ne=0}k.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;default:return h}return P.next_out=ae,P.avail_out=Se,P.next_in=Q,P.avail_in=ie,k.hold=ne,k.bits=N,(k.wsize||V!==P.avail_out&&k.mode<30&&(k.mode<27||D!==4))&&R(P,P.output,P.next_out,V-P.avail_out)?(k.mode=31,-4):(H-=P.avail_in,V-=P.avail_out,P.total_in+=H,P.total_out+=V,k.total+=V,k.wrap&&V&&(P.adler=k.check=k.flags?o(k.check,ce,V,P.next_out-V):l(k.check,ce,V,P.next_out-V)),P.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(H==0&&V===0||D===4)&&z===f&&(z=-5),z)},r.inflateEnd=function(P){if(!P||!P.state)return h;var D=P.state;return D.window&&(D.window=null),P.state=null,f},r.inflateGetHeader=function(P,D){var k;return P&&P.state?(2&(k=P.state).wrap)==0?h:((k.head=D).done=!1,f):h},r.inflateSetDictionary=function(P,D){var k,U=D.length;return P&&P.state?(k=P.state).wrap!==0&&k.mode!==11?h:k.mode===11&&l(1,D,U,0)!==k.check?-3:R(P,D,U,U)?(k.mode=31,-4):(k.havedict=1,f):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var a=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(d,u,f,h,g,p,y,A){var v,x,C,_,F,O,E,I,q,R=A.bits,P=0,D=0,k=0,U=0,ce=0,Q=0,ae=0,ie=0,Se=0,ne=0,N=null,H=0,V=new a.Buf16(16),te=new a.Buf16(16),ge=null,Ce=0;for(P=0;P<=15;P++)V[P]=0;for(D=0;D<h;D++)V[u[f+D]]++;for(ce=R,U=15;1<=U&&V[U]===0;U--);if(U<ce&&(ce=U),U===0)return g[p++]=20971520,g[p++]=20971520,A.bits=1,0;for(k=1;k<U&&V[k]===0;k++);for(ce<k&&(ce=k),P=ie=1;P<=15;P++)if(ie<<=1,(ie-=V[P])<0)return-1;if(0<ie&&(d===0||U!==1))return-1;for(te[1]=0,P=1;P<15;P++)te[P+1]=te[P]+V[P];for(D=0;D<h;D++)u[f+D]!==0&&(y[te[u[f+D]]++]=D);if(O=d===0?(N=ge=y,19):d===1?(N=l,H-=257,ge=o,Ce-=257,256):(N=c,ge=s,-1),P=k,F=p,ae=D=ne=0,C=-1,_=(Se=1<<(Q=ce))-1,d===1&&852<Se||d===2&&592<Se)return 1;for(;;){for(E=P-ae,q=y[D]<O?(I=0,y[D]):y[D]>O?(I=ge[Ce+y[D]],N[H+y[D]]):(I=96,0),v=1<<P-ae,k=x=1<<Q;g[F+(ne>>ae)+(x-=v)]=E<<24|I<<16|q|0,x!==0;);for(v=1<<P-1;ne&v;)v>>=1;if(v!==0?(ne&=v-1,ne+=v):ne=0,D++,--V[P]==0){if(P===U)break;P=u[f+y[D]]}if(ce<P&&(ne&_)!==C){for(ae===0&&(ae=ce),F+=k,ie=1<<(Q=P-ae);Q+ae<U&&!((ie-=V[Q+ae])<=0);)Q++,ie<<=1;if(Se+=1<<Q,d===1&&852<Se||d===2&&592<Se)return 1;g[C=ne&_]=ce<<24|Q<<16|F-p|0}}return ne!==0&&(g[F+ne]=P-ae<<24|64<<16|0),A.bits=ce,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var a=n("../utils/common"),l=0,o=1;function c(K){for(var le=K.length;0<=--le;)K[le]=0}var s=0,d=29,u=256,f=u+1+d,h=30,g=19,p=2*f+1,y=15,A=16,v=7,x=256,C=16,_=17,F=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(f+2));c(R);var P=new Array(2*h);c(P);var D=new Array(512);c(D);var k=new Array(256);c(k);var U=new Array(d);c(U);var ce,Q,ae,ie=new Array(h);function Se(K,le,Ie,Be,me){this.static_tree=K,this.extra_bits=le,this.extra_base=Ie,this.elems=Be,this.max_length=me,this.has_stree=K&&K.length}function ne(K,le){this.dyn_tree=K,this.max_code=0,this.stat_desc=le}function N(K){return K<256?D[K]:D[256+(K>>>7)]}function H(K,le){K.pending_buf[K.pending++]=255&le,K.pending_buf[K.pending++]=le>>>8&255}function V(K,le,Ie){K.bi_valid>A-Ie?(K.bi_buf|=le<<K.bi_valid&65535,H(K,K.bi_buf),K.bi_buf=le>>A-K.bi_valid,K.bi_valid+=Ie-A):(K.bi_buf|=le<<K.bi_valid&65535,K.bi_valid+=Ie)}function te(K,le,Ie){V(K,Ie[2*le],Ie[2*le+1])}function ge(K,le){for(var Ie=0;Ie|=1&K,K>>>=1,Ie<<=1,0<--le;);return Ie>>>1}function Ce(K,le,Ie){var Be,me,je=new Array(y+1),ut=0;for(Be=1;Be<=y;Be++)je[Be]=ut=ut+Ie[Be-1]<<1;for(me=0;me<=le;me++){var Qe=K[2*me+1];Qe!==0&&(K[2*me]=ge(je[Qe]++,Qe))}}function Pe(K){var le;for(le=0;le<f;le++)K.dyn_ltree[2*le]=0;for(le=0;le<h;le++)K.dyn_dtree[2*le]=0;for(le=0;le<g;le++)K.bl_tree[2*le]=0;K.dyn_ltree[2*x]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function pe(K){8<K.bi_valid?H(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function _e(K,le,Ie,Be){var me=2*le,je=2*Ie;return K[me]<K[je]||K[me]===K[je]&&Be[le]<=Be[Ie]}function Oe(K,le,Ie){for(var Be=K.heap[Ie],me=Ie<<1;me<=K.heap_len&&(me<K.heap_len&&_e(le,K.heap[me+1],K.heap[me],K.depth)&&me++,!_e(le,Be,K.heap[me],K.depth));)K.heap[Ie]=K.heap[me],Ie=me,me<<=1;K.heap[Ie]=Be}function ht(K,le,Ie){var Be,me,je,ut,Qe=0;if(K.last_lit!==0)for(;Be=K.pending_buf[K.d_buf+2*Qe]<<8|K.pending_buf[K.d_buf+2*Qe+1],me=K.pending_buf[K.l_buf+Qe],Qe++,Be===0?te(K,me,le):(te(K,(je=k[me])+u+1,le),(ut=O[je])!==0&&V(K,me-=U[je],ut),te(K,je=N(--Be),Ie),(ut=E[je])!==0&&V(K,Be-=ie[je],ut)),Qe<K.last_lit;);te(K,x,le)}function et(K,le){var Ie,Be,me,je=le.dyn_tree,ut=le.stat_desc.static_tree,Qe=le.stat_desc.has_stree,dt=le.stat_desc.elems,Tt=-1;for(K.heap_len=0,K.heap_max=p,Ie=0;Ie<dt;Ie++)je[2*Ie]!==0?(K.heap[++K.heap_len]=Tt=Ie,K.depth[Ie]=0):je[2*Ie+1]=0;for(;K.heap_len<2;)je[2*(me=K.heap[++K.heap_len]=Tt<2?++Tt:0)]=1,K.depth[me]=0,K.opt_len--,Qe&&(K.static_len-=ut[2*me+1]);for(le.max_code=Tt,Ie=K.heap_len>>1;1<=Ie;Ie--)Oe(K,je,Ie);for(me=dt;Ie=K.heap[1],K.heap[1]=K.heap[K.heap_len--],Oe(K,je,1),Be=K.heap[1],K.heap[--K.heap_max]=Ie,K.heap[--K.heap_max]=Be,je[2*me]=je[2*Ie]+je[2*Be],K.depth[me]=(K.depth[Ie]>=K.depth[Be]?K.depth[Ie]:K.depth[Be])+1,je[2*Ie+1]=je[2*Be+1]=me,K.heap[1]=me++,Oe(K,je,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],(function(Nt,Ct){var Ut,_t,Nn,Dt,Zt,nn,yn=Ct.dyn_tree,Ft=Ct.max_code,Tn=Ct.stat_desc.static_tree,Ht=Ct.stat_desc.has_stree,en=Ct.stat_desc.extra_bits,$n=Ct.stat_desc.extra_base,rn=Ct.stat_desc.max_length,Gt=0;for(Dt=0;Dt<=y;Dt++)Nt.bl_count[Dt]=0;for(yn[2*Nt.heap[Nt.heap_max]+1]=0,Ut=Nt.heap_max+1;Ut<p;Ut++)rn<(Dt=yn[2*yn[2*(_t=Nt.heap[Ut])+1]+1]+1)&&(Dt=rn,Gt++),yn[2*_t+1]=Dt,Ft<_t||(Nt.bl_count[Dt]++,Zt=0,$n<=_t&&(Zt=en[_t-$n]),nn=yn[2*_t],Nt.opt_len+=nn*(Dt+Zt),Ht&&(Nt.static_len+=nn*(Tn[2*_t+1]+Zt)));if(Gt!==0){do{for(Dt=rn-1;Nt.bl_count[Dt]===0;)Dt--;Nt.bl_count[Dt]--,Nt.bl_count[Dt+1]+=2,Nt.bl_count[rn]--,Gt-=2}while(0<Gt);for(Dt=rn;Dt!==0;Dt--)for(_t=Nt.bl_count[Dt];_t!==0;)Ft<(Nn=Nt.heap[--Ut])||(yn[2*Nn+1]!==Dt&&(Nt.opt_len+=(Dt-yn[2*Nn+1])*yn[2*Nn],yn[2*Nn+1]=Dt),_t--)}})(K,le),Ce(je,Tt,K.bl_count)}function B(K,le,Ie){var Be,me,je=-1,ut=le[1],Qe=0,dt=7,Tt=4;for(ut===0&&(dt=138,Tt=3),le[2*(Ie+1)+1]=65535,Be=0;Be<=Ie;Be++)me=ut,ut=le[2*(Be+1)+1],++Qe<dt&&me===ut||(Qe<Tt?K.bl_tree[2*me]+=Qe:me!==0?(me!==je&&K.bl_tree[2*me]++,K.bl_tree[2*C]++):Qe<=10?K.bl_tree[2*_]++:K.bl_tree[2*F]++,je=me,Tt=(Qe=0)===ut?(dt=138,3):me===ut?(dt=6,3):(dt=7,4))}function z(K,le,Ie){var Be,me,je=-1,ut=le[1],Qe=0,dt=7,Tt=4;for(ut===0&&(dt=138,Tt=3),Be=0;Be<=Ie;Be++)if(me=ut,ut=le[2*(Be+1)+1],!(++Qe<dt&&me===ut)){if(Qe<Tt)for(;te(K,me,K.bl_tree),--Qe!=0;);else me!==0?(me!==je&&(te(K,me,K.bl_tree),Qe--),te(K,C,K.bl_tree),V(K,Qe-3,2)):Qe<=10?(te(K,_,K.bl_tree),V(K,Qe-3,3)):(te(K,F,K.bl_tree),V(K,Qe-11,7));je=me,Tt=(Qe=0)===ut?(dt=138,3):me===ut?(dt=6,3):(dt=7,4)}}c(ie);var ve=!1;function se(K,le,Ie,Be){V(K,(s<<1)+(Be?1:0),3),(function(me,je,ut,Qe){pe(me),H(me,ut),H(me,~ut),a.arraySet(me.pending_buf,me.window,je,ut,me.pending),me.pending+=ut})(K,le,Ie)}r._tr_init=function(K){ve||((function(){var le,Ie,Be,me,je,ut=new Array(y+1);for(me=Be=0;me<d-1;me++)for(U[me]=Be,le=0;le<1<<O[me];le++)k[Be++]=me;for(k[Be-1]=me,me=je=0;me<16;me++)for(ie[me]=je,le=0;le<1<<E[me];le++)D[je++]=me;for(je>>=7;me<h;me++)for(ie[me]=je<<7,le=0;le<1<<E[me]-7;le++)D[256+je++]=me;for(Ie=0;Ie<=y;Ie++)ut[Ie]=0;for(le=0;le<=143;)R[2*le+1]=8,le++,ut[8]++;for(;le<=255;)R[2*le+1]=9,le++,ut[9]++;for(;le<=279;)R[2*le+1]=7,le++,ut[7]++;for(;le<=287;)R[2*le+1]=8,le++,ut[8]++;for(Ce(R,f+1,ut),le=0;le<h;le++)P[2*le+1]=5,P[2*le]=ge(le,5);ce=new Se(R,O,u+1,f,y),Q=new Se(P,E,0,h,y),ae=new Se(new Array(0),I,0,g,v)})(),ve=!0),K.l_desc=new ne(K.dyn_ltree,ce),K.d_desc=new ne(K.dyn_dtree,Q),K.bl_desc=new ne(K.bl_tree,ae),K.bi_buf=0,K.bi_valid=0,Pe(K)},r._tr_stored_block=se,r._tr_flush_block=function(K,le,Ie,Be){var me,je,ut=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=(function(Qe){var dt,Tt=4093624447;for(dt=0;dt<=31;dt++,Tt>>>=1)if(1&Tt&&Qe.dyn_ltree[2*dt]!==0)return l;if(Qe.dyn_ltree[18]!==0||Qe.dyn_ltree[20]!==0||Qe.dyn_ltree[26]!==0)return o;for(dt=32;dt<u;dt++)if(Qe.dyn_ltree[2*dt]!==0)return o;return l})(K)),et(K,K.l_desc),et(K,K.d_desc),ut=(function(Qe){var dt;for(B(Qe,Qe.dyn_ltree,Qe.l_desc.max_code),B(Qe,Qe.dyn_dtree,Qe.d_desc.max_code),et(Qe,Qe.bl_desc),dt=g-1;3<=dt&&Qe.bl_tree[2*q[dt]+1]===0;dt--);return Qe.opt_len+=3*(dt+1)+5+5+4,dt})(K),me=K.opt_len+3+7>>>3,(je=K.static_len+3+7>>>3)<=me&&(me=je)):me=je=Ie+5,Ie+4<=me&&le!==-1?se(K,le,Ie,Be):K.strategy===4||je===me?(V(K,2+(Be?1:0),3),ht(K,R,P)):(V(K,4+(Be?1:0),3),(function(Qe,dt,Tt,Nt){var Ct;for(V(Qe,dt-257,5),V(Qe,Tt-1,5),V(Qe,Nt-4,4),Ct=0;Ct<Nt;Ct++)V(Qe,Qe.bl_tree[2*q[Ct]+1],3);z(Qe,Qe.dyn_ltree,dt-1),z(Qe,Qe.dyn_dtree,Tt-1)})(K,K.l_desc.max_code+1,K.d_desc.max_code+1,ut+1),ht(K,K.dyn_ltree,K.dyn_dtree)),Pe(K),Be&&pe(K)},r._tr_tally=function(K,le,Ie){return K.pending_buf[K.d_buf+2*K.last_lit]=le>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&le,K.pending_buf[K.l_buf+K.last_lit]=255&Ie,K.last_lit++,le===0?K.dyn_ltree[2*Ie]++:(K.matches++,le--,K.dyn_ltree[2*(k[Ie]+u+1)]++,K.dyn_dtree[2*N(le)]++),K.last_lit===K.lit_bufsize-1},r._tr_align=function(K){V(K,2,3),te(K,x,R),(function(le){le.bi_valid===16?(H(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(K)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(a){(function(l,o){if(!l.setImmediate){var c,s,d,u,f=1,h={},g=!1,p=l.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(l);y=y&&y.setTimeout?y:l,c={}.toString.call(l.process)==="[object process]"?function(C){process.nextTick(function(){v(C)})}:(function(){if(l.postMessage&&!l.importScripts){var C=!0,_=l.onmessage;return l.onmessage=function(){C=!1},l.postMessage("","*"),l.onmessage=_,C}})()?(u="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",x,!1):l.attachEvent("onmessage",x),function(C){l.postMessage(u+C,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(C){v(C.data)},function(C){d.port2.postMessage(C)}):p&&"onreadystatechange"in p.createElement("script")?(s=p.documentElement,function(C){var _=p.createElement("script");_.onreadystatechange=function(){v(C),_.onreadystatechange=null,s.removeChild(_),_=null},s.appendChild(_)}):function(C){setTimeout(v,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),F=0;F<_.length;F++)_[F]=arguments[F+1];var O={callback:C,args:_};return h[f]=O,c(f),f++},y.clearImmediate=A}function A(C){delete h[C]}function v(C){if(g)setTimeout(v,0,C);else{var _=h[C];if(_){g=!0;try{(function(F){var O=F.callback,E=F.args;switch(E.length){case 0:O();break;case 1:O(E[0]);break;case 2:O(E[0],E[1]);break;case 3:O(E[0],E[1],E[2]);break;default:O.apply(o,E)}})(_)}finally{A(C),g=!1}}}}function x(C){C.source===l&&typeof C.data=="string"&&C.data.indexOf(u)===0&&v(+C.data.slice(u.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xu)),Xu.exports}var H8=G8();const cm=X8(H8);function wi(e,t,n,i){function r(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function o(d){try{s(i.next(d))}catch(u){l(u)}}function c(d){try{s(i.throw(d))}catch(u){l(u)}}function s(d){d.done?a(d.value):r(d.value).then(o,c)}s((i=i.apply(e,[])).next())})}const tn=914400,nc=12700,Br=`\r
`,Y8=2147483649,Gu=/^[0-9a-fA-F]{6}$/,V8=1.67,Q8=27,cs={type:"solid",color:"666666",pt:1},dm=[.05,.1,.05,.1],ds={color:"363636",pt:1},Bo={color:"888888",style:"solid",size:1,cap:"flat"},ai="000000",Ti=12,J8=18,hs="LAYOUT_16x9",$f="DEFAULT",hm="333333",Co={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},Rl=[.5,.5,.5,.5],A1={color:"000000"},K8={size:8,color:"FFFFFF",opacity:.75},Sa="2094734552",wd="2094734553",yl="2094734554",Ff="2094734555",um="2094734556",fl="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),ml=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],Z8=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var bs;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(bs||(bs={}));var ws;(function(e){e.b="b",e.ctr="ctr",e.t="t"})(ws||(ws={}));const fm="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var Of;(function(e){e.arraybuffer="arraybuffer",e.base64="base64",e.binarystring="binarystring",e.blob="blob",e.nodebuffer="nodebuffer",e.uint8array="uint8array"})(Of||(Of={}));var zf;(function(e){e.area="area",e.bar="bar",e.bar3d="bar3D",e.bubble="bubble",e.bubble3d="bubble3D",e.doughnut="doughnut",e.line="line",e.pie="pie",e.radar="radar",e.scatter="scatter"})(zf||(zf={}));var Uf;(function(e){e.accentBorderCallout1="accentBorderCallout1",e.accentBorderCallout2="accentBorderCallout2",e.accentBorderCallout3="accentBorderCallout3",e.accentCallout1="accentCallout1",e.accentCallout2="accentCallout2",e.accentCallout3="accentCallout3",e.actionButtonBackPrevious="actionButtonBackPrevious",e.actionButtonBeginning="actionButtonBeginning",e.actionButtonBlank="actionButtonBlank",e.actionButtonDocument="actionButtonDocument",e.actionButtonEnd="actionButtonEnd",e.actionButtonForwardNext="actionButtonForwardNext",e.actionButtonHelp="actionButtonHelp",e.actionButtonHome="actionButtonHome",e.actionButtonInformation="actionButtonInformation",e.actionButtonMovie="actionButtonMovie",e.actionButtonReturn="actionButtonReturn",e.actionButtonSound="actionButtonSound",e.arc="arc",e.bentArrow="bentArrow",e.bentUpArrow="bentUpArrow",e.bevel="bevel",e.blockArc="blockArc",e.borderCallout1="borderCallout1",e.borderCallout2="borderCallout2",e.borderCallout3="borderCallout3",e.bracePair="bracePair",e.bracketPair="bracketPair",e.callout1="callout1",e.callout2="callout2",e.callout3="callout3",e.can="can",e.chartPlus="chartPlus",e.chartStar="chartStar",e.chartX="chartX",e.chevron="chevron",e.chord="chord",e.circularArrow="circularArrow",e.cloud="cloud",e.cloudCallout="cloudCallout",e.corner="corner",e.cornerTabs="cornerTabs",e.cube="cube",e.curvedDownArrow="curvedDownArrow",e.curvedLeftArrow="curvedLeftArrow",e.curvedRightArrow="curvedRightArrow",e.curvedUpArrow="curvedUpArrow",e.custGeom="custGeom",e.decagon="decagon",e.diagStripe="diagStripe",e.diamond="diamond",e.dodecagon="dodecagon",e.donut="donut",e.doubleWave="doubleWave",e.downArrow="downArrow",e.downArrowCallout="downArrowCallout",e.ellipse="ellipse",e.ellipseRibbon="ellipseRibbon",e.ellipseRibbon2="ellipseRibbon2",e.flowChartAlternateProcess="flowChartAlternateProcess",e.flowChartCollate="flowChartCollate",e.flowChartConnector="flowChartConnector",e.flowChartDecision="flowChartDecision",e.flowChartDelay="flowChartDelay",e.flowChartDisplay="flowChartDisplay",e.flowChartDocument="flowChartDocument",e.flowChartExtract="flowChartExtract",e.flowChartInputOutput="flowChartInputOutput",e.flowChartInternalStorage="flowChartInternalStorage",e.flowChartMagneticDisk="flowChartMagneticDisk",e.flowChartMagneticDrum="flowChartMagneticDrum",e.flowChartMagneticTape="flowChartMagneticTape",e.flowChartManualInput="flowChartManualInput",e.flowChartManualOperation="flowChartManualOperation",e.flowChartMerge="flowChartMerge",e.flowChartMultidocument="flowChartMultidocument",e.flowChartOfflineStorage="flowChartOfflineStorage",e.flowChartOffpageConnector="flowChartOffpageConnector",e.flowChartOnlineStorage="flowChartOnlineStorage",e.flowChartOr="flowChartOr",e.flowChartPredefinedProcess="flowChartPredefinedProcess",e.flowChartPreparation="flowChartPreparation",e.flowChartProcess="flowChartProcess",e.flowChartPunchedCard="flowChartPunchedCard",e.flowChartPunchedTape="flowChartPunchedTape",e.flowChartSort="flowChartSort",e.flowChartSummingJunction="flowChartSummingJunction",e.flowChartTerminator="flowChartTerminator",e.folderCorner="folderCorner",e.frame="frame",e.funnel="funnel",e.gear6="gear6",e.gear9="gear9",e.halfFrame="halfFrame",e.heart="heart",e.heptagon="heptagon",e.hexagon="hexagon",e.homePlate="homePlate",e.horizontalScroll="horizontalScroll",e.irregularSeal1="irregularSeal1",e.irregularSeal2="irregularSeal2",e.leftArrow="leftArrow",e.leftArrowCallout="leftArrowCallout",e.leftBrace="leftBrace",e.leftBracket="leftBracket",e.leftCircularArrow="leftCircularArrow",e.leftRightArrow="leftRightArrow",e.leftRightArrowCallout="leftRightArrowCallout",e.leftRightCircularArrow="leftRightCircularArrow",e.leftRightRibbon="leftRightRibbon",e.leftRightUpArrow="leftRightUpArrow",e.leftUpArrow="leftUpArrow",e.lightningBolt="lightningBolt",e.line="line",e.lineInv="lineInv",e.mathDivide="mathDivide",e.mathEqual="mathEqual",e.mathMinus="mathMinus",e.mathMultiply="mathMultiply",e.mathNotEqual="mathNotEqual",e.mathPlus="mathPlus",e.moon="moon",e.noSmoking="noSmoking",e.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",e.notchedRightArrow="notchedRightArrow",e.octagon="octagon",e.parallelogram="parallelogram",e.pentagon="pentagon",e.pie="pie",e.pieWedge="pieWedge",e.plaque="plaque",e.plaqueTabs="plaqueTabs",e.plus="plus",e.quadArrow="quadArrow",e.quadArrowCallout="quadArrowCallout",e.rect="rect",e.ribbon="ribbon",e.ribbon2="ribbon2",e.rightArrow="rightArrow",e.rightArrowCallout="rightArrowCallout",e.rightBrace="rightBrace",e.rightBracket="rightBracket",e.round1Rect="round1Rect",e.round2DiagRect="round2DiagRect",e.round2SameRect="round2SameRect",e.roundRect="roundRect",e.rtTriangle="rtTriangle",e.smileyFace="smileyFace",e.snip1Rect="snip1Rect",e.snip2DiagRect="snip2DiagRect",e.snip2SameRect="snip2SameRect",e.snipRoundRect="snipRoundRect",e.squareTabs="squareTabs",e.star10="star10",e.star12="star12",e.star16="star16",e.star24="star24",e.star32="star32",e.star4="star4",e.star5="star5",e.star6="star6",e.star7="star7",e.star8="star8",e.stripedRightArrow="stripedRightArrow",e.sun="sun",e.swooshArrow="swooshArrow",e.teardrop="teardrop",e.trapezoid="trapezoid",e.triangle="triangle",e.upArrow="upArrow",e.upArrowCallout="upArrowCallout",e.upDownArrow="upDownArrow",e.upDownArrowCallout="upDownArrowCallout",e.uturnArrow="uturnArrow",e.verticalScroll="verticalScroll",e.wave="wave",e.wedgeEllipseCallout="wedgeEllipseCallout",e.wedgeRectCallout="wedgeRectCallout",e.wedgeRoundRectCallout="wedgeRoundRectCallout"})(Uf||(Uf={}));var vi;(function(e){e.text1="tx1",e.text2="tx2",e.background1="bg1",e.background2="bg2",e.accent1="accent1",e.accent2="accent2",e.accent3="accent3",e.accent4="accent4",e.accent5="accent5",e.accent6="accent6"})(vi||(vi={}));var Wf;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify"})(Wf||(Wf={}));var jf;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(jf||(jf={}));var oo;(function(e){e.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",e.ACTION_BUTTON_BEGINNING="actionButtonBeginning",e.ACTION_BUTTON_CUSTOM="actionButtonBlank",e.ACTION_BUTTON_DOCUMENT="actionButtonDocument",e.ACTION_BUTTON_END="actionButtonEnd",e.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",e.ACTION_BUTTON_HELP="actionButtonHelp",e.ACTION_BUTTON_HOME="actionButtonHome",e.ACTION_BUTTON_INFORMATION="actionButtonInformation",e.ACTION_BUTTON_MOVIE="actionButtonMovie",e.ACTION_BUTTON_RETURN="actionButtonReturn",e.ACTION_BUTTON_SOUND="actionButtonSound",e.ARC="arc",e.BALLOON="wedgeRoundRectCallout",e.BENT_ARROW="bentArrow",e.BENT_UP_ARROW="bentUpArrow",e.BEVEL="bevel",e.BLOCK_ARC="blockArc",e.CAN="can",e.CHART_PLUS="chartPlus",e.CHART_STAR="chartStar",e.CHART_X="chartX",e.CHEVRON="chevron",e.CHORD="chord",e.CIRCULAR_ARROW="circularArrow",e.CLOUD="cloud",e.CLOUD_CALLOUT="cloudCallout",e.CORNER="corner",e.CORNER_TABS="cornerTabs",e.CROSS="plus",e.CUBE="cube",e.CURVED_DOWN_ARROW="curvedDownArrow",e.CURVED_DOWN_RIBBON="ellipseRibbon",e.CURVED_LEFT_ARROW="curvedLeftArrow",e.CURVED_RIGHT_ARROW="curvedRightArrow",e.CURVED_UP_ARROW="curvedUpArrow",e.CURVED_UP_RIBBON="ellipseRibbon2",e.CUSTOM_GEOMETRY="custGeom",e.DECAGON="decagon",e.DIAGONAL_STRIPE="diagStripe",e.DIAMOND="diamond",e.DODECAGON="dodecagon",e.DONUT="donut",e.DOUBLE_BRACE="bracePair",e.DOUBLE_BRACKET="bracketPair",e.DOUBLE_WAVE="doubleWave",e.DOWN_ARROW="downArrow",e.DOWN_ARROW_CALLOUT="downArrowCallout",e.DOWN_RIBBON="ribbon",e.EXPLOSION1="irregularSeal1",e.EXPLOSION2="irregularSeal2",e.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",e.FLOWCHART_CARD="flowChartPunchedCard",e.FLOWCHART_COLLATE="flowChartCollate",e.FLOWCHART_CONNECTOR="flowChartConnector",e.FLOWCHART_DATA="flowChartInputOutput",e.FLOWCHART_DECISION="flowChartDecision",e.FLOWCHART_DELAY="flowChartDelay",e.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",e.FLOWCHART_DISPLAY="flowChartDisplay",e.FLOWCHART_DOCUMENT="flowChartDocument",e.FLOWCHART_EXTRACT="flowChartExtract",e.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",e.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",e.FLOWCHART_MANUAL_INPUT="flowChartManualInput",e.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",e.FLOWCHART_MERGE="flowChartMerge",e.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",e.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",e.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",e.FLOWCHART_OR="flowChartOr",e.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",e.FLOWCHART_PREPARATION="flowChartPreparation",e.FLOWCHART_PROCESS="flowChartProcess",e.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",e.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",e.FLOWCHART_SORT="flowChartSort",e.FLOWCHART_STORED_DATA="flowChartOnlineStorage",e.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",e.FLOWCHART_TERMINATOR="flowChartTerminator",e.FOLDED_CORNER="folderCorner",e.FRAME="frame",e.FUNNEL="funnel",e.GEAR_6="gear6",e.GEAR_9="gear9",e.HALF_FRAME="halfFrame",e.HEART="heart",e.HEPTAGON="heptagon",e.HEXAGON="hexagon",e.HORIZONTAL_SCROLL="horizontalScroll",e.ISOSCELES_TRIANGLE="triangle",e.LEFT_ARROW="leftArrow",e.LEFT_ARROW_CALLOUT="leftArrowCallout",e.LEFT_BRACE="leftBrace",e.LEFT_BRACKET="leftBracket",e.LEFT_CIRCULAR_ARROW="leftCircularArrow",e.LEFT_RIGHT_ARROW="leftRightArrow",e.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",e.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",e.LEFT_RIGHT_RIBBON="leftRightRibbon",e.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",e.LEFT_UP_ARROW="leftUpArrow",e.LIGHTNING_BOLT="lightningBolt",e.LINE_CALLOUT_1="borderCallout1",e.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",e.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",e.LINE_CALLOUT_1_NO_BORDER="callout1",e.LINE_CALLOUT_2="borderCallout2",e.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",e.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",e.LINE_CALLOUT_2_NO_BORDER="callout2",e.LINE_CALLOUT_3="borderCallout3",e.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",e.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",e.LINE_CALLOUT_3_NO_BORDER="callout3",e.LINE_CALLOUT_4="borderCallout4",e.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",e.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",e.LINE_CALLOUT_4_NO_BORDER="callout4",e.LINE="line",e.LINE_INVERSE="lineInv",e.MATH_DIVIDE="mathDivide",e.MATH_EQUAL="mathEqual",e.MATH_MINUS="mathMinus",e.MATH_MULTIPLY="mathMultiply",e.MATH_NOT_EQUAL="mathNotEqual",e.MATH_PLUS="mathPlus",e.MOON="moon",e.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",e.NOTCHED_RIGHT_ARROW="notchedRightArrow",e.NO_SYMBOL="noSmoking",e.OCTAGON="octagon",e.OVAL="ellipse",e.OVAL_CALLOUT="wedgeEllipseCallout",e.PARALLELOGRAM="parallelogram",e.PENTAGON="homePlate",e.PIE="pie",e.PIE_WEDGE="pieWedge",e.PLAQUE="plaque",e.PLAQUE_TABS="plaqueTabs",e.QUAD_ARROW="quadArrow",e.QUAD_ARROW_CALLOUT="quadArrowCallout",e.RECTANGLE="rect",e.RECTANGULAR_CALLOUT="wedgeRectCallout",e.REGULAR_PENTAGON="pentagon",e.RIGHT_ARROW="rightArrow",e.RIGHT_ARROW_CALLOUT="rightArrowCallout",e.RIGHT_BRACE="rightBrace",e.RIGHT_BRACKET="rightBracket",e.RIGHT_TRIANGLE="rtTriangle",e.ROUNDED_RECTANGLE="roundRect",e.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",e.ROUND_1_RECTANGLE="round1Rect",e.ROUND_2_DIAG_RECTANGLE="round2DiagRect",e.ROUND_2_SAME_RECTANGLE="round2SameRect",e.SMILEY_FACE="smileyFace",e.SNIP_1_RECTANGLE="snip1Rect",e.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",e.SNIP_2_SAME_RECTANGLE="snip2SameRect",e.SNIP_ROUND_RECTANGLE="snipRoundRect",e.SQUARE_TABS="squareTabs",e.STAR_10_POINT="star10",e.STAR_12_POINT="star12",e.STAR_16_POINT="star16",e.STAR_24_POINT="star24",e.STAR_32_POINT="star32",e.STAR_4_POINT="star4",e.STAR_5_POINT="star5",e.STAR_6_POINT="star6",e.STAR_7_POINT="star7",e.STAR_8_POINT="star8",e.STRIPED_RIGHT_ARROW="stripedRightArrow",e.SUN="sun",e.SWOOSH_ARROW="swooshArrow",e.TEAR="teardrop",e.TRAPEZOID="trapezoid",e.UP_ARROW="upArrow",e.UP_ARROW_CALLOUT="upArrowCallout",e.UP_DOWN_ARROW="upDownArrow",e.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",e.UP_RIBBON="ribbon2",e.U_TURN_ARROW="uturnArrow",e.VERTICAL_SCROLL="verticalScroll",e.WAVE="wave"})(oo||(oo={}));var yt;(function(e){e.AREA="area",e.BAR="bar",e.BAR3D="bar3D",e.BUBBLE="bubble",e.BUBBLE3D="bubble3D",e.DOUGHNUT="doughnut",e.LINE="line",e.PIE="pie",e.RADAR="radar",e.SCATTER="scatter"})(yt||(yt={}));var Zd;(function(e){e.TEXT1="tx1",e.TEXT2="tx2",e.BACKGROUND1="bg1",e.BACKGROUND2="bg2",e.ACCENT1="accent1",e.ACCENT2="accent2",e.ACCENT3="accent3",e.ACCENT4="accent4",e.ACCENT5="accent5",e.ACCENT6="accent6"})(Zd||(Zd={}));var Ja;(function(e){e.chart="chart",e.image="image",e.line="line",e.rect="rect",e.text="text",e.placeholder="placeholder"})(Ja||(Ja={}));var Kt;(function(e){e.chart="chart",e.hyperlink="hyperlink",e.image="image",e.media="media",e.online="online",e.placeholder="placeholder",e.table="table",e.tablecell="tablecell",e.text="text",e.notes="notes"})(Kt||(Kt={}));var Sl;(function(e){e.title="title",e.body="body",e.image="pic",e.chart="chart",e.table="tbl",e.media="media"})(Sl||(Sl={}));var xs;(function(e){e.DEFAULT="&#x2022;",e.CHECK="&#x2713;",e.STAR="&#x2605;",e.TRIANGLE="&#x25B6;"})(xs||(xs={}));const ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",eL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function gn(e,t,n){return typeof e=="string"&&!isNaN(Number(e))&&(e=Number(e)),typeof e=="number"&&e<100?xn(e):typeof e=="number"&&e>=100?e:typeof e=="string"&&e.includes("%")?Math.round(t&&t==="X"?parseFloat(e)/100*n.width:t&&t==="Y"?parseFloat(e)/100*n.height:parseFloat(e)/100*n.width):0}function xd(e){return e.replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function Vt(e){return typeof e>"u"||e==null?"":e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function xn(e){return typeof e=="number"&&e>100?e:(typeof e=="string"&&(e=Number(e.replace(/in*/gi,""))),Math.round(tn*e))}function Yt(e){const t=Number(e)||0;return isNaN(t)?0:Math.round(t*nc)}function Do(e){return e=e||0,Math.round((e>360?e-360:e)*6e4)}function Hu(e){const t=e.toString(16);return t.length===1?"0"+t:t}function Yu(e,t,n){return(Hu(e)+Hu(t)+Hu(n)).toUpperCase()}function Sn(e,t){let n=(e||"").replace("#","");!Gu.test(n)&&n!==vi.background1&&n!==vi.background2&&n!==vi.text1&&n!==vi.text2&&n!==vi.accent1&&n!==vi.accent2&&n!==vi.accent3&&n!==vi.accent4&&n!==vi.accent5&&n!==vi.accent6&&(console.warn(`"${n}" is not a valid scheme color or hex RGB! "${ai}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),n=ai);const i=Gu.test(n)?"srgbClr":"schemeClr",r='val="'+(Gu.test(n)?n.toUpperCase():n)+'"';return t?`<a:${i} ${r}>${t}</a:${i}>`:`<a:${i} ${r}/>`}function tL(e,t){let n="";const i=Object.assign(Object.assign({},t),e),r=Math.round(i.size*nc),a=i.color,l=Math.round(i.opacity*1e5);return n+=`<a:glow rad="${r}">`,n+=Sn(a,`<a:alpha val="${l}"/>`),n+="</a:glow>",n}function Si(e){let t="solid",n="",i="",r="";return e&&(typeof e=="string"?n=e:(e.type&&(t=e.type),e.color&&(n=e.color),e.alpha&&(i+=`<a:alpha val="${Math.round((100-e.alpha)*1e3)}"/>`),e.transparency&&(i+=`<a:alpha val="${Math.round((100-e.transparency)*1e3)}"/>`)),t==="solid"?r+=`<a:solidFill>${Sn(n,i)}</a:solidFill>`:r+=""),r}function Ma(e){return e._rels.length+e._relsChart.length+e._relsMedia.length+1}function Dp(e){if(!(!e||typeof e!="object"))return e.type!=="outer"&&e.type!=="inner"&&e.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),e.type="outer"),e.angle&&((isNaN(Number(e.angle))||e.angle<0||e.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),e.angle=270),e.angle=Math.round(Number(e.angle))),e.opacity&&((isNaN(Number(e.opacity))||e.opacity<0||e.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),e.opacity=.75),e.opacity=Number(e.opacity)),e.color&&e.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),e.color=e.color.replace("#","")),e}function nL(e,t,n){var i,r;const a=2.3+(!((i=e.options)===null||i===void 0)&&i.autoPageCharWeight?e.options.autoPageCharWeight:0),l=Math.floor(t/nc*tn)/((!((r=e.options)===null||r===void 0)&&r.fontSize?e.options.fontSize:Ti)/a),o=[];let c=[];const s=[],d=[];e.text&&e.text.toString().trim().length===0?c.push({_type:Kt.tablecell,text:" "}):typeof e.text=="number"||typeof e.text=="string"?c.push({_type:Kt.tablecell,text:(e.text||"").toString().trim()}):Array.isArray(e.text)&&(c=e.text);let u=[];return c.forEach(f=>{var h;typeof f.text=="string"&&(f.text.split(`
`).length>1?f.text.split(`
`).forEach(g=>{u.push({_type:Kt.tablecell,text:g,options:Object.assign(Object.assign({},f.options),{breakLine:!0})})}):u.push({_type:Kt.tablecell,text:f.text.trim(),options:f.options}),!((h=f.options)===null||h===void 0)&&h.breakLine&&(s.push(u),u=[])),u.length>0&&(s.push(u),u=[])}),s.forEach(f=>{f.forEach(h=>{const g=[],y=String(h.text).split(" ");y.forEach((A,v)=>{const x=Object.assign({},h.options);x?.breakLine&&(x.breakLine=v+1===y.length),g.push({_type:Kt.tablecell,text:A+(v+1<y.length?" ":""),options:x})}),d.push(g)})}),d.forEach(f=>{let h=[],g="";f.forEach(p=>{g.length+p.text.length>l&&(o.push(h),h=[],g=""),h.push(p),g+=p.text.toString()}),h.length>0&&o.push(h)}),o}function pm(e=[],t={},n,i){let r=Rl,a=tn*1,l=tn*1,o=0,c=0;const s=[],d=gn(t.x,"X",n),u=gn(t.y,"Y",n),f=gn(t.w,"X",n),h=gn(t.h,"Y",n);let g=f;function p(){let A=0;s.length===0&&(A=u||xn(r[0])),s.length>0&&(A=xn(t.autoPageSlideStartY||t.newSlideStartY||r[0])),l=(h||n.height)-A-xn(r[2]),s.length>1&&(typeof t.autoPageSlideStartY=="number"?l=(h||n.height)-xn(t.autoPageSlideStartY+r[2]):typeof t.newSlideStartY=="number"?l=(h||n.height)-xn(t.newSlideStartY+r[2]):u&&(l=(h||n.height)-xn((u/tn<r[0]?u/tn:r[0])+r[2]),l<h&&(l=h)))}if(t.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(n.width/tn).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(n.height/tn).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof t.x=="number"?(t.x/tn).toFixed(1):t.x}`),console.log(`| tableProps.y .................................... = ${typeof t.y=="number"?(t.y/tn).toFixed(1):t.y}`),console.log(`| tableProps.w .................................... = ${typeof t.w=="number"?(t.w/tn).toFixed(1):t.w}`),console.log(`| tableProps.h .................................... = ${typeof t.h=="number"?(t.h/tn).toFixed(1):t.h}`),console.log(`| tableProps.slideMargin .......................... = ${t.slideMargin?String(t.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(t.margin)}`),console.log(`| tableProps.colW ................................. = ${String(t.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${t.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${t.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${d/tn}`),console.log(`| tablePropY ...................................... = ${u/tn}`),console.log(`| tablePropW ...................................... = ${f/tn}`),console.log(`| tablePropH ...................................... = ${h/tn}`),console.log(`| tableCalcW ...................................... = ${g/tn}`)),!t.slideMargin&&t.slideMargin!==0&&(t.slideMargin=Rl[0]),i&&typeof i._margin<"u"?Array.isArray(i._margin)?r=i._margin:isNaN(Number(i._margin))||(r=[Number(i._margin),Number(i._margin),Number(i._margin),Number(i._margin)]):(t.slideMargin||t.slideMargin===0)&&(Array.isArray(t.slideMargin)?r=t.slideMargin:isNaN(t.slideMargin)||(r=[t.slideMargin,t.slideMargin,t.slideMargin,t.slideMargin])),t.verbose&&console.log(`| arrInchMargins .................................. = [${r.join(", ")}]`),(e[0]||[]).forEach(v=>{v||(v={_type:Kt.tablecell});const x=v.options||null;c+=Number(x?.colspan?x.colspan:1)}),t.verbose&&console.log(`| numCols ......................................... = ${c}`),!f&&t.colW&&(g=Array.isArray(t.colW)?t.colW.reduce((A,v)=>A+v)*tn:t.colW*c||0,t.verbose&&console.log(`| tableCalcW ...................................... = ${g/tn}`)),a=g||xn((d?d/tn:r[1])+r[3]),t.verbose&&console.log(`| emuSlideTabW .................................... = ${(a/tn).toFixed(1)}`),!t.colW||!Array.isArray(t.colW))if(t.colW&&!isNaN(Number(t.colW))){const A=[];(e[0]||[]).forEach(()=>A.push(t.colW)),t.colW=[],A.forEach(x=>{Array.isArray(t.colW)&&t.colW.push(x)})}else{t.colW=[];for(let A=0;A<c;A++)t.colW.push(a/tn/c)}let y={rows:[]};return e.forEach((A,v)=>{const x=[];let C=0,_=0,F=[];A.forEach(q=>{var R,P,D,k;F.push({_type:Kt.tablecell,text:[],options:q.options}),q.options.margin&&q.options.margin[0]>=1?(!((R=q.options)===null||R===void 0)&&R.margin&&q.options.margin[0]&&Yt(q.options.margin[0])>C?C=Yt(q.options.margin[0]):t?.margin&&t.margin[0]&&Yt(t.margin[0])>C&&(C=Yt(t.margin[0])),!((P=q.options)===null||P===void 0)&&P.margin&&q.options.margin[2]&&Yt(q.options.margin[2])>_?_=Yt(q.options.margin[2]):t?.margin&&t.margin[2]&&Yt(t.margin[2])>_&&(_=Yt(t.margin[2]))):(!((D=q.options)===null||D===void 0)&&D.margin&&q.options.margin[0]&&xn(q.options.margin[0])>C?C=xn(q.options.margin[0]):t?.margin&&t.margin[0]&&xn(t.margin[0])>C&&(C=xn(t.margin[0])),!((k=q.options)===null||k===void 0)&&k.margin&&q.options.margin[2]&&xn(q.options.margin[2])>_?_=xn(q.options.margin[2]):t?.margin&&t.margin[2]&&xn(t.margin[2])>_&&(_=xn(t.margin[2])))}),p(),o+=C+_,t.verbose&&v===0&&console.log(`| SLIDE [${s.length}]: emuSlideTabH ...... = ${(l/tn).toFixed(1)} `),A.forEach((q,R)=>{var P;const D={_type:Kt.tablecell,_lines:null,_lineHeight:xn((!((P=q.options)===null||P===void 0)&&P.fontSize?q.options.fontSize:t.fontSize?t.fontSize:Ti)*(V8+(t.autoPageLineWeight?t.autoPageLineWeight:0))/100),text:[],options:q.options};D.options.rowspan&&(D._lineHeight=0),D.options.autoPageCharWeight=t.autoPageCharWeight?t.autoPageCharWeight:null;let k=t.colW[R];q.options.colspan&&Array.isArray(t.colW)&&(k=t.colW.filter((U,ce)=>ce>=R&&ce<ce+q.options.colspan).reduce((U,ce)=>U+ce)),D._lines=nL(q,k),x.push(D)}),t.verbose&&console.log(`
| SLIDE [${s.length}]: ROW [${v}]: START...`);let O=0,E=0,I=!1;for(;!I;){const q=x[O];let R=F[O];x.forEach(k=>{k._lineHeight>=E&&(E=k._lineHeight)}),o+E>l&&(t.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(o/tn).toFixed(2)} + ${(q._lineHeight/tn).toFixed(2)} > ${l/tn}`),console.log(`|-----------------------------------------------------------------------|

`)),F.length>0&&F.map(U=>U.text.length).reduce((U,ce)=>U+ce)>0&&y.rows.push(F),s.push(y),y={rows:[]},F=[],A.forEach(U=>F.push({_type:Kt.tablecell,text:[],options:U.options})),p(),o+=C+_,t.verbose&&console.log(`| SLIDE [${s.length}]: emuSlideTabH ...... = ${(l/tn).toFixed(1)} `),o=0,(t.addHeaderToEach||t.autoPageRepeatHeader)&&t._arrObjTabHeadRows&&t._arrObjTabHeadRows.forEach(U=>{const ce=[];let Q=0;U.forEach(ae=>{ce.push(ae),ae._lineHeight>Q&&(Q=ae._lineHeight)}),y.rows.push(ce),o+=Q}),R=F[O]);const P=q._lines.shift();Array.isArray(R.text)&&(P?R.text=R.text.concat(P):R.text.length===0&&(R.text=R.text.concat({_type:Kt.tablecell,text:""}))),O===x.length-1&&(o+=E),O=O<x.length-1?O+1:0,x.map(k=>k._lines.length).reduce((k,U)=>k+U)===0&&(I=!0)}F.length>0&&y.rows.push(F),t.verbose&&console.log(`- SLIDE [${s.length}]: ROW [${v}]: ...COMPLETE ...... emuTabCurrH = ${(o/tn).toFixed(2)} ( emuSlideTabH = ${(l/tn).toFixed(2)} )`)}),s.push(y),t.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${s.length}`),s.forEach(A=>console.log(A)),console.log(`|================================================|

`)),s}function rL(e,t,n={},i){const r=n||{};r.slideMargin=r.slideMargin||r.slideMargin===0?r.slideMargin:.5;let a=r.w||e.presLayout.width;const l=[],o=[],c=[],s=[],d=[];let u=[.5,.5,.5,.5],f=0;if(!document.getElementById(t))throw new Error('tableToSlides: Table ID "'+t+'" does not exist!');i?._margin?(Array.isArray(i._margin)?u=i._margin:isNaN(i._margin)||(u=[i._margin,i._margin,i._margin,i._margin]),r.slideMargin=u):r?.slideMargin&&(Array.isArray(r.slideMargin)?u=r.slideMargin:isNaN(r.slideMargin)||(u=[r.slideMargin,r.slideMargin,r.slideMargin,r.slideMargin])),a=(r.w?xn(r.w):e.presLayout.width)-xn(u[1]+u[3]),r.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${r.h}`),console.log(`| tableProps.w .................................... = ${r.w}`),console.log(`| pptx.presLayout.width ........................... = ${(e.presLayout.width/tn).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(e.presLayout.height/tn).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(a/tn).toFixed(1)}`));let h=document.querySelectorAll(`#${t} tr:first-child th`);h.length===0&&(h=document.querySelectorAll(`#${t} tr:first-child td`)),h.forEach(p=>{const y=p;if(y.getAttribute("colspan"))for(let A=0;A<Number(y.getAttribute("colspan"));A++)d.push(Math.round(y.offsetWidth/Number(y.getAttribute("colspan"))));else d.push(y.offsetWidth)}),d.forEach(p=>{f+=p}),d.forEach((p,y)=>{const A=Number((Number(a)*(p/f*100)/100/tn).toFixed(2));let v=0;const x=document.querySelector(`#${t} thead tr:first-child th:nth-child(${y+1})`);x&&(v=Number(x.getAttribute("data-pptx-min-width")));const C=document.querySelector(`#${t} thead tr:first-child th:nth-child(${y+1})`);C&&(v=Number(C.getAttribute("data-pptx-width"))),s.push(v>A?v:A)}),r.verbose&&console.log(`| arrColW ......................................... = [${s.join(", ")}]`),["thead","tbody","tfoot"].forEach(p=>{document.querySelectorAll(`#${t} ${p} tr`).forEach(y=>{const A=y,v=[];switch(Array.from(A.cells).forEach(x=>{const C=window.getComputedStyle(x).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let _=window.getComputedStyle(x).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(x).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(x).getPropertyValue("transparent"))&&(_=["255","255","255"]);const F={align:null,bold:window.getComputedStyle(x).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(x).getPropertyValue("font-weight"))>=500,border:null,color:Yu(Number(C[0]),Number(C[1]),Number(C[2])),fill:{color:Yu(Number(_[0]),Number(_[1]),Number(_[2]))},fontFace:(window.getComputedStyle(x).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(x).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(x.getAttribute("colspan"))||null,rowspan:Number(x.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(x).getPropertyValue("text-align"))){const O=window.getComputedStyle(x).getPropertyValue("text-align").replace("start","left").replace("end","right");F.align=O==="center"?"center":O==="left"?"left":O==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(x).getPropertyValue("vertical-align"))){const O=window.getComputedStyle(x).getPropertyValue("vertical-align");F.valign=O==="top"?"top":O==="middle"?"middle":O==="bottom"?"bottom":null}window.getComputedStyle(x).getPropertyValue("padding-left")&&(F.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((E,I)=>{F.margin[I]=Math.round(Number(window.getComputedStyle(x).getPropertyValue(E).replace(/\D/gi,"")))})),(window.getComputedStyle(x).getPropertyValue("border-top-width")||window.getComputedStyle(x).getPropertyValue("border-right-width")||window.getComputedStyle(x).getPropertyValue("border-bottom-width")||window.getComputedStyle(x).getPropertyValue("border-left-width"))&&(F.border=[null,null,null,null],["top","right","bottom","left"].forEach((E,I)=>{const q=Math.round(Number(window.getComputedStyle(x).getPropertyValue("border-"+E+"-width").replace("px","")));let R=[];R=window.getComputedStyle(x).getPropertyValue("border-"+E+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const P=Yu(Number(R[0]),Number(R[1]),Number(R[2]));F.border[I]={pt:q,color:P}})),v.push({_type:Kt.tablecell,text:x.innerText,options:F})}),p){case"thead":l.push(v);break;case"tbody":o.push(v);break;case"tfoot":c.push(v);break;default:console.log(`table parsing: unexpected table part: ${p}`);break}})}),r._arrObjTabHeadRows=l||null,r.colW=s,pm([...l,...o,...c],r,e.presLayout,i).forEach((p,y)=>{const A=e.addSlide({masterName:r.masterSlideName||null});y===0&&(r.y=r.y||u[0]),y>0&&(r.y=r.autoPageSlideStartY||r.newSlideStartY||u[0]),r.verbose&&console.log(`| opts.autoPageSlideStartY: ${r.autoPageSlideStartY} / arrInchMargins[0]: ${u[0]} => opts.y = ${r.y}`),A.addTable(p.rows,{x:r.x||u[3],y:r.y,w:Number(a)/tn,colW:s,autoPage:!1}),r.addImage&&(r.addImage.options=r.addImage.options||{},!r.addImage.image||!r.addImage.image.path&&!r.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):A.addImage({path:r.addImage.image.path,data:r.addImage.image.data,x:r.addImage.options.x,y:r.addImage.options.y,w:r.addImage.options.w,h:r.addImage.options.h})),r.addShape&&A.addShape(r.addShape.shapeName,r.addShape.options||{}),r.addTable&&A.addTable(r.addTable.rows,r.addTable.options||{}),r.addText&&A.addText(r.addText.text,r.addText.options||{})})}let iL=0;function aL(e,t){e.bkgd&&(t.bkgd=e.bkgd),e.objects&&Array.isArray(e.objects)&&e.objects.length>0&&e.objects.forEach((n,i)=>{const r=Object.keys(n)[0],a=t;Ja[r]&&r==="chart"?gm(a,n[r].type,n[r].data,n[r].opts):Ja[r]&&r==="image"?Am(a,n[r]):Ja[r]&&r==="line"?qf(a,oo.LINE,n[r]):Ja[r]&&r==="rect"?qf(a,oo.RECTANGLE,n[r]):Ja[r]&&r==="text"?eh(a,[{text:n[r].text}],n[r].options,!1):Ja[r]&&r==="placeholder"&&(n[r].options.placeholder=n[r].options.name,delete n[r].options.name,n[r].options._placeholderType=n[r].options.type,delete n[r].options.type,n[r].options._placeholderIdx=100+i,eh(a,[{text:n[r].text}],n[r].options,!0))}),e.slideNumber&&typeof e.slideNumber=="object"&&(t._slideNumberProps=e.slideNumber)}function gm(e,t,n,i){var r;function a(u){!u||u.style==="none"||(u.size!==void 0&&(isNaN(Number(u.size))||u.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete u.size),u.style&&!["solid","dash","dot"].includes(u.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete u.style),u.cap&&!["flat","square","round"].includes(u.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete u.cap))}const l=++iL,o={_type:null,text:null,options:null,chartRid:null};let c=null,s=[];Array.isArray(t)?(t.forEach(u=>{s=s.concat(u.data)}),c=n||i):(s=n,c=i),s.forEach((u,f)=>{u._dataIndex=f,u.labels!==void 0&&!Array.isArray(u.labels[0])&&(u.labels=[u.labels])});const d=c&&typeof c=="object"?c:{};if(d._type=t,d.x=typeof d.x<"u"&&d.x!=null&&!isNaN(Number(d.x))?d.x:1,d.y=typeof d.y<"u"&&d.y!=null&&!isNaN(Number(d.y))?d.y:1,d.w=d.w||"50%",d.h=d.h||"50%",d.objectName=d.objectName?Vt(d.objectName):`Chart ${e._slideObjects.filter(u=>u._type===Kt.chart).length}`,["bar","col"].includes(d.barDir||"")||(d.barDir="col"),d._type===yt.AREA&&(["stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),d._type===yt.BAR&&(["clustered","stacked","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="clustered")),d._type===yt.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),!((r=d.barGrouping)===null||r===void 0)&&r.includes("tacked")&&(d.barGapWidthPct||(d.barGapWidthPct=50)),d.dataLabelPosition&&((d._type===yt.AREA||d._type===yt.BAR3D||d._type===yt.DOUGHNUT||d._type===yt.RADAR)&&delete d.dataLabelPosition,d._type===yt.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),(d._type===yt.BUBBLE||d._type===yt.BUBBLE3D||d._type===yt.LINE||d._type===yt.SCATTER)&&(["b","ctr","l","r","t"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),d._type===yt.BAR&&(["stacked","percentStacked"].includes(d.barGrouping||"")||["ctr","inBase","inEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition,["clustered"].includes(d.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition)),d.dataLabelBkgrdColors=d.dataLabelBkgrdColors||!d.dataLabelBkgrdColors?d.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(d.legendPos||"")||(d.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(d.bar3DShape||"")||(d.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(d.lineDataSymbol||"")||(d.lineDataSymbol="circle"),["gap","span"].includes(d.displayBlanksAs||"")||(d.displayBlanksAs="span"),["standard","marker","filled"].includes(d.radarStyle||"")||(d.radarStyle="standard"),d.lineDataSymbolSize=d.lineDataSymbolSize&&!isNaN(d.lineDataSymbolSize)?d.lineDataSymbolSize:6,d.lineDataSymbolLineSize=d.lineDataSymbolLineSize&&!isNaN(d.lineDataSymbolLineSize)?Yt(d.lineDataSymbolLineSize):Yt(.75),d.layout&&["x","y","w","h"].forEach(u=>{const f=d.layout[u];(isNaN(Number(f))||f<0||f>1)&&(console.warn("Warning: chart.layout."+u+" can only be 0-1"),delete d.layout[u])}),d.catGridLine=d.catGridLine||(d._type===yt.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),d.valGridLine=d.valGridLine||(d._type===yt.SCATTER?{color:"D9D9D9",size:1}:{}),d.serGridLine=d.serGridLine||(d._type===yt.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),a(d.catGridLine),a(d.valGridLine),a(d.serGridLine),Dp(d.shadow),d.showDataTable=d.showDataTable||!d.showDataTable?d.showDataTable:!1,d.showDataTableHorzBorder=d.showDataTableHorzBorder||!d.showDataTableHorzBorder?d.showDataTableHorzBorder:!0,d.showDataTableVertBorder=d.showDataTableVertBorder||!d.showDataTableVertBorder?d.showDataTableVertBorder:!0,d.showDataTableOutline=d.showDataTableOutline||!d.showDataTableOutline?d.showDataTableOutline:!0,d.showDataTableKeys=d.showDataTableKeys||!d.showDataTableKeys?d.showDataTableKeys:!0,d.showLabel=d.showLabel||!d.showLabel?d.showLabel:!1,d.showLegend=d.showLegend||!d.showLegend?d.showLegend:!1,d.showPercent=d.showPercent||!d.showPercent?d.showPercent:!0,d.showTitle=d.showTitle||!d.showTitle?d.showTitle:!1,d.showValue=d.showValue||!d.showValue?d.showValue:!1,d.showLeaderLines=d.showLeaderLines||!d.showLeaderLines?d.showLeaderLines:!1,d.catAxisLineShow=typeof d.catAxisLineShow<"u"?d.catAxisLineShow:!0,d.valAxisLineShow=typeof d.valAxisLineShow<"u"?d.valAxisLineShow:!0,d.serAxisLineShow=typeof d.serAxisLineShow<"u"?d.serAxisLineShow:!0,d.v3DRotX=!isNaN(d.v3DRotX)&&d.v3DRotX>=-90&&d.v3DRotX<=90?d.v3DRotX:30,d.v3DRotY=!isNaN(d.v3DRotY)&&d.v3DRotY>=0&&d.v3DRotY<=360?d.v3DRotY:30,d.v3DRAngAx=d.v3DRAngAx||!d.v3DRAngAx?d.v3DRAngAx:!0,d.v3DPerspective=!isNaN(d.v3DPerspective)&&d.v3DPerspective>=0&&d.v3DPerspective<=240?d.v3DPerspective:30,d.barGapWidthPct=!isNaN(d.barGapWidthPct)&&d.barGapWidthPct>=0&&d.barGapWidthPct<=1e3?d.barGapWidthPct:150,d.barGapDepthPct=!isNaN(d.barGapDepthPct)&&d.barGapDepthPct>=0&&d.barGapDepthPct<=1e3?d.barGapDepthPct:150,d.chartColors=Array.isArray(d.chartColors)?d.chartColors:d._type===yt.PIE||d._type===yt.DOUGHNUT?Z8:ml,d.chartColorsOpacity=d.chartColorsOpacity&&!isNaN(d.chartColorsOpacity)?d.chartColorsOpacity:null,d.border=d.border&&typeof d.border=="object"?d.border:null,d.border&&(!d.border.pt||isNaN(d.border.pt))&&(d.border.pt=ds.pt),d.border&&(!d.border.color||typeof d.border.color!="string")&&(d.border.color=ds.color),d.plotArea=d.plotArea||{},d.plotArea.border=d.plotArea.border&&typeof d.plotArea.border=="object"?d.plotArea.border:null,d.plotArea.border&&(!d.plotArea.border.pt||isNaN(d.plotArea.border.pt))&&(d.plotArea.border.pt=ds.pt),d.plotArea.border&&(!d.plotArea.border.color||typeof d.plotArea.border.color!="string")&&(d.plotArea.border.color=ds.color),d.border&&(d.plotArea.border=d.border),d.plotArea.fill=d.plotArea.fill||{color:null,transparency:null},d.fill&&(d.plotArea.fill.color=d.fill),d.chartArea=d.chartArea||{},d.chartArea.border=d.chartArea.border&&typeof d.chartArea.border=="object"?d.chartArea.border:null,d.chartArea.border&&(d.chartArea.border={color:d.chartArea.border.color||ds.color,pt:d.chartArea.border.pt||ds.pt}),d.chartArea.roundedCorners=typeof d.chartArea.roundedCorners=="boolean"?d.chartArea.roundedCorners:!0,d.dataBorder=d.dataBorder&&typeof d.dataBorder=="object"?d.dataBorder:null,d.dataBorder&&(!d.dataBorder.pt||isNaN(d.dataBorder.pt))&&(d.dataBorder.pt=.75),d.dataBorder&&d.dataBorder.color){const u=typeof d.dataBorder.color=="string"&&d.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(d.dataBorder.color),f=Object.values(Zd).includes(d.dataBorder.color);!u&&!f&&(d.dataBorder.color="F9F9F9")}return!d.dataLabelFormatCode&&d._type===yt.SCATTER&&(d.dataLabelFormatCode="General"),!d.dataLabelFormatCode&&(d._type===yt.PIE||d._type===yt.DOUGHNUT)&&(d.dataLabelFormatCode=d.showPercent?"0%":"General"),d.dataLabelFormatCode=d.dataLabelFormatCode&&typeof d.dataLabelFormatCode=="string"?d.dataLabelFormatCode:"#,##0",!d.dataLabelFormatScatter&&d._type===yt.SCATTER&&(d.dataLabelFormatScatter="custom"),d.lineSize=typeof d.lineSize=="number"?d.lineSize:2,d.valAxisMajorUnit=typeof d.valAxisMajorUnit=="number"?d.valAxisMajorUnit:null,d._type===yt.AREA||d._type===yt.BAR||d._type===yt.BAR3D||d._type===yt.LINE?d.catAxisMultiLevelLabels=!!d.catAxisMultiLevelLabels:delete d.catAxisMultiLevelLabels,o._type="chart",o.options=d,o.chartRid=Ma(e),e._relsChart.push({rId:Ma(e),data:s,opts:d,type:d._type,globalId:l,fileName:`chart${l}.xml`,Target:`/ppt/charts/chart${l}.xml`}),e._slideObjects.push(o),o}function Am(e,t){const n={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},i=t.x||0,r=t.y||0,a=t.w||0,l=t.h||0,o=t.sizing||null,c=t.hyperlink||"",s=t.data||"",d=t.path||"";let u=Ma(e);const f=t.objectName?Vt(t.objectName):`Image ${e._slideObjects.filter(g=>g._type===Kt.image).length}`;if(!d&&!s)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(d&&typeof d!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(d)}`),null;if(s&&typeof s!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(s)}`),null;if(s&&typeof s=="string"&&!s.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let h=(d.substring(d.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(s&&/image\/(\w+);/.exec(s)&&/image\/(\w+);/.exec(s).length>0?h=/image\/(\w+);/.exec(s)[1]:s?.toLowerCase().includes("image/svg+xml")&&(h="svg"),n._type=Kt.image,n.image=d||"preencoded.png",n.options={x:i||0,y:r||0,w:a||1,h:l||1,altText:t.altText||"",rounding:typeof t.rounding=="boolean"?t.rounding:!1,sizing:o,placeholder:t.placeholder,rotate:t.rotate||0,flipV:t.flipV||!1,flipH:t.flipH||!1,transparency:t.transparency||0,objectName:f,shadow:Dp(t.shadow)},h==="svg")e._relsMedia.push({path:d||s+"png",type:"image/png",extn:"png",data:s||"",rId:u,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:gn(n.options.w,"X",e._presLayout),h:gn(n.options.h,"Y",e._presLayout)}}),n.imageRid=u,e._relsMedia.push({path:d||s,type:"image/svg+xml",extn:h,data:s||"",rId:u+1,Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${h}`}),n.imageRid=u+1;else{const g=e._relsMedia.filter(p=>p.path&&p.path===d&&p.type==="image/"+h&&!p.isDuplicate)[0];e._relsMedia.push({path:d||"preencoded."+h,type:"image/"+h,extn:h,data:s||"",rId:u,isDuplicate:!!g?.Target,Target:g?.Target?g.Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.${h}`}),n.imageRid=u}if(typeof c=="object"){if(!c.url&&!c.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");u++,e._rels.push({type:Kt.hyperlink,data:c.slide?"slide":"dummy",rId:u,Target:c.url||c.slide.toString()}),c._rId=u,n.hyperlink=c}e._slideObjects.push(n)}function oL(e,t){const n=t.x||0,i=t.y||0,r=t.w||2,a=t.h||2,l=t.data||"",o=t.link||"",c=t.path||"",s=t.type||"audio";let d="";const u=t.cover||eL,f=t.objectName?Vt(t.objectName):`Media ${e._slideObjects.filter(g=>g._type===Kt.media).length}`,h={_type:Kt.media};if(!c&&!l&&s!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(l&&!l.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!u.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(s==="online"&&!o)throw new Error("addMedia() error: online videos require `link` value");if(d=t.extn||(l?l.split(";")[0].split("/")[1]:c.split(".").pop())||"mp3",h.mtype=s,h.media=c||"preencoded.mov",h.options={},h.options.x=n,h.options.y=i,h.options.w=r,h.options.h=a,h.options.objectName=f,s==="online"){const g=Ma(e);e._relsMedia.push({path:c||"preencoded"+d,data:"dummy",type:"online",extn:d,rId:g,Target:o}),h.mediaRid=g,e._relsMedia.push({path:"preencoded.png",data:u,type:"image/png",extn:"png",rId:Ma(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}else{const g=e._relsMedia.filter(y=>y.path&&y.path===c&&y.type===s+"/"+d&&!y.isDuplicate)[0],p=Ma(e);e._relsMedia.push({path:c||"preencoded"+d,type:s+"/"+d,extn:d,data:l||"",rId:p,isDuplicate:!!g?.Target,Target:g?.Target?g.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+1}.${d}`}),h.mediaRid=p,e._relsMedia.push({path:c||"preencoded"+d,type:s+"/"+d,extn:d,data:l||"",rId:Ma(e),isDuplicate:!!g?.Target,Target:g?.Target?g.Target:`../media/media-${e._slideNum}-${e._relsMedia.length+0}.${d}`}),e._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:u,rId:Ma(e),Target:`../media/image-${e._slideNum}-${e._relsMedia.length+1}.png`})}e._slideObjects.push(h)}function sL(e,t){e._slideObjects.push({_type:Kt.notes,text:[{text:t}]})}function qf(e,t,n){const i=typeof n=="object"?n:{};i.line=i.line||{type:"none"};const r={_type:Kt.text,shape:t||oo.RECTANGLE,options:i,text:null};if(!t)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const a={type:i.line.type||"solid",color:i.line.color||hm,transparency:i.line.transparency||0,width:i.line.width||1,dashType:i.line.dashType||"solid",beginArrowType:i.line.beginArrowType||null,endArrowType:i.line.endArrowType||null};if(typeof i.line=="object"&&i.line.type!=="none"&&(i.line=a),i.x=i.x||(i.x===0?0:1),i.y=i.y||(i.y===0?0:1),i.w=i.w||(i.w===0?0:1),i.h=i.h||(i.h===0?0:1),i.objectName=i.objectName?Vt(i.objectName):`Shape ${e._slideObjects.filter(l=>l._type===Kt.text).length}`,typeof i.line=="string"){const l=a;l.color=String(i.line),i.line=l}typeof i.lineSize=="number"&&(i.line.width=i.lineSize),typeof i.lineDash=="string"&&(i.line.dashType=i.lineDash),typeof i.lineHead=="string"&&(i.line.beginArrowType=i.lineHead),typeof i.lineTail=="string"&&(i.line.endArrowType=i.lineTail),Ts(e,r),e._slideObjects.push(r)}function lL(e,t,n,i,r,a,l){const o=[e],c=n&&typeof n=="object"?n:{};c.objectName=c.objectName?Vt(c.objectName):`Table ${e._slideObjects.filter(f=>f._type===Kt.table).length}`;{if(t===null||t.length===0||!Array.isArray(t))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!t[0]||!Array.isArray(t[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const s=[];t.forEach(f=>{const h=[];Array.isArray(f)?f.forEach(g=>{const p={_type:Kt.tablecell,text:"",options:typeof g=="object"&&g.options?g.options:{}};typeof g=="string"||typeof g=="number"?p.text=g.toString():g.text&&(typeof g.text=="string"||typeof g.text=="number"?p.text=g.text.toString():g.text&&(p.text=g.text),g.options&&typeof g.options=="object"&&(p.options=g.options)),p.options.border=p.options.border||c.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const y=p.options.border;!Array.isArray(y)&&typeof y=="object"&&(p.options.border=[y,y,y,y]),p.options.border[0]||(p.options.border[0]={type:"none"}),p.options.border[1]||(p.options.border[1]={type:"none"}),p.options.border[2]||(p.options.border[2]={type:"none"}),p.options.border[3]||(p.options.border[3]={type:"none"}),[0,1,2,3].forEach(v=>{p.options.border[v]={type:p.options.border[v].type||cs.type,color:p.options.border[v].color||cs.color,pt:typeof p.options.border[v].pt=="number"?p.options.border[v].pt:cs.pt}}),h.push(p)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(f)),s.push(h)}),c.x=gn(c.x||(c.x===0?0:tn/2),"X",r),c.y=gn(c.y||(c.y===0?0:tn/2),"Y",r),c.h&&(c.h=gn(c.h,"Y",r)),c.fontSize=c.fontSize||Ti,c.margin=c.margin===0||c.margin?c.margin:dm,typeof c.margin=="number"&&(c.margin=[Number(c.margin),Number(c.margin),Number(c.margin),Number(c.margin)]),JSON.stringify({arrRows:s}).indexOf("hyperlink")===-1&&(c.color||(c.color=c.color||ai)),typeof c.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),c.border=null):Array.isArray(c.border)&&[0,1,2,3].forEach(f=>{c.border[f]=c.border[f]?{type:c.border[f].type||cs.type,color:c.border[f].color||cs.color,pt:c.border[f].pt||cs.pt}:{type:"none"}}),c.autoPage=typeof c.autoPage=="boolean"?c.autoPage:!1,c.autoPageRepeatHeader=typeof c.autoPageRepeatHeader=="boolean"?c.autoPageRepeatHeader:!1,c.autoPageHeaderRows=typeof c.autoPageHeaderRows<"u"&&!isNaN(Number(c.autoPageHeaderRows))?Number(c.autoPageHeaderRows):1,c.autoPageLineWeight=typeof c.autoPageLineWeight<"u"&&!isNaN(Number(c.autoPageLineWeight))?Number(c.autoPageLineWeight):0,c.autoPageLineWeight&&(c.autoPageLineWeight>1?c.autoPageLineWeight=1:c.autoPageLineWeight<-1&&(c.autoPageLineWeight=-1));let d=Rl;if(i&&typeof i._margin<"u"&&(Array.isArray(i._margin)?d=i._margin:isNaN(Number(i._margin))||(d=[Number(i._margin),Number(i._margin),Number(i._margin),Number(i._margin)])),c.colW){const f=s[0].reduce((h,g)=>{var p;return!((p=g?.options)===null||p===void 0)&&p.colspan&&typeof g.options.colspan=="number"?h+=g.options.colspan:h+=1,h},0);typeof c.colW=="string"||typeof c.colW=="number"||c.colW&&Array.isArray(c.colW)&&c.colW.length===1&&f>1?(c.w=Math.floor(Number(c.colW)*f),c.colW=null):c.colW&&Array.isArray(c.colW)&&c.colW.length!==f&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),c.colW=null)}else c.w?c.w=gn(c.w,"X",r):c.w=Math.floor(r._sizeW/tn-d[1]-d[3]);c.x&&c.x<20&&(c.x=xn(c.x)),c.y&&c.y<20&&(c.y=xn(c.y)),c.w&&typeof c.w=="number"&&c.w<20&&(c.w=xn(c.w)),c.h&&typeof c.h=="number"&&c.h<20&&(c.h=xn(c.h)),s.forEach(f=>{f.forEach((h,g)=>{typeof h=="number"||typeof h=="string"?f[g]={_type:Kt.tablecell,text:String(f[g]),options:c}:typeof h=="object"&&(typeof h.text=="number"?f[g].text=f[g].text.toString():(typeof h.text>"u"||h.text===null)&&(f[g].text=""),f[g].options=h.options||{},f[g]._type=Kt.tablecell)})});const u=[];return c&&!c.autoPage?(Ts(e,s),e._slideObjects.push({_type:Kt.table,arrTabRows:s,options:Object.assign({},c)})):(c.autoPageRepeatHeader&&(c._arrObjTabHeadRows=s.filter((f,h)=>h<c.autoPageHeaderRows)),pm(s,c,r,i).forEach((f,h)=>{l(e._slideNum+h)||o.push(a({masterName:i?._name||null})),h>0&&(c.y=xn(c.autoPageSlideStartY||c.newSlideStartY||d[0]));{const g=l(e._slideNum+h);c.autoPage=!1,Ts(g,f.rows),g.addTable(f.rows,Object.assign({},c)),h>0&&u.push(g)}})),u}function eh(e,t,n,i){const r={_type:i?Kt.placeholder:Kt.text,shape:n?.shape||oo.RECTANGLE,text:!t||t.length===0?[{text:"",options:null}]:t,options:n||{}};function a(l){{if(l.placeholder||(l.color=l.color||r.options.color||e.color||ai),(l.placeholder||i)&&(l.bullet=l.bullet||!1),l.placeholder&&e._slideLayout&&e._slideLayout._slideObjects){const o=e._slideLayout._slideObjects.filter(c=>c._type==="placeholder"&&c.options&&c.options.placeholder&&c.options.placeholder===l.placeholder)[0];o?.options&&(l=Object.assign(Object.assign({},l),o.options))}if(l.objectName=l.objectName?Vt(l.objectName):`Text ${e._slideObjects.filter(o=>o._type===Kt.text).length}`,l.shape===oo.LINE){const o={type:l.line.type||"solid",color:l.line.color||hm,transparency:l.line.transparency||0,width:l.line.width||1,dashType:l.line.dashType||"solid",beginArrowType:l.line.beginArrowType||null,endArrowType:l.line.endArrowType||null};if(typeof l.line=="object"&&(l.line=o),typeof l.line=="string"){const c=o;typeof l.line=="string"&&(c.color=l.line),l.line=c}typeof l.lineSize=="number"&&(l.line.width=l.lineSize),typeof l.lineDash=="string"&&(l.line.dashType=l.lineDash),typeof l.lineHead=="string"&&(l.line.beginArrowType=l.lineHead),typeof l.lineTail=="string"&&(l.line.endArrowType=l.lineTail)}l.line=l.line||{},l.lineSpacing=l.lineSpacing&&!isNaN(l.lineSpacing)?l.lineSpacing:null,l.lineSpacingMultiple=l.lineSpacingMultiple&&!isNaN(l.lineSpacingMultiple)?l.lineSpacingMultiple:null,l._bodyProp=l._bodyProp||{},l._bodyProp.autoFit=l.autoFit||!1,l._bodyProp.anchor=l.placeholder?null:ws.ctr,l._bodyProp.vert=l.vert||null,l._bodyProp.wrap=typeof l.wrap=="boolean"?l.wrap:!0,(l.inset&&!isNaN(Number(l.inset))||l.inset===0)&&(l._bodyProp.lIns=xn(l.inset),l._bodyProp.rIns=xn(l.inset),l._bodyProp.tIns=xn(l.inset),l._bodyProp.bIns=xn(l.inset)),typeof l.underline=="boolean"&&l.underline===!0&&(l.underline={style:"sng"})}return(l.align||"").toLowerCase().indexOf("c")===0?l._bodyProp.align=bs.center:(l.align||"").toLowerCase().indexOf("l")===0?l._bodyProp.align=bs.left:(l.align||"").toLowerCase().indexOf("r")===0?l._bodyProp.align=bs.right:(l.align||"").toLowerCase().indexOf("j")===0&&(l._bodyProp.align=bs.justify),(l.valign||"").toLowerCase().indexOf("b")===0?l._bodyProp.anchor=ws.b:(l.valign||"").toLowerCase().indexOf("m")===0?l._bodyProp.anchor=ws.ctr:(l.valign||"").toLowerCase().indexOf("t")===0&&(l._bodyProp.anchor=ws.t),Dp(l.shadow),l}r.options=a(r.options),r.text.forEach(l=>l.options=a(l.options||{})),Ts(e,r.text||""),e._slideObjects.push(r)}function cL(e){(e._slideLayout._slideObjects||[]).forEach(t=>{t._type===Kt.placeholder&&e._slideObjects.filter(n=>n.options&&n.options.placeholder===t.options.placeholder).length===0&&eh(e,[{text:""}],t.options,!1)})}function ym(e,t){var n;if(t.bkgd&&(t.background||(t.background={}),typeof t.bkgd=="string"?t.background.color=t.bkgd:(t.bkgd.data&&(t.background.data=t.bkgd.data),t.bkgd.path&&(t.background.path=t.bkgd.path),t.bkgd.src&&(t.background.path=t.bkgd.src))),!((n=t.background)===null||n===void 0)&&n.fill&&(t.background.color=t.background.fill),e&&(e.path||e.data)){e.path=e.path||"preencoded.png";let i=(e.path.split(".").pop()||"png").split("?")[0];i==="jpg"&&(i="jpeg"),t._relsMedia=t._relsMedia||[];const r=t._relsMedia.length+1;t._relsMedia.push({path:e.path,type:Kt.image,extn:i,data:e.data||null,rId:r,Target:`../media/${(t._name||"").replace(/\s+/gi,"-")}-image-${t._relsMedia.length+1}.${i}`}),t._bkgdImgRid=r}}function Ts(e,t,n){let i=[];typeof t=="string"||typeof t=="number"||(Array.isArray(t)?i=t:typeof t=="object"&&(i=[t]),i.forEach((r,a)=>{if(n&&n[a]&&n[a].hyperlink&&(r.options=Object.assign(Object.assign({},r.options),n[a])),Array.isArray(r)){const l=[];r.forEach(o=>{o.options&&!o.text.options&&l.push(o.options)}),Ts(e,r,l)}else if(Array.isArray(r.text))Ts(e,r.text,n&&n[a]?[n[a]]:void 0);else if(r&&typeof r=="object"&&r.options&&r.options.hyperlink&&!r.options.hyperlink._rId)if(typeof r.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!r.options.hyperlink.url&&!r.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const l=Ma(e);e._rels.push({type:Kt.hyperlink,data:r.options.hyperlink.slide?"slide":"dummy",rId:l,Target:Vt(r.options.hyperlink.url)||r.options.hyperlink.slide.toString()}),r.options.hyperlink._rId=l}else r&&typeof r=="object"&&r.options&&r.options.hyperlink&&r.options.hyperlink._rId&&e._rels.filter(l=>l.rId===r.options.hyperlink._rId).length===0&&e._rels.push({type:Kt.hyperlink,data:r.options.hyperlink.slide?"slide":"dummy",rId:r.options.hyperlink._rId,Target:Vt(r.options.hyperlink.url)||r.options.hyperlink.slide.toString()})}))}class dL{constructor(t){var n;this.addSlide=t.addSlide,this.getSlide=t.getSlide,this._name=`Slide ${t.slideNumber}`,this._presLayout=t.presLayout,this._rId=t.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=t.setSlideNum,this._slideId=t.slideId,this._slideLayout=t.slideLayout||null,this._slideNum=t.slideNumber,this._slideObjects=[],this._slideNumberProps=!((n=this._slideLayout)===null||n===void 0)&&n._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(t){this._bkgd=t,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof t=="string"&&(this._background.color=t))}get bkgd(){return this._bkgd}set background(t){this._background=t,t&&ym(t,this)}get background(){return this._background}set color(t){this._color=t}get color(){return this._color}set hidden(t){this._hidden=t}get hidden(){return this._hidden}set slideNumber(t){this._slideNumberProps=t,this._setSlideNum(t)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(t,n,i){const r=i||{};return r._type=t,gm(this,t,n,i),this}addImage(t){return Am(this,t),this}addMedia(t){return oL(this,t),this}addNotes(t){return sL(this,t),this}addShape(t,n){return qf(this,t,n),this}addTable(t,n){return this._newAutoPagedSlides=lL(this,t,n,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(t,n){return eh(this,typeof t=="string"||typeof t=="number"?[{text:t,options:n}]:t,n,!1),this}}function hL(e,t){return wi(this,void 0,void 0,function*(){const n=e.data;return yield new Promise((i,r)=>{var a,l;const o=new cm,c=(n.length-1)*2+1,s=((l=(a=n[0])===null||a===void 0?void 0:a.labels)===null||l===void 0?void 0:l.length)>1;o.folder("_rels"),o.folder("docProps"),o.folder("xl/_rels"),o.folder("xl/tables"),o.folder("xl/theme"),o.folder("xl/worksheets"),o.folder("xl/worksheets/_rels"),o.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),o.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),o.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),o.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),o.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),o.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),o.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),o.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),o.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===yt.BUBBLE||e.opts._type===yt.BUBBLE3D)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${c}" uniqueCount="${c}">`;else if(e.opts._type===yt.SCATTER)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${n.length}" uniqueCount="${n.length}">`;else if(s){let u=n.length;n[0].labels.forEach(f=>u+=f.filter(h=>h&&h!=="").length),d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${u}" uniqueCount="${u}">`,d+="<si><t/></si>"}else{const u=n.length+n[0].labels.length*n[0].labels[0].length+n[0].labels.length,f=n.length+n[0].labels.length*n[0].labels[0].length+1;d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${u}" uniqueCount="${f}">`,d+='<si><t xml:space="preserve"></t></si>'}e.opts._type===yt.BUBBLE||e.opts._type===yt.BUBBLE3D?n.forEach((u,f)=>{f===0?d+="<si><t>X-Axis</t></si>":(d+=`<si><t>${Vt(u.name||`Y-Axis${f}`)}</t></si>`,d+=`<si><t>${Vt(`Size${f}`)}</t></si>`)}):n.forEach(u=>{d+=`<si><t>${Vt((u.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),e.opts._type!==yt.BUBBLE&&e.opts._type!==yt.BUBBLE3D&&e.opts._type!==yt.SCATTER&&n[0].labels.slice().reverse().forEach(u=>{u.filter(f=>f&&f!=="").forEach(f=>{d+=`<si><t>${Vt(f)}</t></si>`})}),d+=`</sst>
`,o.file("xl/sharedStrings.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(e.opts._type===yt.BUBBLE||e.opts._type===yt.BUBBLE3D){d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Bn(c)}${c}" totalsRowShown="0">`,d+=`<tableColumns count="${c}">`;let u=1;n.forEach((f,h)=>{h===0?d+=`<tableColumn id="${h+1}" name="X-Values"/>`:(d+=`<tableColumn id="${h+u}" name="${f.name}"/>`,u++,d+=`<tableColumn id="${h+u}" name="Size${h}"/>`)})}else e.opts._type===yt.SCATTER?(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Bn(n.length)}${n[0].values.length+1}" totalsRowShown="0">`,d+=`<tableColumns count="${n.length}">`,n.forEach((u,f)=>{d+=`<tableColumn id="${f+1}" name="${f===0?"X-Values":"Y-Value "}${f}"/>`})):(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Bn(n.length+n[0].labels.length)}${n[0].labels[0].length+1}'" totalsRowShown="0">`,d+=`<tableColumns count="${n.length+n[0].labels.length}">`,n[0].labels.forEach((u,f)=>{d+=`<tableColumn id="${f+1}" name="Column${f+1}"/>`}),n.forEach((u,f)=>{d+=`<tableColumn id="${f+n[0].labels.length+1}" name="${Vt(u.name)}"/>`}));d+="</tableColumns>",d+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',d+="</table>",o.file("xl/tables/table1.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(d+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',e.opts._type===yt.BUBBLE||e.opts._type===yt.BUBBLE3D?d+=`<dimension ref="A1:${Bn(c)}${n[0].values.length+1}"/>`:e.opts._type===yt.SCATTER?d+=`<dimension ref="A1:${Bn(n.length)}${n[0].values.length+1}"/>`:d+=`<dimension ref="A1:${Bn(n.length+1)}${n[0].values.length+1}"/>`,d+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',d+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',e.opts._type===yt.BUBBLE||e.opts._type===yt.BUBBLE3D){d+="<sheetData>",d+=`<row r="1" spans="1:${c}">`,d+='<c r="A1" t="s"><v>0</v></c>';for(let u=1;u<c;u++)d+=`<c r="${Bn(u+1)}1" t="s"><v>${u}</v></c>`;d+="</row>",n[0].values.forEach((u,f)=>{d+=`<row r="${f+2}" spans="1:${c}">`,d+=`<c r="A${f+2}"><v>${u}</v></c>`;let h=2;for(let g=1;g<n.length;g++)d+=`<c r="${Bn(h)}${f+2}"><v>${n[g].values[f]||""}</v></c>`,h++,d+=`<c r="${Bn(h)}${f+2}"><v>${n[g].sizes[f]||""}</v></c>`,h++;d+="</row>"})}else if(e.opts._type===yt.SCATTER){d+="<sheetData>",d+=`<row r="1" spans="1:${n.length}">`;for(let u=0;u<n.length;u++)d+=`<c r="${Bn(u+1)}1" t="s"><v>${u}</v></c>`;d+="</row>",n[0].values.forEach((u,f)=>{d+=`<row r="${f+2}" spans="1:${n.length}">`,d+=`<c r="A${f+2}"><v>${u}</v></c>`;for(let h=1;h<n.length;h++)d+=`<c r="${Bn(h+1)}${f+2}"><v>${n[h].values[f]||n[h].values[f]===0?n[h].values[f]:""}</v></c>`;d+="</row>"})}else if(d+="<sheetData>",s){d+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`;for(let g=0;g<n[0].labels.length;g++)d+=`<c r="${Bn(g+1)}1" t="s"><v>0</v></c>`;for(let g=n[0].labels.length-1;g<n.length+n[0].labels.length-1;g++)d+=`<c r="${Bn(g+n[0].labels.length)}1" t="s"><v>${g}</v></c>`;d+="</row>";const u=n.length,f=n[0].labels[0].length,h=n[0].labels.length;for(let g=0;g<f;g++){d+=`<row r="${g+2}" spans="1:${u+h}">`;let p=u;const y=n[0].labels.slice().reverse();y.forEach((A,v)=>{if(A[g]){const C=v===0?1:y[v-1].filter(_=>_&&_!=="").length;p+=C,d+=`<c r="${Bn(g+1+v)}${g+2}" t="s"><v>${p}</v></c>`}});for(let A=0;A<u;A++)d+=`<c r="${Bn(h+A+1)}${g+2}"><v>${n[A].values[g]||0}</v></c>`;d+="</row>"}}else{d+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`,n[0].labels.forEach((u,f)=>{d+=`<c r="${Bn(f+1)}1" t="s"><v>0</v></c>`});for(let u=0;u<n.length;u++)d+=`<c r="${Bn(u+1+n[0].labels.length)}1" t="s"><v>${u+1}</v></c>`;d+="</row>",n[0].labels[0].forEach((u,f)=>{d+=`<row r="${f+2}" spans="1:${n.length+n[0].labels.length}">`;for(let h=n[0].labels.length-1;h>=0;h--)d+=`<c r="${Bn(n[0].labels.length-h)}${f+2}" t="s">`,d+=`<v>${n.length+f+1}</v>`,d+="</c>";for(let h=0;h<n.length;h++)d+=`<c r="${Bn(n[0].labels.length+h+1)}${f+2}"><v>${n[h].values[f]||""}</v></c>`;d+="</row>"})}d+="</sheetData>",d+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',d+=`</worksheet>
`,o.file("xl/worksheets/sheet1.xml",d)}o.generateAsync({type:"base64"}).then(d=>{t.file(`ppt/embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx`,d,{base64:!0}),t.file("ppt/charts/_rels/"+e.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${e.globalId}.xlsx"/></Relationships>`),t.file(`ppt/charts/${e.fileName}`,uL(e)),i("")}).catch(d=>{r(d)})})})}function uL(e){var t,n,i,r;let a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',l=!1;if(a+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',a+='<c:date1904 val="0"/>',a+=`<c:roundedCorners val="${e.opts.chartArea.roundedCorners?"1":"0"}"/>`,a+="<c:chart>",e.opts.showTitle?(a+=Nh({title:e.opts.title||"Chart Title",color:e.opts.titleColor,fontFace:e.opts.titleFontFace,fontSize:e.opts.titleFontSize||J8,titleAlign:e.opts.titleAlign,titleBold:e.opts.titleBold,titlePos:e.opts.titlePos,titleRotate:e.opts.titleRotate},e.opts.x,e.opts.y),a+='<c:autoTitleDeleted val="0"/>'):a+='<c:autoTitleDeleted val="1"/>',e.opts._type===yt.BAR3D&&(a+=`<c:view3D><c:rotX val="${e.opts.v3DRotX}"/><c:rotY val="${e.opts.v3DRotY}"/><c:rAngAx val="${e.opts.v3DRAngAx?1:0}"/><c:perspective val="${e.opts.v3DPerspective}"/></c:view3D>`),a+="<c:plotArea>",e.opts.layout?(a+="<c:layout>",a+=" <c:manualLayout>",a+='  <c:layoutTarget val="inner" />',a+='  <c:xMode val="edge" />',a+='  <c:yMode val="edge" />',a+='  <c:x val="'+(e.opts.layout.x||0)+'" />',a+='  <c:y val="'+(e.opts.layout.y||0)+'" />',a+='  <c:w val="'+(e.opts.layout.w||1)+'" />',a+='  <c:h val="'+(e.opts.layout.h||1)+'" />',a+=" </c:manualLayout>",a+="</c:layout>"):a+="<c:layout/>",Array.isArray(e.opts._type)?e.opts._type.forEach(o=>{const c=Object.assign(Object.assign({},e.opts),o.options),s=c.secondaryValAxis?wd:Sa,d=c.secondaryCatAxis?Ff:yl;l=l||c.secondaryValAxis,a+=y1(o.type,o.data,c,s,d)}):a+=y1(e.opts._type,e.data,e.opts,Sa,yl),e.opts._type!==yt.PIE&&e.opts._type!==yt.DOUGHNUT){if(e.opts.valAxes&&e.opts.valAxes.length>1&&!l)throw new Error("Secondary axis must be used by one of the multiple charts");if(e.opts.catAxes){if(!e.opts.valAxes||e.opts.valAxes.length!==e.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");a+=Vu(Object.assign(Object.assign({},e.opts),e.opts.catAxes[0]),yl,Sa)}else a+=Vu(e.opts,yl,Sa);e.opts.valAxes?(a+=Qu(Object.assign(Object.assign({},e.opts),e.opts.valAxes[0]),Sa),e.opts.valAxes[1]&&(a+=Qu(Object.assign(Object.assign({},e.opts),e.opts.valAxes[1]),wd))):(a+=Qu(e.opts,Sa),e.opts._type===yt.BAR3D&&(a+=fL(e.opts,um,Sa))),!((t=e.opts)===null||t===void 0)&&t.catAxes&&(!((n=e.opts)===null||n===void 0)&&n.catAxes[1])&&(a+=Vu(Object.assign(Object.assign({},e.opts),e.opts.catAxes[1]),Ff,wd))}return e.opts.showDataTable&&(a+="<c:dTable>",a+=`  <c:showHorzBorder val="${e.opts.showDataTableHorzBorder?1:0}"/>`,a+=`  <c:showVertBorder val="${e.opts.showDataTableVertBorder?1:0}"/>`,a+=`  <c:showOutline    val="${e.opts.showDataTableOutline?1:0}"/>`,a+=`  <c:showKeys       val="${e.opts.showDataTableKeys?1:0}"/>`,a+="  <c:spPr>",a+="    <a:noFill/>",a+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',a+="    <a:effectLst/>",a+="  </c:spPr>",a+="  <c:txPr>",a+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',a+="   <a:lstStyle/>",a+="   <a:p>",a+='     <a:pPr rtl="0">',a+=`       <a:defRPr sz="${Math.round((e.opts.dataTableFontSize||Ti)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,a+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',a+='         <a:latin typeface="+mn-lt"/>',a+='         <a:ea typeface="+mn-ea"/>',a+='         <a:cs typeface="+mn-cs"/>',a+="       </a:defRPr>",a+="     </a:pPr>",a+='    <a:endParaRPr lang="en-US"/>',a+="   </a:p>",a+=" </c:txPr>",a+="</c:dTable>"),a+="  <c:spPr>",a+=!((i=e.opts.plotArea.fill)===null||i===void 0)&&i.color?Si(e.opts.plotArea.fill):"<a:noFill/>",a+=e.opts.plotArea.border?`<a:ln w="${Yt(e.opts.plotArea.border.pt)}" cap="flat">${Si(e.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",a+="    <a:effectLst/>",a+="  </c:spPr>",a+="</c:plotArea>",e.opts.showLegend&&(a+="<c:legend>",a+='<c:legendPos val="'+e.opts.legendPos+'"/>',a+='<c:overlay val="0"/>',(e.opts.legendFontFace||e.opts.legendFontSize||e.opts.legendColor)&&(a+="<c:txPr>",a+="  <a:bodyPr/>",a+="  <a:lstStyle/>",a+="  <a:p>",a+="    <a:pPr>",a+=e.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(e.opts.legendFontSize)*100)}">`:"<a:defRPr>",e.opts.legendColor&&(a+=Si(e.opts.legendColor)),e.opts.legendFontFace&&(a+='<a:latin typeface="'+e.opts.legendFontFace+'"/>'),e.opts.legendFontFace&&(a+='<a:cs    typeface="'+e.opts.legendFontFace+'"/>'),a+="      </a:defRPr>",a+="    </a:pPr>",a+='    <a:endParaRPr lang="en-US"/>',a+="  </a:p>",a+="</c:txPr>"),a+="</c:legend>"),a+='  <c:plotVisOnly val="1"/>',a+='  <c:dispBlanksAs val="'+e.opts.displayBlanksAs+'"/>',e.opts._type===yt.SCATTER&&(a+='<c:showDLblsOverMax val="1"/>'),a+="</c:chart>",a+="<c:spPr>",a+=!((r=e.opts.chartArea.fill)===null||r===void 0)&&r.color?Si(e.opts.chartArea.fill):"<a:noFill/>",a+=e.opts.chartArea.border?`<a:ln w="${Yt(e.opts.chartArea.border.pt)}" cap="flat">${Si(e.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",a+="  <a:effectLst/>",a+="</c:spPr>",a+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',a+="</c:chartSpace>",a}function y1(e,t,n,i,r,a){let l=-1,o=1,c=null,s="";switch(e){case yt.AREA:case yt.BAR:case yt.BAR3D:case yt.LINE:case yt.RADAR:s+=`<c:${e}Chart>`,e===yt.AREA&&n.barGrouping==="stacked"&&(s+='<c:grouping val="'+n.barGrouping+'"/>'),(e===yt.BAR||e===yt.BAR3D)&&(s+='<c:barDir val="'+n.barDir+'"/>',s+='<c:grouping val="'+(n.barGrouping||"clustered")+'"/>'),e===yt.RADAR&&(s+='<c:radarStyle val="'+n.radarStyle+'"/>'),s+='<c:varyColors val="0"/>',t.forEach(d=>{var u;l++,s+="<c:ser>",s+=`  <c:idx val="${d._dataIndex}"/><c:order val="${d._dataIndex}"/>`,s+="  <c:tx>",s+="    <c:strRef>",s+="      <c:f>Sheet1!$"+Bn(d._dataIndex+d.labels.length+1)+"$1</c:f>",s+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Vt(d.name)+"</c:v></c:pt></c:strCache>",s+="    </c:strRef>",s+="  </c:tx>";const f=n.chartColors?n.chartColors[l%n.chartColors.length]:null;s+="  <c:spPr>",f==="transparent"?s+="<a:noFill/>":n.chartColorsOpacity?s+="<a:solidFill>"+Sn(f,`<a:alpha val="${Math.round(n.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":s+="<a:solidFill>"+Sn(f)+"</a:solidFill>",e===yt.LINE||e===yt.RADAR?n.lineSize===0?s+="<a:ln><a:noFill/></a:ln>":(s+=`<a:ln w="${Yt(n.lineSize)}" cap="${kd(n.lineCap)}"><a:solidFill>${Sn(f)}</a:solidFill>`,s+='<a:prstDash val="'+(n.lineDash||"solid")+'"/><a:round/></a:ln>'):n.dataBorder&&(s+=`<a:ln w="${Yt(n.dataBorder.pt)}" cap="${kd(n.lineCap)}"><a:solidFill>${Sn(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),s+=Lo(n.shadow,Co),s+="  </c:spPr>",s+='  <c:invertIfNegative val="0"/>',e!==yt.RADAR&&(s+="<c:dLbls>",s+=`<c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,n.dataLabelBkgrdColors&&(s+=`<c:spPr><a:solidFill>${Sn(f)}</a:solidFill></c:spPr>`),s+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",s+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Ti)*100)}" u="none">`,s+=`<a:solidFill>${Sn(n.dataLabelColor||ai)}</a:solidFill>`,s+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,s+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(s+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),s+='<c:showLegendKey val="0"/>',s+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,s+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,s+=`<c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,s+="</c:dLbls>"),(e===yt.LINE||e===yt.RADAR)&&(s+="<c:marker>",s+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(s+=`<c:size val="${n.lineDataSymbolSize}"/>`),s+="  <c:spPr>",s+=`    <a:solidFill>${Sn(n.chartColors[d._dataIndex+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):d._dataIndex])}</a:solidFill>`,s+=`    <a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Sn(n.lineDataSymbolLineColor||f)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,s+="    <a:effectLst/>",s+="  </c:spPr>",s+="</c:marker>"),(e===yt.BAR||e===yt.BAR3D)&&t.length===1&&(n.chartColors&&n.chartColors!==ml&&n.chartColors.length>1||!((u=n.invertedColors)===null||u===void 0)&&u.length)&&d.values.forEach((h,g)=>{const p=h<0?n.invertedColors||n.chartColors||ml:n.chartColors||[];s+="  <c:dPt>",s+=`    <c:idx val="${g}"/>`,s+='      <c:invertIfNegative val="0"/>',s+='    <c:bubble3D val="0"/>',s+="    <c:spPr>",n.lineSize===0?s+="<a:ln><a:noFill/></a:ln>":e===yt.BAR?(s+="<a:solidFill>",s+='  <a:srgbClr val="'+p[g%p.length]+'"/>',s+="</a:solidFill>"):(s+="<a:ln>",s+="  <a:solidFill>",s+='   <a:srgbClr val="'+p[g%p.length]+'"/>',s+="  </a:solidFill>",s+="</a:ln>"),s+=Lo(n.shadow,Co),s+="    </c:spPr>",s+="  </c:dPt>"}),s+="<c:cat>",n.catLabelFormatCode?(s+="  <c:numRef>",s+=`    <c:f>Sheet1!$A$2:$A$${d.labels[0].length+1}</c:f>`,s+="    <c:numCache>",s+="      <c:formatCode>"+(n.catLabelFormatCode||"General")+"</c:formatCode>",s+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels[0].forEach((h,g)=>s+=`<c:pt idx="${g}"><c:v>${Vt(h)}</c:v></c:pt>`),s+="    </c:numCache>",s+="  </c:numRef>"):(s+="  <c:multiLvlStrRef>",s+=`    <c:f>Sheet1!$A$2:$${Bn(d.labels.length)}$${d.labels[0].length+1}</c:f>`,s+="    <c:multiLvlStrCache>",s+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels.forEach(h=>{s+="<c:lvl>",h.forEach((g,p)=>s+=`<c:pt idx="${p}"><c:v>${Vt(g)}</c:v></c:pt>`),s+="</c:lvl>"}),s+="    </c:multiLvlStrCache>",s+="  </c:multiLvlStrRef>"),s+="</c:cat>",s+="<c:val>",s+="  <c:numRef>",s+=`<c:f>Sheet1!$${Bn(d._dataIndex+d.labels.length+1)}$2:$${Bn(d._dataIndex+d.labels.length+1)}$${d.labels[0].length+1}</c:f>`,s+="    <c:numCache>",s+="      <c:formatCode>"+(n.valLabelFormatCode||n.dataTableFormatCode||"General")+"</c:formatCode>",s+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.values.forEach((h,g)=>s+=`<c:pt idx="${g}"><c:v>${h||h===0?h:""}</c:v></c:pt>`),s+="    </c:numCache>",s+="  </c:numRef>",s+="</c:val>",e===yt.LINE&&(s+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>'),s+="</c:ser>"}),s+="  <c:dLbls>",s+=`    <c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s+="    <c:txPr>",s+="      <a:bodyPr/>",s+="      <a:lstStyle/>",s+="      <a:p><a:pPr>",s+=`        <a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Ti)*100)}" u="none">`,s+="          <a:solidFill>"+Sn(n.dataLabelColor||ai)+"</a:solidFill>",s+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',s+="        </a:defRPr>",s+="      </a:pPr></a:p>",s+="    </c:txPr>",n.dataLabelPosition&&(s+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),s+='    <c:showLegendKey val="0"/>',s+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',s+='    <c:showCatName val="0"/>',s+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',s+='    <c:showPercent val="0"/>',s+='    <c:showBubbleSize val="0"/>',s+=`    <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,s+="  </c:dLbls>",e===yt.BAR?(s+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,s+=`  <c:overlap val="${(n.barGrouping||"").includes("tacked")?100:n.barOverlapPct?n.barOverlapPct:0}"/>`):e===yt.BAR3D?(s+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,s+=`  <c:gapDepth val="${n.barGapDepthPct}"/>`,s+='  <c:shape val="'+n.bar3DShape+'"/>'):e===yt.LINE&&(s+='  <c:marker val="1"/>'),s+=`<c:axId val="${r}"/><c:axId val="${i}"/><c:axId val="${um}"/>`,s+=`</c:${e}Chart>`;break;case yt.SCATTER:s+="<c:"+e+"Chart>",s+='<c:scatterStyle val="lineMarker"/>',s+='<c:varyColors val="0"/>',l=-1,t.filter((d,u)=>u>0).forEach((d,u)=>{l++,s+="<c:ser>",s+=`  <c:idx val="${u}"/>`,s+=`  <c:order val="${u}"/>`,s+="  <c:tx>",s+="    <c:strRef>",s+=`      <c:f>Sheet1!$${Bn(u+2)}$1</c:f>`,s+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Vt(d.name)+"</c:v></c:pt></c:strCache>",s+="    </c:strRef>",s+="  </c:tx>",s+="  <c:spPr>";{const f=n.chartColors[l%n.chartColors.length];f==="transparent"?s+="<a:noFill/>":n.chartColorsOpacity?s+="<a:solidFill>"+Sn(f,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":s+="<a:solidFill>"+Sn(f)+"</a:solidFill>",n.lineSize===0?s+="<a:ln><a:noFill/></a:ln>":(s+=`<a:ln w="${Yt(n.lineSize)}" cap="${kd(n.lineCap)}"><a:solidFill>${Sn(f)}</a:solidFill>`,s+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),s+=Lo(n.shadow,Co)}if(s+="  </c:spPr>",s+="<c:marker>",s+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(s+=`<c:size val="${n.lineDataSymbolSize}"/>`),s+="<c:spPr>",s+=`<a:solidFill>${Sn(n.chartColors[u+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):u])}</a:solidFill>`,s+=`<a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Sn(n.lineDataSymbolLineColor||n.chartColors[l%n.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,s+="<a:effectLst/>",s+="</c:spPr>",s+="</c:marker>",n.showLabel){const f=xd("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");d.labels[0]&&(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(s+="<c:dLbls>",d.labels[0].forEach((h,g)=>{(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(s+="  <c:dLbl>",s+=`    <c:idx val="${g}"/>`,s+="    <c:tx>",s+="      <c:rich>",s+="            <a:bodyPr>",s+="                <a:spAutoFit/>",s+="            </a:bodyPr>",s+="            <a:lstStyle/>",s+="            <a:p>",s+="                <a:pPr>",s+="                    <a:defRPr/>",s+="                </a:pPr>",s+="              <a:r>",s+='                    <a:rPr lang="'+(n.lang||"en-US")+'" dirty="0"/>',s+="                    <a:t>"+Vt(h)+"</a:t>",s+="              </a:r>",n.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(h)&&(s+="              <a:r>",s+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',s+="                  <a:t> (</a:t>",s+="              </a:r>",s+='              <a:fld id="{'+xd("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',s+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',s+="                  <a:pPr>",s+="                      <a:defRPr/>",s+="                  </a:pPr>",s+="                  <a:t>["+Vt(d.name)+"</a:t>",s+="              </a:fld>",s+="              <a:r>",s+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',s+="                  <a:t>, </a:t>",s+="              </a:r>",s+='              <a:fld id="{'+xd("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',s+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',s+="                  <a:pPr>",s+="                      <a:defRPr/>",s+="                  </a:pPr>",s+="                  <a:t>["+Vt(d.name)+"]</a:t>",s+="              </a:fld>",s+="              <a:r>",s+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',s+="                  <a:t>)</a:t>",s+="              </a:r>",s+='              <a:endParaRPr lang="'+(n.lang||"en-US")+'" dirty="0"/>'),s+="            </a:p>",s+="      </c:rich>",s+="    </c:tx>",s+="    <c:spPr>",s+="        <a:noFill/>",s+="        <a:ln>",s+="            <a:noFill/>",s+="        </a:ln>",s+="        <a:effectLst/>",s+="    </c:spPr>",n.dataLabelPosition&&(s+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),s+='    <c:showLegendKey val="0"/>',s+='    <c:showVal val="0"/>',s+='    <c:showCatName val="0"/>',s+='    <c:showSerName val="0"/>',s+='    <c:showPercent val="0"/>',s+='    <c:showBubbleSize val="0"/>',s+='       <c:showLeaderLines val="1"/>',s+="    <c:extLst>",s+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',s+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',s+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(g+1).toString().length).toString()}${g+1}${f}}"/>`,s+="      </c:ext>",s+="        </c:extLst>",s+="</c:dLbl>")}),s+="</c:dLbls>"),n.dataLabelFormatScatter==="XY"&&(s+="<c:dLbls>",s+="    <c:spPr>",s+="        <a:noFill/>",s+="        <a:ln>",s+="            <a:noFill/>",s+="        </a:ln>",s+="          <a:effectLst/>",s+="    </c:spPr>",s+="    <c:txPr>",s+="        <a:bodyPr>",s+="            <a:spAutoFit/>",s+="        </a:bodyPr>",s+="        <a:lstStyle/>",s+="        <a:p>",s+="            <a:pPr>",s+="                <a:defRPr/>",s+="            </a:pPr>",s+='            <a:endParaRPr lang="en-US"/>',s+="        </a:p>",s+="    </c:txPr>",n.dataLabelPosition&&(s+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),s+='    <c:showLegendKey val="0"/>',s+=` <c:showVal val="${n.showLabel?"1":"0"}"/>`,s+=` <c:showCatName val="${n.showLabel?"1":"0"}"/>`,s+=` <c:showSerName val="${n.showSerName?"1":"0"}"/>`,s+='    <c:showPercent val="0"/>',s+='    <c:showBubbleSize val="0"/>',s+="    <c:extLst>",s+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',s+='            <c15:showLeaderLines val="1"/>',s+="        </c:ext>",s+="    </c:extLst>",s+="</c:dLbls>")}t.length===1&&n.chartColors!==ml&&d.values.forEach((f,h)=>{const g=f<0?n.invertedColors||n.chartColors||ml:n.chartColors||[];s+="  <c:dPt>",s+=`    <c:idx val="${h}"/>`,s+='      <c:invertIfNegative val="0"/>',s+='    <c:bubble3D val="0"/>',s+="    <c:spPr>",n.lineSize===0?s+="<a:ln><a:noFill/></a:ln>":(s+="<a:solidFill>",s+=' <a:srgbClr val="'+g[h%g.length]+'"/>',s+="</a:solidFill>"),s+=Lo(n.shadow,Co),s+="    </c:spPr>",s+="  </c:dPt>"}),s+="<c:xVal>",s+="  <c:numRef>",s+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,s+="    <c:numCache>",s+="      <c:formatCode>General</c:formatCode>",s+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{s+=`<c:pt idx="${h}"><c:v>${f||f===0?f:""}</c:v></c:pt>`}),s+="    </c:numCache>",s+="  </c:numRef>",s+="</c:xVal>",s+="<c:yVal>",s+="  <c:numRef>",s+=`    <c:f>Sheet1!$${Bn(u+2)}$2:$${Bn(u+2)}$${t[0].values.length+1}</c:f>`,s+="    <c:numCache>",s+="      <c:formatCode>General</c:formatCode>",s+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{s+=`<c:pt idx="${h}"><c:v>${d.values[h]||d.values[h]===0?d.values[h]:""}</c:v></c:pt>`}),s+="    </c:numCache>",s+="  </c:numRef>",s+="</c:yVal>",s+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>',s+="</c:ser>"}),s+="  <c:dLbls>",s+=`    <c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s+="    <c:txPr>",s+="      <a:bodyPr/>",s+="      <a:lstStyle/>",s+="      <a:p><a:pPr>",s+=`        <a:defRPr b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Ti)*100)}" u="none">`,s+="          <a:solidFill>"+Sn(n.dataLabelColor||ai)+"</a:solidFill>",s+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',s+="        </a:defRPr>",s+="      </a:pPr></a:p>",s+="    </c:txPr>",n.dataLabelPosition&&(s+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),s+='    <c:showLegendKey val="0"/>',s+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',s+='    <c:showCatName val="0"/>',s+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',s+='    <c:showPercent val="0"/>',s+='    <c:showBubbleSize val="0"/>',s+="  </c:dLbls>",s+=`<c:axId val="${r}"/><c:axId val="${i}"/>`,s+="</c:"+e+"Chart>";break;case yt.BUBBLE:case yt.BUBBLE3D:s+="<c:bubbleChart>",s+='<c:varyColors val="0"/>',l=-1,t.filter((d,u)=>u>0).forEach((d,u)=>{l++,s+="<c:ser>",s+=`  <c:idx val="${u}"/>`,s+=`  <c:order val="${u}"/>`,s+="  <c:tx>",s+="    <c:strRef>",s+="      <c:f>Sheet1!$"+Bn(o+1)+"$1</c:f>",s+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Vt(d.name)+"</c:v></c:pt></c:strCache>",s+="    </c:strRef>",s+="  </c:tx>";{s+="<c:spPr>";const f=n.chartColors[l%n.chartColors.length];f==="transparent"?s+="<a:noFill/>":n.chartColorsOpacity?s+=`<a:solidFill>${Sn(f,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:s+="<a:solidFill>"+Sn(f)+"</a:solidFill>",n.lineSize===0?s+="<a:ln><a:noFill/></a:ln>":n.dataBorder?s+=`<a:ln w="${Yt(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Sn(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(s+=`<a:ln w="${Yt(n.lineSize)}" cap="flat"><a:solidFill>${Sn(f)}</a:solidFill>`,s+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),s+=Lo(n.shadow,Co),s+="</c:spPr>"}s+="<c:xVal>",s+="  <c:numRef>",s+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,s+="    <c:numCache>",s+="      <c:formatCode>General</c:formatCode>",s+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{s+=`<c:pt idx="${h}"><c:v>${f||f===0?f:""}</c:v></c:pt>`}),s+="    </c:numCache>",s+="  </c:numRef>",s+="</c:xVal>",s+="<c:yVal>",s+="  <c:numRef>",s+=`<c:f>Sheet1!$${Bn(o+1)}$2:$${Bn(o+1)}$${t[0].values.length+1}</c:f>`,o++,s+="    <c:numCache>",s+="      <c:formatCode>General</c:formatCode>",s+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{s+=`<c:pt idx="${h}"><c:v>${d.values[h]||d.values[h]===0?d.values[h]:""}</c:v></c:pt>`}),s+="    </c:numCache>",s+="  </c:numRef>",s+="</c:yVal>",s+="  <c:bubbleSize>",s+="    <c:numRef>",s+=`<c:f>Sheet1!$${Bn(o+1)}$2:$${Bn(o+1)}$${d.sizes.length+1}</c:f>`,o++,s+="      <c:numCache>",s+="        <c:formatCode>General</c:formatCode>",s+=`           <c:ptCount val="${d.sizes.length}"/>`,d.sizes.forEach((f,h)=>{s+=`<c:pt idx="${h}"><c:v>${f||""}</c:v></c:pt>`}),s+="      </c:numCache>",s+="    </c:numRef>",s+="  </c:bubbleSize>",s+='  <c:bubble3D val="'+(e===yt.BUBBLE3D?"1":"0")+'"/>',s+="</c:ser>"}),s+="<c:dLbls>",s+=`<c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",s+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(n.dataLabelFontSize||Ti)*100)}" u="none">`,s+=`<a:solidFill>${Sn(n.dataLabelColor||ai)}</a:solidFill>`,s+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,s+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(s+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),s+='<c:showLegendKey val="0"/>',s+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,s+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,s+="<c:extLst>",s+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',s+='    <c15:showLeaderLines val="'+(n.showLeaderLines?"1":"0")+'"/>',s+="  </c:ext>",s+="</c:extLst>",s+="</c:dLbls>",s+=`<c:axId val="${r}"/><c:axId val="${i}"/>`,s+="</c:bubbleChart>";break;case yt.DOUGHNUT:case yt.PIE:c=t[0],s+="<c:"+e+"Chart>",s+='  <c:varyColors val="1"/>',s+="<c:ser>",s+='  <c:idx val="0"/>',s+='  <c:order val="0"/>',s+="  <c:tx>",s+="    <c:strRef>",s+="      <c:f>Sheet1!$B$1</c:f>",s+="      <c:strCache>",s+='        <c:ptCount val="1"/>',s+='        <c:pt idx="0"><c:v>'+Vt(c.name)+"</c:v></c:pt>",s+="      </c:strCache>",s+="    </c:strRef>",s+="  </c:tx>",s+="  <c:spPr>",s+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',s+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',n.dataNoEffects?s+="<a:effectLst/>":s+=Lo(n.shadow,Co),s+="  </c:spPr>",c.labels[0].forEach((d,u)=>{s+="<c:dPt>",s+=` <c:idx val="${u}"/>`,s+=' <c:bubble3D val="0"/>',s+=" <c:spPr>",s+=`<a:solidFill>${Sn(n.chartColors[u+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):u])}</a:solidFill>`,n.dataBorder&&(s+=`<a:ln w="${Yt(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Sn(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),s+=Lo(n.shadow,Co),s+="  </c:spPr>",s+="</c:dPt>"}),s+="<c:dLbls>",c.labels[0].forEach((d,u)=>{s+="<c:dLbl>",s+=` <c:idx val="${u}"/>`,s+=`  <c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s+="  <c:spPr/><c:txPr>",s+="   <a:bodyPr/><a:lstStyle/>",s+="   <a:p><a:pPr>",s+=`   <a:defRPr sz="${Math.round((n.dataLabelFontSize||Ti)*100)}" b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,s+="    <a:solidFill>"+Sn(n.dataLabelColor||ai)+"</a:solidFill>",s+=`    <a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,s+="   </a:defRPr>",s+="      </a:pPr></a:p>",s+="    </c:txPr>",e===yt.PIE&&n.dataLabelPosition&&(s+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),s+='    <c:showLegendKey val="0"/>',s+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',s+='    <c:showCatName val="'+(n.showLabel?"1":"0")+'"/>',s+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',s+='    <c:showPercent val="'+(n.showPercent?"1":"0")+'"/>',s+='    <c:showBubbleSize val="0"/>',s+="  </c:dLbl>"}),s+=` <c:numFmt formatCode="${Vt(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,s+="    <c:txPr>",s+="      <a:bodyPr/>",s+="      <a:lstStyle/>",s+="      <a:p>",s+="        <a:pPr>",s+=`          <a:defRPr sz="1800" b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,s+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',s+="          </a:defRPr>",s+="        </a:pPr>",s+="      </a:p>",s+="    </c:txPr>",s+=e===yt.PIE?'<c:dLblPos val="ctr"/>':"",s+='    <c:showLegendKey val="0"/>',s+='    <c:showVal val="0"/>',s+='    <c:showCatName val="1"/>',s+='    <c:showSerName val="0"/>',s+='    <c:showPercent val="1"/>',s+='    <c:showBubbleSize val="0"/>',s+=` <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,s+="</c:dLbls>",s+="<c:cat>",s+="  <c:strRef>",s+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,s+="    <c:strCache>",s+=`         <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((d,u)=>{s+=`<c:pt idx="${u}"><c:v>${Vt(d)}</c:v></c:pt>`}),s+="    </c:strCache>",s+="  </c:strRef>",s+="</c:cat>",s+="  <c:val>",s+="    <c:numRef>",s+=`      <c:f>Sheet1!$B$2:$B$${c.labels[0].length+1}</c:f>`,s+="      <c:numCache>",s+=`           <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((d,u)=>{s+=`<c:pt idx="${u}"><c:v>${d||d===0?d:""}</c:v></c:pt>`}),s+="      </c:numCache>",s+="    </c:numRef>",s+="  </c:val>",s+="  </c:ser>",s+=`  <c:firstSliceAng val="${n.firstSliceAng?Math.round(n.firstSliceAng):0}"/>`,e===yt.DOUGHNUT&&(s+=`<c:holeSize val="${typeof n.holeSize=="number"?n.holeSize:"50"}"/>`),s+="</c:"+e+"Chart>";break;default:s+="";break}return s}function Vu(e,t,n){let i="";return e._type===yt.SCATTER||e._type===yt.BUBBLE||e._type===yt.BUBBLE3D?i+="<c:valAx>":i+="<c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",i+='  <c:axId val="'+t+'"/>',i+="  <c:scaling>",i+='<c:orientation val="'+(e.catAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.catAxisMaxVal||e.catAxisMaxVal===0)&&(i+=`<c:max val="${e.catAxisMaxVal}"/>`),(e.catAxisMinVal||e.catAxisMinVal===0)&&(i+=`<c:min val="${e.catAxisMinVal}"/>`),i+="</c:scaling>",i+='  <c:delete val="'+(e.catAxisHidden?"1":"0")+'"/>',i+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',i+=e.catGridLine.style!=="none"?Ep(e.catGridLine):"",e.showCatAxisTitle&&(i+=Nh({color:e.catAxisTitleColor,fontFace:e.catAxisTitleFontFace,fontSize:e.catAxisTitleFontSize,titleRotate:e.catAxisTitleRotate,title:e.catAxisTitle||"Axis Title"})),e._type===yt.SCATTER||e._type===yt.BUBBLE||e._type===yt.BUBBLE3D?i+='  <c:numFmt formatCode="'+(e.valAxisLabelFormatCode?Vt(e.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':i+='  <c:numFmt formatCode="'+(Vt(e.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',e._type===yt.SCATTER?(i+='  <c:majorTickMark val="none"/>',i+='  <c:minorTickMark val="none"/>',i+='  <c:tickLblPos val="nextTo"/>'):(i+='  <c:majorTickMark val="'+(e.catAxisMajorTickMark||"out")+'"/>',i+='  <c:minorTickMark val="'+(e.catAxisMinorTickMark||"none")+'"/>',i+='  <c:tickLblPos val="'+(e.catAxisLabelPos||(e.barDir==="col"?"low":"nextTo"))+'"/>'),i+="  <c:spPr>",i+=`    <a:ln w="${e.catAxisLineSize?Yt(e.catAxisLineSize):nc}" cap="flat">`,i+=e.catAxisLineShow?"<a:solidFill>"+Sn(e.catAxisLineColor||Bo.color)+"</a:solidFill>":"<a:noFill/>",i+='      <a:prstDash val="'+(e.catAxisLineStyle||"solid")+'"/>',i+="      <a:round/>",i+="    </a:ln>",i+="  </c:spPr>",i+="  <c:txPr>",e.catAxisLabelRotate?i+=`<a:bodyPr rot="${Do(e.catAxisLabelRotate)}"/>`:i+="<a:bodyPr/>",i+="    <a:lstStyle/>",i+="    <a:p>",i+="    <a:pPr>",i+=`      <a:defRPr sz="${Math.round((e.catAxisLabelFontSize||Ti)*100)}" b="${e.catAxisLabelFontBold?1:0}" i="${e.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,i+="      <a:solidFill>"+Sn(e.catAxisLabelColor||ai)+"</a:solidFill>",i+='      <a:latin typeface="'+(e.catAxisLabelFontFace||"Arial")+'"/>',i+="   </a:defRPr>",i+="  </a:pPr>",i+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',i+="  </a:p>",i+=" </c:txPr>",i+=' <c:crossAx val="'+n+'"/>',i+=` <c:${typeof e.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${e.valAxisCrossesAt||"autoZero"}"/>`,i+=' <c:auto val="1"/>',i+=' <c:lblAlgn val="ctr"/>',i+=` <c:noMultiLvlLbl val="${e.catAxisMultiLevelLabels?0:1}"/>`,e.catAxisLabelFrequency&&(i+=' <c:tickLblSkip val="'+e.catAxisLabelFrequency+'"/>'),(e.catLabelFormatCode||e._type===yt.SCATTER||e._type===yt.BUBBLE||e._type===yt.BUBBLE3D)&&(e.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(r=>{e[r]&&(typeof e[r]!="string"||!["days","months","years"].includes(e[r].toLowerCase()))&&(console.warn(`"${r}" must be one of: 'days','months','years' !`),e[r]=null)}),e.catAxisBaseTimeUnit&&(i+='<c:baseTimeUnit val="'+e.catAxisBaseTimeUnit.toLowerCase()+'"/>'),e.catAxisMajorTimeUnit&&(i+='<c:majorTimeUnit val="'+e.catAxisMajorTimeUnit.toLowerCase()+'"/>'),e.catAxisMinorTimeUnit&&(i+='<c:minorTimeUnit val="'+e.catAxisMinorTimeUnit.toLowerCase()+'"/>')),e.catAxisMajorUnit&&(i+=`<c:majorUnit val="${e.catAxisMajorUnit}"/>`),e.catAxisMinorUnit&&(i+=`<c:minorUnit val="${e.catAxisMinorUnit}"/>`)),e._type===yt.SCATTER||e._type===yt.BUBBLE||e._type===yt.BUBBLE3D?i+="</c:valAx>":i+="</c:"+(e.catLabelFormatCode?"dateAx":"catAx")+">",i}function Qu(e,t){let n=t===Sa?e.barDir==="col"?"l":"b":e.barDir!=="col"?"r":"t";t===wd&&(n="r");const i=t===Sa?yl:Ff;let r="";return r+="<c:valAx>",r+='  <c:axId val="'+t+'"/>',r+="  <c:scaling>",e.valAxisLogScaleBase&&(r+=`<c:logBase val="${e.valAxisLogScaleBase}"/>`),r+='<c:orientation val="'+(e.valAxisOrientation||(e.barDir==="col","minMax"))+'"/>',(e.valAxisMaxVal||e.valAxisMaxVal===0)&&(r+=`<c:max val="${e.valAxisMaxVal}"/>`),(e.valAxisMinVal||e.valAxisMinVal===0)&&(r+=`<c:min val="${e.valAxisMinVal}"/>`),r+="  </c:scaling>",r+=`  <c:delete val="${e.valAxisHidden?1:0}"/>`,r+='  <c:axPos val="'+n+'"/>',e.valGridLine.style!=="none"&&(r+=Ep(e.valGridLine)),e.showValAxisTitle&&(r+=Nh({color:e.valAxisTitleColor,fontFace:e.valAxisTitleFontFace,fontSize:e.valAxisTitleFontSize,titleRotate:e.valAxisTitleRotate,title:e.valAxisTitle||"Axis Title"})),r+=`<c:numFmt formatCode="${e.valAxisLabelFormatCode?Vt(e.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,e._type===yt.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+=' <c:majorTickMark val="'+(e.valAxisMajorTickMark||"out")+'"/>',r+=' <c:minorTickMark val="'+(e.valAxisMinorTickMark||"none")+'"/>',r+=' <c:tickLblPos val="'+(e.valAxisLabelPos||(e.barDir==="col"?"nextTo":"low"))+'"/>'),r+=" <c:spPr>",r+=`   <a:ln w="${e.valAxisLineSize?Yt(e.valAxisLineSize):nc}" cap="flat">`,r+=e.valAxisLineShow?"<a:solidFill>"+Sn(e.valAxisLineColor||Bo.color)+"</a:solidFill>":"<a:noFill/>",r+='     <a:prstDash val="'+(e.valAxisLineStyle||"solid")+'"/>',r+="     <a:round/>",r+="   </a:ln>",r+=" </c:spPr>",r+=" <c:txPr>",r+=`  <a:bodyPr${e.valAxisLabelRotate?' rot="'+Do(e.valAxisLabelRotate).toString()+'"':""}/>`,r+="  <a:lstStyle/>",r+="  <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((e.valAxisLabelFontSize||Ti)*100)}" b="${e.valAxisLabelFontBold?1:0}" i="${e.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="        <a:solidFill>"+Sn(e.valAxisLabelColor||ai)+"</a:solidFill>",r+='        <a:latin typeface="'+(e.valAxisLabelFontFace||"Arial")+'"/>',r+="      </a:defRPr>",r+="    </a:pPr>",r+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+i+'"/>',typeof e.catAxisCrossesAt=="number"?r+=` <c:crossesAt val="${e.catAxisCrossesAt}"/>`:typeof e.catAxisCrossesAt=="string"?r+=' <c:crosses val="'+e.catAxisCrossesAt+'"/>':r+=' <c:crosses val="'+(n==="r"||n==="t"?"max":"autoZero")+'"/>',r+=' <c:crossBetween val="'+(e._type===yt.SCATTER||Array.isArray(e._type)&&e._type.filter(a=>a.type===yt.AREA).length>0?"midCat":"between")+'"/>',e.valAxisMajorUnit&&(r+=` <c:majorUnit val="${e.valAxisMajorUnit}"/>`),e.valAxisDisplayUnit&&(r+=`<c:dispUnits><c:builtInUnit val="${e.valAxisDisplayUnit}"/>${e.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),r+="</c:valAx>",r}function fL(e,t,n){let i="";return i+="<c:serAx>",i+='  <c:axId val="'+t+'"/>',i+='  <c:scaling><c:orientation val="'+(e.serAxisOrientation||(e.barDir==="col","minMax"))+'"/></c:scaling>',i+='  <c:delete val="'+(e.serAxisHidden?"1":"0")+'"/>',i+='  <c:axPos val="'+(e.barDir==="col"?"b":"l")+'"/>',i+=e.serGridLine.style!=="none"?Ep(e.serGridLine):"",e.showSerAxisTitle&&(i+=Nh({color:e.serAxisTitleColor,fontFace:e.serAxisTitleFontFace,fontSize:e.serAxisTitleFontSize,titleRotate:e.serAxisTitleRotate,title:e.serAxisTitle||"Axis Title"})),i+=`  <c:numFmt formatCode="${Vt(e.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,i+='  <c:majorTickMark val="out"/>',i+='  <c:minorTickMark val="none"/>',i+=`  <c:tickLblPos val="${e.serAxisLabelPos||e.barDir==="col"?"low":"nextTo"}"/>`,i+="  <c:spPr>",i+='    <a:ln w="12700" cap="flat">',i+=e.serAxisLineShow?`<a:solidFill>${Sn(e.serAxisLineColor||Bo.color)}</a:solidFill>`:"<a:noFill/>",i+='      <a:prstDash val="solid"/>',i+="      <a:round/>",i+="    </a:ln>",i+="  </c:spPr>",i+="  <c:txPr>",i+="    <a:bodyPr/>",i+="    <a:lstStyle/>",i+="    <a:p>",i+="    <a:pPr>",i+=`    <a:defRPr sz="${Math.round((e.serAxisLabelFontSize||Ti)*100)}" b="${e.serAxisLabelFontBold?"1":"0"}" i="${e.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,i+=`      <a:solidFill>${Sn(e.serAxisLabelColor||ai)}</a:solidFill>`,i+=`      <a:latin typeface="${e.serAxisLabelFontFace||"Arial"}"/>`,i+="   </a:defRPr>",i+="  </a:pPr>",i+='  <a:endParaRPr lang="'+(e.lang||"en-US")+'"/>',i+="  </a:p>",i+=" </c:txPr>",i+=' <c:crossAx val="'+n+'"/>',i+=' <c:crosses val="autoZero"/>',e.serAxisLabelFrequency&&(i+=' <c:tickLblSkip val="'+e.serAxisLabelFrequency+'"/>'),e.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(r=>{e[r]&&(typeof e[r]!="string"||!["days","months","years"].includes(r.toLowerCase()))&&(console.warn(`"${r}" must be one of: 'days','months','years' !`),e[r]=null)}),e.serAxisBaseTimeUnit&&(i+=` <c:baseTimeUnit  val="${e.serAxisBaseTimeUnit.toLowerCase()}"/>`),e.serAxisMajorTimeUnit&&(i+=` <c:majorTimeUnit val="${e.serAxisMajorTimeUnit.toLowerCase()}"/>`),e.serAxisMinorTimeUnit&&(i+=` <c:minorTimeUnit val="${e.serAxisMinorTimeUnit.toLowerCase()}"/>`),e.serAxisMajorUnit&&(i+=` <c:majorUnit val="${e.serAxisMajorUnit}"/>`),e.serAxisMinorUnit&&(i+=` <c:minorUnit val="${e.serAxisMinorUnit}"/>`)),i+="</c:serAx>",i}function Nh(e,t,n){const i=e.titleAlign==="left"||e.titleAlign==="right"?`<a:pPr algn="${e.titleAlign.substring(0,1)}">`:"<a:pPr>",r=e.titleRotate?`<a:bodyPr rot="${Do(e.titleRotate)}"/>`:"<a:bodyPr/>",a=e.fontSize?`sz="${Math.round(e.fontSize*100)}"`:"",l=e.titleBold?1:0;let o="<c:layout/>";if(e.titlePos&&typeof e.titlePos.x=="number"&&typeof e.titlePos.y=="number"){const c=e.titlePos.x+t,s=e.titlePos.y+n;let d=c===0?0:c*(c/5)/10;d>=1&&(d=d/10),d>=.1&&(d=d/10);let u=s===0?0:s*(s/5)/10;u>=1&&(u=u/10),u>=.1&&(u=u/10),o=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${d}"/><c:y val="${u}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${r}
          <a:lstStyle/>
          <a:p>
            ${i}
            <a:defRPr ${a} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Sn(e.color||ai)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${a} b="${l}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Sn(e.color||ai)}</a:solidFill>
              <a:latin typeface="${e.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${Vt(e.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${o}
      <c:overlay val="0"/>
    </c:title>`}function Bn(e){let t="";const n=e-1;return n<=25?t=fl[n]:t=`${fl[Math.floor(n/fl.length-1)]}${fl[n%fl.length]}`,t}function Lo(e,t){if(e){if(typeof e!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let n="<a:effectLst>";const i=Object.assign(Object.assign({},t),e),r=i.type||"outer",a=Yt(i.blur),l=Yt(i.offset),o=Math.round(i.angle*6e4),c=i.color,s=Math.round(i.opacity*1e5),d=i.rotateWithShape?1:0;return n+=`<a:${r}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${a}" rotWithShape="${d}" dist="${l}" dir="${o}">`,n+=`<a:srgbClr val="${c}">`,n+=`<a:alpha val="${s}"/></a:srgbClr>`,n+=`</a:${r}Shdw>`,n+="</a:effectLst>",n}function Ep(e){let t="<c:majorGridlines>";return t+=" <c:spPr>",t+=`  <a:ln w="${Yt(e.size||Bo.size)}" cap="${kd(e.cap||Bo.cap)}">`,t+='  <a:solidFill><a:srgbClr val="'+(e.color||Bo.color)+'"/></a:solidFill>',t+='   <a:prstDash val="'+(e.style||Bo.style)+'"/><a:round/>',t+="  </a:ln>",t+=" </c:spPr>",t+="</c:majorGridlines>",t}function kd(e){if(!e||e==="flat")return"flat";if(e==="square")return"sq";if(e==="round")return"rnd";{const t=e;throw new Error(`Invalid chart line cap: ${t}`)}}function Ju(e){var t,n;const i=typeof process<"u"&&!!(!((t=process.versions)===null||t===void 0)&&t.node)&&((n=process.release)===null||n===void 0?void 0:n.name)==="node";let r,a;const l=i?()=>wi(this,void 0,void 0,function*(){({default:r}=yield Ro(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)),{default:a}=yield Ro(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)}):()=>wi(this,void 0,void 0,function*(){});i&&l();const o=[],c=e._relsMedia.filter(d=>d.type!=="online"&&!d.data&&(!d.path||d.path&&!d.path.includes("preencoded"))),s=[];return c.forEach(d=>{s.includes(d.path)?d.isDuplicate=!0:(d.isDuplicate=!1,s.push(d.path))}),c.filter(d=>!d.isDuplicate).forEach(d=>{o.push(wi(this,void 0,void 0,function*(){if(a||(yield l()),i&&r&&d.path.indexOf("http")!==0)try{const u=r.readFileSync(d.path);return d.data=Buffer.from(u).toString("base64"),c.filter(f=>f.isDuplicate&&f.path===d.path).forEach(f=>f.data=d.data),"done"}catch(u){throw d.data=ks,c.filter(f=>f.isDuplicate&&f.path===d.path).forEach(f=>f.data=d.data),new Error(`ERROR: Unable to read media: "${d.path}"
${String(u)}`)}return i&&a&&d.path.startsWith("http")?yield new Promise((u,f)=>{a.get(d.path,h=>{let g="";h.setEncoding("binary"),h.on("data",p=>g+=p),h.on("end",()=>{d.data=Buffer.from(g,"binary").toString("base64"),c.filter(p=>p.isDuplicate&&p.path===d.path).forEach(p=>p.data=d.data),u("done")}),h.on("error",()=>{d.data=ks,c.filter(p=>p.isDuplicate&&p.path===d.path).forEach(p=>p.data=d.data),f(new Error(`ERROR! Unable to load image (https.get): ${d.path}`))})})}):yield new Promise((u,f)=>{const h=new XMLHttpRequest;h.onload=()=>{const g=new FileReader;g.onloadend=()=>{d.data=g.result,c.filter(p=>p.isDuplicate&&p.path===d.path).forEach(p=>p.data=d.data),d.isSvgPng?m1(d).then(()=>u("done")).catch(f):u("done")},g.readAsDataURL(h.response)},h.onerror=()=>{d.data=ks,c.filter(g=>g.isDuplicate&&g.path===d.path).forEach(g=>g.data=d.data),f(new Error(`ERROR! Unable to load image (xhr.onerror): ${d.path}`))},h.open("GET",d.path),h.responseType="blob",h.send()})}))}),e._relsMedia.filter(d=>d.isSvgPng&&d.data).forEach(d=>{wi(this,void 0,void 0,function*(){i&&!r&&(yield l()),i&&r?(d.data=ks,o.push(Promise.resolve("done"))):o.push(m1(d))})}),o}function m1(e){return wi(this,void 0,void 0,function*(){return yield new Promise((t,n)=>{const i=new Image;i.onload=()=>{i.width+i.height===0&&i.onerror("h/w=0");let r=document.createElement("CANVAS");const a=r.getContext("2d");r.width=i.width,r.height=i.height,a.drawImage(i,0,0);try{e.data=r.toDataURL(e.type),t("done")}catch(l){i.onerror(l.toString())}r=null},i.onerror=()=>{e.data=ks,n(new Error(`ERROR! Unable to load image (image.onerror): ${e.path}`))},i.src=typeof e.data=="string"?e.data:ks})})}const pL={cover:function(e,t){const n=e.h/e.w,r=t.h/t.w>n,a=r?t.h/n:t.w,l=r?t.h:t.w*n,o=Math.round(1e5*.5*(1-t.w/a)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${o}" r="${o}" t="${c}" b="${c}"/><a:stretch/>`},contain:function(e,t){const n=e.h/e.w,r=t.h/t.w>n,a=r?t.w:t.h/n,l=r?t.w*n:t.h,o=Math.round(1e5*.5*(1-t.w/a)),c=Math.round(1e5*.5*(1-t.h/l));return`<a:srcRect l="${o}" r="${o}" t="${c}" b="${c}"/><a:stretch/>`},crop:function(e,t){const n=t.x,i=e.w-(t.x+t.w),r=t.y,a=e.h-(t.y+t.h),l=Math.round(1e5*(n/e.w)),o=Math.round(1e5*(i/e.w)),c=Math.round(1e5*(r/e.h)),s=Math.round(1e5*(a/e.h));return`<a:srcRect l="${l}" r="${o}" t="${c}" b="${s}"/><a:stretch/>`}};function Rp(e){var t;let n=e._name?'<p:cSld name="'+e._name+'">':"<p:cSld>",i=1;return e._bkgdImgRid?n+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${e._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((t=e.background)===null||t===void 0)&&t.color?n+=`<p:bg><p:bgPr>${Si(e.background)}</p:bgPr></p:bg>`:!e.bkgd&&e._name&&e._name===$f&&(n+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),n+="<p:spTree>",n+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',n+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',n+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',e._slideObjects.forEach((r,a)=>{var l,o,c,s,d,u,f,h;let g=0,p=0,y=gn("75%","X",e._presLayout),A=0,v,x="",C=null,_=null,F=0,O=0,E=null,I=null;const q=(l=r.options)===null||l===void 0?void 0:l.sizing,R=(o=r.options)===null||o===void 0?void 0:o.rounding;e._slideLayout!==void 0&&e._slideLayout._slideObjects!==void 0&&r.options&&r.options.placeholder&&(v=e._slideLayout._slideObjects.filter(k=>k.options.placeholder===r.options.placeholder)[0]),r.options=r.options||{},typeof r.options.x<"u"&&(g=gn(r.options.x,"X",e._presLayout)),typeof r.options.y<"u"&&(p=gn(r.options.y,"Y",e._presLayout)),typeof r.options.w<"u"&&(y=gn(r.options.w,"X",e._presLayout)),typeof r.options.h<"u"&&(A=gn(r.options.h,"Y",e._presLayout));let P=y,D=A;switch(v&&((v.options.x||v.options.x===0)&&(g=gn(v.options.x,"X",e._presLayout)),(v.options.y||v.options.y===0)&&(p=gn(v.options.y,"Y",e._presLayout)),(v.options.w||v.options.w===0)&&(y=gn(v.options.w,"X",e._presLayout)),(v.options.h||v.options.h===0)&&(A=gn(v.options.h,"Y",e._presLayout))),r.options.flipH&&(x+=' flipH="1"'),r.options.flipV&&(x+=' flipV="1"'),r.options.rotate&&(x+=` rot="${Do(r.options.rotate)}"`),r._type){case Kt.table:if(C=r.arrTabRows,_=r.options,F=0,O=0,C[0].forEach(k=>{E=k.options||null,F+=E?.colspan?Number(E.colspan):1}),I=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${i*e._slideNum+1}" name="${r.options.objectName}"/>`,I+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',I+=`<p:xfrm><a:off x="${g||(g===0?0:tn)}" y="${p||(p===0?0:tn)}"/><a:ext cx="${y||(y===0?0:tn)}" cy="${A||tn}"/></p:xfrm>`,I+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(_.colW)){I+="<a:tblGrid>";for(let k=0;k<F;k++){let U=xn(_.colW[k]);(U==null||isNaN(U))&&(U=(typeof r.options.w=="number"?r.options.w:1)/F),I+=`<a:gridCol w="${Math.round(U)}"/>`}I+="</a:tblGrid>"}else{O=_.colW?_.colW:tn,r.options.w&&!_.colW&&(O=Math.round((typeof r.options.w=="number"?r.options.w:1)/F)),I+="<a:tblGrid>";for(let k=0;k<F;k++)I+=`<a:gridCol w="${O}"/>`;I+="</a:tblGrid>"}C.forEach(k=>{var U,ce;for(let Q=0;Q<k.length;){const ae=k[Q],ie=(U=ae.options)===null||U===void 0?void 0:U.colspan,Se=(ce=ae.options)===null||ce===void 0?void 0:ce.rowspan;if(ie&&ie>1){const ne=new Array(ie-1).fill(void 0).map(()=>({_type:Kt.tablecell,options:{rowspan:Se},_hmerge:!0}));k.splice(Q+1,0,...ne),Q+=ie}else Q+=1}}),C.forEach((k,U)=>{const ce=C[U+1];ce&&k.forEach((Q,ae)=>{var ie,Se;const ne=Q._rowContinue||((ie=Q.options)===null||ie===void 0?void 0:ie.rowspan),N=(Se=Q.options)===null||Se===void 0?void 0:Se.colspan,H=Q._hmerge;if(ne&&ne>1){const V={_type:Kt.tablecell,options:{colspan:N},_rowContinue:ne-1,_vmerge:!0,_hmerge:H};ce.splice(ae,0,V)}})}),C.forEach((k,U)=>{let ce=0;Array.isArray(_.rowH)&&_.rowH[U]?ce=xn(Number(_.rowH[U])):_.rowH&&!isNaN(Number(_.rowH))?ce=xn(Number(_.rowH)):(r.options.cy||r.options.h)&&(ce=Math.round((r.options.h?xn(r.options.h):typeof r.options.cy=="number"?r.options.cy:1)/C.length)),I+=`<a:tr h="${ce}">`,k.forEach(Q=>{var ae,ie,Se,ne,N;const H=Q,V={rowSpan:((ae=H.options)===null||ae===void 0?void 0:ae.rowspan)>1?H.options.rowspan:void 0,gridSpan:((ie=H.options)===null||ie===void 0?void 0:ie.colspan)>1?H.options.colspan:void 0,vMerge:H._vmerge?1:void 0,hMerge:H._hmerge?1:void 0};let te=Object.keys(V).map(et=>[et,V[et]]).filter(([,et])=>!!et).map(([et,B])=>`${String(et)}="${String(B)}"`).join(" ");if(te&&(te=" "+te),H._hmerge||H._vmerge){I+=`<a:tc${te}><a:tcPr/></a:tc>`;return}const ge=H.options||{};H.options=ge,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(et=>{_[et]&&!ge[et]&&ge[et]!==0&&(ge[et]=_[et])});const Ce=ge.valign?` anchor="${ge.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",Pe=ge.textDirection&&ge.textDirection!=="horz"?` vert="${ge.textDirection}"`:"";let pe=!((ne=(Se=H._optImp)===null||Se===void 0?void 0:Se.fill)===null||ne===void 0)&&ne.color?H._optImp.fill.color:!((N=H._optImp)===null||N===void 0)&&N.fill&&typeof H._optImp.fill=="string"?H._optImp.fill:"";pe=pe||ge.fill?ge.fill:"";const _e=pe?Si(pe):"";let Oe=ge.margin===0||ge.margin?ge.margin:dm;!Array.isArray(Oe)&&typeof Oe=="number"&&(Oe=[Oe,Oe,Oe,Oe]);let ht="";Oe[0]>=1?ht=` marL="${Yt(Oe[3])}" marR="${Yt(Oe[1])}" marT="${Yt(Oe[0])}" marB="${Yt(Oe[2])}"`:ht=` marL="${xn(Oe[3])}" marR="${xn(Oe[1])}" marT="${xn(Oe[0])}" marB="${xn(Oe[2])}"`,I+=`<a:tc${te}>${b1(H)}<a:tcPr${ht}${Ce}${Pe}>`,ge.border&&Array.isArray(ge.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(et=>{ge.border[et.idx].type!=="none"?(I+=`<a:${et.name} w="${Yt(ge.border[et.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,I+=`<a:solidFill>${Sn(ge.border[et.idx].color)}</a:solidFill>`,I+=`<a:prstDash val="${ge.border[et.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,I+=`</a:${et.name}>`):I+=`<a:${et.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${et.name}>`}),I+=_e,I+="  </a:tcPr>",I+=" </a:tc>"}),I+="</a:tr>"}),I+="      </a:tbl>",I+="    </a:graphicData>",I+="  </a:graphic>",I+="</p:graphicFrame>",n+=I,i++;break;case Kt.text:case Kt.placeholder:if(!r.options.line&&A===0&&(A=tn*.3),r.options._bodyProp||(r.options._bodyProp={}),r.options.margin&&Array.isArray(r.options.margin)?(r.options._bodyProp.lIns=Yt(r.options.margin[0]||0),r.options._bodyProp.rIns=Yt(r.options.margin[1]||0),r.options._bodyProp.bIns=Yt(r.options.margin[2]||0),r.options._bodyProp.tIns=Yt(r.options.margin[3]||0)):typeof r.options.margin=="number"&&(r.options._bodyProp.lIns=Yt(r.options.margin),r.options._bodyProp.rIns=Yt(r.options.margin),r.options._bodyProp.bIns=Yt(r.options.margin),r.options._bodyProp.tIns=Yt(r.options.margin)),n+="<p:sp>",n+=`<p:nvSpPr><p:cNvPr id="${a+2}" name="${r.options.objectName}">`,!((c=r.options.hyperlink)===null||c===void 0)&&c.url&&(n+=`<a:hlinkClick r:id="rId${r.options.hyperlink._rId}" tooltip="${r.options.hyperlink.tooltip?Vt(r.options.hyperlink.tooltip):""}"/>`),!((s=r.options.hyperlink)===null||s===void 0)&&s.slide&&(n+=`<a:hlinkClick r:id="rId${r.options.hyperlink._rId}" tooltip="${r.options.hyperlink.tooltip?Vt(r.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="</p:cNvPr>",n+="<p:cNvSpPr"+(!((d=r.options)===null||d===void 0)&&d.isTextBox?' txBox="1"/>':"/>"),n+=`<p:nvPr>${r._type==="placeholder"?Zc(r):Zc(v)}</p:nvPr>`,n+="</p:nvSpPr><p:spPr>",n+=`<a:xfrm${x}>`,n+=`<a:off x="${g}" y="${p}"/>`,n+=`<a:ext cx="${y}" cy="${A}"/></a:xfrm>`,r.shape==="custGeom")n+="<a:custGeom><a:avLst />",n+="<a:gdLst>",n+="</a:gdLst>",n+="<a:ahLst />",n+="<a:cxnLst>",n+="</a:cxnLst>",n+='<a:rect l="l" t="t" r="r" b="b" />',n+="<a:pathLst>",n+=`<a:path w="${y}" h="${A}">`,(u=r.options.points)===null||u===void 0||u.forEach((k,U)=>{if("curve"in k)switch(k.curve.type){case"arc":n+=`<a:arcTo hR="${gn(k.curve.hR,"Y",e._presLayout)}" wR="${gn(k.curve.wR,"X",e._presLayout)}" stAng="${Do(k.curve.stAng)}" swAng="${Do(k.curve.swAng)}" />`;break;case"cubic":n+=`<a:cubicBezTo>
									<a:pt x="${gn(k.curve.x1,"X",e._presLayout)}" y="${gn(k.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${gn(k.curve.x2,"X",e._presLayout)}" y="${gn(k.curve.y2,"Y",e._presLayout)}" />
									<a:pt x="${gn(k.x,"X",e._presLayout)}" y="${gn(k.y,"Y",e._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":n+=`<a:quadBezTo>
									<a:pt x="${gn(k.curve.x1,"X",e._presLayout)}" y="${gn(k.curve.y1,"Y",e._presLayout)}" />
									<a:pt x="${gn(k.x,"X",e._presLayout)}" y="${gn(k.y,"Y",e._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in k?n+="<a:close />":k.moveTo||U===0?n+=`<a:moveTo><a:pt x="${gn(k.x,"X",e._presLayout)}" y="${gn(k.y,"Y",e._presLayout)}" /></a:moveTo>`:n+=`<a:lnTo><a:pt x="${gn(k.x,"X",e._presLayout)}" y="${gn(k.y,"Y",e._presLayout)}" /></a:lnTo>`}),n+="</a:path>",n+="</a:pathLst>",n+="</a:custGeom>";else{if(n+='<a:prstGeom prst="'+r.shape+'"><a:avLst>',r.options.rectRadius)n+=`<a:gd name="adj" fmla="val ${Math.round(r.options.rectRadius*tn*1e5/Math.min(y,A))}"/>`;else if(r.options.angleRange){for(let k=0;k<2;k++){const U=r.options.angleRange[k];n+=`<a:gd name="adj${k+1}" fmla="val ${Do(U)}" />`}r.options.arcThicknessRatio&&(n+=`<a:gd name="adj3" fmla="val ${Math.round(r.options.arcThicknessRatio*5e4)}" />`)}n+="</a:avLst></a:prstGeom>"}n+=r.options.fill?Si(r.options.fill):"<a:noFill/>",r.options.line&&(n+=r.options.line.width?`<a:ln w="${Yt(r.options.line.width)}">`:"<a:ln>",r.options.line.color&&(n+=Si(r.options.line)),r.options.line.dashType&&(n+=`<a:prstDash val="${r.options.line.dashType}"/>`),r.options.line.beginArrowType&&(n+=`<a:headEnd type="${r.options.line.beginArrowType}"/>`),r.options.line.endArrowType&&(n+=`<a:tailEnd type="${r.options.line.endArrowType}"/>`),n+="</a:ln>"),r.options.shadow&&r.options.shadow.type!=="none"&&(r.options.shadow.type=r.options.shadow.type||"outer",r.options.shadow.blur=Yt(r.options.shadow.blur||8),r.options.shadow.offset=Yt(r.options.shadow.offset||4),r.options.shadow.angle=Math.round((r.options.shadow.angle||270)*6e4),r.options.shadow.opacity=Math.round((r.options.shadow.opacity||.75)*1e5),r.options.shadow.color=r.options.shadow.color||A1.color,n+="<a:effectLst>",n+=` <a:${r.options.shadow.type}Shdw ${r.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${r.options.shadow.blur}" dist="${r.options.shadow.offset}" dir="${r.options.shadow.angle}">`,n+=` <a:srgbClr val="${r.options.shadow.color}">`,n+=` <a:alpha val="${r.options.shadow.opacity}"/></a:srgbClr>`,n+=" </a:outerShdw>",n+="</a:effectLst>"),n+="</p:spPr>",n+=b1(r),n+="</p:sp>";break;case Kt.image:if(n+="<p:pic>",n+="  <p:nvPicPr>",n+=`<p:cNvPr id="${a+2}" name="${r.options.objectName}" descr="${Vt(r.options.altText||r.image)}">`,!((f=r.hyperlink)===null||f===void 0)&&f.url&&(n+=`<a:hlinkClick r:id="rId${r.hyperlink._rId}" tooltip="${r.hyperlink.tooltip?Vt(r.hyperlink.tooltip):""}"/>`),!((h=r.hyperlink)===null||h===void 0)&&h.slide&&(n+=`<a:hlinkClick r:id="rId${r.hyperlink._rId}" tooltip="${r.hyperlink.tooltip?Vt(r.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="    </p:cNvPr>",n+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+="    <p:nvPr>"+Zc(v)+"</p:nvPr>",n+="  </p:nvPicPr>",n+="<p:blipFill>",(e._relsMedia||[]).filter(k=>k.rId===r.imageRid)[0]&&(e._relsMedia||[]).filter(k=>k.rId===r.imageRid)[0].extn==="svg"?(n+=`<a:blip r:embed="rId${r.imageRid-1}">`,n+=r.options.transparency?` <a:alphaModFix amt="${Math.round((100-r.options.transparency)*1e3)}"/>`:"",n+=" <a:extLst>",n+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',n+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${r.imageRid}"/>`,n+="  </a:ext>",n+=" </a:extLst>",n+="</a:blip>"):(n+=`<a:blip r:embed="rId${r.imageRid}">`,n+=r.options.transparency?`<a:alphaModFix amt="${Math.round((100-r.options.transparency)*1e3)}"/>`:"",n+="</a:blip>"),q?.type){const k=q.w?gn(q.w,"X",e._presLayout):y,U=q.h?gn(q.h,"Y",e._presLayout):A,ce=gn(q.x||0,"X",e._presLayout),Q=gn(q.y||0,"Y",e._presLayout);n+=pL[q.type]({w:P,h:D},{w:k,h:U,x:ce,y:Q}),P=k,D=U}else n+="  <a:stretch><a:fillRect/></a:stretch>";n+="</p:blipFill>",n+="<p:spPr>",n+=" <a:xfrm"+x+">",n+=`  <a:off x="${g}" y="${p}"/>`,n+=`  <a:ext cx="${P}" cy="${D}"/>`,n+=" </a:xfrm>",n+=` <a:prstGeom prst="${R?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,r.options.shadow&&r.options.shadow.type!=="none"&&(r.options.shadow.type=r.options.shadow.type||"outer",r.options.shadow.blur=Yt(r.options.shadow.blur||8),r.options.shadow.offset=Yt(r.options.shadow.offset||4),r.options.shadow.angle=Math.round((r.options.shadow.angle||270)*6e4),r.options.shadow.opacity=Math.round((r.options.shadow.opacity||.75)*1e5),r.options.shadow.color=r.options.shadow.color||A1.color,n+="<a:effectLst>",n+=`<a:${r.options.shadow.type}Shdw ${r.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${r.options.shadow.blur}" dist="${r.options.shadow.offset}" dir="${r.options.shadow.angle}">`,n+=`<a:srgbClr val="${r.options.shadow.color}">`,n+=`<a:alpha val="${r.options.shadow.opacity}"/></a:srgbClr>`,n+=`</a:${r.options.shadow.type}Shdw>`,n+="</a:effectLst>"),n+="</p:spPr>",n+="</p:pic>";break;case Kt.media:r.mtype==="online"?(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${r.mediaRid+2}" name="${r.options.objectName}"/>`,n+=" <p:cNvPicPr/>",n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${r.mediaRid}"/>`,n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${r.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${x}><a:off x="${g}" y="${p}"/><a:ext cx="${y}" cy="${A}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>"):(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${r.mediaRid+2}" name="${r.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,n+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${r.mediaRid}"/>`,n+="  <p:extLst>",n+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',n+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${r.mediaRid+1}"/>`,n+="   </p:ext>",n+="  </p:extLst>",n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${r.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${x}><a:off x="${g}" y="${p}"/><a:ext cx="${y}" cy="${A}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>");break;case Kt.chart:n+="<p:graphicFrame>",n+=" <p:nvGraphicFramePr>",n+=`   <p:cNvPr id="${a+2}" name="${r.options.objectName}" descr="${Vt(r.options.altText||"")}"/>`,n+="   <p:cNvGraphicFramePr/>",n+=`   <p:nvPr>${Zc(v)}</p:nvPr>`,n+=" </p:nvGraphicFramePr>",n+=` <p:xfrm><a:off x="${g}" y="${p}"/><a:ext cx="${y}" cy="${A}"/></p:xfrm>`,n+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',n+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',n+=`   <c:chart r:id="rId${r.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,n+="  </a:graphicData>",n+=" </a:graphic>",n+="</p:graphicFrame>";break;default:n+="";break}}),e._slideNumberProps&&(e._slideNumberProps.align||(e._slideNumberProps.align="left"),n+="<p:sp>",n+=" <p:nvSpPr>",n+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',n+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',n+=" </p:nvSpPr>",n+=" <p:spPr>",n+=`<a:xfrm><a:off x="${gn(e._slideNumberProps.x,"X",e._presLayout)}" y="${gn(e._slideNumberProps.y,"Y",e._presLayout)}"/><a:ext cx="${e._slideNumberProps.w?gn(e._slideNumberProps.w,"X",e._presLayout):"800000"}" cy="${e._slideNumberProps.h?gn(e._slideNumberProps.h,"Y",e._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,n+="<p:txBody>",n+="<a:bodyPr",e._slideNumberProps.margin&&Array.isArray(e._slideNumberProps.margin)?(n+=` lIns="${Yt(e._slideNumberProps.margin[3]||0)}"`,n+=` tIns="${Yt(e._slideNumberProps.margin[0]||0)}"`,n+=` rIns="${Yt(e._slideNumberProps.margin[1]||0)}"`,n+=` bIns="${Yt(e._slideNumberProps.margin[2]||0)}"`):typeof e._slideNumberProps.margin=="number"&&(n+=` lIns="${Yt(e._slideNumberProps.margin||0)}"`,n+=` tIns="${Yt(e._slideNumberProps.margin||0)}"`,n+=` rIns="${Yt(e._slideNumberProps.margin||0)}"`,n+=` bIns="${Yt(e._slideNumberProps.margin||0)}"`),e._slideNumberProps.valign&&(n+=` anchor="${e._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),n+="/>",n+="  <a:lstStyle><a:lvl1pPr>",(e._slideNumberProps.fontFace||e._slideNumberProps.fontSize||e._slideNumberProps.color)&&(n+=`<a:defRPr sz="${Math.round((e._slideNumberProps.fontSize||12)*100)}">`,e._slideNumberProps.color&&(n+=Si(e._slideNumberProps.color)),e._slideNumberProps.fontFace&&(n+=`<a:latin typeface="${e._slideNumberProps.fontFace}"/><a:ea typeface="${e._slideNumberProps.fontFace}"/><a:cs typeface="${e._slideNumberProps.fontFace}"/>`),n+="</a:defRPr>"),n+="</a:lvl1pPr></a:lstStyle>",n+="<a:p>",e._slideNumberProps.align.startsWith("l")?n+='<a:pPr algn="l"/>':e._slideNumberProps.align.startsWith("c")?n+='<a:pPr algn="ctr"/>':e._slideNumberProps.align.startsWith("r")?n+='<a:pPr algn="r"/>':n+='<a:pPr algn="l"/>',n+=`<a:fld id="${fm}" type="slidenum"><a:rPr b="${e._slideNumberProps.bold?1:0}" lang="en-US"/>`,n+=`<a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,n+="</p:txBody></p:sp>"),n+="</p:spTree>",n+="</p:cSld>",n}function $p(e,t){let n=0,i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Br+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return e._rels.forEach(r=>{n=Math.max(n,r.rId),r.type.toLowerCase().includes("hyperlink")?r.data==="slide"?i+=`<Relationship Id="rId${r.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${r.Target}.xml"/>`:i+=`<Relationship Id="rId${r.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${r.Target}" TargetMode="External"/>`:r.type.toLowerCase().includes("notesSlide")&&(i+=`<Relationship Id="rId${r.rId}" Target="${r.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(e._relsChart||[]).forEach(r=>{n=Math.max(n,r.rId),i+=`<Relationship Id="rId${r.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${r.Target}"/>`}),(e._relsMedia||[]).forEach(r=>{const a=r.rId.toString();n=Math.max(n,r.rId),r.type.toLowerCase().includes("image")?i+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+r.Target+'"/>':r.type.toLowerCase().includes("audio")?i.includes(' Target="'+r.Target+'"')?i+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+r.Target+'"/>':i+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+r.Target+'"/>':r.type.toLowerCase().includes("video")?i.includes(' Target="'+r.Target+'"')?i+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+r.Target+'"/>':i+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+r.Target+'"/>':r.type.toLowerCase().includes("online")&&(i.includes(' Target="'+r.Target+'"')?i+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+r.Target+'"/>':i+='<Relationship Id="rId'+a+'" Target="'+r.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),t.forEach((r,a)=>{i+=`<Relationship Id="rId${n+a+1}" Type="${r.type}" Target="${r.target}"/>`}),i+="</Relationships>",i}function v1(e,t){var n,i;let r="",a="",l="",o="";const c=t?"a:lvl1pPr":"a:pPr";let s=Yt(Q8),d=`<${c}${e.options.rtlMode?' rtl="1" ':""}`;{if(e.options.align)switch(e.options.align){case"left":d+=' algn="l"';break;case"right":d+=' algn="r"';break;case"center":d+=' algn="ctr"';break;case"justify":d+=' algn="just"';break;default:d+="";break}if(e.options.lineSpacing?a=`<a:lnSpc><a:spcPts val="${Math.round(e.options.lineSpacing*100)}"/></a:lnSpc>`:e.options.lineSpacingMultiple&&(a=`<a:lnSpc><a:spcPct val="${Math.round(e.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),e.options.indentLevel&&!isNaN(Number(e.options.indentLevel))&&e.options.indentLevel>0&&(d+=` lvl="${e.options.indentLevel}"`),e.options.paraSpaceBefore&&!isNaN(Number(e.options.paraSpaceBefore))&&e.options.paraSpaceBefore>0&&(l+=`<a:spcBef><a:spcPts val="${Math.round(e.options.paraSpaceBefore*100)}"/></a:spcBef>`),e.options.paraSpaceAfter&&!isNaN(Number(e.options.paraSpaceAfter))&&e.options.paraSpaceAfter>0&&(l+=`<a:spcAft><a:spcPts val="${Math.round(e.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof e.options.bullet=="object")if(!((i=(n=e?.options)===null||n===void 0?void 0:n.bullet)===null||i===void 0)&&i.indent&&(s=Yt(e.options.bullet.indent)),e.options.bullet.type)e.options.bullet.type.toString().toLowerCase()==="number"&&(d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?s+s*e.options.indentLevel:s}" indent="-${s}"`,r=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${e.options.bullet.style||"arabicPeriod"}" startAt="${e.options.bullet.numberStartAt||e.options.bullet.startAt||"1"}"/>`);else if(e.options.bullet.characterCode){let u=`&#x${e.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),u=xs.DEFAULT),d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?s+s*e.options.indentLevel:s}" indent="-${s}"`,r='<a:buSzPct val="100000"/><a:buChar char="'+u+'"/>'}else if(e.options.bullet.code){let u=`&#x${e.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(e.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),u=xs.DEFAULT),d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?s+s*e.options.indentLevel:s}" indent="-${s}"`,r='<a:buSzPct val="100000"/><a:buChar char="'+u+'"/>'}else d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?s+s*e.options.indentLevel:s}" indent="-${s}"`,r=`<a:buSzPct val="100000"/><a:buChar char="${xs.DEFAULT}"/>`;else e.options.bullet?(d+=` marL="${e.options.indentLevel&&e.options.indentLevel>0?s+s*e.options.indentLevel:s}" indent="-${s}"`,r=`<a:buSzPct val="100000"/><a:buChar char="${xs.DEFAULT}"/>`):e.options.bullet||(d+=' indent="0" marL="0"',r="<a:buNone/>");e.options.tabStops&&Array.isArray(e.options.tabStops)&&(o=`<a:tabLst>${e.options.tabStops.map(f=>`<a:tab pos="${xn(f.position||1)}" algn="${f.alignment||"l"}"/>`).join("")}</a:tabLst>`),d+=">"+a+l+r+o,t&&(d+=mm(e.options,!0)),d+="</"+c+">"}return d}function mm(e,t){var n;let i="";const r=t?"a:defRPr":"a:rPr";if(i+="<"+r+' lang="'+(e.lang?e.lang:"en-US")+'"'+(e.lang?' altLang="en-US"':""),i+=e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"",i+=e?.bold?` b="${e.bold?"1":"0"}"`:"",i+=e?.italic?` i="${e.italic?"1":"0"}"`:"",i+=e?.strike?` strike="${typeof e.strike=="string"?e.strike:"sngStrike"}"`:"",typeof e.underline=="object"&&(!((n=e.underline)===null||n===void 0)&&n.style)?i+=` u="${e.underline.style}"`:typeof e.underline=="string"?i+=` u="${String(e.underline)}"`:e.hyperlink&&(i+=' u="sng"'),e.baseline?i+=` baseline="${Math.round(e.baseline*50)}"`:e.subscript?i+=' baseline="-40000"':e.superscript&&(i+=' baseline="30000"'),i+=e.charSpacing?` spc="${Math.round(e.charSpacing*100)}" kern="0"`:"",i+=' dirty="0">',(e.color||e.fontFace||e.outline||typeof e.underline=="object"&&e.underline.color)&&(e.outline&&typeof e.outline=="object"&&(i+=`<a:ln w="${Yt(e.outline.size||.75)}">${Si(e.outline.color||"FFFFFF")}</a:ln>`),e.color&&(i+=Si({color:e.color,transparency:e.transparency})),e.highlight&&(i+=`<a:highlight>${Sn(e.highlight)}</a:highlight>`),typeof e.underline=="object"&&e.underline.color&&(i+=`<a:uFill>${Si(e.underline.color)}</a:uFill>`),e.glow&&(i+=`<a:effectLst>${tL(e.glow,K8)}</a:effectLst>`),e.fontFace&&(i+=`<a:latin typeface="${e.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${e.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${e.fontFace}" pitchFamily="34" charset="-120"/>`)),e.hyperlink){if(typeof e.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!e.hyperlink.url&&!e.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");e.hyperlink.url?i+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${e.hyperlink.tooltip?Vt(e.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${e.color?">":"/>"}`:e.hyperlink.slide&&(i+=`<a:hlinkClick r:id="rId${e.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${e.hyperlink.tooltip?Vt(e.hyperlink.tooltip):""}"${e.color?">":"/>"}`),e.color&&(i+=" <a:extLst>",i+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',i+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',i+="  </a:ext>",i+=" </a:extLst>",i+="</a:hlinkClick>")}return i+=`</${r}>`,i}function gL(e){return e.text?`<a:r>${mm(e.options,!1)}<a:t>${Vt(e.text)}</a:t></a:r>`:""}function AL(e){let t="<a:bodyPr";return e&&e._type===Kt.text&&e.options._bodyProp?(t+=e.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(e.options._bodyProp.lIns||e.options._bodyProp.lIns===0)&&(t+=` lIns="${e.options._bodyProp.lIns}"`),(e.options._bodyProp.tIns||e.options._bodyProp.tIns===0)&&(t+=` tIns="${e.options._bodyProp.tIns}"`),(e.options._bodyProp.rIns||e.options._bodyProp.rIns===0)&&(t+=` rIns="${e.options._bodyProp.rIns}"`),(e.options._bodyProp.bIns||e.options._bodyProp.bIns===0)&&(t+=` bIns="${e.options._bodyProp.bIns}"`),t+=' rtlCol="0"',e.options._bodyProp.anchor&&(t+=' anchor="'+e.options._bodyProp.anchor+'"'),e.options._bodyProp.vert&&(t+=' vert="'+e.options._bodyProp.vert+'"'),t+=">",e.options.fit&&(e.options.fit==="none"?t+="":e.options.fit==="shrink"?t+="<a:normAutofit/>":e.options.fit==="resize"&&(t+="<a:spAutoFit/>")),e.options.shrinkText&&(t+="<a:normAutofit/>"),t+=e.options._bodyProp.autoFit?"<a:spAutoFit/>":"",t+="</a:bodyPr>"):(t+=' wrap="square" rtlCol="0">',t+="</a:bodyPr>"),e._type===Kt.tablecell?"<a:bodyPr/>":t}function b1(e){const t=e.options||{};let n=[];const i=[];if(t&&e._type!==Kt.tablecell&&(typeof e.text>"u"||e.text===null))return"";let r=e._type===Kt.tablecell?"<a:txBody>":"<p:txBody>";r+=AL(e),t.h===0&&t.line&&t.align?r+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':e._type==="placeholder"?r+=`<a:lstStyle>${v1(e,!0)}</a:lstStyle>`:r+="<a:lstStyle/>",typeof e.text=="string"||typeof e.text=="number"?n.push({text:e.text.toString(),options:t||{}}):e.text&&!Array.isArray(e.text)&&typeof e.text=="object"&&Object.keys(e.text).includes("text")?n.push({text:e.text||"",options:e.options||{}}):Array.isArray(e.text)&&(n=e.text.map(o=>({text:o.text,options:o.options}))),n.forEach((o,c)=>{o.text||(o.text=""),o.options=o.options||t||{},c===0&&o.options&&!o.options.bullet&&t.bullet&&(o.options.bullet=t.bullet),(typeof o.text=="string"||typeof o.text=="number")&&(o.text=o.text.toString().replace(/\r*\n/g,Br)),o.text.includes(Br)&&o.text.match(/\n$/g)===null?o.text.split(Br).forEach(s=>{o.options.breakLine=!0,i.push({text:s,options:o.options})}):i.push(o)});const a=[];let l=[];return i.forEach((o,c)=>{l.length>0&&(o.options.align||t.align)?o.options.align!==i[c-1].options.align&&(a.push(l),l=[]):l.length>0&&o.options.bullet&&l.length>0&&(a.push(l),l=[],o.options.breakLine=!1),l.push(o),l.length>0&&o.options.breakLine&&c+1<i.length&&(a.push(l),l=[]),c+1===i.length&&a.push(l)}),a.forEach(o=>{var c;let s=!1;r+="<a:p>";let d=`<a:pPr ${!((c=o[0].options)===null||c===void 0)&&c.rtlMode?' rtl="1" ':""}`;o.forEach((u,f)=>{u.options._lineIdx=f,f>0&&u.options.softBreakBefore&&(r+="<a:br/>"),u.options.align=u.options.align||t.align,u.options.lineSpacing=u.options.lineSpacing||t.lineSpacing,u.options.lineSpacingMultiple=u.options.lineSpacingMultiple||t.lineSpacingMultiple,u.options.indentLevel=u.options.indentLevel||t.indentLevel,u.options.paraSpaceBefore=u.options.paraSpaceBefore||t.paraSpaceBefore,u.options.paraSpaceAfter=u.options.paraSpaceAfter||t.paraSpaceAfter,d=v1(u,!1),r+=d.replace("<a:pPr></a:pPr>",""),Object.entries(t).filter(([h])=>!(u.options.hyperlink&&h==="color")).forEach(([h,g])=>{h!=="bullet"&&!u.options[h]&&(u.options[h]=g)}),r+=gL(u),(!u.text&&t.fontSize||u.options.fontSize)&&(s=!0,t.fontSize=t.fontSize||u.options.fontSize)}),e._type===Kt.tablecell&&(t.fontSize||t.fontFace)?t.fontFace?(r+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0">',r+=`<a:latin typeface="${t.fontFace}" charset="0"/>`,r+=`<a:ea typeface="${t.fontFace}" charset="0"/>`,r+=`<a:cs typeface="${t.fontFace}" charset="0"/>`,r+="</a:endParaRPr>"):r+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':s?r+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':r+=`<a:endParaRPr lang="${t.lang||"en-US"}" dirty="0"/>`,r+="</a:p>"}),r.indexOf("<a:p>")===-1&&(r+="<a:p><a:endParaRPr/></a:p>"),r+=e._type===Kt.tablecell?"</a:txBody>":"</p:txBody>",r}function Zc(e){var t,n;if(!e)return"";const i=!((t=e.options)===null||t===void 0)&&t._placeholderIdx?e.options._placeholderIdx:"",r=!((n=e.options)===null||n===void 0)&&n._placeholderType?e.options._placeholderType:"",a=r&&Sl[r]?Sl[r].toString():"";return`<p:ph
		${i?' idx="'+i.toString()+'"':""}
		${a&&Sl[a]?` type="${a}"`:""}
		${e.text&&e.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function yL(e,t,n){let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Br;return i+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',i+='<Default Extension="xml" ContentType="application/xml"/>',i+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',i+='<Default Extension="jpeg" ContentType="image/jpeg"/>',i+='<Default Extension="jpg" ContentType="image/jpg"/>',i+='<Default Extension="svg" ContentType="image/svg+xml"/>',i+='<Default Extension="png" ContentType="image/png"/>',i+='<Default Extension="gif" ContentType="image/gif"/>',i+='<Default Extension="m4v" ContentType="video/mp4"/>',i+='<Default Extension="mp4" ContentType="video/mp4"/>',e.forEach(r=>{(r._relsMedia||[]).forEach(a=>{a.type!=="image"&&a.type!=="online"&&a.type!=="chart"&&a.extn!=="m4v"&&!i.includes(a.type)&&(i+='<Default Extension="'+a.extn+'" ContentType="'+a.type+'"/>')})}),i+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',i+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',i+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',i+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',e.forEach((r,a)=>{i+=`<Override PartName="/ppt/slideMasters/slideMaster${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,i+=`<Override PartName="/ppt/slides/slide${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,r._relsChart.forEach(l=>{i+=`<Override PartName="${l.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),i+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',i+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',i+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',i+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',t.forEach((r,a)=>{i+=`<Override PartName="/ppt/slideLayouts/slideLayout${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(r._relsChart||[]).forEach(l=>{i+=' <Override PartName="'+l.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),e.forEach((r,a)=>{i+=`<Override PartName="/ppt/notesSlides/notesSlide${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),n._relsChart.forEach(r=>{i+=' <Override PartName="'+r.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),n._relsMedia.forEach(r=>{r.type!=="image"&&r.type!=="online"&&r.type!=="chart"&&r.extn!=="m4v"&&!i.includes(r.type)&&(i+=' <Default Extension="'+r.extn+'" ContentType="'+r.type+'"/>')}),i+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',i+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',i+="</Types>",i}function mL(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function vL(e,t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${e.length}</Slides>
	<Notes>${e.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${e.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${e.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${e.map((n,i)=>`<vt:lpstr>Slide ${i+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${t}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function bL(e,t,n,i){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${Vt(e)}</dc:title>
		<dc:subject>${Vt(t)}</dc:subject>
		<dc:creator>${Vt(n)}</dc:creator>
		<cp:lastModifiedBy>${Vt(n)}</cp:lastModifiedBy>
		<cp:revision>${i}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function wL(e){let t=1,n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Br;n+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',n+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let i=1;i<=e.length;i++)n+=`<Relationship Id="rId${++t}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${i}.xml"/>`;return t++,n+=`<Relationship Id="rId${t+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${t+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${t+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${t+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${t+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,n}function xL(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${e?.hidden?' show="0"':""}>${Rp(e)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function kL(e){let t="";return e._slideObjects.forEach(n=>{n._type===Kt.notes&&(t+=n?.text&&n.text[0]?n.text[0].text:"")}),t.replace(/\r*\n/g,Br)}function SL(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function CL(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${Vt(kL(e))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${fm}" type="slidenum"><a:rPr lang="en-US"/><a:t>${e._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function LL(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${Rp(e)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function PL(e,t){const n=t.map((r,a)=>`<p:sldLayoutId id="${Y8+a}" r:id="rId${e._rels.length+a+1}"/>`);let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Br;return i+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',i+=Rp(e),i+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',i+="<p:sldLayoutIdLst>"+n.join("")+"</p:sldLayoutIdLst>",i+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',i+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',i+="</p:sldMaster>",i}function ML(e,t){return $p(t[e-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function _L(e,t,n){return $p(e[n-1],[{target:`../slideLayouts/slideLayout${BL(e,t,n)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${n}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function NL(e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${e}.xml"/>
		</Relationships>`}function TL(e,t){const n=t.map((i,r)=>({target:`../slideLayouts/slideLayout${r+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return n.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),$p(e,n)}function IL(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function BL(e,t,n){for(let i=0;i<t.length;i++)if(t[i]._name===e[n-1]._slideLayout._name)return i+1;return 1}function DL(e){var t,n,i,r;const a=!((t=e.theme)===null||t===void 0)&&t.headFontFace?`<a:latin typeface="${(n=e.theme)===null||n===void 0?void 0:n.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',l=!((i=e.theme)===null||i===void 0)&&i.bodyFontFace?`<a:latin typeface="${(r=e.theme)===null||r===void 0?void 0:r.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${a}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${l}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function EL(e){let t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${e.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;t+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',t+="<p:sldIdLst>",e.slides.forEach(n=>t+=`<p:sldId id="${n._slideId}" r:id="rId${n._rId}"/>`),t+="</p:sldIdLst>",t+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${e.slides.length+2}"/></p:notesMasterIdLst>`,t+=`<p:sldSz cx="${e.presLayout.width}" cy="${e.presLayout.height}"/>`,t+=`<p:notesSz cx="${e.presLayout.height}" cy="${e.presLayout.width}"/>`,t+="<p:defaultTextStyle>";for(let n=1;n<10;n++)t+=`<a:lvl${n}pPr marL="${(n-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${n}pPr>`;return t+="</p:defaultTextStyle>",e.sections&&e.sections.length>0&&(t+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',t+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',e.sections.forEach(n=>{t+=`<p14:section name="${Vt(n.title)}" id="{${xd("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,n._slides.forEach(i=>t+=`<p14:sldId id="${i._slideId}"/>`),t+="</p14:sldIdLst></p14:section>"}),t+="</p14:sectionLst></p:ext>",t+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',t+="</p:extLst>"),t+="</p:presentation>",t}function RL(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function $L(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function FL(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Br}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const OL="4.0.1";class zL{set layout(t){const n=this.LAYOUTS[t];if(n)this._layout=t,this._presLayout=n;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(t){this._author=t}get author(){return this._author}set company(t){this._company=t}get company(){return this._company}set revision(t){this._revision=t}get revision(){return this._revision}set subject(t){this._subject=t}get subject(){return this._subject}set theme(t){this._theme=t}get theme(){return this._theme}set title(t){this._title=t}get title(){return this._title}set rtlMode(t){this._rtlMode=t}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=OL,this._alignH=Wf,this._alignV=jf,this._chartType=zf,this._outputType=Of,this._schemeColor=vi,this._shapeType=Uf,this._charts=yt,this._colors=Zd,this._shapes=oo,this.addNewSlide=a=>{const l=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(o=>o._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return a.sectionTitle=l?this.sections[this.sections.length-1].title:null,this.addSlide(a)},this.getSlide=a=>this.slides.filter(l=>l._slideNum===a)[0],this.setSlideNumber=a=>{this.masterSlide._slideNumberProps=a,this.slideLayouts.filter(l=>l._name===$f)[0]._slideNumberProps=a},this.createChartMediaRels=(a,l,o)=>{a._relsChart.forEach(c=>o.push(hL(c,l))),a._relsMedia.forEach(c=>{if(c.type!=="online"&&c.type!=="hyperlink"){let s=c.data&&typeof c.data=="string"?c.data:"";!s.includes(",")&&!s.includes(";")?s="image/png;base64,"+s:s.includes(",")?s.includes(";")||(s="image/png;"+s):s="image/png;base64,"+s,l.file(c.Target.replace("..","ppt"),s.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(a,l)=>wi(this,void 0,void 0,function*(){const o=document.createElement("a");if(o.setAttribute("style","display:none;"),o.dataset.interception="off",document.body.appendChild(o),window.URL.createObjectURL){const c=window.URL.createObjectURL(new Blob([l],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return o.href=c,o.download=a,o.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(o)},100),yield Promise.resolve(a)}}),this.exportPresentation=a=>wi(this,void 0,void 0,function*(){const l=[];let o=[];const c=new cm;return this.slides.forEach(s=>{o=o.concat(Ju(s))}),this.slideLayouts.forEach(s=>{o=o.concat(Ju(s))}),o=o.concat(Ju(this.masterSlide)),yield Promise.all(o).then(()=>wi(this,void 0,void 0,function*(){return this.slides.forEach(s=>{s._slideLayout&&cL(s)}),c.folder("_rels"),c.folder("docProps"),c.folder("ppt").folder("_rels"),c.folder("ppt/charts").folder("_rels"),c.folder("ppt/embeddings"),c.folder("ppt/media"),c.folder("ppt/slideLayouts").folder("_rels"),c.folder("ppt/slideMasters").folder("_rels"),c.folder("ppt/slides").folder("_rels"),c.folder("ppt/theme"),c.folder("ppt/notesMasters").folder("_rels"),c.folder("ppt/notesSlides").folder("_rels"),c.file("[Content_Types].xml",yL(this.slides,this.slideLayouts,this.masterSlide)),c.file("_rels/.rels",mL()),c.file("docProps/app.xml",vL(this.slides,this.company)),c.file("docProps/core.xml",bL(this.title,this.subject,this.author,this.revision)),c.file("ppt/_rels/presentation.xml.rels",wL(this.slides)),c.file("ppt/theme/theme1.xml",DL(this)),c.file("ppt/presentation.xml",EL(this)),c.file("ppt/presProps.xml",RL()),c.file("ppt/tableStyles.xml",$L()),c.file("ppt/viewProps.xml",FL()),this.slideLayouts.forEach((s,d)=>{c.file(`ppt/slideLayouts/slideLayout${d+1}.xml`,LL(s)),c.file(`ppt/slideLayouts/_rels/slideLayout${d+1}.xml.rels`,ML(d+1,this.slideLayouts))}),this.slides.forEach((s,d)=>{c.file(`ppt/slides/slide${d+1}.xml`,xL(s)),c.file(`ppt/slides/_rels/slide${d+1}.xml.rels`,_L(this.slides,this.slideLayouts,d+1)),c.file(`ppt/notesSlides/notesSlide${d+1}.xml`,CL(s)),c.file(`ppt/notesSlides/_rels/notesSlide${d+1}.xml.rels`,NL(d+1))}),c.file("ppt/slideMasters/slideMaster1.xml",PL(this.masterSlide,this.slideLayouts)),c.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",TL(this.masterSlide,this.slideLayouts)),c.file("ppt/notesMasters/notesMaster1.xml",SL()),c.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",IL()),this.slideLayouts.forEach(s=>{this.createChartMediaRels(s,c,l)}),this.slides.forEach(s=>{this.createChartMediaRels(s,c,l)}),this.createChartMediaRels(this.masterSlide,c,l),yield Promise.all(l).then(()=>wi(this,void 0,void 0,function*(){return a.outputType==="STREAM"?yield c.generateAsync({type:"nodebuffer",compression:a.compression?"DEFLATE":"STORE"}):a.outputType?yield c.generateAsync({type:a.outputType}):yield c.generateAsync({type:"blob",compression:a.compression?"DEFLATE":"STORE"})}))}))});const t={name:"screen4x3",width:9144e3,height:6858e3},n={name:"screen16x9",width:9144e3,height:5143500},i={name:"screen16x10",width:9144e3,height:5715e3},r={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:t,LAYOUT_16x9:n,LAYOUT_16x10:i,LAYOUT_WIDE:r},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[hs].name,_sizeW:this.LAYOUTS[hs].width,_sizeH:this.LAYOUTS[hs].height,width:this.LAYOUTS[hs].width,height:this.LAYOUTS[hs].height},this._rtlMode=!1,this._slideLayouts=[{_margin:Rl,_name:$f,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(t){return wi(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:t?.compression,outputType:"STREAM"})})}write(t){return wi(this,void 0,void 0,function*(){const n=typeof t=="object"&&t?.outputType?t.outputType:t||null,i=typeof t=="object"&&t?.compression?t.compression:!1;return yield this.exportPresentation({compression:i,outputType:n})})}writeFile(t){return wi(this,void 0,void 0,function*(){var n,i;const r=typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)&&((i=process.release)===null||i===void 0?void 0:i.name)==="node";typeof t=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),t={fileName:t});const{fileName:a="Presentation.pptx",compression:l=!1}=t,o=a.toLowerCase().endsWith(".pptx")?a:`${a}.pptx`,c=r?"nodebuffer":null,s=yield this.exportPresentation({compression:l,outputType:c});if(r){const{promises:d}=yield Ro(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),{writeFile:u}=d;return yield u(o,s),o}return yield this.writeFileToBrowser(o,s),o})}addSection(t){t?t.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const n={_type:"user",_slides:[],title:t.title};t.order?this.sections.splice(t.order,0,n):this._sections.push(n)}addSlide(t){const n=typeof t=="string"?t:t?.masterName?t.masterName:"";let i={_name:this.LAYOUTS[hs].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(n){const a=this.slideLayouts.filter(l=>l._name===n)[0];a&&(i=a)}const r=new dL({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:i});if(this._slides.push(r),t?.sectionTitle){const a=this.sections.filter(l=>l.title===t.sectionTitle)[0];a?a._slides.push(r):console.warn(`addSlide: unable to find section with title: "${t.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!t?.sectionTitle){const a=this._sections[this.sections.length-1];a._type==="default"?a._slides.push(r):this._sections.push({title:`Default-${this.sections.filter(l=>l._type==="default").length+1}`,_type:"default",_slides:[r]})}return r}defineLayout(t){t?t.name?t.width?t.height?typeof t.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof t.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[t.name]={name:t.name,_sizeW:Math.round(Number(t.width)*tn),_sizeH:Math.round(Number(t.height)*tn),width:Math.round(Number(t.width)*tn),height:Math.round(Number(t.height)*tn)}}defineSlideMaster(t){const n=JSON.parse(JSON.stringify(t));if(!n.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const i={_margin:n.margin||Rl,_name:n.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:n.slideNumber||null,_slideObjects:[],background:n.background||null,bkgd:n.bkgd||null};aL(n,i),this.slideLayouts.push(i),(n.background||n.bkgd)&&ym(n.background,i),i._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=i._slideNumberProps)}tableToSlides(t,n={}){rL(this,t,n,n?.masterSlideName?this.slideLayouts.filter(i=>i._name===n.masterSlideName)[0]:null)}}const vm=async(e,t,n)=>{let i=w.elements;if(n){if(w.selection.length===0)return;i=i.filter(p=>w.selection.includes(p.id))}if(i.length===0)return;let r=1/0,a=1/0,l=-1/0,o=-1/0;i.forEach(p=>{r=Math.min(r,p.x),a=Math.min(a,p.y),l=Math.max(l,p.x+p.width),o=Math.max(o,p.y+p.height)});const c=20,s=l-r+c*2,d=o-a+c*2,u=document.createElement("canvas");u.width=s*e,u.height=d*e;const f=u.getContext("2d");if(!f)return;t&&(f.fillStyle="#ffffff",f.fillRect(0,0,u.width,u.height)),f.scale(e,e),f.translate(-r+c,-a+c);const h=no.canvas(u);i.forEach(p=>{ro(h,f,p)});const g=document.createElement("a");g.download="yappy_drawing.png",g.href=u.toDataURL("image/png"),g.click()},bm=e=>{let t=w.elements;if(e){if(w.selection.length===0)return;t=t.filter(A=>w.selection.includes(A.id))}if(t.length===0)return;let n=1/0,i=1/0,r=-1/0,a=-1/0;t.forEach(A=>{n=Math.min(n,A.x),i=Math.min(i,A.y),r=Math.max(r,A.x+A.width),a=Math.max(a,A.y+A.height)});const l=20,o=r-n+l*2,c=a-i+l*2,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",`${o}`),s.setAttribute("height",`${c}`),s.setAttribute("viewBox",`0 0 ${o} ${c}`),s.style.backgroundColor="#ffffff";const d=no.svg(s),u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("transform",`translate(${-n+l}, ${-i+l})`),s.appendChild(u),t.forEach(A=>{let v=null;const x={seed:A.seed,roughness:A.roughness,stroke:A.strokeColor,strokeWidth:A.strokeWidth,fill:A.backgroundColor==="transparent"?void 0:A.backgroundColor,fillStyle:A.fillStyle,strokeLineDash:A.strokeStyle==="dashed"?[10,10]:A.strokeStyle==="dotted"?[5,10]:void 0};if(A.type==="rectangle")v=d.rectangle(A.x,A.y,A.width,A.height,x);else if(A.type==="circle")v=d.ellipse(A.x+A.width/2,A.y+A.height/2,Math.abs(A.width),Math.abs(A.height),x);else if(A.type==="line"||A.type==="arrow"){const C=A.x+A.width,_=A.y+A.height;if(A.type==="arrow"){const F=document.createElementNS("http://www.w3.org/2000/svg","g");F.appendChild(d.line(A.x,A.y,C,_,x));const O=Math.atan2(A.height,A.width),E=15,I={x:C-E*Math.cos(O-Math.PI/6),y:_-E*Math.sin(O-Math.PI/6)},q={x:C-E*Math.cos(O+Math.PI/6),y:_-E*Math.sin(O+Math.PI/6)};F.appendChild(d.line(C,_,I.x,I.y,x)),F.appendChild(d.line(C,_,q.x,q.y,x)),v=F}else v=d.line(A.x,A.y,C,_,x)}else if(A.type==="text"&&A.text){const C=document.createElementNS("http://www.w3.org/2000/svg","text");C.textContent=A.text,C.setAttribute("x",`${A.x}`),C.setAttribute("y",`${A.y+(A.fontSize||20)}`),C.setAttribute("fill",A.strokeColor),C.setAttribute("font-family","sans-serif"),C.setAttribute("font-size",`${A.fontSize||20}px`),v=C}else if((A.type==="fineliner"||A.type==="inkbrush"||A.type==="marker")&&A.points){let C=[];if(A.pointsEncoding==="flat"){const _=A.points;for(let F=0;F<_.length;F+=2)C.push({x:_[F],y:_[F+1]})}else C=A.points;if(C.length>1){const _=C.map(F=>[A.x+F.x,A.y+F.y]);v=d.curve(_,x)}}else if(A.type==="image"&&A.dataURL){const C=document.createElementNS("http://www.w3.org/2000/svg","image");C.setAttribute("href",A.dataURL),C.setAttribute("x",`${A.x}`),C.setAttribute("y",`${A.y}`),C.setAttribute("width",`${A.width}`),C.setAttribute("height",`${A.height}`),v=C}if(v){if(v.setAttribute("opacity",`${(A.opacity??100)/100}`),A.angle){const C=A.x+A.width/2,_=A.y+A.height/2;v.setAttribute("transform",`rotate(${A.angle*(180/Math.PI)}, ${C}, ${_})`)}u.appendChild(v)}});const h=new XMLSerializer().serializeToString(s),g=new Blob([h],{type:"image/svg+xml"}),p=URL.createObjectURL(g),y=document.createElement("a");y.download="yappy_drawing.svg",y.href=p,y.click()},UL=async(e,t,n)=>{const i=w.elements;if(i.length===0)return;if(w.docType==="slides"&&w.slides.length>0&&!n){const a=[...w.slides].sort((u,f)=>u.order-f.order),l=a[0],{width:o,height:c}=l.dimensions,s=o>=c?"landscape":"portrait",d=new qt({orientation:s,unit:"px",format:[o,c],hotfixes:["px_scaling"]});for(let u=0;u<a.length;u++){const f=a[u],{width:h,height:g}=f.dimensions,{x:p,y}=f.spatialPosition,A=i.filter(F=>{const O=F.x+F.width/2,E=F.y+F.height/2;return O>=p&&O<=p+h&&E>=y&&E<=y+g}),v=document.createElement("canvas");v.width=h*e,v.height=g*e;const x=v.getContext("2d");if(!x)continue;t&&(x.fillStyle=f.backgroundColor||"#ffffff",x.fillRect(0,0,v.width,v.height)),x.scale(e,e),x.translate(-p,-y);const C=no.canvas(v);if(A.forEach(F=>{ro(C,x,F)}),u>0){const F=h>=g?"landscape":"portrait";d.addPage([h,g],F)}const _=v.toDataURL("image/jpeg",.92);d.addImage(_,"JPEG",0,0,h,g)}d.save("yappy_drawing.pdf")}else{let a=i;if(n){if(w.selection.length===0)return;a=a.filter(x=>w.selection.includes(x.id))}if(a.length===0)return;let l=1/0,o=1/0,c=-1/0,s=-1/0;a.forEach(x=>{l=Math.min(l,x.x),o=Math.min(o,x.y),c=Math.max(c,x.x+x.width),s=Math.max(s,x.y+x.height)});const d=20,u=c-l+d*2,f=s-o+d*2,h=document.createElement("canvas");h.width=u*e,h.height=f*e;const g=h.getContext("2d");if(!g)return;t&&(g.fillStyle="#ffffff",g.fillRect(0,0,h.width,h.height)),g.scale(e,e),g.translate(-l+d,-o+d);const p=no.canvas(h);a.forEach(x=>{ro(p,g,x)});const y=u>=f?"landscape":"portrait",A=new qt({orientation:y,unit:"px",format:[u,f],hotfixes:["px_scaling"]}),v=h.toDataURL("image/jpeg",.92);A.addImage(v,"JPEG",0,0,u,f),A.save("yappy_drawing.pdf")}},WL=async(e,t,n)=>{const i=w.elements;if(i.length===0)return;const r=new zL;if(w.docType==="slides"&&w.slides.length>0&&!n){const l=[...w.slides].sort((d,u)=>d.order-u.order),o=l[0],c=10,s=10*(o.dimensions.height/o.dimensions.width);r.defineLayout({name:"CUSTOM",width:c,height:s}),r.layout="CUSTOM";for(const d of l){const{width:u,height:f}=d.dimensions,{x:h,y:g}=d.spatialPosition,p=i.filter(F=>{const O=F.x+F.width/2,E=F.y+F.height/2;return O>=h&&O<=h+u&&E>=g&&E<=g+f}),y=document.createElement("canvas");y.width=u*e,y.height=f*e;const A=y.getContext("2d");if(!A)continue;t&&(A.fillStyle=d.backgroundColor||"#ffffff",A.fillRect(0,0,y.width,y.height)),A.scale(e,e),A.translate(-h,-g);const v=no.canvas(y);p.forEach(F=>{ro(v,A,F)});const x=10,C=10*(f/u);r.addSlide().addImage({data:y.toDataURL("image/png"),x:0,y:0,w:x,h:C})}}else{let l=i;if(n){if(w.selection.length===0)return;l=l.filter(C=>w.selection.includes(C.id))}if(l.length===0)return;let o=1/0,c=1/0,s=-1/0,d=-1/0;l.forEach(C=>{o=Math.min(o,C.x),c=Math.min(c,C.y),s=Math.max(s,C.x+C.width),d=Math.max(d,C.y+C.height)});const u=20,f=s-o+u*2,h=d-c+u*2,g=document.createElement("canvas");g.width=f*e,g.height=h*e;const p=g.getContext("2d");if(!p)return;t&&(p.fillStyle="#ffffff",p.fillRect(0,0,g.width,g.height)),p.scale(e,e),p.translate(-o+u,-c+u);const y=no.canvas(g);l.forEach(C=>{ro(y,p,C)});const A=10,v=10*(h/f);r.defineLayout({name:"CUSTOM",width:A,height:v}),r.layout="CUSTOM",r.addSlide().addImage({data:g.toDataURL("image/png"),x:0,y:0,w:A,h:v})}await r.writeFile({fileName:"yappy_drawing.pptx"})};class jL{mediaRecorder=null;chunks=[];stream=null;canvas;onStopCallback=null;constructor(t){this.canvas=t}start(t="webm"){try{this.stream=this.canvas.captureStream(60);let n="video/webm;codecs=vp9";return t==="mp4"&&(MediaRecorder.isTypeSupported("video/mp4")?n="video/mp4":MediaRecorder.isTypeSupported("video/webm;codecs=h264")&&(n="video/webm;codecs=h264")),MediaRecorder.isTypeSupported(n)||(console.warn(`Mime type ${n} not supported, falling back to default.`),n=""),this.mediaRecorder=new MediaRecorder(this.stream,n?{mimeType:n}:void 0),this.chunks=[],this.mediaRecorder.ondataavailable=i=>{i.data.size>0&&this.chunks.push(i.data)},this.mediaRecorder.onstop=()=>{this.saveFile(),this.onStopCallback&&this.onStopCallback(),this.cleanup()},this.mediaRecorder.start(),!0}catch(n){return console.error("Failed to start recording:",n),!1}}stop(t){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&(this.onStopCallback=t||null,this.mediaRecorder.stop())}saveFile(){if(this.chunks.length===0)return;const t=new Blob(this.chunks,{type:this.mediaRecorder?.mimeType||"video/webm"}),n=URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=n;const r=t.type.includes("mp4")?"mp4":"webm",a=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);i.download=`yappy-recording-${a}.${r}`,document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),window.URL.revokeObjectURL(n)},100)}cleanup(){this.stream&&(this.stream.getTracks().forEach(t=>t.stop()),this.stream=null),this.mediaRecorder=null,this.chunks=[]}}var qL=Ne("<div class=recording-overlay><div class=recording-indicator><div class=pulse-dot></div><span class=recording-text>REC</span></div><div class=recording-timer></div><button class=stop-btn><span>Stop");const XL=e=>{const[t,n]=Pt(0);qi(()=>{const r=setInterval(()=>{n(a=>a+1)},1e3);jn(()=>clearInterval(r))});const i=r=>{const a=Math.floor(r/60),l=r%60;return`${a}:${l.toString().padStart(2,"0")}`};return(()=>{var r=qL(),a=r.firstChild,l=a.nextSibling,o=l.nextSibling,c=o.firstChild;return ee(l,()=>i(t())),wn(o,"click",e.onStop,!0),ee(o,$(Ul,{size:16,fill:"white",strokeWidth:0}),c),r})()};Cn(["click"]);var GL=Ne("<canvas style=display:block;touch-action:none;user-select:none>"),HL=Ne("<div style=position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0>"),YL=Ne('<div style=position:fixed;bottom:30px;left:50%;transform:translateX(-50%);z-index:100><button style="background-color:white;border:1px solid #e5e7eb;padding:8px 16px;border-radius:9999px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1);cursor:pointer;color:#3b82f6;font-weight:500;font-size:14px;transition:all 0.2s">Scroll back to content'),VL=Ne('<textarea style="position:absolute;transform:translate(-50%, -50%);background:transparent;border:1px dashed #007acc;outline:none;margin:0;padding:4px;resize:none;overflow:hidden;min-width:50px;min-height:1em">');const[QL,wm]=Pt(null),JL=()=>{Dn(()=>{const S=w.selection;if(S.length>0){let oe=null,Me=-1/0;S.forEach(Ae=>{const we=w.elements.find(fe=>fe.id===Ae);if(we){const fe=w.layers.find(X=>X.id===we.layerId);fe&&fe.order>Me&&(Me=fe.order,oe=fe.id)}}),oe&&oe!==Kr(()=>w.activeLayerId)&&Jl(oe)}}),Dn(()=>{if(!e)return;const S=e.getContext("2d");S&&w.elements.forEach(oe=>{const Me=oe.type==="line"||oe.type==="arrow";if(oe.isSelected&&oe.autoResize&&oe.containerText&&!Me){oe.fontSize,oe.fontFamily,oe.fontWeight,oe.fontStyle,oe.containerText;const Ae=Q0(S,oe,oe.containerText);(Math.abs(Ae.width-oe.width)>2||Math.abs(Ae.height-oe.height)>2)&&Kr(()=>bt(oe.id,{width:Ae.width,height:Ae.height}))}})});let e,t=null;Dn(()=>{const S=QL();S&&S.start&&(r(S.format||"webm"),wm(null))});const n=()=>{if(!e)return;const S=w.slides[w.activeSlideIndex];if(!S)return;const{width:oe,height:Me}=S.dimensions,{x:Ae,y:we}=S.spatialPosition;if(oe===0||Me===0)return;const fe=document.createElement("canvas"),X=320,Ue=X*Me/oe;fe.width=X,fe.height=Ue;const He=fe.getContext("2d");if(!He)return;const Xe=X/oe;He.save(),He.scale(Xe,Xe),He.translate(-Ae,-we);const Ee=w.theme==="dark";He.fillStyle=S.backgroundColor||(Ee?"#121212":"#ffffff"),He.fillRect(Ae,we,oe,Me);const Ye=no.canvas(fe);[...w.layers].sort((Je,vt)=>Je.order-vt.order).forEach(Je=>{if(!ka(Je.id))return;w.elements.filter(pt=>pt.layerId===Je.id).forEach(pt=>{const ft=Je?.opacity??1;ro(Ye,He,pt,Ee,ft)})}),He.restore();const qe=fe.toDataURL("image/jpeg",.6);h4(w.activeSlideIndex,qe)};let i;Dn(()=>{w.activeSlideIndex,w.elements,window.clearTimeout(i),i=window.setTimeout(()=>{Kr(()=>n())},1e3)});const r=S=>{if(!e){console.error("[DEBUG] Canvas: No canvasRef available");return}t||(console.log("[DEBUG] Canvas: Initializing VideoRecorder"),t=new jL(e)),console.log("[DEBUG] Canvas: Starting recorder...");const oe=t.start(S);console.log("[DEBUG] Canvas: Recorder start returned:",oe),oe?(xe("isRecording",!0),Hn("Recording started...","info")):Hn("Failed to start recording","error")},a=()=>{t&&t.stop(()=>{xe("isRecording",!1),Hn("Recording saved!","success")})};let l=!1,o=null,c=0,s=0;const[d,u]=Pt(null),[f,h]=Pt("containerText"),[g,p]=Pt("");let y,A=!1,v=!1,x=null;const[C,_]=Pt(null);let F=new Map;const[O,E]=Pt(null),[I,q]=Pt([]),[R,P]=Pt([]);let D=null,k=null,U=0,ce=0,Q=0,ae=0,ie=20,Se=0;const ne=16;let N=[],H=!1,V=0;const te=8,ge=800,Ce=100;let Pe=[],pe=0;const _e=16;let Oe=!1;const ht=()=>{if(!o||Pe.length===0)return;const S=w.elements.find(oe=>oe.id===o);if(S&&S.points){const Ae={points:[...S.points,...Pe]};S.type==="ink"&&(Ae.ttl=Date.now()+3e3),bt(o,Ae,!1),Pe=[]}},et=()=>{e&&(e.width=window.innerWidth,e.height=window.innerHeight,Ie())},[B,z]=Pt("default"),[ve,se]=Pt(!1),[K,le]=Pt({x:0,y:0});function Ie(){if(!e)return;const S=e.getContext("2d");if(!S)return;window.yappyGlobalTime=df();const oe=performance.now();S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,e.width,e.height);const Me=Date.now();if(N.length>0){let be=0;for(let Fe=0;Fe<N.length;Fe++)Me-N[Fe].timestamp<ge&&(N[be++]=N[Fe]);N.length=be}const Ae=w.theme==="dark",we=Ae?"#1a1a1b":"#e2e8f0";S.fillStyle=we,S.fillRect(0,0,e.width,e.height);const{scale:fe,panX:X,panY:Ue}=w.viewState;if(S.save(),S.translate(X,Ue),S.scale(fe,fe),w.docType==="slides"){const be=w.slides[w.activeSlideIndex];if(be){const{width:Fe,height:Z}=be.dimensions,{x:at,y:gt}=be.spatialPosition;S.save(),S.shadowColor=Ae?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.15)",S.shadowBlur=40,S.shadowOffsetY=10,S.fillStyle="black",S.fillRect(at,gt,Fe,Z),S.restore();const rt=be.backgroundColor||(Ae?"#121212":"#ffffff");S.fillStyle=rt,S.fillRect(at,gt,Fe,Z)}}else w.docType==="infinite"&&w.slides.length>1&&w.slides.forEach((be,Fe)=>{const{width:Z,height:at}=be.dimensions,{x:gt,y:rt}=be.spatialPosition;S.save(),S.strokeStyle=Ae?"rgba(100,149,237,0.4)":"rgba(70,130,180,0.3)",S.lineWidth=2,S.setLineDash([10,5]),S.strokeRect(gt,rt,Z,at),S.setLineDash([]),S.restore(),S.fillStyle=Ae?"rgba(100,149,237,0.03)":"rgba(70,130,180,0.02)",S.fillRect(gt,rt,Z,at),S.save();const kt=`Slide ${Fe+1}`,It=Math.max(14,16/fe);S.font=`${It}px Inter, sans-serif`,S.fillStyle=Ae?"rgba(100,149,237,0.6)":"rgba(70,130,180,0.5)";const mt=8,Rt=S.measureText(kt),St=It+mt*2,fn=Rt.width+mt*2;S.fillStyle=Ae?"rgba(30,30,30,0.8)":"rgba(255,255,255,0.9)",S.fillRect(gt,rt,fn,St),S.strokeStyle=Ae?"rgba(100,149,237,0.4)":"rgba(70,130,180,0.3)",S.lineWidth=1,S.strokeRect(gt,rt,fn,St),S.fillStyle=Ae?"rgba(100,149,237,0.8)":"rgba(70,130,180,0.7)",S.fillText(kt,gt+mt,rt+It+mt/2),S.restore()});if(S.restore(),w.canvasTexture!=="none"){const be=w.canvasTexture;if(S.save(),S.setTransform(1,0,0,1,0,0),be==="dots"||be==="grid"||be==="graph"){const Fe=be==="graph"?40:20,Z=Fe/4,at=Ae?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",gt=Ae?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.03)",rt=Ae?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.07)",kt=X%(Fe*fe),It=Ue%(Fe*fe);if(be==="dots"){S.fillStyle=at;for(let mt=kt;mt<e.width;mt+=Fe*fe)for(let Rt=It;Rt<e.height;Rt+=Fe*fe)S.beginPath(),S.arc(mt,Rt,1,0,Math.PI*2),S.fill()}else if(be==="grid"){S.strokeStyle=gt,S.lineWidth=1,S.beginPath();for(let mt=kt;mt<e.width;mt+=Fe*fe)S.moveTo(mt,0),S.lineTo(mt,e.height);for(let mt=It;mt<e.height;mt+=Fe*fe)S.moveTo(0,mt),S.lineTo(e.width,mt);S.stroke()}else if(be==="graph"){S.strokeStyle=gt,S.lineWidth=.5,S.beginPath();for(let mt=X%(Z*fe);mt<e.width;mt+=Z*fe)S.moveTo(mt,0),S.lineTo(mt,e.height);for(let mt=Ue%(Z*fe);mt<e.height;mt+=Z*fe)S.moveTo(0,mt),S.lineTo(e.width,mt);S.stroke(),S.strokeStyle=rt,S.lineWidth=1,S.beginPath();for(let mt=kt;mt<e.width;mt+=Fe*fe)S.moveTo(mt,0),S.lineTo(mt,e.height);for(let mt=It;mt<e.height;mt+=Fe*fe)S.moveTo(0,mt),S.lineTo(e.width,mt);S.stroke()}}S.restore()}if(S.save(),S.translate(X,Ue),S.scale(fe,fe),w.gridSettings.enabled){const be=w.gridSettings.gridSize;let Fe=w.gridSettings.gridColor;Ae&&Fe==="#e0e0e0"&&(Fe="#333333");const Z=w.gridSettings.gridOpacity,at=w.gridSettings.style||"lines";S.save(),S.setTransform(1,0,0,1,0,0),S.strokeStyle=Fe,S.fillStyle=Fe,S.globalAlpha=Z,S.lineWidth=1;const gt=Math.floor(-X/fe/be)*be,rt=Math.ceil((e.width-X)/fe/be)*be,kt=Math.floor(-Ue/fe/be)*be,It=Math.ceil((e.height-Ue)/fe/be)*be;if(at==="lines"){S.beginPath();for(let mt=gt;mt<=rt;mt+=be){const Rt=mt*fe+X;S.moveTo(Rt,0),S.lineTo(Rt,e.height)}for(let mt=kt;mt<=It;mt+=be){const Rt=mt*fe+Ue;S.moveTo(0,Rt),S.lineTo(e.width,Rt)}S.stroke()}else{!Ae&&at==="dots"&&(Fe==="#e0e0e0"||Fe==="#fafafa")&&(S.fillStyle="#b0b0b0");for(let Rt=gt;Rt<=rt;Rt+=be)for(let St=kt;St<=It;St+=be){const fn=Rt*fe+X,sr=St*fe+Ue;fn>=-3&&fn<=e.width+3&&sr>=-3&&sr<=e.height+3&&(S.beginPath(),S.arc(fn,sr,3/2,0,Math.PI*2),S.fill())}}S.restore()}const He={minX:-X/fe,maxX:(e.width-X)/fe,minY:-Ue/fe,maxY:(e.height-Ue)/fe},Xe=(He.maxX-He.minX)*.1,Ee=(He.maxY-He.minY)*.1,Ye=[...w.layers].sort((be,Fe)=>be.order-Fe.order);let Ve=0;const qe=new Map;for(const be of w.elements)qe.set(be.id,be);const Je=no.canvas(e);if(Ye.forEach(be=>{if(!ka(be.id))return;if(be.backgroundColor&&be.backgroundColor!=="transparent"){S.save(),S.globalAlpha=be.opacity,S.fillStyle=be.backgroundColor;const Z=1e6;S.fillRect(-Z,-Z,Z*2,Z*2),S.restore()}const Fe=w.elements.filter(Z=>{if(Z.layerId!==be.id)return!1;if(Z.id===o)return!0;if(ps(Z,w.elements,qe))return!1;if(Z.type==="line"||Z.type==="arrow"||Z.type==="bezier"){if(Z.startBinding){const kt=qe.get(Z.startBinding.elementId);if(kt&&ps(kt,w.elements,qe))return!1}if(Z.endBinding){const kt=qe.get(Z.endBinding.elementId);if(kt&&ps(kt,w.elements,qe))return!1}}const at=Math.abs(Z.width)*fe,gt=Math.abs(Z.height)*fe;if(at<1&&gt<1)return!1;const rt=Math.max(Math.abs(Z.width),Math.abs(Z.height))*.5;return!(Z.x+Z.width+rt<He.minX-Xe||Z.x-rt>He.maxX+Xe||Z.y+Z.height+rt<He.minY-Ee||Z.y-rt>He.maxY+Ee)});Ve+=Fe.length,Fe.forEach(Z=>{let at=Z.x+Z.width/2,gt=Z.y+Z.height/2;if(w.docType==="slides"){const rt=w.slides[w.activeSlideIndex];if(rt){const{x:kt,y:It}=rt.spatialPosition,{width:mt,height:Rt}=rt.dimensions;if(!(at>=kt&&at<=kt+mt&&gt>=It&&gt<=It+Rt))return}}if(Z.type!=="text"||d()!==Z.id){const rt=be?.opacity??1;ro(Je,S,Z,Ae,rt)}if(w.selection.includes(Z.id)){const rt=Nl(Z.id),kt=rt?rt.x:Z.x,It=rt?rt.y:Z.y,mt=rt?rt.width:Z.width,Rt=rt?rt.height:Z.height,St=rt?rt.angle:Z.angle,fn=kt+mt/2,sr=It+Rt/2;S.save(),St&&(S.translate(fn,sr),S.rotate(St),S.translate(-fn,-sr)),S.strokeStyle="#3b82f6",S.lineWidth=1/fe;const Wt=2/fe;if(Z.type!=="line"&&Z.type!=="arrow"&&Z.type!=="bezier"&&Z.type!=="organicBranch")S.strokeRect(kt-Wt,It-Wt,mt+Wt*2,Rt+Wt*2);else if(Z.type==="organicBranch"&&Z.points&&Z.points.length>=2&&Z.controlPoints&&Z.controlPoints.length>=2){const mn=Jn(Z.points);if(mn.length>=2){const Un={x:Z.x+mn[0].x,y:Z.y+mn[0].y},Kn={x:Z.x+mn[mn.length-1].x,y:Z.y+mn[mn.length-1].y},lr=F0(Un,Kn,Z.controlPoints[0],Z.controlPoints[1],Z.strokeWidth);S.save(),S.strokeStyle="#3b82f6",S.lineWidth=2/fe,S.beginPath(),S.moveTo(lr[0].x,lr[0].y);for(let Pn=1;Pn<lr.length;Pn++)S.lineTo(lr[Pn].x,lr[Pn].y);S.closePath(),S.stroke(),S.restore()}}if(w.selection.length===1){const mn=8/fe;if(S.fillStyle="#ffffff",S.strokeStyle="#3b82f6",S.lineWidth=2/fe,Z.type==="line"||Z.type==="arrow"||Z.type==="bezier"||Z.type==="organicBranch"){let Un=kt,Kn=It,lr=kt+mt,Pn=It+Rt;if(Z.type==="organicBranch"&&Z.points&&Z.points.length>=2){const Yn=Jn(Z.points);Yn.length>=2&&(Un=Z.x+Yn[0].x,Kn=Z.y+Yn[0].y,lr=Z.x+Yn[Yn.length-1].x,Pn=Z.y+Yn[Yn.length-1].y)}[{x:Un,y:Kn},{x:lr,y:Pn}].forEach(Yn=>{S.beginPath(),S.arc(Yn.x,Yn.y,mn/1.5,0,Math.PI*2),S.fill(),S.stroke()})}else{[{x:kt-Wt,y:It-Wt},{x:kt+mt+Wt,y:It-Wt},{x:kt+mt+Wt,y:It+Rt+Wt},{x:kt-Wt,y:It+Rt+Wt},{x:kt+mt/2,y:It-Wt},{x:kt+mt+Wt,y:It+Rt/2},{x:kt+mt/2,y:It+Rt+Wt},{x:kt-Wt,y:It+Rt/2}].forEach(lr=>{S.fillRect(lr.x-mn/2,lr.y-mn/2,mn,mn),S.strokeRect(lr.x-mn/2,lr.y-mn/2,mn,mn)});const Kn={x:Z.x+Z.width/2,y:Z.y-Wt-20/fe};S.beginPath(),S.moveTo(Z.x+Z.width/2,Z.y-Wt),S.lineTo(Kn.x,Kn.y),S.stroke(),S.beginPath(),S.arc(Kn.x,Kn.y,mn/2,0,Math.PI*2),S.fill(),S.stroke()}}if(w.elements.some(mn=>mn.parentId===Z.id)&&Z.type!=="line"&&Z.type!=="arrow"){const mn=14/fe,Un=Z.x+Z.width+15/fe,Kn=Z.y+Z.height/2;S.beginPath(),S.arc(Un,Kn,mn/2,0,Math.PI*2),S.fillStyle=Z.isCollapsed?"#10b981":Ae?"#333":"#fff",S.fill(),S.strokeStyle="#10b981",S.lineWidth=2/fe,S.stroke(),S.beginPath(),S.strokeStyle=Z.isCollapsed?"#fff":"#10b981",S.lineWidth=2/fe,S.moveTo(Un-mn/4,Kn),S.lineTo(Un+mn/4,Kn),Z.isCollapsed&&(S.moveTo(Un,Kn-mn/4),S.lineTo(Un,Kn+mn/4)),S.stroke()}S.restore()}if(Z.isCollapsed&&!w.selection.includes(Z.id)){S.save(),Z.angle&&(S.translate(at,gt),S.rotate(Z.angle),S.translate(-at,-gt)),S.shadowBlur=10/fe,S.shadowColor="#10b981",S.strokeStyle="#10b981",S.lineWidth=1/fe;const rt=1/fe;S.strokeRect(Z.x-rt,Z.y-rt,Z.width+rt*2,Z.height+rt*2),S.restore()}if(w.selection.includes(Z.id)&&(Z.type==="isometricCube"||Z.type==="star"||Z.type==="burst"||Z.type==="solidBlock"||Z.type==="perspectiveBlock"||Z.type==="cylinder")){const rt=10/fe;let kt=0,It=0;if(Z.type==="isometricCube"){const mt=(Z.shapeRatio!==void 0?Z.shapeRatio:25)/100,Rt=(Z.sideRatio!==void 0?Z.sideRatio:50)/100,St=Z.height*mt;It=Z.y+St,kt=Z.x+Z.width*Rt}else if(Z.type==="solidBlock"||Z.type==="cylinder"){const mt=Z.depth!==void 0?Z.depth:50,Rt=(Z.viewAngle!==void 0?Z.viewAngle:45)*Math.PI/180,St=Z.x+Z.width/2,fn=Z.y+Z.height/2;kt=St+mt*Math.cos(Rt),It=fn+mt*Math.sin(Rt)}else if(Z.type==="perspectiveBlock"){const mt=Z.depth!==void 0?Z.depth:50,Rt=(Z.viewAngle!==void 0?Z.viewAngle:45)*Math.PI/180,St=Z.taper!==void 0?Z.taper:0,fn=(Z.skewX!==void 0?Z.skewX:0)*Z.width,sr=(Z.skewY!==void 0?Z.skewY:0)*Z.height,Wt=Z.x+Z.width/2,wr=Z.y+Z.height/2,mn=mt*Math.cos(Rt)+fn,Un=mt*Math.sin(Rt)+sr,Kn=1-St,lr=Z.width/2*Kn,Pn=Z.height/2*Kn,Ia=1-(Z.frontTaper||0),Yn=Z.width/2*Ia,Ei=Z.height/2*Ia,aa=(Z.frontSkewX||0)*Z.width,Dr=(Z.frontSkewY||0)*Z.height,fr=[{x:Wt+mn,y:wr+Un,type:"depth"},{x:Wt+mn-lr,y:wr+Un-Pn,type:"bTL"},{x:Wt+mn+lr,y:wr+Un-Pn,type:"bTR"},{x:Wt+mn+lr,y:wr+Un+Pn,type:"bBR"},{x:Wt+mn-lr,y:wr+Un+Pn,type:"bBL"},{x:Wt+aa-Yn,y:wr+Dr-Ei,type:"fTL"},{x:Wt+aa+Yn,y:wr+Dr-Ei,type:"fTR"},{x:Wt+aa+Yn,y:wr+Dr+Ei,type:"fBR"},{x:Wt+aa-Yn,y:wr+Dr+Ei,type:"fBL"}];S.strokeStyle="#ffffff",S.lineWidth=1.5/fe;for(const Zr of fr)Zr.type==="depth"?S.fillStyle="#f59e0b":Zr.type.startsWith("b")?S.fillStyle="#3b82f6":S.fillStyle="#10b981",S.beginPath(),S.arc(Zr.x,Zr.y,rt/2,0,Math.PI*2),S.fill(),S.stroke();return}else if(Z.type==="star"||Z.type==="burst"){const mt=(Z.shapeRatio!==void 0?Z.shapeRatio:25)/100;kt=Z.x+Z.width/2,It=Z.y+Z.height*mt}S.fillStyle="#f59e0b",S.strokeStyle="#ffffff",S.lineWidth=1.5/fe,S.beginPath(),S.arc(kt,It,rt/2,0,Math.PI*2),S.fill(),S.stroke()}if(w.selection.includes(Z.id)){if((Z.type==="line"||Z.type==="arrow"||Z.type==="bezier"||Z.type==="organicBranch")&&Z.controlPoints&&w.selectedTool==="selection"){const rt=10/fe;if(Z.controlPoints.length===1){const kt=Z.controlPoints[0];let It={x:Z.x,y:Z.y},mt={x:Z.x+Z.width,y:Z.y+Z.height};if(Z.points&&Z.points.length>=2){const fn=Jn(Z.points);fn.length>0&&(It={x:Z.x+fn[0].x,y:Z.y+fn[0].y},mt={x:Z.x+fn[fn.length-1].x,y:Z.y+fn[fn.length-1].y})}const Rt=.25*It.x+.5*kt.x+.25*mt.x,St=.25*It.y+.5*kt.y+.25*mt.y;S.fillStyle="#3b82f6",S.strokeStyle="#ffffff",S.lineWidth=1.5/fe,S.beginPath(),S.arc(Rt,St,rt/2,0,Math.PI*2),S.fill(),S.stroke()}else Z.controlPoints.forEach(kt=>{S.fillStyle="#3b82f6",S.strokeStyle="#ffffff",S.lineWidth=1.5/fe,S.beginPath(),S.arc(kt.x,kt.y,rt/2,0,Math.PI*2),S.fill(),S.stroke()})}if(Z.type!=="line"&&Z.type!=="arrow"&&w.selectedTool==="selection"){const rt=14/fe,kt=32/fe,It=Z.x+Z.width/2,mt=Z.y+Z.height/2;[{pos:"top",x:It,y:Z.y-kt},{pos:"right",x:Z.x+Z.width+kt,y:mt},{pos:"bottom",x:It,y:Z.y+Z.height+kt},{pos:"left",x:Z.x-kt,y:mt}].forEach(St=>{const fn=k&&k.elementId===Z.id&&k.handle===`connector-${St.pos}`,sr=fn?rt*1.3:rt;S.strokeStyle=fn?"rgba(16, 185, 129, 0.8)":"rgba(16, 185, 129, 0.4)",S.lineWidth=(fn?2:1)/fe,S.setLineDash([3/fe,3/fe]),S.beginPath(),St.pos==="top"?(S.moveTo(St.x,Z.y),S.lineTo(St.x,St.y)):St.pos==="right"?(S.moveTo(Z.x+Z.width,St.y),S.lineTo(St.x,St.y)):St.pos==="bottom"?(S.moveTo(St.x,Z.y+Z.height),S.lineTo(St.x,St.y)):St.pos==="left"&&(S.moveTo(Z.x,St.y),S.lineTo(St.x,St.y)),S.stroke(),S.setLineDash([]),S.shadowColor="rgba(16, 185, 129, 0.5)",S.shadowBlur=(fn?8:4)/fe,S.fillStyle=fn?"#059669":"#10b981",S.strokeStyle="#ffffff",S.lineWidth=2/fe,S.beginPath(),S.arc(St.x,St.y,sr/2,0,Math.PI*2),S.fill(),S.stroke(),S.shadowBlur=0,S.strokeStyle="#ffffff",S.lineWidth=1.8/fe;const Wt=sr*.25;S.beginPath(),St.pos==="top"?(S.moveTo(St.x-Wt,St.y+Wt/2),S.lineTo(St.x,St.y-Wt/2),S.lineTo(St.x+Wt,St.y+Wt/2)):St.pos==="right"?(S.moveTo(St.x-Wt/2,St.y-Wt),S.lineTo(St.x+Wt/2,St.y),S.lineTo(St.x-Wt/2,St.y+Wt)):St.pos==="bottom"?(S.moveTo(St.x-Wt,St.y-Wt/2),S.lineTo(St.x,St.y+Wt/2),S.lineTo(St.x+Wt,St.y-Wt/2)):St.pos==="left"&&(S.moveTo(St.x+Wt/2,St.y-Wt),S.lineTo(St.x-Wt/2,St.y),S.lineTo(St.x+Wt/2,St.y+Wt)),S.stroke()})}}})}),w.selection.length>1){const be=dt();if(be){const Fe=w.viewState.scale,Z=2/Fe,at=8/Fe;S.save(),S.strokeStyle="#3b82f6",S.lineWidth=1/Fe,S.setLineDash([5/Fe,5/Fe]),S.strokeRect(be.x-Z,be.y-Z,be.width+Z*2,be.height+Z*2),S.setLineDash([]),S.fillStyle="#ffffff",S.lineWidth=2/Fe,[{x:be.x-Z,y:be.y-Z},{x:be.x+be.width+Z,y:be.y-Z},{x:be.x+be.width+Z,y:be.y+be.height+Z},{x:be.x-Z,y:be.y+be.height+Z},{x:be.x+be.width/2,y:be.y-Z},{x:be.x+be.width+Z,y:be.y+be.height/2},{x:be.x+be.width/2,y:be.y+be.height+Z},{x:be.x-Z,y:be.y+be.height/2}].forEach(rt=>{S.fillRect(rt.x-at/2,rt.y-at/2,at,at),S.strokeRect(rt.x-at/2,rt.y-at/2,at,at)}),S.restore()}}const vt=C();vt&&(S.save(),S.fillStyle="rgba(59, 130, 246, 0.2)",S.strokeStyle="#3b82f6",S.lineWidth=1/fe,S.fillRect(vt.x,vt.y,vt.w,vt.h),S.strokeRect(vt.x,vt.y,vt.w,vt.h),S.restore());const pt=O();if(pt){const be=w.elements.find(Fe=>Fe.id===pt.elementId);be&&(S.save(),S.strokeStyle="#f59e0b",S.lineWidth=2/fe,S.strokeRect(be.x-4/fe,be.y-4/fe,be.width+8/fe,be.height+8/fe),S.fillStyle="#f59e0b",S.beginPath(),S.arc(pt.px,pt.py,5/fe,0,Math.PI*2),S.fill(),S.restore())}const ft=I();ft.length>0&&(S.save(),S.strokeStyle="#ff00ff",S.setLineDash([5/w.viewState.scale,5/w.viewState.scale]),S.lineWidth=1/w.viewState.scale,ft.forEach(be=>{S.beginPath(),be.type==="vertical"?(S.moveTo(be.coordinate,-1e5),S.lineTo(be.coordinate,1e5)):(S.moveTo(-1e5,be.coordinate),S.lineTo(1e5,be.coordinate)),S.stroke()}),S.restore());const Ge=R();if(Ge.length>0&&(S.save(),S.strokeStyle="#ff00ff",S.fillStyle="#ff00ff",S.lineWidth=1/w.viewState.scale,S.font=`${Math.floor(10/w.viewState.scale)}px sans-serif`,S.textAlign="center",S.textBaseline="middle",Ge.forEach(be=>{be.segments.forEach(Fe=>{if(S.beginPath(),be.orientation==="horizontal"){S.moveTo(Fe.from,be.variableCoordinate),S.lineTo(Fe.to,be.variableCoordinate),S.stroke();const Z=4/w.viewState.scale;S.beginPath(),S.moveTo(Fe.from,be.variableCoordinate-Z),S.lineTo(Fe.from,be.variableCoordinate+Z),S.moveTo(Fe.to,be.variableCoordinate-Z),S.lineTo(Fe.to,be.variableCoordinate+Z),S.stroke();const at=(Fe.from+Fe.to)/2,gt=Math.round(be.gap).toString(),rt=2/w.viewState.scale,kt=S.measureText(gt).width+rt*4,It=12/w.viewState.scale;S.fillStyle="#ff00ff",S.fillRect(at-kt/2,be.variableCoordinate-It/2,kt,It),S.fillStyle="white",S.fillText(gt,at,be.variableCoordinate),S.fillStyle="#ff00ff"}else{S.beginPath(),S.moveTo(be.variableCoordinate,Fe.from),S.lineTo(be.variableCoordinate,Fe.to),S.stroke();const Z=4/w.viewState.scale;S.beginPath(),S.moveTo(be.variableCoordinate-Z,Fe.from),S.lineTo(be.variableCoordinate+Z,Fe.from),S.moveTo(be.variableCoordinate-Z,Fe.to),S.lineTo(be.variableCoordinate+Z,Fe.to),S.stroke();const at=(Fe.from+Fe.to)/2,gt=Math.round(be.gap).toString(),rt=2/w.viewState.scale,kt=S.measureText(gt).width+rt*4,It=12/w.viewState.scale;S.fillStyle="#ff00ff",S.fillRect(be.variableCoordinate-kt/2,at-It/2,kt,It),S.fillStyle="white",S.fillText(gt,be.variableCoordinate,at),S.fillStyle="#ff00ff"}})}),S.restore()),(w.selectedTool==="line"||w.selectedTool==="arrow")&&l&&o){const be=w.elements.find(Fe=>Fe.id===o);if(be&&(be.type==="line"||be.type==="arrow")){const Fe=be.x+be.width,Z=be.y+be.height,at=50/w.viewState.scale,gt=15/w.viewState.scale;S.save();for(const rt of w.elements){if(rt.id===o||!Ut(rt)||rt.type==="line"||rt.type==="arrow"||rt.type==="bezier"||rt.layerId!==w.activeLayerId)continue;const kt=rt.x+rt.width/2,It=rt.y+rt.height/2;if(Math.sqrt((kt-Fe)**2+(It-Z)**2)<at){const Rt=ud(rt);for(const St of Rt){const fn=St.x-Fe,sr=St.y-Z,wr=Math.sqrt(fn*fn+sr*sr)<gt,mn=wr?6/w.viewState.scale:4/w.viewState.scale;S.beginPath(),S.arc(St.x,St.y,mn,0,Math.PI*2),wr?(S.fillStyle="#3b82f6",S.fill()):(S.fillStyle="rgba(59, 130, 246, 0.4)",S.fill(),S.strokeStyle="#3b82f6",S.lineWidth=1/w.viewState.scale,S.stroke())}}}S.restore()}}if(N.length>1){S.save(),S.lineCap="round",S.lineJoin="round",S.shadowBlur=8,S.shadowColor="rgba(255, 50, 50, 0.6)";const be=4/w.viewState.scale;let Fe=-1;for(let Z=0;Z<N.length-1;Z++){const at=N[Z],gt=N[Z+1],rt=Me-at.timestamp,kt=Math.max(0,1-rt/ge);if(kt<=0)continue;const It=Math.ceil(kt*5);if(It!==Fe){Fe!==-1&&S.stroke(),Fe=It;const mt=It/5;S.beginPath(),S.strokeStyle=`rgba(255, 30, 30, ${mt})`,S.lineWidth=be*mt,S.moveTo(at.x,at.y)}S.lineTo(gt.x,gt.y)}Fe!==-1&&S.stroke(),S.restore()}S.restore();const ze=performance.now()-oe;YS.measureFrame(ze,w.elements.length,Ve)}Dn(()=>{df(),w.theme,w.elements.length,w.elements.forEach(S=>{S.x,S.y,S.width,S.height,S.points&&S.points.length,S.angle,S.opacity,S.strokeColor,S.backgroundColor,S.fillStyle,S.strokeWidth,S.strokeStyle,S.roughness,S.roundness,S.text,S.fontSize,S.fontFamily,S.textAlign,S.fontWeight,S.fontStyle,S.textColor,S.textHighlightEnabled,S.textHighlightColor,S.textHighlightPadding,S.textHighlightRadius,S.startArrowhead,S.endArrowhead,S.containerText,S.labelPosition,S.isCollapsed,S.parentId,S.starPoints,S.polygonSides,S.borderRadius,S.burstPoints,S.tailPosition,S.shapeRatio,S.sideRatio,S.depth,S.viewAngle,S.taper,S.skewX,S.skewY,S.frontTaper,S.frontSkewX,S.frontSkewY,S.drawInnerBorder,S.innerBorderDistance,S.strokeLineJoin,S.renderStyle,S.fillDensity,S.gradientStart,S.gradientEnd,S.gradientDirection,S.gradientStops,S.gradientType,S.shadowEnabled,S.shadowColor,S.shadowBlur,S.shadowOffsetX,S.shadowOffsetY,S.blendMode,S.spinEnabled,S.spinSpeed,S.orbitEnabled,S.orbitCenterId,S.orbitRadius,S.orbitSpeed,S.orbitDirection}),w.viewState.scale,w.viewState.panX,w.viewState.panY,w.selection.length,C(),w.layers.length,w.layers.forEach(S=>{S.visible,S.order,S.opacity,S.backgroundColor}),w.gridSettings.enabled,w.gridSettings.gridSize,w.gridSettings.gridColor,w.gridSettings.gridOpacity,w.gridSettings.style,w.canvasBackgroundColor,w.canvasTexture,I(),requestAnimationFrame(Ie)}),Dn(()=>{w.elements.forEach(S=>{S.boundElements&&S.boundElements.length>0&&(S.x,S.y,S.width,S.height,Kr(()=>{S.boundElements?.forEach(oe=>Dt(oe.id))}))})});const Be=S=>({x:S.clientX,y:S.clientY}),me=(S,oe)=>{const{scale:Me,panX:Ae,panY:we}=w.viewState;return{x:(S-Ae)/Me,y:(oe-we)/Me}},je=S=>{if(w.presentationMode)return;S.preventDefault();const oe=S.deltaMode===1?33:S.deltaMode===2?400:1,Me=S.deltaX*oe,Ae=S.deltaY*oe;if(S.ctrlKey||S.metaKey){const fe=1-Ae*.001,X=Math.min(Math.max(w.viewState.scale*fe,.1),10),{x:Ue,y:He}=Be(S),{scale:Xe,panX:Ee,panY:Ye}=w.viewState,Ve=(Ue-Ee)/Xe,qe=(He-Ye)/Xe,Je=Ue-Ve*X,vt=He-qe*X;Ir({scale:X,panX:Je,panY:vt})}else S.shiftKey?Ir({panX:w.viewState.panX-(Ae||Me),panY:w.viewState.panY}):Ir({panX:w.viewState.panX-Me,panY:w.viewState.panY-Ae})},ut=(S,oe,Me,Ae,we)=>{const fe=Math.cos(we),X=Math.sin(we);return{x:fe*(S-Me)-X*(oe-Ae)+Me,y:X*(S-Me)+fe*(oe-Ae)+Ae}},Qe=(S,oe,Me,Ae,we)=>ut(S,oe,Me,Ae,-we),dt=()=>{if(w.selection.length===0)return null;let S=1/0,oe=1/0,Me=-1/0,Ae=-1/0,we=!1;return w.elements.forEach(fe=>{w.selection.includes(fe.id)&&(S=Math.min(S,fe.x),oe=Math.min(oe,fe.y),Me=Math.max(Me,fe.x+fe.width),Ae=Math.max(Ae,fe.y+fe.height),we=!0)}),we?{x:S,y:oe,width:Me-S,height:Ae-oe}:null},Tt=(S,oe)=>{const{scale:Me}=w.viewState,Ae=12/Me,we=2/Me;if(w.selection.length>1){const fe=dt();if(fe){const X=[{type:"tl",x:fe.x-we,y:fe.y-we},{type:"tr",x:fe.x+fe.width+we,y:fe.y-we},{type:"br",x:fe.x+fe.width+we,y:fe.y+fe.height+we},{type:"bl",x:fe.x-we,y:fe.y+fe.height+we},{type:"tm",x:fe.x+fe.width/2,y:fe.y-we},{type:"rm",x:fe.x+fe.width+we,y:fe.y+fe.height/2},{type:"bm",x:fe.x+fe.width/2,y:fe.y+fe.height+we},{type:"lm",x:fe.x-we,y:fe.y+fe.height/2}];for(const Ue of X)if(Math.abs(S-Ue.x)<=Ae/2&&Math.abs(oe-Ue.y)<=Ae/2)return{id:"multi",handle:Ue.type}}}for(let fe=w.elements.length-1;fe>=0;fe--){const X=w.elements[fe];if(ps(X,w.elements))continue;if(w.elements.some(He=>He.parentId===X.id)&&X.type!=="line"&&X.type!=="arrow"){const He=X.x+X.width/2,Xe=X.y+X.height/2,Ee=Qe(S,oe,He,Xe,X.angle||0),Ye=14/Me,Ve=X.x+X.width+15/Me,qe=X.y+X.height/2;if(Math.sqrt(Math.pow(Ee.x-Ve,2)+Math.pow(Ee.y-qe,2))<=Ye/2+5/Me)return{id:X.id,handle:"mindmap-toggle"}}}for(let fe=w.elements.length-1;fe>=0;fe--){const X=w.elements[fe];if(!w.selection.includes(X.id)||w.selection.length>1)continue;const Ue=X.x+X.width/2,He=X.y+X.height/2,Xe=X.angle||0,Ee=Qe(S,oe,Ue,He,Xe);let Ye=[{type:"tl",x:X.x-we,y:X.y-we},{type:"tr",x:X.x+X.width+we,y:X.y-we},{type:"br",x:X.x+X.width+we,y:X.y+X.height+we},{type:"bl",x:X.x-we,y:X.y+X.height+we},{type:"tm",x:X.x+X.width/2,y:X.y-we},{type:"rm",x:X.x+X.width+we,y:X.y+X.height/2},{type:"bm",x:X.x+X.width/2,y:X.y+X.height+we},{type:"lm",x:X.x-we,y:X.y+X.height/2}];if(X.type==="line"||X.type==="arrow"||X.type==="organicBranch"){let qe=X.x,Je=X.y,vt=X.x+X.width,pt=X.y+X.height;if(X.type==="organicBranch"&&X.points&&X.points.length>=2){const ft=Jn(X.points);ft.length>=2&&(qe=X.x+ft[0].x,Je=X.y+ft[0].y,vt=X.x+ft[ft.length-1].x,pt=X.y+ft[ft.length-1].y)}Ye=[{type:"tl",x:qe,y:Je},{type:"br",x:vt,y:pt}]}for(const qe of Ye)if(Math.abs(Ee.x-qe.x)<=Ae/2&&Math.abs(Ee.y-qe.y)<=Ae/2)return{id:X.id,handle:qe.type};const Ve={x:X.x+X.width/2,y:X.y-we-20/Me};if(Math.abs(Ee.x-Ve.x)<=Ae&&Math.abs(Ee.y-Ve.y)<=Ae/2)return{id:X.id,handle:"rotate"};if(X.type==="isometricCube"){const qe=(X.shapeRatio!==void 0?X.shapeRatio:25)/100,Je=(X.sideRatio!==void 0?X.sideRatio:50)/100,vt=X.height*qe,pt=X.y+vt,ft=X.x+X.width*Je;if(Math.abs(Ee.x-ft)<=Ae&&Math.abs(Ee.y-pt)<=Ae)return{id:X.id,handle:"control-1"}}else if(X.type==="solidBlock"||X.type==="cylinder"){const qe=X.depth!==void 0?X.depth:50,Je=(X.viewAngle!==void 0?X.viewAngle:45)*Math.PI/180,vt=X.x+X.width/2,pt=X.y+X.height/2,ft=vt+qe*Math.cos(Je),Ge=pt+qe*Math.sin(Je);if(Math.abs(Ee.x-ft)<=Ae&&Math.abs(Ee.y-Ge)<=Ae)return{id:X.id,handle:"control-1"}}else if(X.type==="perspectiveBlock"){const qe=X.depth!==void 0?X.depth:50,Je=(X.viewAngle!==void 0?X.viewAngle:45)*Math.PI/180,vt=X.taper!==void 0?X.taper:0,pt=(X.skewX!==void 0?X.skewX:0)*X.width,ft=(X.skewY!==void 0?X.skewY:0)*X.height,Ge=X.x+X.width/2,ze=X.y+X.height/2,be=qe*Math.cos(Je)+pt,Fe=qe*Math.sin(Je)+ft,Z=1-vt,at=X.width/2*Z,gt=X.height/2*Z,rt=1-(X.frontTaper||0),kt=X.width/2*rt,It=X.height/2*rt,mt=(X.frontSkewX||0)*X.width,Rt=(X.frontSkewY||0)*X.height,St=[{x:Ge+be,y:ze+Fe,handle:"control-1"},{x:Ge+be-at,y:ze+Fe-gt,handle:"control-2"},{x:Ge+be+at,y:ze+Fe-gt,handle:"control-3"},{x:Ge+be+at,y:ze+Fe+gt,handle:"control-4"},{x:Ge+be-at,y:ze+Fe+gt,handle:"control-5"},{x:Ge+mt-kt,y:ze+Rt-It,handle:"control-6"},{x:Ge+mt+kt,y:ze+Rt-It,handle:"control-7"},{x:Ge+mt+kt,y:ze+Rt+It,handle:"control-8"},{x:Ge+mt-kt,y:ze+Rt+It,handle:"control-9"}];for(const fn of St)if(Math.abs(Ee.x-fn.x)<=Ae&&Math.abs(Ee.y-fn.y)<=Ae)return{id:X.id,handle:fn.handle}}else if(X.type==="star"||X.type==="burst"){const qe=(X.shapeRatio!==void 0?X.shapeRatio:25)/100,Je=X.x+X.width/2,vt=X.y+X.height*qe;if(Math.abs(Ee.x-Je)<=Ae&&Math.abs(Ee.y-vt)<=Ae)return{id:X.id,handle:"control-1"}}if((X.type==="line"||X.type==="arrow"||X.type==="bezier"||X.type==="organicBranch")&&X.controlPoints)if(X.controlPoints.length===1){const qe=X.controlPoints[0];let Je={x:X.x,y:X.y},vt={x:X.x+X.width,y:X.y+X.height};if(X.points&&X.points.length>=2){const Ge=Jn(X.points);Ge.length>0&&(Je={x:X.x+Ge[0].x,y:X.y+Ge[0].y},vt={x:X.x+Ge[Ge.length-1].x,y:X.y+Ge[Ge.length-1].y})}const pt=.25*Je.x+.5*qe.x+.25*vt.x,ft=.25*Je.y+.5*qe.y+.25*vt.y;if(Math.abs(S-pt)<=Ae/2&&Math.abs(oe-ft)<=Ae/2)return{id:X.id,handle:"control-0"}}else for(let qe=0;qe<X.controlPoints.length;qe++){const Je=X.controlPoints[qe];if(Math.abs(S-Je.x)<=Ae/2&&Math.abs(oe-Je.y)<=Ae/2)return{id:X.id,handle:`control-${qe}`}}if(X.type!=="line"&&X.type!=="arrow"){const qe=14/Me,Je=32/Me,vt=X.x+X.width/2,pt=X.y+X.height/2,ft=[{type:"connector-top",x:vt,y:X.y-Je},{type:"connector-right",x:X.x+X.width+Je,y:pt},{type:"connector-bottom",x:vt,y:X.y+X.height+Je},{type:"connector-left",x:X.x-Je,y:pt}];for(const Ge of ft)if(Math.sqrt(Math.pow(Ee.x-Ge.x,2)+Math.pow(Ee.y-Ge.y,2))<=qe/2+2/Me)return{id:X.id,handle:Ge.type}}}return null},Nt=S=>{if(!S.points||S.points.length===0)return null;const oe=Jn(S.points);let Me=1/0,Ae=1/0,we=-1/0,fe=-1/0;oe.forEach(Xe=>{Me=Math.min(Me,Xe.x),Ae=Math.min(Ae,Xe.y),we=Math.max(we,Xe.x),fe=Math.max(fe,Xe.y)});const X=we-Me,Ue=fe-Ae,He=oe.map(Xe=>({x:Xe.x-Me,y:Xe.y-Ae}));return{x:S.x+Me,y:S.y+Ae,width:X,height:Ue,points:He}},Ct=(S,oe,Me,Ae,we)=>{if(ps(S,w.elements,we))return!1;const fe=S.x+S.width/2,X=S.y+S.height/2,Ue=Qe(oe,Me,fe,X,S.angle||0);let He=Math.min(S.x,S.x+S.width),Xe=Math.max(S.x,S.x+S.width),Ee=Math.min(S.y,S.y+S.height),Ye=Math.max(S.y,S.y+S.height);if(S.type==="solidBlock"){const Ve=S.depth!==void 0?S.depth:50,qe=(S.viewAngle!==void 0?S.viewAngle:45)*Math.PI/180,Je=Ve*Math.cos(qe),vt=Ve*Math.sin(qe);He=Math.min(He,He+Je,Xe+Je),Xe=Math.max(Xe,He+Je,Xe+Je),Ee=Math.min(Ee,Ee+vt,Ye+vt),Ye=Math.max(Ye,Ee+vt,Ye+vt)}else if(S.type==="perspectiveBlock"){const Ve=S.depth!==void 0?S.depth:50,qe=(S.viewAngle!==void 0?S.viewAngle:45)*Math.PI/180,Je=(S.skewX||0)*S.width,vt=(S.skewY||0)*S.height,pt=Ve*Math.cos(qe)+Je,ft=Ve*Math.sin(qe)+vt,Ge=S.taper||0,ze=S.width/2*(1-Ge),be=S.height/2*(1-Ge),Fe=S.x+S.width/2,Z=S.y+S.height/2,at=Fe+pt-ze,gt=Fe+pt+ze,rt=Z+ft-be,kt=Z+ft+be;He=Math.min(He,at,gt),Xe=Math.max(Xe,at,gt),Ee=Math.min(Ee,rt,kt),Ye=Math.max(Ye,rt,kt)}if(Ue.x<He-Ae||Ue.x>Xe+Ae||Ue.y<Ee-Ae||Ue.y>Ye+Ae)return!1;if(S.type==="rectangle"||S.type==="solidBlock"||S.type==="isometricCube"||S.type==="perspectiveBlock")return!0;if(S.type==="diamond"){const Ve=S.x+S.width/2,qe=S.y+S.height/2,Je=Math.abs(Ue.x-Ve),vt=Math.abs(Ue.y-qe);return 2*Je/S.width+2*vt/S.height<=1}else{if(S.type==="circle")return fS(Ue,S.x,S.y,S.width,S.height);if(S.type==="line"||S.type==="arrow"){const Ve=S.x+S.width,qe=S.y+S.height;if(S.curveType==="bezier"){const Je=S.width,vt=S.height;let pt={x:S.x,y:S.y},ft={x:Ve,y:qe};if(S.controlPoints&&S.controlPoints.length>0){const Ge={x:S.x,y:S.y},ze={x:Ve,y:qe};if(S.controlPoints.length===2)return $c(Ue,Ge,S.controlPoints[0],S.controlPoints[1],ze,Ae);{const be=S.controlPoints[0],Fe={x:Ge.x+2/3*(be.x-Ge.x),y:Ge.y+2/3*(be.y-Ge.y)},Z={x:ze.x+2/3*(be.x-ze.x),y:ze.y+2/3*(be.y-ze.y)};return $c(Ue,Ge,Fe,Z,ze,Ae)}}else return Math.abs(Je)>Math.abs(vt)?(pt={x:S.x+Je/2,y:S.y},ft={x:Ve-Je/2,y:qe},$c(Ue,{x:S.x,y:S.y},pt,ft,{x:Ve,y:qe},Ae)):(pt={x:S.x,y:S.y+vt/2},ft={x:Ve,y:qe-vt/2},$c(Ue,{x:S.x,y:S.y},pt,ft,{x:Ve,y:qe},Ae))}else if(S.curveType==="elbow"){const Je=Jn(S.points);if(Je&&Je.length>0){const vt={x:Ue.x-S.x,y:Ue.y-S.y};return hd(vt,Je,Ae)}else return vf(Ue,{x:S.x,y:S.y},{x:Ve,y:qe})<=Ae}else{if(S.points&&S.points.length>0){const Je=Jn(S.points);if(Je.length>1){const vt={x:Ue.x-S.x,y:Ue.y-S.y};return hd(vt,Je,Ae)}}return vf(Ue,{x:S.x,y:S.y},{x:S.x+S.width,y:S.y+S.height})<=Ae}}else if(S.type==="organicBranch"){const Ve=Jn(S.points),qe=S.controlPoints||[];if(Ve.length<2||qe.length<2)return!1;const Je={x:S.x+Ve[0].x,y:S.y+Ve[0].y},vt={x:S.x+Ve[Ve.length-1].x,y:S.y+Ve[Ve.length-1].y},pt=F0(Je,vt,qe[0],qe[1],S.strokeWidth);return dS(Ue,pt)}else if((S.type==="fineliner"||S.type==="inkbrush"||S.type==="marker")&&S.points){const Ve={x:Ue.x-S.x,y:Ue.y-S.y},qe=Jn(S.points);return hd(Ve,qe,Ae)}else{if(S.type==="text"||S.type==="image")return!0;if(S.type==="triangle"||S.type==="hexagon"||S.type==="octagon"||S.type==="parallelogram"||S.type==="star"||S.type==="cloud"||S.type==="heart"||S.type==="cross"||S.type==="checkmark"||S.type==="arrowLeft"||S.type==="arrowRight"||S.type==="arrowUp"||S.type==="arrowDown"||S.type==="capsule"||S.type==="stickyNote"||S.type==="callout"||S.type==="burst"||S.type==="speechBubble"||S.type==="ribbon"||S.type==="bracketLeft"||S.type==="bracketRight"||S.type==="database"||S.type==="document"||S.type==="predefinedProcess"||S.type==="internalStorage"||S.type==="server"||S.type==="loadBalancer"||S.type==="firewall"||S.type==="user"||S.type==="messageQueue"||S.type==="lambda"||S.type==="router"||S.type==="browser"||S.type==="trapezoid"||S.type==="rightTriangle"||S.type==="pentagon"||S.type==="septagon"||S.type==="starPerson"||S.type==="scroll"||S.type==="wavyDivider"||S.type==="doubleBanner"||S.type==="lightbulb"||S.type==="signpost"||S.type==="burstBlob"||S.type==="browserWindow"||S.type==="mobilePhone"||S.type==="ghostButton"||S.type==="inputField"||S.type==="polygon"||S.type==="dfdProcess"||S.type==="dfdDataStore"||S.type==="cylinder"||S.type==="stateStart"||S.type==="stateEnd"||S.type==="stateSync"||S.type==="activationBar"||S.type==="externalEntity"||S.type==="umlClass"||S.type==="umlInterface"||S.type==="umlActor"||S.type==="umlUseCase"||S.type==="umlNote"||S.type==="umlPackage"||S.type==="umlComponent"||S.type==="umlState"||S.type==="umlLifeline"||S.type==="umlFragment"||S.type==="umlSignalSend"||S.type==="umlSignalReceive"||S.type==="umlProvidedInterface"||S.type==="umlRequiredInterface")return!0}}return!1},Ut=S=>S.locked?!1:!vp(S.layerId),_t=(S,oe,Me)=>{const Ae=40/w.viewState.scale,we=25/w.viewState.scale;let fe=null;for(const X of w.elements){if(X.id===Me||!Ut(X)||X.type==="line"||X.type==="arrow"||X.type==="bezier"||X.type==="organicBranch")continue;const Ue=w.layers.find(Xe=>Xe.id===w.activeLayerId);if(!Ue||X.layerId!==Ue.id)continue;let He=!1;if(X.type==="text"||X.type==="image"||X.type==="rectangle")S>=X.x-Ae&&S<=X.x+X.width+Ae&&oe>=X.y-Ae&&oe<=X.y+X.height+Ae&&(He=!0);else if(X.type==="circle"){const Xe=X.x+X.width/2,Ee=X.y+X.height/2,Ye=X.width/2+Ae,Ve=X.height/2+Ae;(S-Xe)**2/Ye**2+(oe-Ee)**2/Ve**2<=1&&(He=!0)}else X.type,S>=X.x-Ae&&S<=X.x+X.width+Ae&&oe>=X.y-Ae&&oe<=X.y+X.height+Ae&&(He=!0);if(He){fe=X;break}}if(fe){const X=pS(fe,{x:S,y:oe},we);if(X)return{element:fe,snapPoint:{x:X.x,y:X.y},position:X.position};const Ue=pu(fe,{x:S,y:oe},5);if(Ue)return{element:fe,snapPoint:Ue,position:"edge"}}return null},Nn=(S,oe,Me,Ae,we)=>{const fe=oe??S.x,X=Me??S.y,Ue=Ae??S.x+S.width,He=we??S.y+S.height;if(S.curveType==="elbow"){const Xe=w.elements.find(Ve=>Ve.id===S.startBinding?.elementId),Ee=w.elements.find(Ve=>Ve.id===S.endBinding?.elementId);return gS({x:fe,y:X},{x:Ue,y:He},w.elements,Xe,Ee,S.startBinding?.position,S.endBinding?.position).map(Ve=>({x:Ve.x-fe,y:Ve.y-X}))}if(S.points&&S.points.length>=2)return[0,0,Ue-fe,He-X]},Dt=S=>{const oe=w.elements.find(Xe=>Xe.id===S);if(!oe||oe.type!=="line"&&oe.type!=="arrow"&&oe.type!=="organicBranch"&&oe.type!=="bezier")return;let Me=oe.x,Ae=oe.y,we=oe.x+oe.width,fe=oe.y+oe.height,X=!1;const Ue=oe.startBinding?w.elements.find(Xe=>Xe.id===oe.startBinding?.elementId):null,He=oe.endBinding?w.elements.find(Xe=>Xe.id===oe.endBinding?.elementId):null;if(Ue&&He){const Xe=Ue.x+Ue.width/2,Ee=Ue.y+Ue.height/2,Ye=He.x+He.width/2,Ve=He.y+He.height/2,qe=Ye-Xe,Je=Ve-Ee,vt=oe.startBinding?.position,pt=oe.endBinding?.position;let ft,Ge;if(Math.abs(qe)>Math.abs(Je)?(ft=qe>0?"right":"left",Ge=qe>0?"left":"right"):(ft=Je>0?"bottom":"top",Ge=Je>0?"top":"bottom"),vt!==ft||pt!==Ge)return bt(oe.id,{startBinding:{...oe.startBinding,position:ft},endBinding:{...oe.endBinding,position:Ge}},!1),Dt(S)}if(oe.startBinding){const Xe=Ue||w.elements.find(Ee=>Ee.id===oe.startBinding.elementId);if(Xe){const Ee=oe.startBinding.position;let Ye;if(Ee&&Ee!=="edge"){const qe=ud(Xe).find(Je=>Je.position===Ee);qe&&(Ye={x:qe.x,y:qe.y})}Ye||(Ye=pu(Xe,{x:we,y:fe},oe.startBinding.gap)),Ye&&(Me=Ye.x,Ae=Ye.y,X=!0)}}if(oe.endBinding){const Xe=He||w.elements.find(Ee=>Ee.id===oe.endBinding.elementId);if(Xe){const Ee=oe.endBinding.position;let Ye;if(Ee&&Ee!=="edge"){const qe=ud(Xe).find(Je=>Je.position===Ee);qe&&(Ye={x:qe.x,y:qe.y})}Ye||(Ye=pu(Xe,{x:Me,y:Ae},oe.endBinding.gap)),Ye&&(we=Ye.x,fe=Ye.y,X=!0)}}if(X){const Xe=Nn(oe,Me,Ae,we,fe);if(Me!==oe.x||Ae!==oe.y||we-Me!==oe.width||fe-Ae!==oe.height||JSON.stringify(Xe)!==JSON.stringify(oe.points)){const Ee={x:Me,y:Ae,width:we-Me,height:fe-Ae,points:Xe};if(oe.controlPoints&&oe.controlPoints.length===2){const Ve=Me-oe.x,qe=Ae-oe.y,Je=we-(oe.x+oe.width),vt=fe-(oe.y+oe.height),pt={x:oe.controlPoints[0].x+Ve,y:oe.controlPoints[0].y+qe},ft={x:oe.controlPoints[1].x+Je,y:oe.controlPoints[1].y+vt};Ee.controlPoints=[pt,ft]}bt(oe.id,Ee,!1)}}},Zt=S=>{if(w.presentationMode){S.button===0&&cp();return}S.currentTarget.setPointerCapture(S.pointerId);const{x:oe,y:Me}=me(S.clientX,S.clientY);if(d()){Ft();return}if(w.selectedTool==="selection"){const qe=Tt(oe,Me);if(qe){if(qe.handle==="mindmap-toggle"){Bl(qe.id);return}if(qe.handle.startsWith("connector-")){const ze=w.elements.find(be=>be.id===qe.id);if(ze){const be=qe.handle.replace("connector-",""),Fe=ze.x+ze.width/2,Z=ze.y+ze.height/2;let at,gt;switch(be){case"top":at=Fe,gt=ze.y;break;case"right":at=ze.x+ze.width,gt=Z;break;case"bottom":at=Fe,gt=ze.y+ze.height;break;case"left":at=ze.x,gt=Z;break;default:at=Fe,gt=Z}cn(),l=!0,c=at,s=gt,o=crypto.randomUUID(),D={elementId:ze.id,anchorPosition:be,startX:at,startY:gt};const rt={...w.defaultElementStyles,id:o,type:"arrow",x:at,y:gt,width:0,height:0,seed:Math.floor(Math.random()*2**31),layerId:w.activeLayerId,curveType:w.defaultElementStyles.curveType||"straight",startBinding:{elementId:ze.id,focus:0,gap:5,position:be}};Io(rt);const kt=ze.boundElements||[];bt(ze.id,{boundElements:[...kt,{id:o,type:"arrow"}]});return}}if(cn(),A=!0,x=qe.handle,c=oe,s=Me,qe.id==="multi"){const ze=dt();if(ze){U=ze.x,ce=ze.y,Q=ze.width,ae=ze.height,F.clear();const be=new Set(w.selection);w.selection.forEach(Fe=>{fu(Fe,w.elements).forEach(Z=>be.add(Z.id))}),w.elements.forEach(Fe=>{be.has(Fe.id)&&F.set(Fe.id,{x:Fe.x,y:Fe.y,width:Fe.width,height:Fe.height,fontSize:Fe.fontSize,points:Fe.points?[...Fe.points]:void 0})})}}else{const ze=w.elements.find(be=>be.id===qe.id);ze&&(U=ze.x,ce=ze.y,Q=ze.width,ae=ze.height,ie=ze.fontSize||20,F.clear(),F.set(ze.id,{x:ze.x,y:ze.y,width:ze.width,height:ze.height,fontSize:ze.fontSize,points:ze.points?[...ze.points]:void 0}))}return}let Je=null;const vt=10/w.viewState.scale,pt=nC(w.elements,w.layers);for(const{groupId:ze}of pt){const be=w.elements.filter(Z=>Z.groupIds&&Z.groupIds.includes(ze));if(be.some(Z=>Ut(Z)&&ka(Z.layerId))&&tC(oe,Me,ze,w.elements)){const Z=be.map(gt=>gt.id),at=Z.every(gt=>w.selection.includes(gt));if(S.shiftKey||S.ctrlKey||S.metaKey?at?xe("selection",gt=>gt.filter(rt=>!Z.includes(rt))):xe("selection",gt=>[...new Set([...gt,...Z])]):at||xe("selection",Z),w.selection.length>0){cn(),A=!0,x=null,c=oe,s=Me,F.clear();const gt=new Set(w.selection);w.selection.forEach(rt=>{fu(rt,w.elements).forEach(kt=>gt.add(kt.id))}),w.elements.forEach(rt=>{gt.has(rt.id)&&F.set(rt.id,{x:rt.x,y:rt.y,width:rt.width,height:rt.height,fontSize:rt.fontSize,points:rt.points?[...rt.points]:void 0,controlPoints:rt.controlPoints?rt.controlPoints.map(kt=>({...kt})):void 0})})}return}}const ft=new Map;for(const ze of w.elements)ft.set(ze.id,ze);const Ge=w.elements.map((ze,be)=>{const Fe=w.layers.find(Z=>Z.id===ze.layerId);return{el:ze,index:be,layerOrder:Fe?.order??999,layerVisible:ka(ze.layerId)}}).sort((ze,be)=>ze.layerOrder!==be.layerOrder?be.layerOrder-ze.layerOrder:be.index-ze.index);for(const{el:ze,layerVisible:be}of Ge)if(be&&Ut(ze)&&Ct(ze,oe,Me,vt,ft)){Je=ze.id;break}if(Je){const ze=w.elements.find(Z=>Z.id===Je);let be=[Je];if(ze&&ze.groupIds&&ze.groupIds.length>0){const Z=ze.groupIds[ze.groupIds.length-1];be=w.elements.filter(at=>at.groupIds&&at.groupIds.includes(Z)).map(at=>at.id)}const Fe=be.every(Z=>w.selection.includes(Z));if(S.shiftKey||S.ctrlKey||S.metaKey?Fe?xe("selection",Z=>Z.filter(at=>!be.includes(at))):xe("selection",Z=>[...new Set([...Z,...be])]):Fe||xe("selection",be),w.selection.length>0){cn(),A=!0,x=null,c=oe,s=Me,F.clear();const Z=new Set(w.selection);w.selection.forEach(at=>{fu(at,w.elements).forEach(gt=>Z.add(gt.id))}),w.elements.forEach(at=>{Z.has(at.id)&&F.set(at.id,{x:at.x,y:at.y,width:at.width,height:at.height,fontSize:at.fontSize,points:at.points?[...at.points]:void 0,controlPoints:at.controlPoints?at.controlPoints.map(gt=>({...gt})):void 0})})}}else{if(w.selection.length>0){const ze=dt();if(ze){const be=10/w.viewState.scale;if(oe>=ze.x-be&&oe<=ze.x+ze.width+be&&Me>=ze.y-be&&Me<=ze.y+ze.height+be){cn(),A=!0,x=null,c=oe,s=Me,F.clear(),w.elements.forEach(Fe=>{w.selection.includes(Fe.id)&&F.set(Fe.id,{x:Fe.x,y:Fe.y,width:Fe.width,height:Fe.height,fontSize:Fe.fontSize,points:Fe.points?[...Fe.points]:void 0,controlPoints:Fe.controlPoints?Fe.controlPoints.map(Z=>({...Z})):void 0})});return}}}!S.shiftKey&&!S.ctrlKey&&!S.metaKey&&(xe("selection",[]),_0(!1)),v=!0,c=oe,s=Me,_({x:oe,y:Me,w:0,h:0})}return}const Ae=w.layers.find(qe=>qe.id===w.activeLayerId);if(!Ae?.visible){Hn("Cannot draw on a hidden layer. Please show the layer first or select a visible layer.","error");return}if(Ae?.locked){Hn("Cannot draw on a locked layer. Please unlock the layer first or select an unlocked layer.","error");return}if(w.selectedTool==="text"){const qe=crypto.randomUUID(),Je={...w.defaultElementStyles,id:qe,type:"text",x:oe,y:Me,width:100,height:30,text:"",layerId:w.activeLayerId};Io(Je),u(qe),p(""),setTimeout(()=>y?.focus(),0);return}if(w.selectedTool==="laser"){l=!0,N=[{x:oe,y:Me,timestamp:Date.now()}],V=Date.now();return}if(w.selectedTool==="ink"){l=!0,c=oe,s=Me,o=crypto.randomUUID();const qe={...w.defaultElementStyles,id:o,type:"ink",x:oe,y:Me,width:0,height:0,strokeColor:"#ef4444",strokeWidth:4,opacity:100,points:[0,0],pointsEncoding:"flat",ttl:Date.now()+3e3,layerId:w.activeLayerId,seed:Math.floor(Math.random()*2**31)};Io(qe);return}if(w.selectedTool==="eraser"){l=!0;const qe=10/w.viewState.scale,Je=new Map;for(const vt of w.elements)Je.set(vt.id,vt);for(let vt=w.elements.length-1;vt>=0;vt--){const pt=w.elements[vt];Ut(pt)&&ka(pt.layerId)&&Ct(pt,oe,Me,qe,Je)&&ea([pt.id])}return}if(w.selectedTool==="pan"){A=!0,z("grabbing");return}l=!0,Pe=[],pe=0;let we=oe,fe=Me;if(w.gridSettings.snapToGrid){const qe=Au(oe,Me,w.gridSettings.gridSize);we=qe.x,fe=qe.y}c=we,s=fe,o=crypto.randomUUID();const X=w.selectedTool,Ue=X==="bezier"?"line":X,He=X==="bezier"||X==="organicBranch"?"bezier":w.defaultElementStyles.curveType||"straight";let Xe,Ee=we,Ye=fe;if(X==="line"||X==="arrow"||X==="bezier"||X==="organicBranch"){const qe=_t(we,fe,o);qe&&(Xe={elementId:qe.element.id,focus:0,gap:5,position:qe.position},Ee=qe.snapPoint.x,Ye=qe.snapPoint.y,c=Ee,s=Ye)}const Ve={...w.defaultElementStyles,id:o,type:Ue,x:Ee,y:Ye,width:0,height:0,seed:Math.floor(Math.random()*2**31)+1,layerId:w.activeLayerId,curveType:He,points:X==="fineliner"||X==="inkbrush"||X==="marker"?[0,0]:void 0,pointsEncoding:X==="fineliner"||X==="inkbrush"||X==="marker"?"flat":void 0,startBinding:Xe,strokeStyle:["rectangle","circle","diamond","triangle","hexagon","octagon","pentagon","septagon","star","cloud","heart","capsule","stickyNote","callout","speechBubble","database","document","cylinder","isometricCube","solidBlock","perspectiveBlock","umlClass","umlInterface","umlActor","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive"].includes(Ue)?"solid":w.defaultElementStyles.strokeStyle};if(Ue==="stickyNote"&&(Ve.backgroundColor="#fef08a",Ve.fillStyle="solid",Ve.strokeColor="#000000"),Io(Ve),Xe){const qe=w.elements.find(Je=>Je.id===Xe.elementId);if(qe){const Je=qe.boundElements||[];bt(qe.id,{boundElements:[...Je,{id:o,type:Ue}]})}}},nn=S=>{let{x:oe,y:Me}=me(S.clientX,S.clientY);if(w.selectedTool==="pan")z(A?"grabbing":"grab");else if(w.selectedTool==="selection"&&!A){const Ae=Tt(oe,Me),we=k;Ae?Ae.handle==="rotate"?z("grab"):Ae.handle==="tl"||Ae.handle==="br"?z("nwse-resize"):Ae.handle==="tr"||Ae.handle==="bl"?z("nesw-resize"):Ae.handle==="tm"||Ae.handle==="bm"?z("ns-resize"):Ae.handle==="lm"||Ae.handle==="rm"?z("ew-resize"):Ae.handle.startsWith("connector-")?(z("crosshair"),k={elementId:Ae.id,handle:Ae.handle}):k=null:(z("default"),k=null),(we&&!k||!we&&k||we&&k&&(we.elementId!==k.elementId||we.handle!==k.handle))&&requestAnimationFrame(Ie)}if(w.selectedTool==="pan"){A&&Ir({panX:w.viewState.panX+S.movementX,panY:w.viewState.panY+S.movementY});return}if(w.selectedTool==="selection"){if(v){const Ae=oe-c,we=Me-s;_({x:Ae>0?c:c+Ae,y:we>0?s:s+we,w:Math.abs(Ae),h:Math.abs(we)});return}if(A&&w.selection.length>0){const Ae=w.selection[0],we=w.elements.find(fe=>fe.id===Ae);if(!we||x&&!Ut(we))return;if(x){if((we.type==="line"||we.type==="arrow"||we.type==="organicBranch")&&(x==="tl"||x==="br")){const fe=_t(oe,Me,we.id);fe?(E({elementId:fe.element.id,px:fe.snapPoint.x,py:fe.snapPoint.y,position:fe.position}),oe=fe.snapPoint.x,Me=fe.snapPoint.y):E(null)}else E(null);if(x==="rotate"){const fe=we.x+we.width/2,X=we.y+we.height/2,Ue=Math.atan2(Me-X,oe-fe);bt(Ae,{angle:Ue+Math.PI/2})}else{let fe=oe,X=Me;if(w.gridSettings.snapToGrid){const pt=Au(oe,Me,w.gridSettings.gridSize);fe=pt.x,X=pt.y}const Ue=fe-c,He=X-s;let Xe=U,Ee=ce,Ye=Q,Ve=ae;x==="tl"?(Xe+=Ue,Ee+=He,Ye-=Ue,Ve-=He):x==="tr"?(Ee+=He,Ye+=Ue,Ve-=He):x==="bl"?(Xe+=Ue,Ye-=Ue,Ve+=He):x==="br"?(Ye+=Ue,Ve+=He):x==="tm"?(Ee+=He,Ve-=He):x==="bm"?Ve+=He:x==="lm"?(Xe+=Ue,Ye-=Ue):x==="rm"&&(Ye+=Ue);const qe=w.selection.length>1,Je=w.elements.find(pt=>pt.id===w.selection[0]);if((S.shiftKey||w.selection.length===1&&Je?.constrained)&&Q!==0&&ae!==0){const pt=Q/ae;["tm","bm"].includes(x)?(Ye=Ve*pt,Xe=U+Q/2-Ye/2):["lm","rm"].includes(x)?(Ve=Ye/pt,Ee=ce+ae/2-Ve/2):(Math.abs(Ye)/pt>Math.abs(Ve)?Ve=Ye/pt:Ye=Ve*pt,x==="tl"?(Xe=U+Q-Ye,Ee=ce+ae-Ve):x==="tr"?Ee=ce+ae-Ve:x==="bl"&&(Xe=U+Q-Ye))}if(x&&x.startsWith("control-")){const pt=parseInt(x.replace("control-",""),10),ft=w.elements.find(Ge=>Ge.id===Ae);if(ft){let Ge=ft.controlPoints?[...ft.controlPoints]:[];for(;Ge.length<=pt;)Ge.push({x:oe,y:Me});if(ft.controlPoints&&ft.controlPoints.length===1&&pt===0){let ze={x:ft.x,y:ft.y},be={x:ft.x+ft.width,y:ft.y+ft.height};if(ft.points&&ft.points.length>=2){const at=Jn(ft.points);at.length>0&&(ze={x:ft.x+at[0].x,y:ft.y+at[0].y},be={x:ft.x+at[at.length-1].x,y:ft.y+at[at.length-1].y})}const Fe=2*oe-.5*ze.x-.5*be.x,Z=2*Me-.5*ze.y-.5*be.y;Ge[0]={x:Fe,y:Z}}else Ge[pt]={x:oe,y:Me};bt(ft.id,{controlPoints:Ge})}if(x&&x.startsWith("control-")){const Ge=w.elements.find(ze=>ze.id===Ae);if(Ge){if(Ge.type==="isometricCube"&&x==="control-1"){let ze=(Me-Ge.y)/Ge.height;ze=Math.max(.1,Math.min(.9,ze));const be=Math.round(ze*100);let Fe=(oe-Ge.x)/Ge.width;Fe=Math.max(0,Math.min(1,Fe));const Z=Math.round(Fe*100);bt(Ge.id,{shapeRatio:be,sideRatio:Z},!1)}else if((Ge.type==="solidBlock"||Ge.type==="cylinder")&&x==="control-1"){const ze=Ge.x+Ge.width/2,be=Ge.y+Ge.height/2,Fe=oe-ze,Z=Me-be;let at=Math.sqrt(Fe*Fe+Z*Z);at=Math.round(at);let gt=Math.atan2(Z,Fe),rt=Math.round(gt*180/Math.PI);rt<0&&(rt+=360),bt(Ge.id,{depth:at,viewAngle:rt},!1)}else if(Ge.type==="perspectiveBlock"){if(x==="control-1"){const ze=Ge.x+Ge.width/2,be=Ge.y+Ge.height/2,Fe=oe-ze-(Ge.skewX||0)*Ge.width,Z=Me-be-(Ge.skewY||0)*Ge.height;let at=Math.sqrt(Fe*Fe+Z*Z),gt=Math.atan2(Z,Fe),rt=Math.round(gt*180/Math.PI);rt<0&&(rt+=360),bt(Ge.id,{depth:Math.round(at),viewAngle:rt},!1)}else if(x==="control-2"||x==="control-3"||x==="control-4"||x==="control-5"){const ze=Ge.width/2,be=Ge.height/2,Fe=Ge.x+ze,Z=Ge.y+be,at=(Ge.viewAngle||45)*Math.PI/180,gt=Ge.depth||50,rt=Fe+gt*Math.cos(at),kt=Z+gt*Math.sin(at),It=oe-rt,mt=Me-kt,Rt=x==="control-3"||x==="control-4"?1:-1,St=x==="control-4"||x==="control-5"?1:-1,fn=Math.sqrt(It*It+mt*mt),sr=Math.sqrt(ze*ze+be*be),Wt=Math.max(0,Math.min(1,1-fn/sr)),wr=(It-Rt*ze*(1-Wt))/Ge.width,mn=(mt-St*be*(1-Wt))/Ge.height;bt(Ge.id,{taper:Wt,skewX:wr,skewY:mn},!1)}else if(x==="control-6"||x==="control-7"||x==="control-8"||x==="control-9"){const ze=Ge.width/2,be=Ge.height/2,Fe=Ge.x+ze,Z=Ge.y+be,at=oe-Fe,gt=Me-Z,rt=x==="control-7"||x==="control-8"?1:-1,kt=x==="control-8"||x==="control-9"?1:-1,It=Math.sqrt(at*at+gt*gt),mt=Math.sqrt(ze*ze+be*be),Rt=Math.max(0,Math.min(1,1-It/mt)),St=(at-rt*ze*(1-Rt))/Ge.width,fn=(gt-kt*be*(1-Rt))/Ge.height;bt(Ge.id,{frontTaper:Rt,frontSkewX:St,frontSkewY:fn},!1)}}else if((Ge.type==="star"||Ge.type==="burst")&&x==="control-1"){let ze=(Me-Ge.y)/Ge.height;ze=Math.max(.1,Math.min(.9,ze));const be=Math.round(ze*100);bt(Ge.id,{shapeRatio:be},!1)}else if(Ge.type==="speechBubble"&&x==="control-1"){let ze=(oe-Ge.x)/Ge.width,be=(Me-Ge.y)/Ge.height;ze=Math.max(-.5,Math.min(1.5,ze)),be=Math.max(-.5,Math.min(1.5,be)),bt(Ge.id,{tailX:ze,tailY:be},!1)}}}}else if(qe){const pt=Q===0?1:Ye/Q,ft=ae===0?1:Ve/ae;w.selection.forEach(Ge=>{const ze=F.get(Ge);if(!ze)return;const be=ze.x-U,Fe=ze.y-ce,Z={x:Xe+be*pt,y:Ee+Fe*ft,width:ze.width*pt,height:ze.height*ft};if(ze.points)if(typeof ze.points[0]=="number"){const gt=ze.points,rt=[];for(let kt=0;kt<gt.length;kt+=2)rt.push(gt[kt]*pt,gt[kt+1]*ft);Z.points=rt}else Z.points=ze.points.map(gt=>({x:gt.x*pt,y:gt.y*ft}));const at=w.elements.find(gt=>gt.id===Ge);at&&at.type==="text"&&(Z.fontSize=Math.max(8,(ze.fontSize||20)*ft)),bt(Ge,Z,!1)})}else{const pt=w.selection[0],ft=w.elements.find(Ge=>Ge.id===pt);if(ft){const Ge={x:Xe,y:Ee,width:Ye,height:Ve},ze=Q===0?1:Ye/Q,be=ae===0?1:Ve/ae;if(ft.type==="text"&&be>0){let Fe=ie*be;Fe=Math.max(Fe,8),Ge.fontSize=Fe}if((ft.type==="fineliner"||ft.type==="inkbrush"||ft.type==="marker")&&ft.points){const Fe=F.get(pt);if(Fe&&Fe.points)if(ft.pointsEncoding==="flat"||Fe.points.length>0&&typeof Fe.points[0]=="number"){const Z=Fe.points,at=[];for(let gt=0;gt<Z.length;gt+=2)at.push(Z[gt]*ze,Z[gt+1]*be);Ge.points=at}else Ge.points=Fe.points.map(Z=>({x:Z.x*ze,y:Z.y*be,...Z.p!==void 0?{p:Z.p}:{}}))}if((ft.type==="line"||ft.type==="arrow"||ft.type==="bezier")&&(Ge.points=Nn(ft,Xe,Ee,Xe+Ye,Ee+Ve)),ft.type==="organicBranch"){Ge.points=[0,0,Ye,Ve];const Fe=Xe,Z=Ee,at=Xe+Ye,gt=Ee+Ve,rt={x:Fe+Ye*.5,y:Z},kt={x:at-Ye*.5,y:gt};Ge.controlPoints=[rt,kt]}bt(pt,Ge,!1)}}}}else{let fe=oe-c,X=Me-s;if(w.gridSettings.objectSnapping&&!S.shiftKey){const He=performance.now();if(He-Se>=ne){const Xe=LS(w.selection,w.elements,fe,X,5/w.viewState.scale);fe=Xe.dx,X=Xe.dy,q(Xe.guides);const Ee=PS(w.selection,w.elements,fe,X,5/w.viewState.scale);fe=Ee.dx,X=Ee.dy,P(Ee.guides),Se=He}}else q([]),P([]);if(w.gridSettings.snapToGrid&&!S.shiftKey&&I().length===0){const He=w.gridSettings.gridSize;fe=Math.round(fe/He)*He,X=Math.round(X/He)*He}const Ue=S.altKey;F.forEach((He,Xe)=>{if(Ue&&!w.selection.includes(Xe))return;const Ee=w.elements.find(Ye=>Ye.id===Xe);if(Ee&&Ut(Ee)){const Ye={x:He.x+fe,y:He.y+X};He.controlPoints&&(Ye.controlPoints=He.controlPoints.map(Ve=>({x:Ve.x+fe,y:Ve.y+X}))),bt(Xe,Ye,!1),Ee.boundElements&&Ee.boundElements.forEach(Ve=>Dt(Ve.id))}})}}}if(w.selectedTool==="laser"){const Ae=Date.now();if(Ae-V>=te){V=Ae;const{x:we,y:fe}=me(S.clientX,S.clientY);N.length>=Ce&&N.shift(),N.push({x:we,y:fe,timestamp:Ae}),H||(H=!0,requestAnimationFrame(()=>{H=!1,Ie()}))}}if(!l||!o){if(l&&w.selectedTool==="eraser"){const Ae=10/w.viewState.scale,we=new Map;for(const fe of w.elements)we.set(fe.id,fe);for(let fe=w.elements.length-1;fe>=0;fe--){const X=w.elements[fe];Ut(X)&&ka(X.layerId)&&Ct(X,oe,Me,Ae,we)&&ea([X.id])}}return}if(w.selectedTool==="fineliner"||w.selectedTool==="marker"||w.selectedTool==="inkbrush"||w.selectedTool==="ink"){const{x:Ae,y:we}=me(S.clientX,S.clientY),fe=Ae-c,X=we-s;Pe.push(fe,X);const Ue=Date.now();Ue-pe>=_e?(pe=Ue,ht()):Oe||(Oe=!0,requestAnimationFrame(()=>{Oe=!1,ht()}))}else{let Ae=oe,we=Me;if(w.selectedTool==="line"||w.selectedTool==="arrow"||w.selectedTool==="bezier"||w.selectedTool==="organicBranch"||D){if(o){const X=_t(oe,Me,o);X?(E({elementId:X.element.id,px:X.snapPoint.x,py:X.snapPoint.y,position:X.position}),Ae=X.snapPoint.x,we=X.snapPoint.y):E(null)}}else E(null);if(!O()&&w.gridSettings.snapToGrid){const X=Au(oe,Me,w.gridSettings.gridSize);Ae=X.x,we=X.y}const fe={width:Ae-c,height:we-s};if(w.selectedTool==="organicBranch"){const X=Ae-c,Ue=we-s;fe.points=[0,0,X,Ue];const He={x:c+X*.5,y:s},Xe={x:Ae-X*.5,y:we};fe.controlPoints=[He,Xe]}bt(o,fe)}if(A||l){const fe=S.clientX,X=S.clientY;let Ue=0,He=0;fe<50&&(Ue=10),fe>window.innerWidth-50&&(Ue=-10),X<50&&(He=10),X>window.innerHeight-50&&(He=-10),(Ue!==0||He!==0)&&Ir({panX:w.viewState.panX+Ue,panY:w.viewState.panY+He})}(l||A)&&requestAnimationFrame(Ie)},yn=S=>{if(S.currentTarget.releasePointerCapture(S.pointerId),w.selectedTool==="pan"){A=!1,z("grab");return}if(w.selectedTool==="laser"){l=!1;const oe=()=>{N.length>0&&(Ie(),requestAnimationFrame(oe))};requestAnimationFrame(oe);return}if(D&&l&&o){if(w.elements.find(Me=>Me.id===o)){if(O()){const Me=O(),Ae={elementId:Me.elementId,focus:0,gap:5};bt(o,{endBinding:Ae});const we=w.elements.find(fe=>fe.id===Me.elementId);if(we){const fe=we.boundElements||[];fe.find(X=>X.id===o)||bt(we.id,{boundElements:[...fe,{id:o,type:"arrow"}]})}}xe("selection",[o])}l=!1,o=null,D=null,E(null),requestAnimationFrame(Ie);return}if(w.selectedTool==="selection"){if(v){const oe=C();if(oe){const Me=[],Ae=oe.x,we=oe.y,fe=oe.w,X=oe.h;if(w.elements.forEach(Ue=>{const He=Ue.x,Xe=Ue.y,Ee=Ue.width,Ye=Ue.height,Ve=Math.min(He,He+Ee),qe=Math.max(He,He+Ee),Je=Math.min(Xe,Xe+Ye),vt=Math.max(Xe,Xe+Ye);Ae<qe&&Ae+fe>Ve&&we<vt&&we+X>Je&&Me.push(Ue.id)}),S.shiftKey||S.ctrlKey||S.metaKey){const Ue=new Set(w.selection);Me.forEach(He=>Ue.add(He)),xe("selection",Array.from(Ue))}else xe("selection",Me)}v=!1,_(null)}if(A){const oe=O();if(oe&&w.selection.length===1&&x){const Me=w.selection[0],Ae=w.elements.find(we=>we.id===Me);if(Ae&&(Ae.type==="line"||Ae.type==="arrow"||Ae.type==="organicBranch")){const we=x==="tl",fe={elementId:oe.elementId,focus:0,gap:5,position:oe.position};bt(Me,we?{startBinding:fe}:{endBinding:fe});const X=w.elements.find(Ue=>Ue.id===oe.elementId);if(X){const Ue=X.boundElements||[];Ue.find(He=>He.id===Me)||bt(X.id,{boundElements:[...Ue,{id:Me,type:Ae.type}]})}}}E(null)}A=!1,x=null,F.clear(),q([]);return}if(l&&o){const oe=w.elements.find(Me=>Me.id===o);if(oe){if((oe.type==="line"||oe.type==="arrow"||oe.type==="bezier"||oe.type==="organicBranch")&&O()){const Ae=O(),we={elementId:Ae.elementId,focus:0,gap:5,position:Ae.position};bt(o,{endBinding:we});const fe=w.elements.find(X=>X.id===Ae.elementId);if(fe){const X=fe.boundElements||[];bt(fe.id,{boundElements:[...X,{id:o,type:oe.type}]})}E(null)}if(["rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField"].includes(oe.type))oe.width<0&&bt(o,{x:oe.x+oe.width,width:Math.abs(oe.width)}),oe.height<0&&bt(o,{y:oe.y+oe.height,height:Math.abs(oe.height)});else if(oe.type==="fineliner"||oe.type==="inkbrush"||oe.type==="marker"||oe.type==="ink"){ht();const Ae=w.elements.find(we=>we.id===o);if(Ae&&Ae.points&&Ae.points.length>2){const we=Nt({...Ae,points:Ae.points});we&&bt(o,we)}}else if(oe.type==="organicBranch"){oe.x,oe.y,oe.width,oe.height;const Ae=Math.min(oe.x,oe.x+oe.width),we=Math.min(oe.y,oe.y+oe.height),fe=Math.abs(oe.width),X=Math.abs(oe.height),Ue=oe.x-Ae,He=oe.y-we,Xe=oe.x+oe.width-Ae,Ee=oe.y+oe.height-we,Ye=Xe-Ue,Ve={x:Ae+Ue+Ye*.5,y:we+He},qe={x:Ae+Xe-Ye*.5,y:we+Ee};bt(o,{x:Ae,y:we,width:fe,height:X,points:[Ue,He,Xe,Ee],controlPoints:[Ve,qe]})}["selection","pan","eraser","fineliner","inkbrush","marker","text","block-text"].includes(w.selectedTool)||on("selection"),D&&(xe("selection",[o]),on("selection"))}}l=!1,o=null,D=null},Ft=()=>{const S=d();if(!S)return;const oe=w.elements.find(Ae=>Ae.id===S);if(!oe)return;const Me=g().trim();if(oe.type==="text")if(Me){let Ae=0,we=0;if(e){const fe=e.getContext("2d");if(fe){const X=oe.fontSize||20;fe.font=`${X}px sans-serif`,Ae=fe.measureText(Me).width,we=X}}Ae=Math.max(Ae,10),we=Math.max(we,10),bt(S,{text:Me,width:Ae,height:we},!0)}else ea([S]);else{const Ae=oe.type==="line"||oe.type==="arrow"||oe.type==="organicBranch",we=f();if(oe.autoResize&&e&&!Ae&&we==="containerText"){const fe=e.getContext("2d");if(fe){const X=Q0(fe,oe,Me);bt(S,{[we]:Me,width:X.width,height:X.height},!0)}else bt(S,{[we]:Me},!0)}else bt(S,{[we]:Me},!0)}u(null),p(""),requestAnimationFrame(Ie)},Tn=S=>{if(S.preventDefault(),w.selectedTool!=="selection")return;const{x:oe,y:Me}=me(S.clientX,S.clientY),Ae=10/w.viewState.scale,we=new Map;for(const fe of w.elements)we.set(fe.id,fe);for(let fe=w.elements.length-1;fe>=0;fe--){const X=w.elements[fe];if(Ut(X)&&ka(X.layerId)&&Ct(X,oe,Me,Ae,we)){if(["star","burst","speechBubble","isometricCube","solidBlock","perspectiveBlock"].includes(X.type)){const He=Tt(oe,Me);if(He&&He.handle.startsWith("control-"))return}if(X.type==="line"||X.type==="arrow"||X.type==="bezier"){const He=X.controlPoints?[...X.controlPoints]:[];if(He.length>=2)return;He.push({x:oe,y:Me}),bt(X.id,{controlPoints:He,curveType:"bezier"},!0);return}if(["rectangle","circle","diamond","line","arrow","triangle","hexagon","octagon","parallelogram","star","cloud","heart","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","starPerson","scroll","wavyDivider","doubleBanner","lightbulb","signpost","burstBlob","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"].includes(X.type)){if(u(X.id),X.type==="umlClass"){const He=Me-X.y,Xe=e?.getContext("2d");let Ee=30;if(X.containerText&&Xe){const Ve=ki(Xe,X,X.containerText,X.width-10);Ee=Math.max(30,Ve.textHeight+20)}let Ye=20;if(X.attributesText&&Xe){const Ve=ki(Xe,{...X,fontSize:(X.fontSize||20)*.9},X.attributesText,X.width-10);Ye=Math.max(20,Ve.textHeight+10)}He<Ee?(h("containerText"),p(X.containerText||"")):He<Ee+Ye?(h("attributesText"),p(X.attributesText||"")):(h("methodsText"),p(X.methodsText||""))}else if(X.type==="umlState"){const He=Me-X.y,Xe=e?.getContext("2d");let Ee=35;if(X.containerText&&Xe){const Ye=ki(Xe,X,X.containerText,X.width-20);Ee=Math.max(35,Ye.textHeight+15)}He<Ee?(h("containerText"),p(X.containerText||"")):(h("attributesText"),p(X.attributesText||""))}else if(X.type==="umlFragment"){const He=Me-X.y,Xe=oe-X.x,Ee=Math.min(X.width*.3,60),Ye=Math.min(X.height*.12,22)+5;Xe<Ee&&He<Ye?(h("containerText"),p(X.containerText||"")):(h("attributesText"),p(X.attributesText||""))}else h("containerText"),p(X.containerText||"");setTimeout(()=>y?.focus(),0);return}break}}},Ht=()=>{d()&&Ft()},en=()=>{const S=d();return S?w.elements.find(oe=>oe.id===S):null};Dn(()=>{d()&&y&&(y.style.height="auto",y.style.height=y.scrollHeight+"px")});const[$n,rn]=Pt(!1);Dn(()=>{const{scale:S,panX:oe,panY:Me}=w.viewState;if(!e||w.elements.length===0){rn(!1);return}const Ae=-oe/S,we=-Me/S,fe=e.width/S,X=e.height/S;let Ue=1/0,He=1/0,Xe=-1/0,Ee=-1/0;w.elements.forEach(Ve=>{const qe=Ve.x,Je=Ve.x+Ve.width,vt=Ve.y,pt=Ve.y+Ve.height;Ue=Math.min(Ue,qe,Je),Xe=Math.max(Xe,qe,Je),He=Math.min(He,vt,pt),Ee=Math.max(Ee,vt,pt)});const Ye=!(Ue>Ae+fe||Xe<Ae||He>we+X||Ee<we);rn(!Ye)});const Gt=()=>{if(w.elements.length===0)return;let S=1/0,oe=1/0,Me=-1/0,Ae=-1/0;w.elements.forEach(qe=>{const Je=qe.x,vt=qe.x+qe.width,pt=qe.y,ft=qe.y+qe.height;S=Math.min(S,Je,vt),Me=Math.max(Me,Je,vt),oe=Math.min(oe,pt,ft),Ae=Math.max(Ae,pt,ft)});const we=Me-S,fe=Ae-oe,X=S+we/2,Ue=oe+fe/2,{scale:He}=w.viewState,Xe=window.innerWidth/2,Ee=window.innerHeight/2,Ye=-X*He+Xe,Ve=-Ue*He+Ee;Ir({panX:Ye,panY:Ve})};qi(()=>{SS(()=>{Ie()}),window.addEventListener("resize",et),et(),jn(()=>window.removeEventListener("resize",et))});const In=()=>{const S=w.selection.length,oe=S>0,Me=[];if(oe){Me.push({label:"Copy",shortcut:"Ctrl+C",onClick:Lh},{label:"Paste",shortcut:"Ctrl+V",onClick:Yd},{label:"Cut",shortcut:"Ctrl+X",onClick:Lp},{label:"Duplicate",shortcut:"Ctrl+D",onClick:()=>w.selection.forEach(Ee=>gp(Ee))},{separator:!0});const Ae=w.selection[0],we=w.elements.find(Ee=>Ee.id===Ae);if(we){const Ee=[];if(S===1&&(Ee.push({label:"Add Child",onClick:()=>Vl(Ae)}),we.parentId&&Ee.push({label:"Add Sibling",onClick:()=>Ql(Ae)}),Ee.push({separator:!0})),we.parentId&&Ee.push({label:"Clear Parent",onClick:()=>T4(Ae)}),w.elements.some(qe=>qe.parentId===Ae)&&Ee.push({label:we.isCollapsed?"Expand Subtree":"Collapse Subtree",onClick:()=>Bl(Ae)}),S===2){const qe=w.selection[0],Je=w.selection[1];Ee.push({label:"Set as Child of Selected",onClick:()=>i2(qe,Je)})}const Ve=[{label:"Horizontal (Right)",icon:"",onClick:()=>Ni(Ae,"horizontal-right")},{label:"Horizontal (Left)",icon:"",onClick:()=>Ni(Ae,"horizontal-left")},{label:"Vertical (Down)",icon:"",onClick:()=>Ni(Ae,"vertical-down")},{label:"Vertical (Up)",icon:"",onClick:()=>Ni(Ae,"vertical-up")},{label:"Radial (Neuron)",icon:"",onClick:()=>Ni(Ae,"radial")}];Ee.push({separator:!0}),Ee.push({label:"Auto Layout",submenu:Ve,icon:""}),Ee.push({label:"Auto Style Branch",icon:"",onClick:()=>kh(Ae)}),Ee.length>0&&Me.push({label:"Hierarchy",submenu:Ee})}const fe=w.selection.map(Ee=>w.elements.find(Ye=>Ye.id===Ee)).filter(Boolean),X=fe.filter(Ee=>{const Ye=Ee.type;return Ye!=="line"&&Ye!=="arrow"&&Ye!=="bezier"&&Ye!=="organicBranch"&&Ye!=="text"&&Ye!=="image"}),Ue=fe.filter(Ee=>{const Ye=Ee.type;return Ye==="line"||Ye==="arrow"||Ye==="bezier"||Ye==="organicBranch"});if(X.length>0){let Ee=K0(X[0].type);new Set(X.map(Ve=>Ve.type)).size>1&&Ee.push(X[0].type),Ee.length>0&&Me.push({label:X.length>1?`Transform ${X.length} Shapes`:"Transform Shape",submenu:Ee.map(Ve=>({icon:Z0(Ve),tooltip:eg(Ve),onClick:()=>{cn(),X.forEach(qe=>J0(qe.id,Ve,!1)),requestAnimationFrame(Ie)}})),gridColumns:3})}if(Ue.length>0){let Ee=K0(Ue[0].type);new Set(Ue.map(Ve=>Ve.type)).size>1&&Ee.push(Ue[0].type),Ee.length>0&&Me.push({label:Ue.length>1?`Transform ${Ue.length} Connectors`:"Transform Connector",submenu:Ee.map(Ve=>({icon:Z0(Ve),tooltip:eg(Ve),onClick:()=>{cn(),Ue.forEach(qe=>J0(qe.id,Ve,!1)),requestAnimationFrame(Ie)}})),gridColumns:3})}if(Ue.length>0){const Ye=Ue[0].curveType||"straight",Ve=JS(Ye);new Set(Ue.map(Je=>Je.curveType||"straight")).size>1&&Ve.push(Ye),Ve.length>0&&Me.push({label:Ue.length>1?"Change All Curve Styles":"Change Curve Style",submenu:Ve.map(Je=>({icon:KS(Je),tooltip:ZS(Je),onClick:()=>{cn(),Ue.forEach(vt=>bt(vt.id,{curveType:Je},!1)),requestAnimationFrame(Ie)}})),gridColumns:3})}Me.push({separator:!0}),S>1&&Me.push({label:"Group",shortcut:"Ctrl+G",onClick:Ah}),w.selection.some(Ee=>{const Ye=w.elements.find(Ve=>Ve.id===Ee);return Ye?.groupIds&&Ye.groupIds.length>0})&&Me.push({label:"Ungroup",shortcut:"Ctrl+Shift+G",onClick:yh}),Me.push({separator:!0}),Me.push({label:"Export as PNG",onClick:()=>vm(2,!0,!0)},{label:"Export as SVG",onClick:()=>bm(!0)}),Me.push({separator:!0}),Me.push({label:"Bring to Front",shortcut:"Ctrl+]",onClick:()=>ph(w.selection)},{label:"Send to Back",shortcut:"Ctrl+[",onClick:()=>gh(w.selection)},{label:"Bring Forward",onClick:()=>w.selection.forEach(Ee=>Na(Ee,"forward"))},{label:"Send Backward",onClick:()=>w.selection.forEach(Ee=>Na(Ee,"backward"))},{separator:!0}),S===1&&Me.push({label:"Copy Styles",shortcut:"Ctrl+Alt+C",onClick:Pp},{label:"Paste Styles",shortcut:"Ctrl+Alt+V",onClick:Mp},{separator:!0});const Xe=w.selection.some(Ee=>w.elements.find(Ye=>Ye.id===Ee)?.locked);Me.push({label:Xe?"Unlock":"Lock",shortcut:"Ctrl+Shift+L",onClick:()=>GS(!Xe)},{label:"Flip Horizontal",shortcut:"Shift+H",onClick:()=>V0("horizontal")},{label:"Flip Vertical",shortcut:"Shift+V",onClick:()=>V0("vertical")},{separator:!0},{label:"Delete",shortcut:"Delete",onClick:()=>ea(w.selection)},{separator:!0},{label:"Show Properties",onClick:()=>eo(!0)})}else Me.push({label:"Paste",shortcut:"Ctrl+V",onClick:Yd},{separator:!0},{label:"Select all",shortcut:"Ctrl+A",onClick:()=>xe("selection",w.elements.map(Ae=>Ae.id))},{label:"Zoom to Fit",shortcut:"Shift+1",onClick:mh},{separator:!0},{label:"Show Grid",checked:w.gridSettings.enabled,onClick:bh},{label:"Snap to Grid",checked:w.gridSettings.snapToGrid,onClick:wh},{label:"Smart Snapping",checked:w.gridSettings.objectSnapping,onClick:()=>xe("gridSettings","objectSnapping",!w.gridSettings.objectSnapping)},{separator:!0},{label:"Zen Mode",shortcut:"Alt+Z",checked:w.zenMode,onClick:xh},{label:"Reset View",onClick:()=>Ir({scale:1,panX:0,panY:0})},{separator:!0},{label:"Canvas Settings",onClick:()=>_0(!0)});return Me};return[(()=>{var S=GL();S.$$contextmenu=Me=>{Me.preventDefault(),le({x:Me.clientX,y:Me.clientY}),se(!0)},S.$$dblclick=Tn,S.$$pointerup=yn,S.$$pointermove=nn,S.$$pointerdown=Zt,S.addEventListener("wheel",je);var oe=e;return typeof oe=="function"?Rn(oe,S):e=S,We(Me=>sn(S,"cursor",B())),S})(),$(st,{get when(){return Wn(()=>w.canvasTexture!=="none"&&w.canvasTexture!=="grid")()&&w.canvasTexture!=="graph"},get children(){var S=HL();return We(oe=>{var Me=w.theme==="dark"?.1:.4,Ae=w.canvasTexture==="paper"?`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opactiy='0.5'/%3E%3C/svg%3E")`:w.canvasTexture==="dots"?`radial-gradient(${w.theme==="dark"?"#ffffff":"#000000"} 1px, transparent 1px)`:"none",we=w.canvasTexture==="dots"?"20px 20px":"auto";return Me!==oe.e&&sn(S,"opacity",oe.e=Me),Ae!==oe.t&&sn(S,"background-image",oe.t=Ae),we!==oe.a&&sn(S,"background-size",oe.a=we),oe},{e:void 0,t:void 0,a:void 0}),S}}),$(st,{get when(){return $n()},get children(){var S=YL(),oe=S.firstChild;return oe.$$click=Gt,S}}),$(st,{get when(){return Wn(()=>!!d())()&&en()},children:S=>{const oe=en(),Me=Nl(oe.id),Ae=Me?Me.x:oe.x,we=Me?Me.y:oe.y,fe=Me?Me.width:oe.width,X=Me?Me.height:oe.height,{scale:Ue,panX:He,panY:Xe}=w.viewState;let Ee=(Ae+fe/2)*Ue+He,Ye=(we+X/2)*Ue+Xe,Ve="center",qe=oe.fontSize||20;if(oe.type==="umlClass"){const Je=f();if(Je==="attributesText"||Je==="methodsText"){Ve="left",qe=qe*.9;const vt=e?e.getContext("2d"):null;let pt=30;if(oe.containerText&&vt){const ze=ki(vt,oe,oe.containerText,oe.width-10);pt=Math.max(30,ze.textHeight+20)}let ft=pt,Ge=20;if(oe.attributesText&&vt){const ze=ki(vt,{...oe,fontSize:qe},oe.attributesText,oe.width-10);Ge=Math.max(20,ze.textHeight+10)}if(Je==="attributesText")Ye=(we+ft+Ge/2)*Ue+Xe,Ee=(Ae+fe/2)*Ue+He;else if(Je==="methodsText"){const ze=ft+Ge;Ye=(we+ze+20)*Ue+Xe,Ee=(Ae+fe/2)*Ue+He}}}return(()=>{var Je=VL();Je.$$keydown=pt=>{pt.key==="Escape"&&(pt.preventDefault(),u(null),p(""))},Je.addEventListener("blur",Ht),Je.$$input=pt=>p(pt.currentTarget.value);var vt=y;return typeof vt=="function"?Rn(vt,Je):y=Je,sn(Je,"top",`${Ye}px`),sn(Je,"left",`${Ee}px`),sn(Je,"text-align",Ve),We(pt=>{var ft=`${qe*Ue}px ${oe.fontFamily==="sans-serif"?"Inter, sans-serif":oe.fontFamily==="monospace"?"Source Code Pro, monospace":"Handlee, cursive"}`,Ge=oe.strokeColor;return ft!==pt.e&&sn(Je,"font",pt.e=ft),Ge!==pt.t&&sn(Je,"color",pt.t=Ge),pt},{e:void 0,t:void 0}),We(()=>Je.value=g()),Je})()}}),$(st,{get when(){return ve()},get children(){return $(kp,{get x(){return K().x},get y(){return K().y},get items(){return In()},onClose:()=>se(!1)})}}),$(st,{get when(){return w.isRecording},get children(){return $(XL,{onStop:a})}}),$(st,{get when(){return w.minimapVisible},get children(){return $(XS,{get canvasWidth(){return e?.width||window.innerWidth},get canvasHeight(){return e?.height||window.innerHeight}})}})]};Cn(["pointerdown","pointermove","pointerup","dblclick","contextmenu","click","input","keydown"]);const KL={A:[{type:"line",x1:50,y1:0,x2:0,y2:100},{type:"line",x1:50,y1:0,x2:100,y2:100},{type:"line",x1:25,y1:50,x2:75,y2:50}],E:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"line",x1:0,y1:0,x2:80,y2:0},{type:"line",x1:0,y1:50,x2:60,y2:50},{type:"line",x1:0,y1:100,x2:80,y2:100}],F:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"line",x1:0,y1:0,x2:80,y2:0},{type:"line",x1:0,y1:50,x2:60,y2:50}],H:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"line",x1:100,y1:0,x2:100,y2:100},{type:"line",x1:0,y1:50,x2:100,y2:50}],I:[{type:"line",x1:50,y1:0,x2:50,y2:100},{type:"line",x1:20,y1:0,x2:80,y2:0},{type:"line",x1:20,y1:100,x2:80,y2:100}],K:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"line",x1:0,y1:60,x2:80,y2:0},{type:"line",x1:20,y1:45,x2:80,y2:100}],L:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"line",x1:0,y1:100,x2:80,y2:100}],M:[{type:"line",x1:0,y1:100,x2:0,y2:0},{type:"line",x1:0,y1:0,x2:50,y2:60},{type:"line",x1:50,y1:60,x2:100,y2:0},{type:"line",x1:100,y1:0,x2:100,y2:100}],N:[{type:"line",x1:0,y1:100,x2:0,y2:0},{type:"line",x1:0,y1:0,x2:100,y2:100},{type:"line",x1:100,y1:100,x2:100,y2:0}],T:[{type:"line",x1:50,y1:0,x2:50,y2:100},{type:"line",x1:0,y1:0,x2:100,y2:0}],V:[{type:"line",x1:0,y1:0,x2:50,y2:100},{type:"line",x1:50,y1:100,x2:100,y2:0}],W:[{type:"line",x1:0,y1:0,x2:25,y2:100},{type:"line",x1:25,y1:100,x2:50,y2:40},{type:"line",x1:50,y1:40,x2:75,y2:100},{type:"line",x1:75,y1:100,x2:100,y2:0}],X:[{type:"line",x1:0,y1:0,x2:100,y2:100},{type:"line",x1:100,y1:0,x2:0,y2:100}],Y:[{type:"line",x1:0,y1:0,x2:50,y2:50},{type:"line",x1:100,y1:0,x2:50,y2:50},{type:"line",x1:50,y1:50,x2:50,y2:100}],Z:[{type:"line",x1:0,y1:0,x2:100,y2:0},{type:"line",x1:100,y1:0,x2:0,y2:100},{type:"line",x1:0,y1:100,x2:100,y2:100}],B:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"bezier",x1:0,y1:0,x2:0,y2:50,c1x:70,c1y:0,c2x:70,c2y:50},{type:"bezier",x1:0,y1:50,x2:0,y2:100,c1x:80,c1y:50,c2x:80,c2y:100}],C:[{type:"bezier",x1:80,y1:20,x2:80,y2:80,c1x:-10,c1y:0,c2x:-10,c2y:100}],D:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"bezier",x1:0,y1:0,x2:0,y2:100,c1x:100,c1y:0,c2x:100,c2y:100}],G:[{type:"bezier",x1:80,y1:20,x2:80,y2:80,c1x:-10,c1y:0,c2x:-10,c2y:100},{type:"line",x1:80,y1:80,x2:80,y2:50},{type:"line",x1:80,y1:50,x2:50,y2:50}],J:[{type:"bezier",x1:60,y1:0,x2:40,y2:80,c1x:60,c1y:100,c2x:0,c2y:100}],O:[{type:"bezier",x1:50,y1:0,x2:50,y2:100,c1x:-10,c1y:0,c2x:-10,c2y:100},{type:"bezier",x1:50,y1:0,x2:50,y2:100,c1x:110,c1y:0,c2x:110,c2y:100}],P:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"bezier",x1:0,y1:0,x2:0,y2:50,c1x:80,c1y:0,c2x:80,c2y:50}],Q:[{type:"bezier",x1:50,y1:0,x2:50,y2:90,c1x:-10,c1y:0,c2x:-10,c2y:90},{type:"bezier",x1:50,y1:0,x2:50,y2:90,c1x:110,c1y:0,c2x:110,c2y:90},{type:"line",x1:60,y1:70,x2:90,y2:100}],R:[{type:"line",x1:0,y1:0,x2:0,y2:100},{type:"bezier",x1:0,y1:0,x2:0,y2:50,c1x:80,c1y:0,c2x:80,c2y:50},{type:"line",x1:20,y1:50,x2:80,y2:100}],S:[{type:"bezier",x1:80,y1:20,x2:50,y2:50,c1x:10,c1y:10,c2x:20,c2y:50},{type:"bezier",x1:50,y1:50,x2:20,y2:80,c1x:80,c1y:50,c2x:90,c2y:90}],U:[{type:"bezier",x1:0,y1:0,x2:100,y2:0,c1x:0,c1y:120,c2x:100,c2y:120}]},ZL=(e,t,n,i=60,r="#000000")=>{const a=[],l=crypto.randomUUID(),o=i*.4;let c=t;const s=d=>d/100*i;for(let d=0;d<e.length;d++){const u=e[d].toUpperCase();if(u===" "){c+=i*.5;continue}const f=KL[u];if(!f){const h=i,p={id:crypto.randomUUID(),type:"rectangle",x:c,y:n,width:h,height:h,strokeColor:r,backgroundColor:"transparent",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:1,opacity:100,angle:0,renderStyle:"sketch",seed:Math.random()*1e5,roundness:null,locked:!1,link:null,layerId:"default-layer",groupIds:[l],fontSize:16,textAlign:"center",verticalAlign:"middle",containerText:"?"};a.push(p),c+=h+o;continue}f.forEach(h=>{const p={id:crypto.randomUUID(),strokeColor:r,backgroundColor:"transparent",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",roughness:1,opacity:100,angle:0,renderStyle:"sketch",seed:Math.random()*1e5,roundness:null,locked:!1,link:null,layerId:"default-layer",groupIds:[l]};if(h.type==="line")p.type="line",p.x=c+s(h.x1),p.y=n+s(h.y1),p.width=s(h.x2-h.x1),p.height=s(h.y2-h.y1),p.startArrowhead=null,p.endArrowhead=null;else if(h.type==="bezier"){p.type="line",p.curveType="bezier",p.startArrowhead=null,p.endArrowhead=null,p.x=c+s(h.x1),p.y=n+s(h.y1),p.width=s(h.x2-h.x1),p.height=s(h.y2-h.y1);const y=c+s(h.c1x),A=n+s(h.c1y),v=c+s(h.c2x),x=n+s(h.c2y);p.controlPoints=[{x:y,y:A},{x:v,y:x}]}a.push(p)}),c+=i+o}return a};var eP=Ne('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round class="lucide lucide-marker"><path d="M12 2l7 7-9 9-4-4L12 2z"></path><path d="M7 13l-1.5 1.5">'),tP=Ne("<div class=pen-tool-dropdown>"),nP=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),rP=Ne("<button>");const iP=e=>(()=>{var t=eP();return We(n=>{var i=e.size||24,r=e.size||24;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),Ku=[{type:"fineliner",icon:Qx,label:"Fine Liner"},{type:"inkbrush",icon:Hb,label:"Ink Brush"},{type:"marker",icon:iP,label:"Marker"}],aP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const d=u=>{const f=u.target;n?.contains(f)||i?.contains(f)||t(!1)};document.addEventListener("pointerdown",d),jn(()=>document.removeEventListener("pointerdown",d))}});const r=()=>Ku.find(d=>d.type===w.selectedPenType)||Ku[0],a=()=>["fineliner","inkbrush","marker"].includes(w.selectedTool),l=d=>{g4(d),on(d),t(!1)},o=d=>{d.preventDefault(),w.showPropertyPanel||on(w.selectedTool),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},c=()=>{a()||on(w.selectedPenType),t(!e())},s=()=>{if(!n)return{};const d=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${d.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${d.bottom+4}px`,left:`${d.left}px`}};return(()=>{var d=nP(),u=d.firstChild,f=u.firstChild;u.$$contextmenu=o,u.$$click=c;var h=n;return typeof h=="function"?Rn(h,u):n=u,ee(f,()=>{const g=r().icon;return $(g,{size:20})},null),ee(f,$(oi,{size:10,class:"submenu-indicator"}),null),ee(d,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var g=tP(),p=i;return typeof p=="function"?Rn(p,g):i=g,ee(g,$(rr,{each:Ku,children:y=>(()=>{var A=rP();return wn(A,"click",()=>l(y.type)),ee(A,$(y.icon,{size:18})),We(v=>{var x=`dropdown-item ${w.selectedPenType===y.type?"active":""}`,C=y.label;return x!==v.e&&hn(A,v.e=x),C!==v.t&&Lt(A,"title",v.t=C),v},{e:void 0,t:void 0}),A})()})),We(y=>na(g,s(),y)),g}})}}),null),We(g=>{var p=`toolbar-btn ${a()?"active":""}`,y=`${r().label} (Click for more)`;return p!==g.e&&hn(u,g.e=p),y!==g.t&&Lt(u,"title",g.t=y),g},{e:void 0,t:void 0}),d})()};Cn(["click","contextmenu"]);var oP=Ne("<div class=pen-tool-dropdown>"),sP=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),lP=Ne("<button>");const ed=[{type:"database",icon:tp,label:"Database"},{type:"document",icon:ih,label:"Document"},{type:"predefinedProcess",icon:Ow,label:"Predefined Process"},{type:"internalStorage",icon:ah,label:"Internal Storage"},{type:"capsule",icon:tk,label:"Capsule (Node)"},{type:"stickyNote",icon:Yk,label:"Sticky Note"},{type:"callout",icon:kx,label:"Callout (Thought)"},{type:"speechBubble",icon:bx,label:"Speech Bubble"},{type:"burst",icon:Wl,label:"Burst (Impact)"},{type:"ribbon",icon:Fb,label:"Ribbon (Title)"},{type:"bracketLeft",icon:Zf,label:"Left Bracket"},{type:"bracketRight",icon:Fl,label:"Right Bracket"},{type:"triangle",icon:f3,label:"Triangle"},{type:"hexagon",icon:H5,label:"Hexagon"},{type:"octagon",icon:zx,label:"Octagon"},{type:"parallelogram",icon:Ul,label:"Parallelogram"},{type:"star",icon:Xk,label:"Star"},{type:"polygon",icon:H1,label:"Polygon (Parametric)"},{type:"cloud",icon:Rw,label:"Cloud"},{type:"heart",icon:q5,label:"Heart"},{type:"cross",icon:Hr,label:"Cross (X)"},{type:"checkmark",icon:Qa,label:"Checkmark"},{type:"arrowLeft",icon:Lb,label:"Arrow Left"},{type:"arrowRight",icon:_b,label:"Arrow Right"},{type:"arrowUp",icon:Ib,label:"Arrow Up"},{type:"arrowDown",icon:rh,label:"Arrow Down"}],cP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>ed.find(f=>f.type===w.selectedShapeType)||ed[0],a=u=>{A4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedShapeType),t(!e())},c=()=>r(),s=()=>ed.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=sP(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=oP(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>ed.map(A=>(()=>{var v=lP();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var dP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=7 r=3></circle><path d="M 12,10 L 5,13 L 12,15 L 19,13 L 12,10"></path><path d="M 12,15 L 9,21"></path><path d="M 12,15 L 15,21">'),hP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 6,4 L 18,4 L 18,20 L 6,20 Z"></path><path d="M 6,4 C 4,4 4,2 6,2 L 18,2 C 20,2 20,4 18,4"></path><path d="M 6,20 C 4,20 4,22 6,22 L 18,22 C 20,22 20,20 18,20">'),uP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 2,12 C 5,8 8,16 11,12 C 14,8 17,16 20,12">'),fP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 5,6 L 19,6 L 19,14 L 5,14 Z"></path><path d="M 5,8 L 2,10 L 5,12"></path><path d="M 19,8 L 22,10 L 19,12"></path><path d="M 5,14 L 5,16 L 3,16"></path><path d="M 19,14 L 19,16 L 21,16">'),pP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><line x1=9 y1=18 x2=15 y2=18></line><line x1=10 y1=22 x2=14 y2=22></line><path d="M 15.09,14 C 15.09,14 17,12.5 17,10.6 C 17,7.5 14.5,5 11,5 C 7.5,5 5,7.5 5,10.6 C 5,12.5 6.91,14 6.91,14">'),gP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><line x1=12 y1=3 x2=12 y2=22></line><path d="M 4,6 L 18,6 L 21,9 L 18,12 L 4,12 Z"></path><circle cx=12 cy=9 r=1 fill=currentColor stroke=none>'),AP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 12,2 L 14.5,8 L 21,9 L 16.5,14 L 18,21 L 12,17 L 6,21 L 7.5,14 L 3,9 L 9.5,8 Z">'),yP=Ne("<div class=pen-tool-dropdown>"),mP=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),vP=Ne("<button>");const bP=e=>(()=>{var t=dP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),wP=e=>(()=>{var t=hP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),xP=e=>(()=>{var t=uP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),kP=e=>(()=>{var t=fP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),SP=e=>(()=>{var t=pP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),CP=e=>(()=>{var t=gP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),LP=e=>(()=>{var t=AP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),td=[{type:"starPerson",icon:bP,label:"Star Person (Character)"},{type:"lightbulb",icon:SP,label:"Lightbulb (Idea)"},{type:"signpost",icon:CP,label:"Signpost (Direction)"},{type:"burstBlob",icon:LP,label:"Jagged Burst (Impact)"},{type:"scroll",icon:wP,label:"Scroll Container"},{type:"wavyDivider",icon:xP,label:"Wavy Divider"},{type:"doubleBanner",icon:kP,label:"Double Banner"}],PP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>td.find(f=>f.type===w.selectedSketchnoteType)||td[0],a=u=>{v4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedSketchnoteType),t(!e())},c=()=>r(),s=()=>td.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=mP(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=yP(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>td.map(A=>(()=>{var v=vP();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var MP=Ne("<div class=pen-tool-dropdown>"),_P=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),NP=Ne("<button>");const nd=[{type:"database",icon:tp,label:"Database"},{type:"server",icon:_k,label:"Server"},{type:"loadBalancer",icon:zk,label:"Load Balancer"},{type:"firewall",icon:$k,label:"Firewall"},{type:"user",icon:Q1,label:"User / Client"},{type:"messageQueue",icon:kk,label:"Message Queue"},{type:"lambda",icon:Wl,label:"Lambda / Function"},{type:"router",icon:bk,label:"Router"},{type:"browser",icon:B5,label:"Browser / Web"}],TP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>nd.find(f=>f.type===w.selectedInfraType)||nd[0],a=u=>{y4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedInfraType),t(!e())},c=()=>r(),s=()=>nd.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=_P(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=MP(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>nd.map(A=>(()=>{var v=NP();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var IP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 4,18 L 8,6 L 16,6 L 20,18 Z">'),BP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 6,6 L 6,18 L 18,18 Z">'),DP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M 12,2 L 19,5 L 22,12 L 19,19 L 12,22 L 5,19 L 2,12 L 5,5 Z">'),EP=Ne("<div class=pen-tool-dropdown>"),RP=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),$P=Ne("<button>");const FP=e=>(()=>{var t=IP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),OP=e=>(()=>{var t=BP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),zP=e=>(()=>{var t=DP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),rd=[{type:"trapezoid",icon:FP,label:"Trapezoid"},{type:"rightTriangle",icon:OP,label:"Right-Angle Triangle"},{type:"pentagon",icon:H1,label:"Pentagon"},{type:"septagon",icon:zP,label:"Septagon (Heptagon)"}],UP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>rd.find(f=>f.type===w.selectedMathType)||rd[0],a=u=>{m4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedMathType),t(!e())},c=()=>r(),s=()=>rd.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=RP(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=EP(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>rd.map(A=>(()=>{var v=$P();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var WP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><rect x=2 y=3 width=20 height=18 rx=2 ry=2></rect><line x1=2 y1=8 x2=22 y2=8></line><circle cx=5 cy=5.5 r=0.5 fill=currentColor></circle><circle cx=7 cy=5.5 r=0.5 fill=currentColor></circle><circle cx=9 cy=5.5 r=0.5 fill=currentColor>'),jP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><rect x=5 y=2 width=14 height=20 rx=2 ry=2></rect><path d="M10 4h4"></path><path d="M11 19h2">'),qP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-dasharray="2 2"><rect x=3 y=6 width=18 height=12 rx=2 ry=2>'),XP=Ne('<svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=3 y=7 width=18 height=10 rx=1></rect><line x1=7 y1=10 x2=7 y2=14>'),GP=Ne("<div class=pen-tool-dropdown>"),HP=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),YP=Ne("<button>");const VP=e=>(()=>{var t=WP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),QP=e=>(()=>{var t=jP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),JP=e=>(()=>{var t=qP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),KP=e=>(()=>{var t=XP();return We(n=>{var i=e.size||20,r=e.size||20;return i!==n.e&&Lt(t,"width",n.e=i),r!==n.t&&Lt(t,"height",n.t=r),n},{e:void 0,t:void 0}),t})(),id=[{type:"browserWindow",icon:VP,label:"Browser Window"},{type:"mobilePhone",icon:QP,label:"Mobile Phone"},{type:"ghostButton",icon:JP,label:"Ghost Button"},{type:"inputField",icon:KP,label:"Input Field"}],ZP=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>id.find(f=>f.type===w.selectedWireframeType)||id[0],a=u=>{b4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedWireframeType),t(!e())},c=()=>r(),s=()=>id.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=HP(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=GP(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>id.map(A=>(()=>{var v=YP();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var eM=Ne("<div class=pen-tool-dropdown>"),tM=Ne('<div class=pen-tool-group><button title="Mindmap Tools"><div class=tool-icon-wrapper>'),nM=Ne("<button>");const pl=[{type:"organicBranch",icon:dx,label:"Organic Branch"},{type:"cloud",icon:qb,label:"Central Topic (Cloud)"},{type:"circle",icon:Y1,label:"Topic (Circle)"}],rM=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>{const u=pl.find(h=>h.type===w.selectedTool);return u||pl.find(h=>h.type===w.selectedShapeType)||pl[0]},a=u=>{on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(r().type),t(!e())},c=()=>r(),s=()=>pl.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=tM(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=eM(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>pl.map(A=>(()=>{var v=nM();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(()=>hn(f,`toolbar-btn ${s()?"active":""}`)),u})()};Cn(["click","contextmenu"]);var iM=Ne("<div class=pen-tool-dropdown>"),aM=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),oM=Ne("<button>");const ad=[{type:"dfdProcess",icon:Eb,label:"DFD Process"},{type:"dfdDataStore",icon:U5,label:"DFD Data Store"},{type:"isometricCube",icon:jx,label:"Isometric Cube"},{type:"solidBlock",icon:Ub,label:"Solid Block"},{type:"perspectiveBlock",icon:Hw,label:"Perspective Block"},{type:"cylinder",icon:tp,label:"Cylinder"},{type:"stateStart",icon:ep,label:"Initial State"},{type:"stateEnd",icon:z1,label:"Final State"},{type:"stateSync",icon:oh,label:"Sync Bar"},{type:"activationBar",icon:W1,label:"Activation Bar"},{type:"externalEntity",icon:ah,label:"External Entity"}],sM=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>ad.find(f=>f.type===w.selectedTechnicalType)||ad[0],a=u=>{P4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedTechnicalType),t(!e())},c=()=>r(),s=()=>ad.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=aM(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=iM(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>ad.map(A=>(()=>{var v=oM();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=c().label;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var lM=Ne("<div class=pen-tool-dropdown>"),cM=Ne("<div class=pen-tool-group><button><div class=tool-icon-wrapper>"),dM=Ne("<button>");const od=[{type:"umlClass",icon:ld,label:"Class"},{type:"umlInterface",icon:t5,label:"Interface"},{type:"umlActor",icon:Q1,label:"Actor"},{type:"umlUseCase",icon:ep,label:"Use Case"},{type:"umlNote",icon:ih,label:"Note"},{type:"umlPackage",icon:sf,label:"Package"},{type:"umlComponent",icon:Ww,label:"Component"},{type:"umlState",icon:lk,label:"State"},{type:"umlLifeline",icon:rh,label:"Lifeline"},{type:"umlFragment",icon:P5,label:"Fragment"},{type:"umlSignalSend",icon:Fl,label:"Signal Send"},{type:"umlSignalReceive",icon:Zf,label:"Signal Receive"},{type:"umlProvidedInterface",icon:z1,label:"Provided"},{type:"umlRequiredInterface",icon:kw,label:"Required"}],hM=()=>{const[e,t]=Pt(!1);let n,i;Dn(()=>{if(e()){const u=f=>{const h=f.target;n?.contains(h)||i?.contains(h)||t(!1)};document.addEventListener("pointerdown",u),jn(()=>document.removeEventListener("pointerdown",u))}});const r=()=>od.find(f=>f.type===w.selectedUmlType)||od[0],a=u=>{M4(u),on(u),t(!1)},l=u=>{u.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},o=()=>{s()||on(w.selectedUmlType),t(!e())},c=()=>r(),s=()=>od.some(u=>u.type===w.selectedTool),d=()=>{if(!n)return{};const u=n.getBoundingClientRect();return window.innerWidth<=768?{top:`${u.bottom+8}px`,left:"50%",transform:"translateX(-50%)"}:{top:`${u.bottom+4}px`,left:`${u.left}px`}};return(()=>{var u=cM(),f=u.firstChild,h=f.firstChild;f.$$contextmenu=l,f.$$click=o;var g=n;return typeof g=="function"?Rn(g,f):n=f,ee(h,()=>{const p=c().icon;return $(p,{size:20})},null),ee(h,$(oi,{size:10,class:"submenu-indicator"}),null),ee(u,$(st,{get when(){return e()},get children(){return $(ra,{get children(){var p=lM(),y=i;return typeof y=="function"?Rn(y,p):i=p,ee(p,()=>od.map(A=>(()=>{var v=dM();return wn(v,"click",()=>a(A.type)),ee(v,$(A.icon,{size:18})),We(x=>{var C=`dropdown-item ${w.selectedTool===A.type?"active":""}`,_=A.label;return C!==x.e&&hn(v,x.e=C),_!==x.t&&Lt(v,"title",x.t=_),x},{e:void 0,t:void 0}),v})())),We(A=>na(p,d(),A)),p}})}}),null),We(p=>{var y=`toolbar-btn ${s()?"active":""}`,A=`UML: ${c().label}`;return y!==p.e&&hn(f,p.e=y),A!==p.t&&Lt(f,"title",p.t=A),p},{e:void 0,t:void 0}),u})()};Cn(["click","contextmenu"]);var uM=Ne('<div class=toolbar-container><div class=drag-handle title="Drag to move toolbar"><div class=drag-dots></div></div><input type=file accept=image/* style=display:none>'),sd=Ne("<button>");const us=[{type:"pan",icon:F5,label:"Pan Tool"},{type:"selection",icon:Dx,label:"Selection"},{type:"rectangle",icon:Ul,label:"Rectangle"},{type:"circle",icon:ep,label:"Circle"},{type:"diamond",icon:Kw,label:"Diamond"},{type:"arrow",icon:$x,label:"Arrow"},{type:"line",icon:oh,label:"Line"},{type:"bezier",icon:rb,label:"Bezier Curve"},{type:"text",icon:A3,label:"Text"},{type:"block-text",icon:tw,label:"Block Text (Sketchnote)"},{type:"image",icon:j1,label:"Insert Image"},{type:"eraser",icon:o5,label:"Eraser"},{type:"laser",icon:Wl,label:"Laser Pointer (Alt+P)"},{type:"ink",icon:Q5,label:"Ink Overlay (Alt+I)"}],fM=()=>{let e=null;const[t,n]=Pt({x:0,y:0}),[i,r]=Pt(!1),[a,l]=Pt({x:0,y:0}),o=p=>{const y=p.target;(y.classList.contains("toolbar-container")||y.closest(".drag-handle"))&&(r(!0),l({x:p.clientX-t().x,y:p.clientY-t().y}),p.preventDefault())},c=p=>{i()&&n({x:p.clientX-a().x,y:p.clientY-a().y})},s=()=>{r(!1)};qi(()=>{window.addEventListener("mousemove",c),window.addEventListener("mouseup",s),jn(()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)})});const d=p=>{if(p==="image")e?.click();else if(p==="block-text"){const y=prompt("Enter text to generate (A-Z):");if(y){const A=window.innerWidth/2-w.viewState.panX,v=window.innerHeight/2-w.viewState.panY,x=ZL(y,A-y.length*30,v,80,"#000000");xe("elements",[...w.elements,...x]),xe("selection",x.map(C=>C.id)),on("selection")}}else on(p)},u=p=>{p.preventDefault(),xe("showPropertyPanel",!0),xe("isPropertyPanelMinimized",!1)},f=p=>{const y=p.target.files?.[0];if(!y)return;const A=new FileReader;A.onload=v=>{const x=v.target?.result;if(x){const C=new Image;C.src=x,C.onload=()=>{let F=C.width,O=C.height;if(F>1500||O>1500){const q=F/O;F>O?(F=1500,O=F/q):(O=1500,F=O*q)}const E=document.createElement("canvas");E.width=F,E.height=O;const I=E.getContext("2d");if(I){I.drawImage(C,0,0,F,O);const q=E.toDataURL("image/webp",.8),R=500;let P=F,D=O;if(P>R||D>R){const k=P/D;P>D?(P=R,D=P/k):(D=R,P=D*k)}Io({id:crypto.randomUUID(),type:"image",x:100,y:100,width:P,height:D,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:"solid",strokeWidth:0,strokeStyle:"solid",roughness:0,opacity:100,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null,dataURL:q,mimeType:"image/webp",layerId:w.activeLayerId})}}}},A.readAsDataURL(y),p.target.value=""},h=us.findIndex(p=>p.type==="diamond"),g=us.findIndex(p=>p.type==="bezier");return(()=>{var p=uM(),y=p.firstChild,A=y.nextSibling;return p.$$mousedown=o,p.$$contextmenu=v=>v.preventDefault(),A.addEventListener("change",f),Rn(v=>e=v,A),ee(p,$(rr,{get each(){return us.slice(0,2)},children:v=>(()=>{var x=sd();return x.$$contextmenu=u,x.$$click=()=>d(v.type),ee(x,$(v.icon,{size:20})),We(C=>{var _=`toolbar-btn ${w.selectedTool===v.type?"active":""}`,F=v.label;return _!==C.e&&hn(x,C.e=_),F!==C.t&&Lt(x,"title",C.t=F),C},{e:void 0,t:void 0}),x})()}),null),ee(p,$(aP,{}),null),ee(p,$(rr,{get each(){return us.slice(2,h+1)},children:v=>(()=>{var x=sd();return x.$$contextmenu=u,x.$$click=()=>d(v.type),ee(x,$(v.icon,{size:20})),We(C=>{var _=`toolbar-btn ${w.selectedTool===v.type?"active":""}`,F=v.label;return _!==C.e&&hn(x,C.e=_),F!==C.t&&Lt(x,"title",C.t=F),C},{e:void 0,t:void 0}),x})()}),null),ee(p,$(cP,{}),null),ee(p,$(rM,{}),null),ee(p,$(PP,{}),null),ee(p,$(TP,{}),null),ee(p,$(ZP,{}),null),ee(p,$(UP,{}),null),ee(p,$(sM,{}),null),ee(p,$(hM,{}),null),ee(p,$(rr,{get each(){return us.slice(h+1,g+1)},children:v=>(()=>{var x=sd();return x.$$contextmenu=u,x.$$click=()=>d(v.type),ee(x,$(v.icon,{size:20})),We(C=>{var _=`toolbar-btn ${w.selectedTool===v.type?"active":""}`,F=v.label;return _!==C.e&&hn(x,C.e=_),F!==C.t&&Lt(x,"title",C.t=F),C},{e:void 0,t:void 0}),x})()}),null),ee(p,$(rr,{get each(){return us.slice(g+1)},children:v=>(()=>{var x=sd();return x.$$contextmenu=u,x.$$click=()=>d(v.type),ee(x,$(v.icon,{size:20})),We(C=>{var _=`toolbar-btn ${w.selectedTool===v.type?"active":""}`,F=v.label;return _!==C.e&&hn(x,C.e=_),F!==C.t&&Lt(x,"title",C.t=F),C},{e:void 0,t:void 0}),x})()}),null),We(v=>{var x=!!i(),C=`translateX(-50%) translate(${t().x}px, ${t().y}px)`;return x!==v.e&&p.classList.toggle("dragging",v.e=x),C!==v.t&&sn(p,"transform",v.t=C),v},{e:void 0,t:void 0}),p})()};Cn(["contextmenu","mousedown","click"]);const pM=e=>e&&(e.version===3||e.version===4)&&Array.isArray(e.slides),xm="default-layer",gM=e=>({id:e.id,type:e.type,x:e.x??0,y:e.y??0,width:e.width??100,height:e.height??100,strokeColor:e.strokeColor??"#000000",backgroundColor:e.backgroundColor??"transparent",fillStyle:e.fillStyle??"hachure",strokeWidth:e.strokeWidth??1,strokeStyle:e.strokeStyle??"solid",roughness:e.roughness??1,opacity:e.opacity??100,angle:e.angle??0,renderStyle:e.renderStyle??"sketch",seed:e.seed??Math.floor(Math.random()*2147483647),roundness:e.roundness??null,locked:e.locked??!1,link:e.link??null,layerId:e.layerId||xm,...e.points&&{points:e.points},...e.pointsEncoding!==void 0&&{pointsEncoding:e.pointsEncoding},...e.startArrowhead!==void 0&&{startArrowhead:e.startArrowhead},...e.endArrowhead!==void 0&&{endArrowhead:e.endArrowhead},...e.text!==void 0&&{text:e.text},...e.rawText!==void 0&&{rawText:e.rawText},...e.fontSize!==void 0&&{fontSize:e.fontSize},...e.fontFamily!==void 0&&{fontFamily:e.fontFamily},...e.fontWeight!==void 0&&{fontWeight:e.fontWeight},...e.fontStyle!==void 0&&{fontStyle:e.fontStyle},...e.textAlign!==void 0&&{textAlign:e.textAlign},...e.verticalAlign!==void 0&&{verticalAlign:e.verticalAlign},...e.textColor!==void 0&&{textColor:e.textColor},...e.textHighlightEnabled!==void 0&&{textHighlightEnabled:e.textHighlightEnabled},...e.textHighlightColor!==void 0&&{textHighlightColor:e.textHighlightColor},...e.textHighlightPadding!==void 0&&{textHighlightPadding:e.textHighlightPadding},...e.textHighlightRadius!==void 0&&{textHighlightRadius:e.textHighlightRadius},...e.containerId!==void 0&&{containerId:e.containerId},...e.containerText!==void 0&&{containerText:e.containerText},...e.labelPosition!==void 0&&{labelPosition:e.labelPosition},...e.fileId!==void 0&&{fileId:e.fileId},...e.scale!==void 0&&{scale:e.scale},...e.crop!==void 0&&{crop:e.crop},...e.status!==void 0&&{status:e.status},...e.dataURL!==void 0&&{dataURL:e.dataURL},...e.mimeType!==void 0&&{mimeType:e.mimeType},...e.groupIds!==void 0&&{groupIds:e.groupIds},...e.boundElements!==void 0&&{boundElements:e.boundElements},...e.isSelected!==void 0&&{isSelected:e.isSelected},...e.startBinding!==void 0&&{startBinding:e.startBinding},...e.endBinding!==void 0&&{endBinding:e.endBinding},...e.curveType!==void 0&&{curveType:e.curveType},...e.parentId!==void 0&&{parentId:e.parentId},...e.isCollapsed!==void 0&&{isCollapsed:e.isCollapsed},...e.constrained!==void 0&&{constrained:e.constrained},...e.autoResize!==void 0&&{autoResize:e.autoResize},...e.starPoints!==void 0&&{starPoints:e.starPoints},...e.polygonSides!==void 0&&{polygonSides:e.polygonSides},...e.borderRadius!==void 0&&{borderRadius:e.borderRadius},...e.burstPoints!==void 0&&{burstPoints:e.burstPoints},...e.tailPosition!==void 0&&{tailPosition:e.tailPosition},...e.shapeRatio!==void 0&&{shapeRatio:e.shapeRatio},...e.drawInnerBorder!==void 0&&{drawInnerBorder:e.drawInnerBorder},...e.innerBorderColor!==void 0&&{innerBorderColor:e.innerBorderColor},...e.innerBorderDistance!==void 0&&{innerBorderDistance:e.innerBorderDistance},...e.strokeLineJoin!==void 0&&{strokeLineJoin:e.strokeLineJoin},...e.fillDensity!==void 0&&{fillDensity:e.fillDensity},...e.shadowEnabled!==void 0&&{shadowEnabled:e.shadowEnabled},...e.shadowColor!==void 0&&{shadowColor:e.shadowColor},...e.shadowBlur!==void 0&&{shadowBlur:e.shadowBlur},...e.shadowOffsetX!==void 0&&{shadowOffsetX:e.shadowOffsetX},...e.shadowOffsetY!==void 0&&{shadowOffsetY:e.shadowOffsetY},...e.gradientStart!==void 0&&{gradientStart:e.gradientStart},...e.gradientEnd!==void 0&&{gradientEnd:e.gradientEnd},...e.gradientDirection!==void 0&&{gradientDirection:e.gradientDirection},...e.gradientStops!==void 0&&{gradientStops:e.gradientStops},...e.gradientType!==void 0&&{gradientType:e.gradientType},...e.gradientHandlePositions!==void 0&&{gradientHandlePositions:e.gradientHandlePositions},...e.blendMode!==void 0&&{blendMode:e.blendMode},...e.filter!==void 0&&{filter:e.filter},...e.entranceAnimation!==void 0&&{entranceAnimation:e.entranceAnimation},...e.animations!==void 0&&{animations:e.animations},...e.controlPoints!==void 0&&{controlPoints:e.controlPoints},...e.flowAnimation!==void 0&&{flowAnimation:e.flowAnimation},...e.flowSpeed!==void 0&&{flowSpeed:e.flowSpeed},...e.flowStyle!==void 0&&{flowStyle:e.flowStyle},...e.flowColor!==void 0&&{flowColor:e.flowColor},...e.flowDensity!==void 0&&{flowDensity:e.flowDensity},...e.isMotionPath!==void 0&&{isMotionPath:e.isMotionPath}}),AM=e=>e.map(t=>gM(t)),yM=e=>{const n=(e.layers||[{id:xm,name:"Layer 1",visible:!0,locked:!1,opacity:1,order:0,backgroundColor:"transparent",colorTag:void 0,parentId:void 0,isGroup:!1,expanded:!0}]).map(r=>({...r,parentId:r.parentId,isGroup:r.isGroup??!1,expanded:r.expanded??!0}));return{elements:AM(e.elements||[]),layers:n,viewState:e.viewState||{scale:1,panX:0,panY:0},gridSettings:e.gridSettings,globalSettings:e.globalSettings,canvasBackgroundColor:e.canvasBackgroundColor,states:e.states||[],initialStateId:e.initialStateId}},Xf=e=>e&&(e.version===3||e.version===4)&&Array.isArray(e.slides),Gf=e=>{if(Xf(e))return e;const t=yM(e),n={id:crypto.randomUUID(),name:"Slide 1",spatialPosition:{x:0,y:0},dimensions:{width:1920,height:1080},backgroundColor:t.canvasBackgroundColor||"#ffffff",order:0};return{version:4,metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},elements:t.elements,layers:t.layers,slides:[n],globalSettings:e.globalSettings||{},gridSettings:t.gridSettings,states:t.states}};class mM{baseUrl="/api/drawings";async saveDrawing(t,n){let i;pM(n)?i={...n,metadata:{...n.metadata,updatedAt:new Date().toISOString()}}:i=Gf(n),i.version===4&&i.elements&&(i.elements=i.elements.map(s=>{if((s.type==="fineliner"||s.type==="inkbrush"||s.type==="marker")&&s.points&&typeof s.points[0]!="number"){const d=[];return s.points.forEach(u=>{d.push(u.x,u.y)}),{...s,points:d,pointsEncoding:"flat"}}return s})),i.slides&&(i.slides=i.slides.map(s=>{const d={...s};return d.elements&&(d.elements=d.elements.map(u=>{if((u.type==="fineliner"||u.type==="inkbrush"||u.type==="marker")&&u.points&&typeof u.points[0]!="number"){const f=[];return u.points.forEach(h=>{f.push(h.x,h.y)}),{...u,points:f,pointsEncoding:"flat"}}return u})),d}));const r=JSON.stringify(i),a=new Blob([r]).stream().pipeThrough(new CompressionStream("gzip")),o=await new Response(a).blob(),c=await fetch(`${this.baseUrl}/${t}`,{method:"POST",headers:{"Content-Type":"application/gzip"},body:o});if(!c.ok){const s=await c.json().catch(()=>({error:"Unknown server error"}));throw new Error(s.error||`Failed to save: ${c.statusText}`)}}async loadDrawing(t){const n=await fetch(`${this.baseUrl}/${t}`);if(!n.ok)return null;const i=n.headers.get("content-type");let r;if(i&&(i.includes("application/gzip")||i.includes("application/x-gzip")||i.includes("application/octet-stream")))try{const a=new DecompressionStream("gzip"),l=n.body.pipeThrough(a);r=await new Response(l).text()}catch(a){console.warn("Decompression failed, falling back to text",a),r=await n.text()}else r=await n.text();return JSON.parse(r)}async listDrawings(){const t=await fetch(this.baseUrl);return t.ok?await t.json():[]}async deleteDrawing(t){const n=await fetch(`${this.baseUrl}/${t}`,{method:"DELETE"});if(!n.ok){const i=await n.json().catch(()=>({error:"Unknown server error"}));throw new Error(i.error||`Failed to delete: ${n.statusText}`)}}}const th=new mM;var vM=Ne(`<div class=help-modal-overlay><div class=help-modal-content><div class=help-modal-header><h2>Help</h2><button class=help-close-btn></button></div><div class=help-modal-body><div class=social-links><a href=# class=social-btn>Documentation</a><a href=https://github.com/rajeshpillai target=_blank rel="noopener noreferrer"class=social-btn>GitHub</a><a href=# class=social-btn>Found an issue?</a><a href=# class=social-btn>YouTube</a></div><div class=shortcuts-section><h3>Keyboard shortcuts</h3><div class=shortcuts-grid><div class=shortcut-column><h4>File</h4><div class=shortcut-list><div class=shortcut-item><span class=shortcut-label>Open Drawing</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>O</span></div></div><div class=shortcut-item><span class=shortcut-label>Save Drawing</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>S</span></div></div><div class=shortcut-item><span class=shortcut-label>Export / Share</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>Shift</span><span class=keycap>E</span></div></div><div class=shortcut-item><span class=shortcut-label>Command Palette</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>K</span></div></div></div></div><div class=shortcut-column><h4>Tools</h4><div class=shortcut-list><div class=shortcut-item><span class=shortcut-label>Hand (pan)</span><div class=shortcut-keys><span class=keycap>H</span></div></div><div class=shortcut-item><span class=shortcut-label>Selection</span><div class=shortcut-keys><span class=keycap>V</span><span class=key-or>or</span><span class=keycap>1</span></div></div><div class=shortcut-item><span class=shortcut-label>Rectangle</span><div class=shortcut-keys><span class=keycap>R</span><span class=key-or>or</span><span class=keycap>2</span></div></div><div class=shortcut-item><span class=shortcut-label>Circle</span><div class=shortcut-keys><span class=keycap>O</span><span class=key-or>or</span><span class=keycap>3</span></div></div><div class=shortcut-item><span class=shortcut-label>Diamond</span><div class=shortcut-keys><span class=keycap>D</span></div></div><div class=shortcut-item><span class=shortcut-label>Line</span><div class=shortcut-keys><span class=keycap>L</span><span class=key-or>or</span><span class=keycap>4</span></div></div><div class=shortcut-item><span class=shortcut-label>Arrow</span><div class=shortcut-keys><span class=keycap>A</span><span class=key-or>or</span><span class=keycap>5</span></div></div><div class=shortcut-item><span class=shortcut-label>Pencil</span><div class=shortcut-keys><span class=keycap>P</span><span class=key-or>or</span><span class=keycap>8</span></div></div><div class=shortcut-item><span class=shortcut-label>Insert Image</span><div class=shortcut-keys><span class=keycap>I</span><span class=key-or>or</span><span class=keycap>9</span></div></div><div class=shortcut-item><span class=shortcut-label>Bezier Curve</span><div class=shortcut-keys><span class=keycap>B</span><span class=key-or>or</span><span class=keycap>0</span></div></div><div class=shortcut-item><span class=shortcut-label>Text</span><div class=shortcut-keys><span class=keycap>T</span><span class=key-or>or</span><span class=keycap>6</span></div></div><div class=shortcut-item><span class=shortcut-label>Eraser</span><div class=shortcut-keys><span class=keycap>E</span><span class=key-or>or</span><span class=keycap>7</span></div></div><div class=shortcut-item><span class=shortcut-label>Laser Pointer</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>P</span></div></div><div class=shortcut-item><span class=shortcut-label>Ink Overlay</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>I</span></div></div><div class=shortcut-item><span class=shortcut-label>Pan Mode</span><div class=shortcut-keys><span class=keycap>H</span></div></div></div></div><div class=shortcut-column><h4>Editor</h4><div class=shortcut-list><div class=shortcut-item><span class=shortcut-label>Undo</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>Z</span></div></div><div class=shortcut-item><span class=shortcut-label>Redo</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>Y</span></div></div><div class=shortcut-item><span class=shortcut-label>Delete</span><div class=shortcut-keys><span class=keycap>Del</span></div></div><div class=shortcut-item><span class=shortcut-label>Add Child Node</span><div class=shortcut-keys><span class=keycap>Tab</span></div></div><div class=shortcut-item><span class=shortcut-label>Add Sibling Node</span><div class=shortcut-keys><span class=keycap>Enter</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Collapse</span><div class=shortcut-keys><span class=keycap>Space</span></div></div><div class=shortcut-item><span class=shortcut-label>Duplicate</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>D</span></div></div><div class=shortcut-item><span class=shortcut-label>Select All</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>A</span></div></div><div class=shortcut-item><span class=shortcut-label>Bring to Front</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>]</span></div></div><div class=shortcut-item><span class=shortcut-label>Send to Back</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>[</span></div></div><div class=shortcut-item><span class=shortcut-label>Group / Ungroup</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>G</span><span class=key-or>/</span><span class=keycap>Shift</span><span class=keycap>G</span></div></div><div class=shortcut-item><span class=shortcut-label>Copy / Paste Style</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>Alt</span><span class=keycap>C</span><span class=key-or>/</span><span class=keycap>V</span></div></div></div></div><div class=shortcut-column><h4>Design & Layers</h4><div class=shortcut-list><div class=shortcut-item><span class=shortcut-label>Switch Layer</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>1-9</span></div></div><div class=shortcut-item><span class=shortcut-label>Cycle Stroke Style</span><div class=shortcut-keys><span class=keycap>S</span></div></div><div class=shortcut-item><span class=shortcut-label>Cycle Fill Style</span><div class=shortcut-keys><span class=keycap>F</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Properties</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>Enter</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Layers</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>L</span></div></div><div class=shortcut-item><span class=shortcut-label>New Layer</span><div class=shortcut-keys><span class=keycap>Shift</span><span class=keycap>N</span></div></div><div class=shortcut-item><span class=shortcut-label>Reorder Layer</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>[</span><span class=key-or>/</span><span class=keycap>]</span></div></div><div class=shortcut-item><span class=shortcut-label>New Slide</span><div class=shortcut-keys><span class=keycap>Ctrl</span><span class=keycap>M</span></div></div><div class=shortcut-item><span class=shortcut-label>Next State / Slide</span><div class=shortcut-keys><span class=keycap></span><span class=key-or>or</span><span class=keycap>PgDn</span></div></div><div class=shortcut-item><span class=shortcut-label>Prev State / Slide</span><div class=shortcut-keys><span class=keycap></span><span class=key-or>or</span><span class=keycap>PgUp</span></div></div><div class=shortcut-item><span class=shortcut-label>Zen Mode</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>Z</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Grid</span><div class=shortcut-keys><span class=keycap>Shift</span><span class=keycap>'</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Minimap</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>M</span></div></div><div class=shortcut-item><span class=shortcut-label>Toggle Panels</span><div class=shortcut-keys><span class=keycap>Alt</span><span class=keycap>\\</span></div></div><div class=shortcut-item><span class=shortcut-label>Help Dialog</span><div class=shortcut-keys><span class=keycap>Shift</span><span class=keycap>?</span></div></div><div class=shortcut-item><span class=shortcut-label>Preview Mode</span><div class=shortcut-keys><span class=keycap>F5</span></div></div><div class=shortcut-item><span class=shortcut-label>Exit Preview</span><div class=shortcut-keys><span class=keycap>Esc`);function bM(e){return Dn(()=>{if(e.isOpen){const t=n=>{n.key==="Escape"&&(n.preventDefault(),e.onClose())};window.addEventListener("keydown",t),jn(()=>window.removeEventListener("keydown",t))}}),$(st,{get when(){return e.isOpen},get children(){var t=vM(),n=t.firstChild,i=n.firstChild,r=i.firstChild,a=r.nextSibling,l=i.nextSibling,o=l.firstChild,c=o.firstChild,s=c.firstChild,d=c.nextSibling,u=d.firstChild,f=d.nextSibling,h=f.firstChild,g=f.nextSibling,p=g.firstChild;return wn(t,"click",e.onClose,!0),n.$$click=y=>y.stopPropagation(),wn(a,"click",e.onClose,!0),ee(a,$(Hr,{size:24})),ee(c,$(c5,{size:16}),s),ee(d,$(N5,{size:16}),u),ee(f,$(Qb,{size:16}),h),ee(g,$(D3,{size:16}),p),t}})}Cn(["click"]);var wM=Ne('<div class="alert-box warning"><div class=alert-text><strong>Loading a file</strong> will <strong>replace your existing content</strong>. You can back up your drawing first using the save options.'),xM=Ne('<div class=options-grid><div class=option-card><div class="option-icon disk"></div><div class=option-info><h4>Load from file</h4><p>Open a .json sketch file from your device</p></div><button class=action-trigger>Load from file</button></div><div class=option-card><div class="option-icon workspace"></div><div class=option-info><h4>Open from Workspace</h4><p>Load a drawing saved in your local workspace</p></div><button class=action-trigger>Open Workspace'),kM=Ne('<div class="options-grid horizontal"><div class="option-card compact"><div class="option-icon image"></div><div class=option-info><h4>Export as image</h4><p>Download your drawing as a PNG or SVG</p></div><button class="action-trigger secondary">Export as image</button></div><div class="option-card compact"><div class="option-icon disk"></div><div class=option-info><h4>Save to disk</h4><p>Export your drawing to a file for backup</p></div><button class="action-trigger secondary">Save to disk</button></div><div class="option-card compact"><div class="option-icon disk"></div><div class=option-info><h4>Save as JSON</h4><p>Export uncompressed legacy format</p></div><button class="action-trigger secondary">Save JSON</button></div><div class="option-card compact"><div class="option-icon workspace"></div><div class=option-info><h4>Save to Workspace</h4><p>Save drawing to your internal browser storage</p></div><button class="action-trigger secondary">Save Workspace'),SM=Ne("<div class=load-export-backdrop><div class=load-export-dialog><div class=dialog-header><div class=tabs><button><span>Load</span></button><button><span>Export / Save</span></button></div><button class=close-btn></button></div><div class=dialog-content></div><div class=dialog-footer><div class=help-tip><span>All data is stored locally in your browser.");const CM=e=>{const[t,n]=Pt(e.initialTab);return Dn(()=>{e.isOpen&&n(e.initialTab)}),Dn(()=>{if(e.isOpen){const i=r=>{r.key==="Escape"&&(r.preventDefault(),e.onClose())};window.addEventListener("keydown",i),jn(()=>window.removeEventListener("keydown",i))}}),$(st,{get when(){return e.isOpen},get children(){var i=SM(),r=i.firstChild,a=r.firstChild,l=a.firstChild,o=l.firstChild,c=o.firstChild,s=o.nextSibling,d=s.firstChild,u=l.nextSibling,f=a.nextSibling,h=f.nextSibling,g=h.firstChild,p=g.firstChild;return wn(i,"click",e.onClose,!0),r.$$click=y=>y.stopPropagation(),o.$$click=()=>n("load"),ee(o,$(P0,{size:18}),c),s.$$click=()=>n("save"),ee(s,$(of,{size:18}),d),wn(u,"click",e.onClose,!0),ee(u,$(Hr,{size:20})),ee(f,$(st,{get when(){return t()==="load"},get children(){return[(()=>{var y=wM(),A=y.firstChild;return ee(y,$(d3,{size:24}),A),y})(),(()=>{var y=xM(),A=y.firstChild,v=A.firstChild,x=A.nextSibling,C=x.firstChild;return wn(A,"click",e.onLoadDisk,!0),ee(v,$(P0,{size:32})),wn(x,"click",e.onLoadWorkspace,!0),ee(C,$(np,{size:32})),y})()]}}),null),ee(f,$(st,{get when(){return t()==="save"},get children(){var y=kM(),A=y.firstChild,v=A.firstChild,x=A.nextSibling,C=x.firstChild,_=x.nextSibling,F=_.firstChild,O=_.nextSibling,E=O.firstChild;return wn(A,"click",e.onExportImage,!0),ee(v,$(j1,{size:24})),wn(x,"click",e.onSaveDisk,!0),ee(C,$(of,{size:24})),wn(_,"click",e.onSaveDiskJson,!0),ee(F,$(ih,{size:24})),wn(O,"click",e.onSaveWorkspace,!0),ee(E,$(Lk,{size:24})),y}}),null),ee(g,$(Tw,{size:14}),p),We(y=>{var A=`tab-btn ${t()==="load"?"active":""}`,v=`tab-btn ${t()==="save"?"active":""}`;return A!==y.e&&hn(o,y.e=A),v!==y.t&&hn(s,y.t=v),y},{e:void 0,t:void 0}),i}})};Cn(["click"]);var LM=Ne("<div class=loading>Loading..."),PM=Ne("<div class=empty>No saved drawings found."),MM=Ne("<div class=modal-overlay><div class=modal-content><div class=modal-header><h3>Open Drawing</h3><button class=close-btn></button></div><div class=modal-body><div class=file-list>"),_M=Ne("<div><div style=display:flex;align-items:center;gap:8px;flex:1><span></span></div><button class=delete-file-btn title=Delete>");const NM=e=>{const[t,n]=Pt([]),[i,r]=Pt(!1),[a,l]=Pt(null),[o,c]=Pt(!1);let s=0,d=0;const u=async()=>{r(!0);try{const g=(await th.listDrawings()).map(p=>{const y=p.replace(/\.(json|yappy)$/i,"");return{id:y,name:y}}).sort((p,y)=>p.name.localeCompare(y.name));n(g),g.length>0&&l(g[0].id)}catch(h){console.error(h)}finally{r(!1)}},f=async(h,g)=>{g.stopPropagation();const p=h.replace(/\.json$/i,"");if(confirm(`Are you sure you want to delete "${p}"?`))try{await th.deleteDrawing(h),u(),Hn(`Deleted "${p}"`,"success")}catch{Hn("Failed to delete file","error")}};return qi(()=>{const h=p=>{if(!e.isOpen)return;const y=t();if(y.length===0)return;const A=a(),v=y.findIndex(x=>x.id===A);if(p.key==="ArrowDown"){p.preventDefault(),p.stopImmediatePropagation(),c(!0);const x=(v+1)%y.length;l(y[x].id)}else if(p.key==="ArrowUp"){p.preventDefault(),p.stopImmediatePropagation(),c(!0);const x=(v-1+y.length)%y.length;l(y[x].id)}else p.key==="Enter"?(p.preventDefault(),p.stopImmediatePropagation(),A&&e.onSelect(A)):p.key==="Escape"&&(p.preventDefault(),p.stopImmediatePropagation(),e.onClose())},g=p=>{(Math.abs(p.clientX-s)>2||Math.abs(p.clientY-d)>2)&&c(!1),s=p.clientX,d=p.clientY};return window.addEventListener("keydown",h,!0),window.addEventListener("mousemove",g),()=>{window.removeEventListener("keydown",h,!0),window.removeEventListener("mousemove",g)}}),Dn(()=>{e.isOpen&&u()}),Dn(()=>{a()&&e.isOpen&&o()&&setTimeout(()=>{const g=document.querySelector(".file-item.active");g&&g.scrollIntoView({block:"nearest",behavior:"smooth"})},0)}),$(st,{get when(){return e.isOpen},get children(){var h=MM(),g=h.firstChild,p=g.firstChild,y=p.firstChild,A=y.nextSibling,v=p.nextSibling,x=v.firstChild;return wn(h,"click",e.onClose,!0),g.$$click=C=>C.stopPropagation(),wn(A,"click",e.onClose,!0),ee(A,$(Hr,{size:20})),ee(v,$(st,{get when(){return i()},get children(){return LM()}}),x),ee(v,$(st,{get when(){return Wn(()=>!i())()&&t().length===0},get children(){return PM()}}),x),ee(x,$(rr,{get each(){return t()},children:C=>(()=>{var _=_M(),F=_.firstChild,O=F.firstChild,E=F.nextSibling;return _.addEventListener("mouseenter",()=>{o()||l(C.id)}),_.$$click=()=>e.onSelect(C.id),ee(F,$(ih,{size:16}),O),ee(O,()=>C.name),E.$$click=I=>f(C.id,I),ee(E,$(Is,{size:16})),We(()=>hn(_,`file-item ${a()===C.id?"active":""}`)),_})()})),h}})};Cn(["click"]);var TM=Ne("<div class=option-group><label>Scale</label><div class=scale-group><button>1x</button><button>2x</button><button>3x"),IM=Ne("<div class=option-group><label class=checkbox-label><input type=checkbox>White Background"),BM=Ne("<div class=export-modal-overlay><div class=export-modal><div class=export-header><h3>Export</h3><button class=close-btn></button></div><div class=export-options><div class=option-group><label>Format</label><div class=radio-group style=flex-wrap:wrap;gap:12px><label class=radio-label><input type=radio name=format>PNG</label><label class=radio-label><input type=radio name=format>SVG</label><label class=radio-label><input type=radio name=format>PDF</label><label class=radio-label><input type=radio name=format>PPTX</label><label class=radio-label><input type=radio name=format>WebM Monitor</label><label class=radio-label><input type=radio name=format>MP4 Video</label></div></div><div class=option-group><label class=checkbox-label><input type=checkbox>Export Selection Only</label></div></div><div class=export-actions><button class=cancel-btn>Cancel</button><button class=export-confirm-btn>Export"),DM=Ne("<span class=hint>(No items selected)");const EM=e=>{const[t,n]=Pt("png"),[i,r]=Pt(2),[a,l]=Pt(!0),[o,c]=Pt(w.selection.length>0);Dn(()=>{e.isOpen&&w.selection.length>0&&c(!0)}),Dn(()=>{if(e.isOpen){const d=u=>{u.key==="Escape"&&(u.preventDefault(),e.onClose())};window.addEventListener("keydown",d),jn(()=>window.removeEventListener("keydown",d))}});const s=()=>{if(t()==="png")vm(i(),a(),o());else if(t()==="svg")bm(o());else if(t()==="pdf")UL(i(),a(),o());else if(t()==="pptx")WL(i(),a(),o());else if(t()==="webm"||t()==="mp4"){const d=t();wm({start:!0,format:d})}e.onClose()};return $(st,{get when(){return e.isOpen},get children(){var d=BM(),u=d.firstChild,f=u.firstChild,h=f.firstChild,g=h.nextSibling,p=f.nextSibling,y=p.firstChild,A=y.firstChild,v=A.nextSibling,x=v.firstChild,C=x.firstChild,_=x.nextSibling,F=_.firstChild,O=_.nextSibling,E=O.firstChild,I=O.nextSibling,q=I.firstChild,R=I.nextSibling,P=R.firstChild,D=R.nextSibling,k=D.firstChild,U=y.nextSibling,ce=U.firstChild,Q=ce.firstChild;Q.nextSibling;var ae=p.nextSibling,ie=ae.firstChild,Se=ie.nextSibling;return wn(d,"click",e.onClose,!0),u.$$click=ne=>ne.stopPropagation(),wn(g,"click",e.onClose,!0),ee(g,$(Hr,{size:20})),C.addEventListener("change",()=>n("png")),F.addEventListener("change",()=>n("svg")),E.addEventListener("change",()=>n("pdf")),q.addEventListener("change",()=>n("pptx")),P.addEventListener("change",()=>n("webm")),k.addEventListener("change",()=>n("mp4")),Q.addEventListener("change",ne=>c(ne.currentTarget.checked)),ee(ce,(()=>{var ne=Wn(()=>w.selection.length===0);return()=>ne()&&DM()})(),null),ee(p,$(st,{get when(){return t()==="png"||t()==="pdf"||t()==="pptx"},get children(){return[(()=>{var ne=TM(),N=ne.firstChild,H=N.nextSibling,V=H.firstChild,te=V.nextSibling,ge=te.nextSibling;return V.$$click=()=>r(1),te.$$click=()=>r(2),ge.$$click=()=>r(3),We(Ce=>{var Pe=`scale-btn ${i()===1?"active":""}`,pe=`scale-btn ${i()===2?"active":""}`,_e=`scale-btn ${i()===3?"active":""}`;return Pe!==Ce.e&&hn(V,Ce.e=Pe),pe!==Ce.t&&hn(te,Ce.t=pe),_e!==Ce.a&&hn(ge,Ce.a=_e),Ce},{e:void 0,t:void 0,a:void 0}),ne})(),(()=>{var ne=IM(),N=ne.firstChild,H=N.firstChild;return H.addEventListener("change",V=>l(V.currentTarget.checked)),We(()=>H.checked=a()),ne})()]}}),null),wn(ie,"click",e.onClose,!0),Se.$$click=s,We(ne=>{var N=w.selection.length===0,H=w.selection.length===0;return N!==ne.e&&ce.classList.toggle("disabled",ne.e=N),H!==ne.t&&(Q.disabled=ne.t=H),ne},{e:void 0,t:void 0}),We(()=>C.checked=t()==="png"),We(()=>F.checked=t()==="svg"),We(()=>E.checked=t()==="pdf"),We(()=>q.checked=t()==="pptx"),We(()=>P.checked=t()==="webm"),We(()=>k.checked=t()==="mp4"),We(()=>Q.checked=o()),d}})};Cn(["click"]);var RM=Ne("<div class=save-overlay><div class=save-modal><div class=save-header><h2>Save Drawing</h2><button class=close-btn></button></div><div class=save-content><div class=input-group><label>Filename</label><input type=text class=filename-input autofocus></div><div class=save-actions><button class=cancel-btn>Cancel</button><button class=confirm-btn>Save");const $M=e=>{const[t,n]=Pt("");Dn(()=>{e.isOpen&&n(e.initialFilename||"untitled")});const i=()=>{t().trim()&&(e.onSave(t().trim()),e.onClose())},r=a=>{a.key==="Enter"?i():a.key==="Escape"&&e.onClose()};return $(st,{get when(){return e.isOpen},get children(){var a=RM(),l=a.firstChild,o=l.firstChild,c=o.firstChild,s=c.nextSibling,d=o.nextSibling,u=d.firstChild,f=u.firstChild,h=f.nextSibling,g=u.nextSibling,p=g.firstChild,y=p.nextSibling;return wn(a,"click",e.onClose,!0),l.$$click=A=>A.stopPropagation(),wn(s,"click",e.onClose,!0),ee(s,$(Hr,{size:20})),h.$$keydown=r,h.$$input=A=>n(A.currentTarget.value),wn(p,"click",e.onClose,!0),y.$$click=i,We(()=>h.value=t()),a}})};Cn(["click","input","keydown"]);const FM={metadata:{id:"flowchart-basic",name:"Basic Flowchart",category:"diagrams",description:"A simple flowchart showing decision logic with start, process, decision, and end nodes",tags:["flowchart","process","decision","logic"],order:1},data:{version:1,elements:[{id:"start-node",type:"circle",x:250,y:50,width:120,height:60,strokeColor:"#2563eb",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Start",boundElements:[{id:"arrow-1",type:"arrow"}]},{id:"process-node",type:"rectangle",x:225,y:190,width:170,height:80,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Process Data",boundElements:[{id:"arrow-1",type:"arrow"},{id:"arrow-2",type:"arrow"}]},{id:"decision-node",type:"diamond",x:230,y:350,width:160,height:120,strokeColor:"#dc2626",backgroundColor:"#fecaca",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Valid?",boundElements:[{id:"arrow-2",type:"arrow"},{id:"arrow-yes",type:"arrow"},{id:"arrow-no",type:"arrow"}]},{id:"success-node",type:"circle",x:490,y:380,width:120,height:60,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Success",boundElements:[{id:"arrow-yes",type:"arrow"}]},{id:"error-node",type:"circle",x:10,y:380,width:120,height:60,strokeColor:"#dc2626",backgroundColor:"#fecaca",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Error",boundElements:[{id:"arrow-no",type:"arrow"}]},{id:"arrow-1",type:"arrow",x:310,y:110,width:0,height:80,strokeColor:"#374151",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",endArrowhead:"arrow",startArrowhead:null,startBinding:{elementId:"start-node",focus:0,gap:5},endBinding:{elementId:"process-node",focus:0,gap:5}},{id:"arrow-2",type:"arrow",x:310,y:270,width:0,height:80,strokeColor:"#374151",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",endArrowhead:"arrow",startArrowhead:null,startBinding:{elementId:"process-node",focus:0,gap:5},endBinding:{elementId:"decision-node",focus:0,gap:5}},{id:"arrow-yes",type:"arrow",x:390,y:410,width:100,height:0,strokeColor:"#059669",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",endArrowhead:"arrow",startArrowhead:null,containerText:"Yes",startBinding:{elementId:"decision-node",focus:0,gap:5},endBinding:{elementId:"success-node",focus:0,gap:5}},{id:"arrow-no",type:"arrow",x:230,y:410,width:-100,height:0,strokeColor:"#dc2626",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",endArrowhead:"arrow",startArrowhead:null,containerText:"No",startBinding:{elementId:"decision-node",focus:0,gap:5},endBinding:{elementId:"error-node",focus:0,gap:5}}],layers:[{id:"default-layer",name:"Flowchart",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:1,panX:0,panY:0},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},OM={metadata:{id:"mindmap-basic",name:"Mind Map",category:"diagrams",description:"A radial mind map structure for brainstorming and organizing ideas",tags:["mindmap","brainstorm","ideas","radial"],order:2},data:{version:1,elements:[{id:"center",type:"circle",x:260,y:200,width:140,height:140,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Main Idea",fontSize:20,boundElements:[{id:"line-1",type:"arrow"},{id:"line-2",type:"arrow"},{id:"line-3",type:"arrow"},{id:"line-4",type:"arrow"}]},{id:"topic-1",type:"rectangle",x:280,y:30,width:100,height:70,strokeColor:"#2563eb",backgroundColor:"#dbeafe",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Topic 1",boundElements:[{id:"line-1",type:"arrow"}]},{id:"topic-2",type:"rectangle",x:500,y:235,width:100,height:70,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Topic 2",boundElements:[{id:"line-2",type:"arrow"}]},{id:"topic-3",type:"rectangle",x:280,y:440,width:100,height:70,strokeColor:"#dc2626",backgroundColor:"#fecaca",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Topic 3",boundElements:[{id:"line-3",type:"arrow"}]},{id:"topic-4",type:"rectangle",x:60,y:235,width:100,height:70,strokeColor:"#ea580c",backgroundColor:"#fed7aa",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Topic 4",boundElements:[{id:"line-4",type:"arrow"}]},{id:"line-1",type:"line",x:330,y:200,width:0,height:-100,strokeColor:"#2563eb",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"bezier",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"center",focus:0,gap:5},endBinding:{elementId:"topic-1",focus:0,gap:5}},{id:"line-2",type:"line",x:400,y:270,width:100,height:0,strokeColor:"#059669",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"bezier",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"center",focus:0,gap:5},endBinding:{elementId:"topic-2",focus:0,gap:5}},{id:"line-3",type:"line",x:330,y:340,width:0,height:100,strokeColor:"#dc2626",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"bezier",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"center",focus:0,gap:5},endBinding:{elementId:"topic-3",focus:0,gap:5}},{id:"line-4",type:"line",x:260,y:270,width:-100,height:0,strokeColor:"#ea580c",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"bezier",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"center",focus:0,gap:5},endBinding:{elementId:"topic-4",focus:0,gap:5}}],layers:[{id:"default-layer",name:"Mind Map",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:1,panX:0,panY:0},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},zM={metadata:{id:"wireframe-basic",name:"Basic Wireframe",category:"diagrams",description:"A simple website wireframe with header, sidebar, content area, and footer",tags:["wireframe","ui","web","layout"],order:3},data:{version:1,elements:[{id:"header",type:"rectangle",x:50,y:50,width:700,height:80,strokeColor:"#6b7280",backgroundColor:"#f3f4f6",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Header / Navigation"},{id:"sidebar",type:"rectangle",x:50,y:150,width:180,height:400,strokeColor:"#6b7280",backgroundColor:"#e5e7eb",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Sidebar Menu"},{id:"main-content",type:"rectangle",x:250,y:150,width:500,height:300,strokeColor:"#6b7280",backgroundColor:"#ffffff",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Main Content Area"},{id:"content-box-1",type:"rectangle",x:270,y:170,width:220,height:120,strokeColor:"#9ca3af",backgroundColor:"#f9fafb",fillStyle:"hachure",strokeWidth:1,strokeStyle:"dashed",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Component 1"},{id:"content-box-2",type:"rectangle",x:510,y:170,width:220,height:120,strokeColor:"#9ca3af",backgroundColor:"#f9fafb",fillStyle:"hachure",strokeWidth:1,strokeStyle:"dashed",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Component 2"},{id:"widget-area",type:"rectangle",x:250,y:470,width:500,height:80,strokeColor:"#6b7280",backgroundColor:"#f3f4f6",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Widget Area / CTA"},{id:"footer",type:"rectangle",x:50,y:570,width:700,height:60,strokeColor:"#6b7280",backgroundColor:"#e5e7eb",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Footer"}],layers:[{id:"default-layer",name:"Wireframe",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:1,panX:0,panY:0},gridSettings:{enabled:!0,snapToGrid:!0,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},UM={metadata:{id:"orgchart-basic",name:"Org Chart",category:"diagrams",description:"A basic organizational chart showing company hierarchy",tags:["org","organization","hierarchy","chart"],order:4},data:{version:1,elements:[{id:"ceo",type:"rectangle",x:325,y:50,width:150,height:70,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"CEO",fontSize:18,boundElements:[{id:"line-ceo-cto",type:"arrow"},{id:"line-ceo-cfo",type:"arrow"},{id:"line-ceo-coo",type:"arrow"}]},{id:"cto",type:"rectangle",x:100,y:180,width:150,height:70,strokeColor:"#2563eb",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"CTO",boundElements:[{id:"line-ceo-cto",type:"arrow"},{id:"line-cto-eng",type:"arrow"}]},{id:"cfo",type:"rectangle",x:325,y:180,width:150,height:70,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"CFO",boundElements:[{id:"line-ceo-cfo",type:"arrow"}]},{id:"coo",type:"rectangle",x:550,y:180,width:150,height:70,strokeColor:"#ea580c",backgroundColor:"#fed7aa",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"COO",boundElements:[{id:"line-ceo-coo",type:"arrow"}]},{id:"eng-manager",type:"rectangle",x:100,y:310,width:150,height:60,strokeColor:"#6366f1",backgroundColor:"#e0e7ff",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Engineering",fontSize:14,boundElements:[{id:"line-cto-eng",type:"arrow"}]},{id:"line-ceo-cto",type:"line",x:400,y:120,width:-225,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"ceo",focus:0,gap:5},endBinding:{elementId:"cto",focus:0,gap:5}},{id:"line-ceo-cfo",type:"line",x:400,y:120,width:0,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"ceo",focus:0,gap:5},endBinding:{elementId:"cfo",focus:0,gap:5}},{id:"line-ceo-coo",type:"line",x:400,y:120,width:225,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"ceo",focus:0,gap:5},endBinding:{elementId:"coo",focus:0,gap:5}},{id:"line-cto-eng",type:"line",x:175,y:250,width:0,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:null,startBinding:{elementId:"cto",focus:0,gap:5},endBinding:{elementId:"eng-manager",focus:0,gap:5}}],layers:[{id:"default-layer",name:"Org Chart",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:1,panX:0,panY:0},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},WM={metadata:{id:"network-basic",name:"Network Diagram",category:"diagrams",description:"A basic network topology diagram showing servers and connections",tags:["network","topology","infrastructure","servers"],order:5},data:{version:1,elements:[{id:"internet",type:"circle",x:350,y:40,width:100,height:100,strokeColor:"#3b82f6",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Internet",fontSize:16,boundElements:[{id:"line-internet-firewall",type:"arrow"}]},{id:"firewall",type:"rectangle",x:325,y:200,width:150,height:80,strokeColor:"#dc2626",backgroundColor:"#fecaca",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Firewall",fontSize:16,boundElements:[{id:"line-internet-firewall",type:"arrow"},{id:"line-firewall-server1",type:"arrow"},{id:"line-firewall-server2",type:"arrow"}]},{id:"server1",type:"rectangle",x:150,y:360,width:120,height:100,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Web Server",fontSize:14,boundElements:[{id:"line-firewall-server1",type:"arrow"},{id:"line-server1-db",type:"arrow"}]},{id:"server2",type:"rectangle",x:530,y:360,width:120,height:100,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"API Server",fontSize:14,boundElements:[{id:"line-firewall-server2",type:"arrow"},{id:"line-server2-db",type:"arrow"}]},{id:"database",type:"diamond",x:325,y:520,width:150,height:100,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:"Database",fontSize:14,boundElements:[{id:"line-server1-db",type:"arrow"},{id:"line-server2-db",type:"arrow"}]},{id:"line-internet-firewall",type:"arrow",x:400,y:140,width:0,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"internet",focus:0,gap:5},endBinding:{elementId:"firewall",focus:0,gap:5}},{id:"line-firewall-server1",type:"arrow",x:400,y:280,width:-190,height:80,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"firewall",focus:0,gap:5},endBinding:{elementId:"server1",focus:0,gap:5}},{id:"line-firewall-server2",type:"arrow",x:400,y:280,width:190,height:80,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"firewall",focus:0,gap:5},endBinding:{elementId:"server2",focus:0,gap:5}},{id:"line-server1-db",type:"arrow",x:210,y:460,width:190,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"server1",focus:0,gap:5},endBinding:{elementId:"database",focus:0,gap:5}},{id:"line-server2-db",type:"arrow",x:590,y:460,width:-190,height:60,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:Math.floor(Math.random()*2147483647),roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"server2",focus:0,gap:5},endBinding:{elementId:"database",focus:0,gap:5}}],layers:[{id:"default-layer",name:"Network Diagram",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:1,panX:0,panY:0},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},jM={metadata:{id:"system-design-basic",name:"System Design",category:"diagrams",description:"Comprehensive system architecture with clients, services, databases, and caching. Optimized for infinite canvas with full element bindings.",tags:["system","architecture","backend","infrastructure","design"],order:6},data:{version:1,elements:[{id:"title",type:"text",x:1200,y:50,width:800,height:80,strokeColor:"#111827",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",opacity:100,roughness:0,angle:0,renderStyle:"architectural",seed:12345,roundness:null,locked:!1,link:null,layerId:"default-layer",text:"System Architecture (Global Scale)",fontSize:48,fontFamily:"hand-drawn",textAlign:"center"},{id:"web-client",type:"rectangle",x:200,y:400,width:250,height:140,strokeColor:"#3b82f6",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:101,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Web Client
(Browser)`,fontSize:20,boundElements:[{id:"line-web-lb",type:"arrow"}]},{id:"mobile-client",type:"rectangle",x:200,y:1e3,width:250,height:140,strokeColor:"#3b82f6",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:102,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Mobile App
(iOS/Android)`,fontSize:20,boundElements:[{id:"line-mobile-lb",type:"arrow"}]},{id:"load-balancer",type:"diamond",x:1400,y:650,width:240,height:180,strokeColor:"#f59e0b",backgroundColor:"#fef3c7",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:201,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Global
Load Balancer`,fontSize:22,boundElements:[{id:"line-web-lb",type:"arrow"},{id:"line-mobile-lb",type:"arrow"},{id:"line-lb-api1",type:"arrow"},{id:"line-lb-api2",type:"arrow"}]},{id:"api-server-1",type:"rectangle",x:2600,y:400,width:250,height:140,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:301,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Service Instance A
(Node.js)`,fontSize:20,boundElements:[{id:"line-lb-api1",type:"arrow"},{id:"line-api1-cache",type:"arrow"},{id:"line-api1-db",type:"arrow"}]},{id:"api-server-2",type:"rectangle",x:2600,y:1e3,width:250,height:140,strokeColor:"#059669",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:302,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Service Instance B
(Node.js)`,fontSize:20,boundElements:[{id:"line-lb-api2",type:"arrow"},{id:"line-api2-cache",type:"arrow"},{id:"line-api2-db",type:"arrow"}]},{id:"cache",type:"circle",x:3800,y:400,width:220,height:220,strokeColor:"#dc2626",backgroundColor:"#fee2e2",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:401,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Distributed
Cache (Redis)`,fontSize:22,boundElements:[{id:"line-api1-cache",type:"arrow"},{id:"line-api2-cache",type:"arrow"}]},{id:"database",type:"rectangle",x:2600,y:1600,width:280,height:180,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:501,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Primary DB
(PostgreSQL)`,fontSize:24,boundElements:[{id:"line-api1-db",type:"arrow"},{id:"line-api2-db",type:"arrow"},{id:"line-db-queue",type:"arrow"}]},{id:"message-queue",type:"rectangle",x:1400,y:1600,width:240,height:140,strokeColor:"#ea580c",backgroundColor:"#fed7aa",fillStyle:"hachure",strokeWidth:3,strokeStyle:"dashed",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:502,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Message Broker
(Async)`,fontSize:20,boundElements:[{id:"line-db-queue",type:"arrow"},{id:"line-queue-worker",type:"arrow"}]},{id:"worker",type:"rectangle",x:200,y:1600,width:250,height:140,strokeColor:"#0891b2",backgroundColor:"#cffafe",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:503,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Job Worker
(Batch)`,fontSize:20,boundElements:[{id:"line-queue-worker",type:"arrow"},{id:"line-worker-storage",type:"arrow"}]},{id:"storage",type:"circle",x:200,y:2200,width:250,height:180,strokeColor:"#9333ea",backgroundColor:"#f3e8ff",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:601,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Object Storage
(S3/Blob)`,fontSize:22,boundElements:[{id:"line-worker-storage",type:"arrow"}]},{id:"line-web-lb",type:"arrow",x:450,y:470,width:950,height:250,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:901,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"web-client",focus:0,gap:10},endBinding:{elementId:"load-balancer",focus:0,gap:10},points:[{x:0,y:0},{x:950,y:250}]},{id:"line-mobile-lb",type:"arrow",x:450,y:1070,width:950,height:-330,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:902,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"mobile-client",focus:0,gap:10},endBinding:{elementId:"load-balancer",focus:0,gap:10},points:[{x:0,y:0},{x:950,y:-330}]},{id:"line-lb-api1",type:"arrow",x:1640,y:740,width:960,height:-270,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:903,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"load-balancer",focus:0,gap:10},endBinding:{elementId:"api-server-1",focus:0,gap:10},points:[{x:0,y:0},{x:960,y:-270}]},{id:"line-lb-api2",type:"arrow",x:1640,y:740,width:960,height:330,strokeColor:"#6b7280",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:904,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"load-balancer",focus:0,gap:10},endBinding:{elementId:"api-server-2",focus:0,gap:10},points:[{x:0,y:0},{x:960,y:330}]},{id:"line-api1-cache",type:"arrow",x:2850,y:470,width:950,height:40,strokeColor:"#dc2626",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"dashed",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:905,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",containerText:"Query",labelPosition:"middle",startBinding:{elementId:"api-server-1",focus:0,gap:10},endBinding:{elementId:"cache",focus:0,gap:10},points:[{x:0,y:0},{x:950,y:40}]},{id:"line-api2-cache",type:"arrow",x:2850,y:1070,width:950,height:-560,strokeColor:"#dc2626",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:2,strokeStyle:"dashed",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:906,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"api-server-2",focus:0,gap:10},endBinding:{elementId:"cache",focus:0,gap:10},points:[{x:0,y:0},{x:950,y:-560}]},{id:"line-api1-db",type:"arrow",x:2725,y:540,width:0,height:1060,strokeColor:"#7c3aed",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:907,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"api-server-1",focus:0,gap:10},endBinding:{elementId:"database",focus:0,gap:10},points:[{x:0,y:0},{x:0,y:1060}]},{id:"line-api2-db",type:"arrow",x:2725,y:1140,width:0,height:460,strokeColor:"#7c3aed",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:908,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"api-server-2",focus:0,gap:10},endBinding:{elementId:"database",focus:0,gap:10},points:[{x:0,y:0},{x:0,y:460}]},{id:"line-db-queue",type:"arrow",x:2600,y:1690,width:-960,height:-20,strokeColor:"#ea580c",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:909,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",containerText:"Emit",labelPosition:"middle",startBinding:{elementId:"database",focus:0,gap:10},endBinding:{elementId:"message-queue",focus:0,gap:10},points:[{x:0,y:0},{x:-960,y:-20}]},{id:"line-queue-worker",type:"arrow",x:1400,y:1670,width:-950,height:0,strokeColor:"#0891b2",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:910,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"message-queue",focus:0,gap:10},endBinding:{elementId:"worker",focus:0,gap:10},points:[{x:0,y:0},{x:-950,y:0}]},{id:"line-worker-storage",type:"arrow",x:325,y:1740,width:0,height:460,strokeColor:"#9333ea",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:911,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"worker",focus:0,gap:10},endBinding:{elementId:"storage",focus:0,gap:10},points:[{x:0,y:0},{x:0,y:460}]}],layers:[{id:"default-layer",name:"Architecture",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:.35,panX:400,panY:200},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#e0e0e0",gridOpacity:.5,style:"dots"}}},qM={metadata:{id:"yappy-architecture-meta",name:"Yappy Architecture",category:"diagrams",description:"Meta-diagram of Yappy Draw internal architecture. Multi-layer system flow with full logical bindings.",tags:["yappy","internal","architecture","meta","documentation"],order:7},data:{version:1,elements:[{id:"title",type:"text",x:600,y:50,width:1e3,height:80,strokeColor:"#111827",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",opacity:100,roughness:0,angle:0,renderStyle:"architectural",seed:999,roundness:null,locked:!1,link:null,layerId:"default-layer",text:"Yappy Draw - Internal System Architecture",fontSize:48,fontFamily:"hand-drawn",textAlign:"center"},{id:"user-input",type:"circle",x:1e3,y:300,width:250,height:250,strokeColor:"#3b82f6",backgroundColor:"#dbeafe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:101,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`User Pointer/Keyboard
Interactions`,fontSize:20,boundElements:[{id:"flow-user-toolbar",type:"arrow"},{id:"flow-user-canvas",type:"arrow"},{id:"flow-user-props",type:"arrow"}]},{id:"ui-toolbar",type:"rectangle",x:350,y:1100,width:220,height:140,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:201,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Toolbar & Menu
(UI Layer)`,fontSize:18,boundElements:[{id:"flow-user-toolbar",type:"arrow"},{id:"flow-toolbar-store",type:"arrow"}]},{id:"ui-canvas",type:"rectangle",x:1e3,y:1100,width:280,height:160,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:202,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Main Canvas Component
(SolidJS)`,fontSize:20,boundElements:[{id:"flow-user-canvas",type:"arrow"},{id:"flow-canvas-store",type:"arrow"}]},{id:"ui-props",type:"rectangle",x:1650,y:1100,width:220,height:140,strokeColor:"#7c3aed",backgroundColor:"#ede9fe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:203,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Property Panels
(Settings)`,fontSize:18,boundElements:[{id:"flow-user-props",type:"arrow"},{id:"flow-props-store",type:"arrow"}]},{id:"app-store",type:"diamond",x:1e3,y:1850,width:280,height:220,strokeColor:"#f59e0b",backgroundColor:"#fef3c7",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:301,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Central App Store
(SolidJS Multi-Store)`,fontSize:22,boundElements:[{id:"flow-toolbar-store",type:"arrow"},{id:"flow-canvas-store",type:"arrow"},{id:"flow-props-store",type:"arrow"},{id:"flow-store-history",type:"arrow"},{id:"flow-store-utils",type:"arrow"},{id:"flow-store-persistence",type:"arrow"}]},{id:"history-service",type:"circle",x:1700,y:1900,width:180,height:180,strokeColor:"#0ea5e9",backgroundColor:"#e0f2fe",fillStyle:"solid",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:401,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Undo/Redo
History Stack`,fontSize:18,boundElements:[{id:"flow-store-history",type:"arrow"}]},{id:"util-snapping",type:"rectangle",x:1e3,y:2700,width:280,height:120,strokeColor:"#10b981",backgroundColor:"#d1fae5",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:402,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Snapping & Geometry
Logic`,fontSize:18,boundElements:[{id:"flow-store-utils",type:"arrow"},{id:"flow-utils-renderer",type:"arrow"}]},{id:"renderer-element",type:"rectangle",x:1e3,y:3600,width:320,height:140,strokeColor:"#dc2626",backgroundColor:"#fee2e2",fillStyle:"solid",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:501,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Recursive UI Renderer
(SolidJS + RoughJS)`,fontSize:20,boundElements:[{id:"flow-utils-renderer",type:"arrow"}]},{id:"persistence",type:"rectangle",x:1e3,y:4500,width:350,height:180,strokeColor:"#6366f1",backgroundColor:"#e0e7ff",fillStyle:"solid",strokeWidth:5,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:601,roundness:null,locked:!1,link:null,layerId:"default-layer",containerText:`Workspace Persistence
(LocalStorage Sync)`,fontSize:22,boundElements:[{id:"flow-store-persistence",type:"arrow"}]},{id:"flow-user-toolbar",type:"arrow",x:1e3,y:550,width:-430,height:550,strokeColor:"#94a3b8",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:901,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"user-input",focus:0,gap:15},endBinding:{elementId:"ui-toolbar",focus:0,gap:15},points:[{x:0,y:0},{x:-430,y:550}]},{id:"flow-user-canvas",type:"arrow",x:1125,y:550,width:0,height:550,strokeColor:"#94a3b8",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:902,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"user-input",focus:0,gap:15},endBinding:{elementId:"ui-canvas",focus:0,gap:15},points:[{x:0,y:0},{x:0,y:550}]},{id:"flow-user-props",type:"arrow",x:1250,y:550,width:510,height:550,strokeColor:"#94a3b8",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:903,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"user-input",focus:0,gap:15},endBinding:{elementId:"ui-props",focus:0,gap:15},points:[{x:0,y:0},{x:510,y:550}]},{id:"flow-toolbar-store",type:"arrow",x:460,y:1240,width:620,height:610,strokeColor:"#f59e0b",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:904,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"ui-toolbar",focus:0,gap:15},endBinding:{elementId:"app-store",focus:0,gap:15},points:[{x:0,y:0},{x:620,y:610}]},{id:"flow-canvas-store",type:"arrow",x:1140,y:1260,width:0,height:590,strokeColor:"#f59e0b",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:905,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"ui-canvas",focus:0,gap:15},endBinding:{elementId:"app-store",focus:0,gap:15},points:[{x:0,y:0},{x:0,y:590}]},{id:"flow-props-store",type:"arrow",x:1760,y:1240,width:-620,height:610,strokeColor:"#f59e0b",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:906,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"ui-props",focus:0,gap:15},endBinding:{elementId:"app-store",focus:0,gap:15},points:[{x:0,y:0},{x:-620,y:610}]},{id:"flow-store-history",type:"arrow",x:1280,y:1960,width:420,height:0,strokeColor:"#0ea5e9",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:907,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"app-store",focus:0,gap:15},endBinding:{elementId:"history-service",focus:0,gap:15},points:[{x:0,y:0},{x:420,y:0}]},{id:"flow-store-utils",type:"arrow",x:1140,y:2070,width:0,height:630,strokeColor:"#10b981",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:908,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"app-store",focus:0,gap:15},endBinding:{elementId:"util-snapping",focus:0,gap:15},points:[{x:0,y:0},{x:0,y:630}]},{id:"flow-utils-renderer",type:"arrow",x:1140,y:2820,width:0,height:780,strokeColor:"#dc2626",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:3,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:909,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"straight",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"util-snapping",focus:0,gap:15},endBinding:{elementId:"renderer-element",focus:0,gap:15},points:[{x:0,y:0},{x:0,y:780}]},{id:"flow-store-persistence",type:"arrow",x:1140,y:2070,width:0,height:2430,strokeColor:"#6366f1",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:4,strokeStyle:"solid",opacity:100,roughness:1,angle:0,renderStyle:"sketch",seed:910,roundness:null,locked:!1,link:null,layerId:"default-layer",curveType:"elbow",startArrowhead:null,endArrowhead:"arrow",startBinding:{elementId:"app-store",focus:0,gap:15},endBinding:{elementId:"persistence",focus:0,gap:15},points:[{x:0,y:0},{x:0,y:1215},{x:0,y:2430}]}],layers:[{id:"default-layer",name:"Yappy Architecture",visible:!0,locked:!1,opacity:1,order:0}],viewState:{scale:.25,panX:400,panY:100},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:"#cccccc",gridOpacity:.5,style:"lines"}}};class XM{templates=new Map;categoriesInfo=new Map;constructor(){this.initializeCategories(),this.registerDefaultTemplates()}initializeCategories(){this.categoriesInfo.set("diagrams",{id:"diagrams",name:"Diagrams",description:"Flowcharts, mind maps, and technical diagrams"}),this.categoriesInfo.set("wireframes",{id:"wireframes",name:"Wireframes",description:"UI wireframes and mockups"}),this.categoriesInfo.set("sketchnotes",{id:"sketchnotes",name:"Sketch Notes",description:"Hand-drawn style notes and doodles"}),this.categoriesInfo.set("animations",{id:"animations",name:"Animations",description:"Animated diagrams and sequences"})}registerDefaultTemplates(){this.registerTemplate(FM),this.registerTemplate(OM),this.registerTemplate(zM),this.registerTemplate(UM),this.registerTemplate(WM),this.registerTemplate(jM),this.registerTemplate(qM)}registerTemplate(t){this.templates.set(t.metadata.id,t)}getTemplateById(t){return this.templates.get(t)}getTemplatesByCategory(t){return Array.from(this.templates.values()).filter(i=>i.metadata.category===t).sort((i,r)=>(i.metadata.order||999)-(r.metadata.order||999))}getAllCategories(){return Array.from(this.categoriesInfo.values())}getActiveCategories(){const t=new Set;return this.templates.forEach(n=>{t.add(n.metadata.category)}),Array.from(t).map(n=>this.categoriesInfo.get(n)).filter(Boolean)}searchTemplates(t){const n=t.toLowerCase();return Array.from(this.templates.values()).filter(i=>{const r=i.metadata.name.toLowerCase().includes(n),a=i.metadata.description.toLowerCase().includes(n),l=i.metadata.tags.some(o=>o.toLowerCase().includes(n));return r||a||l})}getAllTemplates(){return Array.from(this.templates.values())}}const km=new XM,GM=e=>km.getTemplatesByCategory(e),HM=()=>km.getActiveCategories();var YM=Ne("<div class=template-empty><p>No templates available in this category"),VM=Ne("<div class=template-browser-backdrop><div class=template-browser-dialog><div class=template-browser-header><h2>Choose a Template</h2><button class=template-close-btn></button></div><div class=template-categories></div><div class=template-grid>"),QM=Ne("<button>"),JM=Ne("<img>"),KM=Ne("<div class=template-card><div class=template-thumbnail></div><div class=template-info><h3 class=template-name></h3><p class=template-description>"),ZM=Ne('<div class=template-placeholder><svg width=60 height=60 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2><rect x=3 y=3 width=18 height=18 rx=2></rect><path d="M3 9h18"></path><path d="M9 21V9">');const e_=e=>{const t=HM(),[n,i]=Pt(t[0]?.id||"diagrams"),r=()=>GM(n()),a=l=>{e.onSelectTemplate(l),e.onClose()};return $(st,{get when(){return e.isOpen},get children(){var l=VM(),o=l.firstChild,c=o.firstChild,s=c.firstChild,d=s.nextSibling,u=c.nextSibling,f=u.nextSibling;return wn(l,"click",e.onClose,!0),o.$$click=h=>h.stopPropagation(),wn(d,"click",e.onClose,!0),ee(u,$(rr,{each:t,children:h=>(()=>{var g=QM();return g.$$click=()=>i(h.id),ee(g,()=>h.name),We(()=>hn(g,`template-category-tab ${n()===h.id?"active":""}`)),g})()})),ee(f,$(rr,{get each(){return r()},children:h=>(()=>{var g=KM(),p=g.firstChild,y=p.nextSibling,A=y.firstChild,v=A.nextSibling;return g.$$click=()=>a(h),ee(p,$(st,{get when(){return h.metadata.thumbnail},get fallback(){return ZM()},get children(){var x=JM();return We(C=>{var _=h.metadata.thumbnail,F=h.metadata.name;return _!==C.e&&Lt(x,"src",C.e=_),F!==C.t&&Lt(x,"alt",C.t=F),C},{e:void 0,t:void 0}),x}})),ee(A,()=>h.metadata.name),ee(v,()=>h.metadata.description),g})()})),ee(o,$(st,{get when(){return r().length===0},get children(){return YM()}}),null),l}})};Cn(["click"]);var t_=Ne("<div class=menu-backdrop>"),n_=Ne("<input type=file accept=.json,.yappy style=display:none>"),r_=Ne("<div class=app-title>"),i_=Ne("<div class=menu-item><span class=label>Slide Toolbar</span><div class=menu-item-right>"),a_=Ne('<div class=menu-dropdown><button class=menu-item><span class=label>Load Sketch...</span></button><button class=menu-item><span class=label>Export / Save...</span></button><button class=menu-item><span class=label>Export</span><div class=menu-item-right><span class=shortcut>Ctrl+Shift+E</span></div></button><div class=menu-separator></div><div class=menu-item><span class=label>Properties Panel</span><div class=menu-item-right><span class=shortcut>Alt+Enter</span></div></div><div class=menu-item><span class=label>Layers Panel</span><div class=menu-item-right><span class=shortcut>Alt+L</span></div></div><div class=menu-item><span class=label>Display States</span><div class=menu-item-right></div></div><div class=menu-item><span class=label>Minimap</span><div class=menu-item-right><span class=shortcut>Alt+M</span></div></div><div class=menu-item><span class=label>Action Toolbar</span><div class=menu-item-right></div></div><div class=menu-separator></div><button class=menu-item><span class=label>New Presentation</span></button><button class=menu-item><span class=label>New Infinite Drawing</span></button><button class=menu-item><span class=label>Templates</span></button><div class=menu-separator></div><div style="padding:4px 12px;font-size:12px;color:var(--text-secondary)">Found a bug? <a href=https://github.com/rajeshpillai/yappy/issues target=_blank rel="noopener noreferrer">Report'),o_=Ne('<div style=position:fixed;top:12px;left:12px;z-index:1001><div class=menu-container style=position:relative><div class="drag-handle sm"><div class=drag-dots></div></div><button title=Menu></button><div style="width:1px;height:24px;background:var(--border-color);margin:0 4px"></div><button class=menu-btn title=Delete></button><div style="width:1px;height:24px;background:var(--border-color);margin:0 4px"></div><button class=menu-btn title="Zoom to Fit">'),s_=Ne('<div style=position:fixed;top:12px;right:12px;z-index:100><div class=menu-container><div class="drag-handle sm"><div class=drag-dots></div></div><button class=menu-btn title="Play All Animations"></button><button class=menu-btn title="Stop All Animations"></button><div style="width:1px;height:24px;background:var(--border-color);margin:0 4px"></div><button class="menu-btn primary"title=Share></button><div style="width:1px;height:24px;background:var(--border-color);margin:0 4px"></div><button class=menu-btn title="Help &amp; Shortcuts (?)"><div style="width:20px;height:20px;border-radius:50%;border:2px solid currentColor;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:14px">?</div></button><div style="width:1px;height:24px;background:var(--border-color);margin:0 4px"></div><button class=menu-btn title="Toggle Theme">');const[Zu,vl]=Pt("default"),[l_,Sd]=Pt(!1),[c_,Sm]=Pt(!1),[d_,xa]=Pt(!1),[h_,Hf]=Pt(!1);let Yf=()=>{};const Cd=e=>{typeof Yf=="function"&&(Yf(e),Sm(!0))},Vf=(e="slides")=>{confirm(`Start new ${e==="slides"?"presentation":"sketch"}? Unsaved changes will be lost.`)&&(Xy(e),vl("default"))},u_=()=>{const[e,t]=Pt(!1),[n,i]=Pt("load");let r;const[a,l]=Pt("workspace");Yf=l;const[o,c]=Pt(!1);window.triggerImageUpload=()=>r?.click();const s=async k=>{try{vl(k),lp();const U={version:4,metadata:{name:k,updatedAt:new Date().toISOString(),docType:w.docType},elements:JSON.parse(JSON.stringify(w.elements)),layers:JSON.parse(JSON.stringify(w.layers)),slides:JSON.parse(JSON.stringify(w.slides)),globalSettings:JSON.parse(JSON.stringify(w.globalSettings)),gridSettings:JSON.parse(JSON.stringify(w.gridSettings)),states:JSON.parse(JSON.stringify(w.states))};if(a()==="workspace")await th.saveDrawing(k,U),Hn(`Drawing saved as "${k}"!`,"success");else{const ce=JSON.stringify(U,null,2);let Q,ae,ie;if(a()==="disk-json")Q=new Blob([ce],{type:"application/json"}),ae=`${k}.json`,ie="application/json";else{const H=new Blob([ce]).stream().pipeThrough(new CompressionStream("gzip"));Q=await new Response(H).blob(),ae=`${k}.yappy`,ie="application/gzip"}const Se=new File([Q],ae,{type:ie});if(navigator.canShare&&navigator.canShare({files:[Se]}))try{await navigator.share({files:[Se],title:"Yappy Drawing",text:a()==="disk-json"?"Save your drawing JSON":"Save your compressed drawing"});return}catch(H){H.name!=="AbortError"&&console.error("Share failed:",H)}const ne=URL.createObjectURL(Q),N=document.createElement("a");N.href=ne,N.download=ae,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(ne)}}catch(U){console.error("Save failed:",U),Hn(`Failed to save: ${U instanceof Error?U.message:String(U)}`,"error")}},d=async k=>{const U=k||Zu();try{const ce=await th.loadDrawing(U);if(ce){const Q=Xf(ce)?ce:Gf(ce);$d(Q),vl(U),Hn("Drawing loaded successfully","success")}else Hn("Drawing not found","error")}catch(ce){console.error(ce),Hn("Failed to load drawing","error")}},u=()=>{mh()},f=k=>{w.elements.length>0&&!confirm("Loading a template will clear the current canvas. Continue?")||(r2(k.data),c(!1),Hn(`Template "${k.metadata.name}" loaded`,"success"))},h=async k=>{const U=k.target.files?.[0];if(U){try{let ce;if(U.name.endsWith(".yappy")||U.type==="application/gzip"||U.type==="application/x-gzip")try{const Se=new DecompressionStream("gzip"),ne=U.stream().pipeThrough(Se);ce=await new Response(ne).text()}catch(Se){console.warn("Decompression failed, trying as plain text...",Se),ce=await U.text()}else ce=await U.text();const Q=JSON.parse(ce),ae=Xf(Q)?Q:Gf(Q);$d(ae);const ie=U.name.replace(/\.(json|yappy)$/i,"");vl(ie),Hn("File loaded successfully","success")}catch(ce){console.error(ce),Hn("Failed to load file. It might be corrupted or invalid format.","error")}t(!1),k.target.value=""}},[g,p]=Pt({x:0,y:0}),[y,A]=Pt(!1),[v,x]=Pt({x:0,y:0}),[C,_]=Pt({x:0,y:0}),[F,O]=Pt(!1),[E,I]=Pt({x:0,y:0}),q=k=>{const U=k.target;if(U.closest(".menu-container")||U.classList.contains("app-title")||U.classList.contains("drag-handle")){if(U.tagName==="BUTTON"||U.closest("button"))return;A(!0),x({x:k.clientX-g().x,y:k.clientY-g().y}),k.preventDefault()}},R=k=>{const U=k.target;if(U.closest(".menu-container")||U.classList.contains("drag-handle")){if(U.tagName==="BUTTON"||U.closest("button"))return;O(!0),I({x:k.clientX-C().x,y:k.clientY-C().y}),k.preventDefault()}},P=k=>{y()&&p({x:k.clientX-v().x,y:k.clientY-v().y}),F()&&_({x:k.clientX-E().x,y:k.clientY-E().y})},D=()=>{A(!1),O(!1)};return qi(()=>{window.addEventListener("mousemove",P),window.addEventListener("mouseup",D),jn(()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",D)});const U=new URLSearchParams(window.location.search).get("id");U&&(vl(U),d(U))}),[$(st,{get when(){return e()},get children(){var k=t_();return k.$$click=()=>t(!1),k}}),(()=>{var k=n_();k.addEventListener("change",h);var U=r;return typeof U=="function"?Rn(U,k):r=k,k})(),$(NM,{get isOpen(){return l_()},onClose:()=>Sd(!1),onSelect:k=>{d(k),Sd(!1)}}),$(EM,{get isOpen(){return w.showExportDialog},onClose:()=>Al(!1)}),$($M,{get isOpen(){return c_()},onClose:()=>Sm(!1),onSave:s,get initialFilename(){return Zu()}}),$(bM,{get isOpen(){return h_()},onClose:()=>Hf(!1)}),$(CM,{get isOpen(){return d_()},get initialTab(){return n()},onClose:()=>xa(!1),onLoadWorkspace:()=>{xa(!1),Sd(!0)},onLoadDisk:()=>{xa(!1),r?.click()},onSaveWorkspace:()=>{xa(!1),Cd("workspace")},onSaveDisk:()=>{xa(!1),Cd("disk")},onSaveDiskJson:()=>{xa(!1),Cd("disk-json")},onExportImage:()=>{xa(!1),Al(!0)}}),$(e_,{get isOpen(){return o()},onClose:()=>c(!1),onSelectTemplate:f}),$(st,{get when(){return!w.zenMode},get children(){var k=r_();return k.$$mousedown=q,ee(k,Zu),We(U=>sn(k,"transform",`translate(${g().x}px, ${g().y}px)`)),k}}),$(st,{get when(){return!w.zenMode},get children(){return[(()=>{var k=o_(),U=k.firstChild,ce=U.firstChild,Q=ce.nextSibling,ae=Q.nextSibling,ie=ae.nextSibling,Se=ie.nextSibling,ne=Se.nextSibling;return U.$$mousedown=q,Q.$$click=()=>t(!e()),ee(Q,$(G1,{size:20})),ee(U,$(st,{get when(){return e()},get children(){var N=a_(),H=N.firstChild,V=H.firstChild,te=H.nextSibling,ge=te.firstChild,Ce=te.nextSibling,Pe=Ce.firstChild,pe=Ce.nextSibling,_e=pe.nextSibling,Oe=_e.firstChild,ht=Oe.nextSibling,et=ht.firstChild,B=_e.nextSibling,z=B.firstChild,ve=z.nextSibling,se=ve.firstChild,K=B.nextSibling,le=K.firstChild,Ie=le.nextSibling,Be=K.nextSibling,me=Be.firstChild,je=me.nextSibling,ut=je.firstChild,Qe=Be.nextSibling,dt=Qe.firstChild,Tt=dt.nextSibling,Nt=Qe.nextSibling,Ct=Nt.nextSibling,Ut=Ct.firstChild,_t=Ct.nextSibling,Nn=_t.firstChild,Dt=_t.nextSibling,Zt=Dt.firstChild,nn=Dt.nextSibling;return nn.nextSibling,H.$$click=()=>{i("load"),xa(!0),t(!1)},ee(H,$(np,{size:16}),V),te.$$click=()=>{i("save"),xa(!0),t(!1)},ee(te,$(of,{size:16}),ge),Ce.$$click=()=>{Al(!0),t(!1)},ee(Ce,$(L3,{size:16}),Pe),_e.$$click=()=>{eo(),t(!1)},ee(_e,$(ld,{size:16}),Oe),ee(ht,$(st,{get when(){return w.showPropertyPanel},get children(){return $(Qa,{size:14,class:"check-icon"})}}),et),B.$$click=()=>{Ns(),t(!1)},ee(B,$(ah,{size:16}),z),ee(ve,$(st,{get when(){return w.showLayerPanel},get children(){return $(Qa,{size:14,class:"check-icon"})}}),se),K.$$click=()=>{hp(),t(!1)},ee(K,$(O1,{size:16}),le),ee(Ie,$(st,{get when(){return w.showStatePanel},get children(){return $(Qa,{size:14,class:"check-icon"})}})),Be.$$click=()=>{Kl(),t(!1)},ee(Be,$(cu,{size:16}),me),ee(je,$(st,{get when(){return w.minimapVisible},get children(){return $(Qa,{size:14,class:"check-icon"})}}),ut),Qe.$$click=()=>{S4(),t(!1)},ee(Qe,$(ld,{size:16}),dt),ee(Tt,$(st,{get when(){return w.showUtilityToolbar},get children(){return $(Qa,{size:14,class:"check-icon"})}})),ee(N,$(st,{get when(){return w.docType==="slides"},get children(){var yn=i_(),Ft=yn.firstChild,Tn=Ft.nextSibling;return yn.$$click=()=>{Zy(),t(!1)},ee(yn,$(Uo,{size:16}),Ft),ee(Tn,$(st,{get when(){return w.showSlideToolbar},get children(){return $(Qa,{size:14,class:"check-icon"})}})),yn}}),Nt),Ct.$$click=()=>{Vf("slides"),t(!1)},ee(Ct,$(m5,{size:16}),Ut),_t.$$click=()=>{Vf("infinite"),t(!1)},ee(_t,$(cu,{size:16}),Nn),Dt.$$click=()=>{c(!0),t(!1)},ee(Dt,$(ld,{size:16}),Zt),N}}),ae),ie.$$click=()=>ea(w.selection),ee(ie,$(Is,{size:18})),ne.$$click=u,ee(ne,$(cu,{size:18})),We(N=>{var H=`translate(${g().x}px, ${g().y}px)`,V=`menu-btn ${e()?"active":""}`,te=w.selection.length===0;return H!==N.e&&sn(k,"transform",N.e=H),V!==N.t&&hn(Q,N.t=V),te!==N.a&&(ie.disabled=N.a=te),N},{e:void 0,t:void 0,a:void 0}),k})(),$(st,{get when(){return w.showUtilityToolbar},get children(){var k=s_(),U=k.firstChild,ce=U.firstChild,Q=ce.nextSibling,ae=Q.nextSibling,ie=ae.nextSibling,Se=ie.nextSibling,ne=Se.nextSibling,N=ne.nextSibling;N.firstChild;var H=N.nextSibling,V=H.nextSibling;return U.$$mousedown=R,Q.$$click=()=>Wo.playAll("programmatic"),ee(Q,$(Uo,{size:18,color:"#10b981",fill:"#10b981"})),ae.$$click=()=>Wo.stopAll(),ee(ae,$(Ul,{size:18,color:"#ef4444",fill:"#ef4444"})),wn(Se,"click",Al.bind(null,!0),!0),ee(Se,$(Y1,{size:18})),N.$$click=()=>Hf(!0),wn(V,"click",Ap,!0),ee(V,(()=>{var te=Wn(()=>w.theme==="dark");return()=>te()?$(Jk,{size:18}):$(Tx,{size:18})})()),We(te=>sn(k,"transform",`translate(${C().x}px, ${C().y}px)`)),k}})]}})]};Cn(["click","mousedown"]);var f_=Ne('<div class=zoom-container><div class=zoom-group><button class=zoom-btn title="Zoom Out"></button><button class="zoom-btn text-btn"title="Reset Zoom">%</button><button class=zoom-btn title="Zoom In"></button></div><div class=zoom-group style=margin-left:12px><button class=zoom-btn title="Undo (Ctrl+Z)"></button><button class=zoom-btn title="Redo (Ctrl+Y)">');const p_=()=>{const e=()=>{const i=Math.min(w.viewState.scale*1.1,10);Ir({scale:i})},t=()=>{const i=Math.max(w.viewState.scale*.9,.1);Ir({scale:i})},n=()=>{Ir({scale:1})};return(()=>{var i=f_(),r=i.firstChild,a=r.firstChild,l=a.nextSibling,o=l.firstChild,c=l.nextSibling,s=r.nextSibling,d=s.firstChild,u=d.nextSibling;return a.$$click=t,ee(a,$(oh,{size:16})),l.$$click=n,ee(l,()=>Math.round(w.viewState.scale*100),o),c.$$click=e,ee(c,$(zl,{size:16})),wn(d,"click",fh,!0),ee(d,$(v3,{size:16})),wn(u,"click",Tl,!0),ee(u,$(hk,{size:16})),We(f=>{var h=w.undoStackLength===0,g=w.redoStackLength===0;return h!==f.e&&(d.disabled=f.e=h),g!==f.t&&(u.disabled=f.t=g),f},{e:void 0,t:void 0}),i})()};Cn(["click"]);class g_{steps=[];currentStepIndex=0;isPlaying=!1;isPaused=!1;activeAnimationIds=[];resolvePromise=null;add(t,n){return n&&n>0&&this.steps.push({type:"delay",delay:n}),this.steps.push({type:"animation",factory:t}),this}parallel(...t){return this.steps.push({type:"parallel",factories:t}),this}delay(t){return this.steps.push({type:"delay",delay:t}),this}call(t){return this.steps.push({type:"callback",callback:t}),this}play(){return this.isPaused?(this.isPaused=!1,this.isPlaying=!0,Sr.resumeAll(),Promise.resolve()):this.isPlaying?Promise.resolve():(this.isPlaying=!0,this.currentStepIndex=0,new Promise(t=>{this.resolvePromise=t,this.runNextStep()}))}pause(){this.isPlaying&&(this.isPaused=!0,this.isPlaying=!1,Sr.pauseAll())}stop(){this.isPlaying=!1,this.isPaused=!1,this.currentStepIndex=0;for(const t of this.activeAnimationIds)Sr.stop(t);this.activeAnimationIds=[],this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null)}reset(){this.stop(),this.currentStepIndex=0}get progress(){return this.steps.length===0?0:this.currentStepIndex/this.steps.length}get playing(){return this.isPlaying}get paused(){return this.isPaused}runNextStep(){if(!this.isPlaying||this.currentStepIndex>=this.steps.length){this.isPlaying=!1,this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null);return}const t=this.steps[this.currentStepIndex];switch(this.currentStepIndex++,t.type){case"animation":this.runAnimation(t.factory);break;case"parallel":this.runParallel(t.factories);break;case"delay":this.runDelay(t.delay);break;case"callback":t.callback?.(),this.runNextStep();break}}runAnimation(t){const n=t();if(!n){this.runNextStep();return}this.activeAnimationIds.push(n);const i=()=>{const r=Sr.getState(n);r===null||r==="completed"?(this.activeAnimationIds=this.activeAnimationIds.filter(a=>a!==n),this.isPlaying&&this.runNextStep()):this.isPlaying&&!this.isPaused&&requestAnimationFrame(i)};requestAnimationFrame(i)}runParallel(t){const n=t.map(r=>r()).filter(r=>r!=="");if(n.length===0){this.runNextStep();return}this.activeAnimationIds.push(...n);const i=()=>{let r=!0;for(const a of n){const l=Sr.getState(a);l!==null&&l!=="completed"&&(r=!1)}r?(this.activeAnimationIds=this.activeAnimationIds.filter(a=>!n.includes(a)),this.isPlaying&&this.runNextStep()):this.isPlaying&&!this.isPaused&&requestAnimationFrame(i)};requestAnimationFrame(i)}runDelay(t){setTimeout(()=>{this.isPlaying&&!this.isPaused&&this.runNextStep()},t)}}function A_(){return new g_}const y_=[{key:"showMindmapToolbar",label:"Mindmap Toolbar",type:"toggle",group:"canvas",applicableTo:["canvas"],defaultValue:!0},{key:"docType",label:"Document Type",type:"select",options:[{label:"Slide Presentation",value:"slides"},{label:"Infinite Canvas",value:"infinite"}],group:"canvas",applicableTo:["canvas"],defaultValue:"slides"},{key:"renderStyle",label:"Default Drawing Style",type:"select",options:[{label:"Sketch",value:"sketch"},{label:"Architectural",value:"architectural"}],group:"canvas",applicableTo:["canvas"],defaultValue:"sketch"},{key:"renderStyle",label:"Style",type:"select",group:"style",options:[{label:"Sketch",value:"sketch"},{label:"Architectural",value:"architectural"}],applicableTo:["rectangle","circle","line","arrow","text","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","dfdDataStore","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"sketch"},{key:"flowAnimation",label:"Flow Animation",type:"toggle",group:"motion",applicableTo:"all",defaultValue:!1},{key:"flowSpeed",label:"Flow Speed",type:"slider",min:.1,max:10,step:.1,group:"motion",applicableTo:"all",defaultValue:1,dependsOn:"flowAnimation"},{key:"flowStyle",label:"Flow Style",type:"select",options:[{label:"Dots",value:"dots"},{label:"Dashes",value:"dashes"},{label:"Energy Pulse",value:"pulse"}],group:"motion",applicableTo:"all",defaultValue:"dots",dependsOn:"flowAnimation"},{key:"flowColor",label:"Flow Color",type:"color",group:"motion",applicableTo:"all",defaultValue:void 0,dependsOn:"flowAnimation"},{key:"flowDensity",label:"Flow Density",type:"slider",min:1,max:10,step:1,group:"motion",applicableTo:"all",defaultValue:3,dependsOn:"flowAnimation"},{key:"spinEnabled",label:"Auto Spin",type:"toggle",group:"motion",applicableTo:"all",defaultValue:!1},{key:"spinSpeed",label:"Spin Speed",type:"slider",min:-20,max:20,step:.5,group:"motion",applicableTo:"all",defaultValue:5,dependsOn:"spinEnabled"},{key:"orbitEnabled",label:"Auto Orbit",type:"toggle",group:"motion",applicableTo:"all",defaultValue:!1},{key:"orbitCenterId",label:"Orbit Center ID",type:"input",group:"motion",applicableTo:"all",defaultValue:"",dependsOn:"orbitEnabled"},{key:"orbitRadius",label:"Orbit Radius",type:"slider",min:0,max:1e3,step:10,group:"motion",applicableTo:"all",defaultValue:150,dependsOn:"orbitEnabled"},{key:"orbitSpeed",label:"Orbit Speed",type:"slider",min:.1,max:10,step:.1,group:"motion",applicableTo:"all",defaultValue:1,dependsOn:"orbitEnabled"},{key:"orbitDirection",label:"Direction",type:"select",options:[{label:"Clockwise",value:"cw"},{label:"Counter-Clockwise",value:"ccw"}],group:"motion",applicableTo:"all",defaultValue:"cw",dependsOn:"orbitEnabled"},{key:"canvasBackgroundColor",label:"Background",type:"color",options:[{label:"White",value:"#ffffff"},{label:"Light Gray",value:"#fafafa"},{label:"Paper",value:"#fdf6e3"},{label:"Dark Gray",value:"#121212"},{label:"Deep Black",value:"#000000"}],group:"canvas",applicableTo:["canvas"],defaultValue:"#fafafa"},{key:"canvasTexture",label:"Canvas Texture",type:"select",options:[{label:"None",value:"none"},{label:"Dots",value:"dots"},{label:"Grid",value:"grid"},{label:"Graph Paper",value:"graph"},{label:"Recycled Paper",value:"paper"}],group:"canvas",applicableTo:["canvas"],defaultValue:"none"},{key:"maxLayers",label:"Max Layers",type:"number",min:1,max:100,group:"canvas",applicableTo:["canvas"],defaultValue:20},{key:"gridEnabled",label:"Show Grid",type:"toggle",group:"canvas",applicableTo:["canvas"],defaultValue:!1},{key:"snapToGrid",label:"Snap to Grid",type:"toggle",group:"canvas",applicableTo:["canvas"],defaultValue:!1},{key:"objectSnapping",label:"Smart Snapping",type:"toggle",group:"canvas",applicableTo:["canvas"],defaultValue:!0},{key:"gridStyle",label:"Grid Style",type:"select",options:[{label:"Lines",value:"lines"},{label:"Dots",value:"dots"}],group:"canvas",applicableTo:["canvas"],defaultValue:"lines"},{key:"gridColor",label:"Grid Color",type:"color",group:"canvas",applicableTo:["canvas"],defaultValue:"#e0e0e0"},{key:"gridOpacity",label:"Grid Opacity",type:"slider",min:.1,max:1,step:.1,group:"canvas",applicableTo:["canvas"],defaultValue:.5},{key:"transitionType",label:"Transition",type:"select",options:[{label:"None",value:"none"},{label:"Fade",value:"fade"},{label:"Slide Left",value:"slide-left"},{label:"Slide Right",value:"slide-right"},{label:"Slide Up",value:"slide-up"},{label:"Slide Down",value:"slide-down"},{label:"Zoom In",value:"zoom-in"},{label:"Zoom Out",value:"zoom-out"}],group:"slide",applicableTo:["slide"],defaultValue:"none"},{key:"transitionDuration",label:"Duration (ms)",type:"slider",min:100,max:3e3,step:100,group:"slide",applicableTo:["slide"],defaultValue:500},{key:"transitionEasing",label:"Easing",type:"select",options:[{label:"Linear",value:"linear"},{label:"Quad In",value:"easeInQuad"},{label:"Quad Out",value:"easeOutQuad"},{label:"Quad InOut",value:"easeInOutQuad"},{label:"Cubic In",value:"easeInCubic"},{label:"Cubic Out",value:"easeOutCubic"},{label:"Cubic InOut",value:"easeInOutCubic"},{label:"Back Out",value:"easeOutBack"},{label:"Spring",value:"easeSpring"}],group:"slide",applicableTo:["slide"],defaultValue:"easeInOutQuad"},{key:"slideBackground",label:"Background",type:"color",options:[{label:"White",value:"#ffffff"},{label:"Light Gray",value:"#fafafa"},{label:"Paper",value:"#fdf6e3"},{label:"Dark Gray",value:"#121212"},{label:"Deep Black",value:"#000000"}],group:"slide",applicableTo:["slide"],defaultValue:"#ffffff"},{key:"borderRadius",label:"Roundness",type:"slider",min:0,max:50,step:1,group:"style",applicableTo:["rectangle","diamond","capsule","speechBubble","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","isometricCube","cylinder","stateSync","activationBar","externalEntity"],defaultValue:0},{key:"drawInnerBorder",label:"Double Border",type:"toggle",group:"style",applicableTo:["rectangle","circle","diamond","triangle","polygon","star","hexagon","octagon","pentagon","septagon","trapezoid","dfdProcess","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:!1},{key:"innerBorderDistance",label:"Border Padding",type:"slider",min:2,max:20,step:1,group:"style",applicableTo:["rectangle","circle","diamond","triangle","polygon","star","hexagon","octagon","pentagon","septagon","trapezoid","dfdProcess","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:5,dependsOn:"drawInnerBorder"},{key:"strokeLineJoin",label:"Corner Style",type:"select",options:[{label:"Round",value:"round"},{label:"Bevel (Flat)",value:"bevel"},{label:"Miter (Sharp)",value:"miter"}],group:"style",applicableTo:["rectangle","diamond","triangle","polygon","star","burst","hexagon","octagon","pentagon","septagon","trapezoid","arrow","arrowLeft","arrowRight","arrowUp","arrowDown","bracketLeft","bracketRight","parallelogram","rightTriangle","dfdProcess","dfdDataStore","isometricCube","solidBlock","cylinder","stateSync","activationBar","externalEntity"],defaultValue:"round"},{key:"strokeColor",label:"Stroke",type:"color",group:"stroke",applicableTo:"all",defaultValue:"#000000"},{key:"backgroundColor",label:"Background",type:"color",group:"background",applicableTo:["rectangle","circle","text","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","starPerson","lightbulb","signpost","burstBlob","scroll","wavyDivider","doubleBanner","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"transparent"},{key:"fillStyle",label:"Fill",type:"select",group:"background",options:[{label:"Solid",value:"solid"},{label:"Hachure",value:"hachure"},{label:"Cross-Hatch",value:"cross-hatch"},{label:"Zigzag",value:"zigzag"},{label:"Dots",value:"dots"},{label:"Dashed",value:"dashed"},{label:"Zigzag Line",value:"zigzag-line"},{label:"Linear Gradient",value:"linear"},{label:"Radial Gradient",value:"radial"},{label:"Conic Gradient",value:"conic"}],applicableTo:["rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","starPerson","lightbulb","signpost","burstBlob","scroll","wavyDivider","doubleBanner","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"solid"},{key:"fillDensity",label:"Fill Density",type:"slider",min:.1,max:4,step:.1,group:"background",applicableTo:["rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","starPerson","lightbulb","signpost","burstBlob","scroll","wavyDivider","doubleBanner","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:1,dependsOn:{key:"fillStyle",value:["hachure","cross-hatch","zigzag","dots","dashed","zigzag-line"]}},{key:"strokeWidth",label:"Width",type:"slider",min:1,max:20,step:1,group:"stroke",applicableTo:["rectangle","circle","line","arrow","fineliner","inkbrush","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","cross","checkmark","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","dfdDataStore","isometricCube","solidBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:1},{key:"smoothing",label:"Smoothing",type:"slider",min:0,max:20,step:1,group:"stroke",applicableTo:["fineliner","inkbrush","marker"],defaultValue:3},{key:"taperAmount",label:"Tapering",type:"slider",min:0,max:1,step:.05,group:"stroke",applicableTo:["inkbrush"],defaultValue:.15},{key:"velocitySensitivity",label:"Speed Sensitivity",type:"slider",min:0,max:1,step:.05,group:"stroke",applicableTo:["inkbrush"],defaultValue:.5},{key:"strokeStyle",label:"Stroke Style",type:"select",group:"stroke",options:[{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"}],applicableTo:["rectangle","circle","line","arrow","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","cross","checkmark","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"solid"},{key:"roughness",label:"Sloppiness",type:"slider",min:0,max:3,step:.1,group:"style",applicableTo:["rectangle","circle","line","arrow","text","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","browserWindow","mobilePhone","ghostButton","inputField","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:1},{key:"opacity",label:"Opacity",type:"slider",min:0,max:100,step:1,group:"style",applicableTo:"all",defaultValue:100},{key:"gradientDirection",label:"Direction (Deg)",type:"slider",min:0,max:360,step:15,group:"gradient",applicableTo:"all",defaultValue:45,dependsOn:{key:"fillStyle",value:["linear","conic"]}},{key:"blendMode",label:"Blend Mode",type:"select",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}],group:"style",applicableTo:"all",defaultValue:"normal"},{key:"gradientStart",label:"Start Color",type:"color",group:"gradient",applicableTo:"all",defaultValue:"#ffffff",dependsOn:{key:"fillStyle",value:["linear","radial"]}},{key:"gradientEnd",label:"End Color",type:"color",group:"gradient",applicableTo:"all",defaultValue:"#000000",dependsOn:{key:"fillStyle",value:["linear","radial"]}},{key:"shadowEnabled",label:"Drop Shadow",type:"toggle",group:"shadow",applicableTo:"all",defaultValue:!1},{key:"shadowColor",label:"Shadow Color",type:"color",group:"shadow",applicableTo:"all",defaultValue:"rgba(0,0,0,0.3)",dependsOn:"shadowEnabled"},{key:"shadowBlur",label:"Blur",type:"slider",min:0,max:50,step:1,group:"shadow",applicableTo:"all",defaultValue:10,dependsOn:"shadowEnabled"},{key:"shadowOffsetX",label:"Offset X",type:"slider",min:-50,max:50,step:1,group:"shadow",applicableTo:"all",defaultValue:5,dependsOn:"shadowEnabled"},{key:"shadowOffsetY",label:"Offset Y",type:"slider",min:-50,max:50,step:1,group:"shadow",applicableTo:"all",defaultValue:5,dependsOn:"shadowEnabled"},{key:"fontSize",label:"Size",type:"slider",min:8,max:200,step:1,group:"text",applicableTo:["text","rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:20},{key:"fontFamily",label:"Font",type:"select",options:[{label:"Virgil (Hand)",value:"hand-drawn"},{label:"Inter (Sans)",value:"sans-serif"},{label:"Cascadia (Code)",value:"monospace"}],group:"text",applicableTo:["text","rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"hand-drawn"},{key:"fontWeight",label:"Bold",type:"toggle",group:"text",applicableTo:["text","rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:!1},{key:"fontStyle",label:"Italic",type:"toggle",group:"text",applicableTo:["text","rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","solidBlock","perspectiveBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:!1},{key:"textAlign",label:"Align",type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],group:"text",applicableTo:["text","rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:"left"},{key:"text",label:"Content",type:"textarea",group:"text",applicableTo:["text"],defaultValue:""},{key:"containerText",label:"Label",type:"textarea",group:"text",applicableTo:["rectangle","circle","diamond","line","arrow","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:""},{key:"attributesText",label:"Attributes",type:"textarea",group:"text",applicableTo:["umlClass","umlState","umlFragment"],defaultValue:""},{key:"methodsText",label:"Methods",type:"textarea",group:"text",applicableTo:["umlClass","umlInterface"],defaultValue:""},{key:"labelPosition",label:"Label Position",type:"select",options:[{label:"Start",value:"start"},{label:"Middle",value:"middle"},{label:"End",value:"end"}],group:"text",applicableTo:["line","arrow"],defaultValue:"middle"},{key:"autoResize",label:"Auto Resize",type:"toggle",group:"text",applicableTo:["rectangle","circle","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","umlClass","umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlState","umlLifeline","umlFragment","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"],defaultValue:!0},{key:"textColor",label:"Text Color",type:"color",group:"text",applicableTo:"all",defaultValue:void 0},{key:"textHighlightEnabled",label:"Text Highlight",type:"toggle",group:"text",applicableTo:"all",defaultValue:!1},{key:"textHighlightColor",label:"Highlight Color",type:"color",group:"text",applicableTo:"all",defaultValue:"rgba(255, 255, 0, 0.4)",dependsOn:"textHighlightEnabled"},{key:"textHighlightPadding",label:"Highlight Padding",type:"slider",min:0,max:20,step:1,group:"text",applicableTo:"all",defaultValue:4,dependsOn:"textHighlightEnabled"},{key:"textHighlightRadius",label:"Highlight Radius",type:"slider",min:0,max:20,step:1,group:"text",applicableTo:"all",defaultValue:2,dependsOn:"textHighlightEnabled"},{key:"startArrowhead",label:"Start Arrow",type:"select",options:[{label:"None",value:null},{label:"Arrow",value:"arrow"},{label:"Triangle (Inheritance)",value:"triangle"},{label:"Diamond (Aggregation)",value:"diamond"},{label:"Filled Diamond (Composition)",value:"diamondFilled"},{label:"Crow's Foot (ER)",value:"crowsfoot"},{label:"Circle",value:"circle"},{label:"Dot",value:"dot"},{label:"Bar",value:"bar"}],group:"style",applicableTo:["arrow","line"],defaultValue:null},{key:"endArrowhead",label:"End Arrow",type:"select",options:[{label:"None",value:null},{label:"Arrow",value:"arrow"},{label:"Triangle (Inheritance)",value:"triangle"},{label:"Diamond (Aggregation)",value:"diamond"},{label:"Filled Diamond (Composition)",value:"diamondFilled"},{label:"Crow's Foot (ER)",value:"crowsfoot"},{label:"Circle",value:"circle"},{label:"Dot",value:"dot"},{label:"Bar",value:"bar"}],group:"style",applicableTo:["arrow","line"],defaultValue:null},{key:"curveType",label:"Line Type",type:"select",options:[{label:"Straight",value:"straight"},{label:"Curved",value:"bezier"},{label:"Smart (Elbow)",value:"elbow"}],group:"style",applicableTo:["arrow","line"],defaultValue:"straight"},{key:"angle",label:"Angle",type:"number",group:"dimensions",applicableTo:"all",defaultValue:0},{key:"locked",label:"Locked",type:"toggle",group:"advanced",applicableTo:["rectangle","circle","line","arrow","text","image","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","bracketLeft","bracketRight","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","solidBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:!1},{key:"link",label:"Link",type:"input",group:"advanced",applicableTo:"all",defaultValue:null},{key:"constrained",label:"Keep Proportions",type:"toggle",group:"dimensions",applicableTo:["rectangle","circle","image","diamond","triangle","hexagon","octagon","parallelogram","star","cloud","heart","arrowLeft","arrowRight","arrowUp","arrowDown","capsule","stickyNote","callout","burst","speechBubble","ribbon","database","document","predefinedProcess","internalStorage","server","loadBalancer","firewall","user","messageQueue","lambda","router","browser","trapezoid","rightTriangle","pentagon","septagon","dfdProcess","dfdDataStore","isometricCube","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity"],defaultValue:!1},{key:"pressureEnabled",label:"Pressure",type:"toggle",group:"advanced",applicableTo:["fineliner","inkbrush"],defaultValue:!0},{key:"starPoints",label:"Star Points",type:"slider",min:3,max:12,step:1,group:"dimensions",applicableTo:["star"],defaultValue:5},{key:"polygonSides",label:"Polygon Sides",type:"slider",min:3,max:20,step:1,group:"dimensions",applicableTo:["polygon"],defaultValue:6},{key:"burstPoints",label:"Burst Rays",type:"slider",min:8,max:32,step:1,group:"dimensions",applicableTo:["burst"],defaultValue:16},{key:"tailPosition",label:"Tip Position",type:"slider",min:10,max:90,step:5,group:"dimensions",applicableTo:["speechBubble"],defaultValue:20},{key:"shapeRatio",label:"Depth/Ratio",type:"slider",min:10,max:90,step:1,group:"dimensions",applicableTo:["star","burst","speechBubble","isometricCube"],defaultValue:38},{key:"sideRatio",label:"Perspective",type:"slider",min:0,max:100,step:5,group:"dimensions",applicableTo:["isometricCube"],defaultValue:50},{key:"depth",label:"Depth",type:"slider",min:0,max:200,step:5,group:"dimensions",applicableTo:["solidBlock","perspectiveBlock","cylinder"],defaultValue:50},{key:"viewAngle",label:"View Angle",type:"slider",min:0,max:360,step:5,group:"dimensions",applicableTo:["solidBlock","perspectiveBlock","cylinder"],defaultValue:45},{key:"taper",label:"Taper/Scale",type:"slider",min:0,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0},{key:"skewX",label:"Skew X",type:"slider",min:-1,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0},{key:"skewY",label:"Skew Y",type:"slider",min:-1,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0},{key:"frontTaper",label:"Front Taper",type:"slider",min:0,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0},{key:"frontSkewX",label:"Front Skew X",type:"slider",min:-1,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0},{key:"frontSkewY",label:"Front Skew Y",type:"slider",min:-1,max:1,step:.05,group:"dimensions",applicableTo:["perspectiveBlock"],defaultValue:0}];async function m_(e,t){if(e.length!==0)for(const n of e){n.delay&&n.delay>0&&await new Promise(r=>setTimeout(r,n.delay));const i=new Promise(r=>{const a=n.config.onComplete;n.config.onComplete=()=>{a?.(),r()}});xt(n.elementId,n.target,n.config),await i}}var v_=Ne('<button style="width:100%;margin-top:10px;padding:8px;display:flex;justify-content:center;align-items:center;gap:6px;background:var(--bg-secondary);border:1px dashed var(--border-color);border-radius:6px;cursor:pointer;font-size:12px"> Add Animation'),b_=Ne('<div class=add-menu style="margin-top:10px;background:var(--bg-secondary);padding:8px;border-radius:6px;border:1px solid var(--border-color)"><div style=font-size:12px;margin-bottom:6px;font-weight:500>Select Preset</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:4px"></div><div style="margin-top:8px;padding-top:8px;border-top:1px solid var(--border-color);display:flex;gap:4px"><button style=flex:1;padding:6px;border:none;background:#3b82f6;color:white;border-radius:4px;cursor:pointer;font-size:11px;font-weight:600>+ Add Rotate</button></div><button style=width:100%;margin-top:8px;padding:4px;font-size:11px;cursor:pointer>Cancel'),w_=Ne('<div class=animation-panel><div class=panel-header style=display:flex;justify-content:space-between;align-items:center;margin-bottom:10px><h3 style=margin:0;font-size:14px;font-weight:600>Animations</h3><div style=display:flex;gap:4px><button title="Stop Animation"class=icon-btn style=background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;color:#ef4444></button><button title="Preview Animation"class=icon-btn style=background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;color:#10b981></button></div></div><div class=animation-list style=display:flex;flex-direction:column;gap:8px>'),x_=Ne('<button style="text-align:left;padding:4px 8px;border:none;background:var(--bg-panel);border-radius:4px;cursor:pointer;font-size:11px">'),k_=Ne('<button title="Move Up"style=border:none;background:none;cursor:pointer;opacity:0.6;padding:2px>'),S_=Ne('<button title="Move Down"style=border:none;background:none;cursor:pointer;opacity:0.6;padding:2px>'),C_=Ne("<div style=display:flex;align-items:center;gap:8px><input type=checkbox><label style=font-size:11px;opacity:0.7;cursor:pointer>Ping-Pong (Yoyo)"),L_=Ne('<div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>To Angle (deg)</label><input type=number step=15 style="width:60px;font-size:11px;padding:2px 4px">'),P_=Ne("<div style=display:flex;align-items:center;gap:8px><input type=checkbox><label style=font-size:11px;opacity:0.7;cursor:pointer>Relative to current"),M_=Ne('<div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>Radius (px)</label><input type=number step=10 style="width:60px;font-size:11px;padding:2px 4px">'),__=Ne('<div style="padding:8px;border-top:1px solid var(--border-color);display:flex;flex-direction:column;gap:8px"><div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>Trigger</label><select style="font-size:11px;padding:2px 4px;width:80px"><option value=on-load>On Load</option><option value=on-click>On Click</option><option value=after-prev>After Previous</option><option value=with-prev>With Previous</option></select></div><div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>Duration (ms)</label><input type=number step=100 min=0 style="width:60px;font-size:11px;padding:2px 4px"></div><div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>Delay (ms)</label><input type=number step=100 min=0 style="width:60px;font-size:11px;padding:2px 4px"></div><div style=display:flex;align-items:center;justify-content:space-between><label style=font-size:11px;opacity:0.7>Easing</label><select style="font-size:11px;padding:2px 4px;width:100px"></select></div><div style=display:flex;align-items:center;gap:8px;margin-top:4px><input type=checkbox><label style=font-size:11px;opacity:0.7;cursor:pointer>Loop Infinitely</label></div><div style=display:flex;align-items:center;gap:8px;margin-top:4px><input type=checkbox><label style=font-size:11px;opacity:0.7;cursor:pointer>Restore state after finish'),N_=Ne('<div style="background:var(--bg-secondary);border-radius:6px;border:1px solid var(--border-color);overflow:hidden"><div style=display:flex;align-items:center;padding:8px;cursor:pointer><div style=margin-right:6px;display:flex></div><div style=flex:1;font-size:12px;font-weight:500><span style=margin-left:6px;opacity:0.5;font-size:10px>ms</span></div><div style=display:flex;gap:4px;margin-right:4px></div><button style=border:none;background:none;cursor:pointer;opacity:0.6;padding:2px>'),T_=Ne("<option>");const I_=["drawIn","drawOut","fadeIn","fadeOut","slideInLeft","slideInRight","slideInUp","slideInDown","zoomIn","zoomOut","bounce","pulse","shakeX","shakeY","revolve"],B_=["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce"],D_=()=>{const e=or(()=>w.selection.length===1?w.selection[0]:null),t=or(()=>{const g=e();return g?w.elements.find(p=>p.id===g):null}),[n,i]=Pt(!1),[r,a]=Pt(new Set),l=g=>{a(p=>{const y=new Set(p);return y.has(g)?y.delete(g):y.add(g),y})},o=g=>{const p=t();if(!p)return;const y={id:crypto.randomUUID(),type:"preset",name:g,duration:1e3,delay:0,easing:"easeOutQuad",trigger:p.animations?.length?"after-prev":"on-load",params:g==="revolve"?{radius:50}:void 0},A=p.animations||[];bt(p.id,{animations:[...A,y]},!0),i(!1)},c=()=>{const g=t();if(!g)return;const p={id:crypto.randomUUID(),type:"rotate",toAngle:90,relative:!0,duration:1e3,delay:0,easing:"easeOutQuad",trigger:g.animations?.length?"after-prev":"on-load"},y=g.animations||[];bt(g.id,{animations:[...y,p]},!0),i(!1)},s=g=>{const p=t();!p||!p.animations||bt(p.id,{animations:p.animations.filter(y=>y.id!==g)},!0)},d=(g,p)=>{const y=t();y&&c4(y.id,g,p,!0)},u=(g,p)=>{const y=e();y&&d4(y,g,p)},f=()=>{const g=e();g&&Wo.playSequence(g,"programmatic")},h=()=>{const g=e();g&&Wo.stopSequence(g)};return(()=>{var g=w_(),p=g.firstChild,y=p.firstChild,A=y.nextSibling,v=A.firstChild,x=v.nextSibling,C=p.nextSibling;return v.$$click=h,ee(v,$(Ul,{size:16,fill:"currentColor"})),x.$$click=f,ee(x,$(Uo,{size:16,fill:"currentColor"})),ee(C,$(rr,{get each(){return t()?.animations||[]},children:(_,F)=>$(E_,{animation:_,get index(){return F()},get total(){return t()?.animations?.length||0},get expanded(){return r().has(_.id)},onToggle:()=>l(_.id),onUpdate:O=>d(_.id,O),onRemove:()=>s(_.id),onReorder:O=>u(_.id,O)})})),ee(g,$(st,{get when(){return!n()},get children(){var _=v_(),F=_.firstChild;return _.$$click=()=>i(!0),ee(_,$(zl,{size:14}),F),_}}),null),ee(g,$(st,{get when(){return n()},get children(){var _=b_(),F=_.firstChild,O=F.nextSibling,E=O.nextSibling,I=E.firstChild,q=E.nextSibling;return ee(O,$(rr,{each:I_,children:R=>(()=>{var P=x_();return P.$$click=()=>o(R),ee(P,R),P})()})),I.$$click=c,q.$$click=()=>i(!1),_}}),null),g})()},E_=e=>(()=>{var t=N_(),n=t.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild,l=a.firstChild,o=r.nextSibling,c=o.nextSibling;return n.$$click=()=>e.onToggle(),ee(i,(()=>{var s=Wn(()=>!!e.expanded);return()=>s()?$(oi,{size:14}):$(Fl,{size:14})})()),ee(r,(()=>{var s=Wn(()=>e.animation.type==="preset");return()=>s()?e.animation.name:e.animation.type==="rotate"?"Rotate":"Property"})(),a),ee(a,()=>e.animation.duration,l),ee(o,$(st,{get when(){return e.index>0},get children(){var s=k_();return s.$$click=d=>{d.stopPropagation(),e.onReorder("up")},ee(s,$(Ol,{size:14})),s}}),null),ee(o,$(st,{get when(){return e.index<e.total-1},get children(){var s=S_();return s.$$click=d=>{d.stopPropagation(),e.onReorder("down")},ee(s,$(oi,{size:14})),s}}),null),c.$$click=s=>{s.stopPropagation(),e.onRemove()},ee(c,$(Is,{size:14})),ee(t,$(st,{get when(){return e.expanded},get children(){var s=__(),d=s.firstChild,u=d.firstChild,f=u.nextSibling,h=d.nextSibling,g=h.firstChild,p=g.nextSibling,y=h.nextSibling,A=y.firstChild,v=A.nextSibling,x=y.nextSibling,C=x.firstChild,_=C.nextSibling,F=x.nextSibling,O=F.firstChild,E=O.nextSibling,I=F.nextSibling,q=I.firstChild,R=q.nextSibling;return f.addEventListener("change",P=>e.onUpdate({trigger:P.currentTarget.value})),p.$$input=P=>e.onUpdate({duration:Number(P.currentTarget.value)}),v.$$input=P=>e.onUpdate({delay:Number(P.currentTarget.value)}),_.addEventListener("change",P=>e.onUpdate({easing:P.currentTarget.value})),ee(_,$(rr,{each:B_,children:P=>(()=>{var D=T_();return D.value=P,ee(D,P),D})()})),O.addEventListener("change",P=>e.onUpdate({repeat:P.currentTarget.checked?-1:0})),ee(s,$(st,{get when(){return e.animation.repeat===-1},get children(){var P=C_(),D=P.firstChild,k=D.nextSibling;return D.addEventListener("change",U=>e.onUpdate({yoyo:U.currentTarget.checked})),We(U=>{var ce=`yoyo-${e.animation.id}`,Q=`yoyo-${e.animation.id}`;return ce!==U.e&&Lt(D,"id",U.e=ce),Q!==U.t&&Lt(k,"for",U.t=Q),U},{e:void 0,t:void 0}),We(()=>D.checked=e.animation.yoyo||!1),P}}),I),ee(s,$(st,{get when(){return e.animation.type==="rotate"},get children(){return[(()=>{var P=L_(),D=P.firstChild,k=D.nextSibling;return k.$$input=U=>e.onUpdate({toAngle:Number(U.currentTarget.value)}),We(()=>k.value=e.animation.toAngle),P})(),(()=>{var P=P_(),D=P.firstChild,k=D.nextSibling;return D.addEventListener("change",U=>e.onUpdate({relative:U.currentTarget.checked})),We(U=>{var ce=`rel-${e.animation.id}`,Q=`rel-${e.animation.id}`;return ce!==U.e&&Lt(D,"id",U.e=ce),Q!==U.t&&Lt(k,"for",U.t=Q),U},{e:void 0,t:void 0}),We(()=>D.checked=e.animation.relative||!1),P})()]}}),I),ee(s,$(st,{get when(){return Wn(()=>e.animation.type==="preset")()&&e.animation.name==="revolve"},get children(){var P=M_(),D=P.firstChild,k=D.nextSibling;return k.$$input=U=>{const ce={...e.animation.params,radius:Number(U.currentTarget.value)};e.onUpdate({params:ce})},We(()=>k.value=e.animation.params?.radius??50),P}}),I),q.addEventListener("change",P=>e.onUpdate({restoreAfter:P.currentTarget.checked})),We(P=>{var D=`loop-${e.animation.id}`,k=`loop-${e.animation.id}`,U=`restore-${e.animation.id}`,ce=`restore-${e.animation.id}`;return D!==P.e&&Lt(O,"id",P.e=D),k!==P.t&&Lt(E,"for",P.t=k),U!==P.a&&Lt(q,"id",P.a=U),ce!==P.o&&Lt(R,"for",P.o=ce),P},{e:void 0,t:void 0,a:void 0,o:void 0}),We(()=>f.value=e.animation.trigger),We(()=>p.value=e.animation.duration),We(()=>v.value=e.animation.delay),We(()=>_.value=e.animation.easing),We(()=>O.checked=e.animation.repeat===-1),We(()=>q.checked=e.animation.restoreAfter||!1),s}}),null),We(s=>sn(n,"background",e.expanded?"rgba(0,0,0,0.03)":"transparent")),t})();Cn(["click","input"]);var R_=Ne('<button class=icon-btn title="Add Sibling (Enter)">'),$_=Ne("<button class=icon-btn>"),F_=Ne('<div class=property-group><div class=group-title>MINDMAP ACTIONS</div><div class=alignment-row><button class=icon-btn title="Add Child (Tab)"></button><button class=icon-btn title="Auto Style Branch"></button><button class=icon-btn title="Present Branch"></button></div><div class=group-title style=margin-top:12px;margin-bottom:8px>AUTO LAYOUT</div><div class=alignment-row><button class=icon-btn title="Horizontal Right"></button><button class=icon-btn title="Vertical Down"></button><button class=icon-btn title=Radial>'),O_=Ne('<div class=property-group><div class=group-title>ACTIONS</div><div class=alignment-row><button class=icon-btn title="Preview Transition">'),z_=Ne('<div class=property-group><div class=group-title>ALIGNMENT</div><div class=alignment-row><button class=icon-btn title="Align Left"></button><button class=icon-btn title="Align Horizontal Center"></button><button class=icon-btn title="Align Right"></button><button class=icon-btn title="Distribute Horizontal"></button></div><div class=alignment-row><button class=icon-btn title="Align Top"></button><button class=icon-btn title="Align Vertical Center"></button><button class=icon-btn title="Align Bottom"></button><button class=icon-btn title="Distribute Vertical">'),U_=Ne('<div class=swatch-row><button class="swatch-circle rainbow"title="Custom Color">'),W_=Ne("<div class=color-grid>"),j_=Ne("<div class=hex-input-row><span class=hash>#</span><input type=text class=hex-input><div class=system-picker-wrapper><input type=color>"),q_=Ne("<div class=control-col><label></label><div class=color-picker-container>"),X_=Ne("<button class=swatch-circle>"),G_=Ne("<button class=color-swatch>"),H_=Ne("<div class=diagonal-line-sm>"),Y_=Ne('<div class=control-row style=margin-top:8px;align-items:center;gap:8px;background:var(--bg-secondary);padding:4px;border-radius:4px><div class=color-wrapper style="width:24px;height:24px;position:relative;overflow:hidden;border-radius:50%;border:1px solid var(--border-color)"><input type=color style=position:absolute;top:-50%;left:-50%;width:200%;height:200%;padding:0;border:none;cursor:pointer></div><div style=flex:1;display:flex;align-items:center;gap:4px><input type=range min=0 max=100 step=1 style=flex:1><span style=font-size:11px;width:28px;text-align:right>%</span></div><button class="icon-btn small"title="Delete Stop">'),V_=Ne('<div class=gradient-editor><div class=gradient-bar-container style="height:24px;border-radius:4px;position:relative;cursor:pointer;border:1px solid var(--border-color);background:conic-gradient(#eee 0.25turn, transparent 0.25turn 0.5turn, #eee 0.5turn 0.75turn, transparent 0.75turn) top left / 10px 10px repeat"><div style=position:absolute;inset:0;border-radius:3px></div></div><div style=margin-top:4px;font-size:10px;color:var(--text-secondary);text-align:center>Click bar to add  Drag to move'),Q_=Ne('<div class=val-thumb style="position:absolute;top:50%;transform:translate(-50%, -50%);width:12px;height:12px;border-radius:50%;border:2px solid white;box-shadow:0 0 2px rgba(0,0,0,0.5)">'),J_=Ne("<div class=control-row><label></label><div class=slider-group><div class=slider-wrapper><input type=range></div><input type=number class=precise-number-input>"),K_=Ne("<div class=control-row><label></label><select>"),w1=Ne("<option>"),Z_=Ne("<div class=control-row><label></label><input type=checkbox>"),e7=Ne("<div class=control-row><label></label><input type=text>"),t7=Ne("<div class=control-col><label></label><div class=textarea-wrapper><textarea rows=3>"),n7=Ne("<div class=control-row><label></label><input type=number>"),r7=Ne("<h3>"),i7=Ne("<button title=Duplicate>"),a7=Ne("<button class=delete-btn title=Delete>"),o7=Ne("<div class=vertical-separator>"),s7=Ne("<option value>(Mixed)"),l7=Ne("<div class=control-row><label>Z-Order"),c7=Ne('<div class=layer-controls><button title="To Front"></button><button title=Forward></button><button title=Backward></button><button title="To Back">'),d7=Ne("<div class=property-group><div class=group-title>LAYERS</div><div class=control-row><label>Layer</label><select>"),h7=Ne("<div class=property-group>"),u7=Ne("<div class=property-content>"),f7=Ne('<div class=property-panel><div class=panel-header><div style=display:flex;align-items:center;gap:8px><button class="minimize-btn burger-menu"></button></div><div class=header-actions><button class=close-btn title=Close>'),p7=Ne("<div class=property-panel-container>"),g7=Ne('<div class="property-panel empty"><div class=panel-header><h3>Properties</h3></div><div class=panel-content>No Selection'),A7=Ne("<div class=property-group><div class=group-title>");const y7=e=>{const t=()=>w.elements.find(a=>a.id===e.elementId),n=or(()=>w.elements.some(a=>a.parentId===e.elementId)),i=or(()=>{const a=t();if(!a)return!1;const l=["text","cloud","circle","rectangle","stickyNote","diamond"];return!!a.parentId||n()||l.includes(a.type)}),r=async()=>{const a=e.elementId;if(!t())return;const o=w.elements.filter(f=>f.parentId===a),c=o.map(f=>f.id),s=w.elements.filter(f=>{if(!(f.type==="line"||f.type==="arrow"||f.type==="organicBranch"))return!1;const g=f.startBinding?.elementId===a||f.endBinding?.elementId===a,p=f.startBinding?.elementId&&c.includes(f.startBinding.elementId)||f.endBinding?.elementId&&c.includes(f.endBinding.elementId);return g&&p});[...o,...s].forEach(f=>{bt(f.id,{opacity:0})});const u=[];o.forEach((f,h)=>{const g=s.find(p=>p.startBinding?.elementId===f.id||p.endBinding?.elementId===f.id);g&&u.push({elementId:g.id,target:{opacity:100,flowAnimation:!0},config:{duration:400,easing:"easeOutQuad"},delay:h===0?0:150}),u.push({elementId:f.id,target:{opacity:100},config:{duration:500,easing:"easeOutBack"},delay:0})}),m_(u)};return $(st,{get when(){return i()},get children(){var a=F_(),l=a.firstChild,o=l.nextSibling,c=o.firstChild,s=c.nextSibling,d=s.nextSibling,u=o.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.nextSibling,p=g.nextSibling;return c.$$click=()=>Vl(e.elementId),ee(c,$(zl,{size:18})),ee(o,$(st,{get when(){return t()?.parentId},get children(){var y=R_();return y.$$click=()=>Ql(e.elementId),ee(y,$(rh,{size:18})),y}}),s),s.$$click=()=>kh(e.elementId),ee(s,$(rp,{size:18})),d.$$click=r,ee(d,$(Uo,{size:18})),ee(o,$(st,{get when(){return n()},get children(){var y=$_();return y.$$click=()=>Bl(e.elementId),ee(y,(()=>{var A=Wn(()=>!!t()?.isCollapsed);return()=>A()?$(oi,{size:18}):$(Ol,{size:18})})()),We(()=>Lt(y,"title",t()?.isCollapsed?"Expand":"Collapse")),y}}),null),h.$$click=()=>Ni(e.elementId,"horizontal-right"),ee(h,$(X1,{size:18})),g.$$click=()=>Ni(e.elementId,"vertical-down"),ee(g,$(q1,{size:18})),p.$$click=()=>Ni(e.elementId,"radial"),ee(p,$(V1,{size:18})),a}})},m7=()=>{const e=async()=>{await wl.previewTransition(w.activeSlideIndex)};return(()=>{var t=O_(),n=t.firstChild,i=n.nextSibling,r=i.firstChild;return r.$$click=e,ee(r,$(Uo,{size:18})),t})()},v7=()=>(()=>{var e=z_(),t=e.firstChild,n=t.nextSibling,i=n.firstChild,r=i.nextSibling,a=r.nextSibling,l=a.nextSibling,o=n.nextSibling,c=o.firstChild,s=c.nextSibling,d=s.nextSibling,u=d.nextSibling;return i.$$click=()=>Po("left"),ee(i,$(a3,{size:18})),r.$$click=()=>Po("center"),ee(r,$(ob,{size:18})),a.$$click=()=>Po("right"),ee(a,$(n3,{size:18})),l.$$click=()=>uf("horizontal"),ee(l,$(gb,{size:18})),c.$$click=()=>Po("top"),ee(c,$(mb,{size:18})),s.$$click=()=>Po("middle"),ee(s,$(cb,{size:18})),d.$$click=()=>Po("bottom"),ee(d,$(ub,{size:18})),u.$$click=()=>uf("vertical"),ee(u,$(wb,{size:18})),e})(),b7=e=>{const t=()=>e.prop.options&&e.prop.options.length>0,[n,i]=Pt(!1);return Dn(()=>{t()&&e.value&&!e.prop.options?.some(a=>a.value===e.value)&&!n()&&i(!0)}),(()=>{var r=q_(),a=r.firstChild,l=a.nextSibling;return ee(a,()=>e.prop.label),ee(l,$(st,{get when(){return t()},get children(){var o=U_(),c=o.firstChild;return ee(o,$(rr,{get each(){return e.prop.options},children:s=>(()=>{var d=X_();return d.$$click=()=>{e.onChange(s.value),i(!1)},We(u=>{var f=e.value===s.value,h=s.value,g=s.value==="#ffffff"?"1px solid #e0e0e0":"none",p=s.label;return f!==u.e&&d.classList.toggle("selected",u.e=f),h!==u.t&&sn(d,"background",u.t=h),g!==u.a&&sn(d,"border",u.a=g),p!==u.o&&Lt(d,"title",u.o=p),u},{e:void 0,t:void 0,a:void 0,o:void 0}),d})()}),c),c.$$click=()=>i(!n()),ee(c,$(rp,{size:14,class:"rainbow-icon"})),We(()=>c.classList.toggle("active",!!n())),o}}),null),ee(l,$(st,{get when(){return!t()||n()},get children(){return[$(st,{get when(){return!t()},get children(){var o=W_();return ee(o,$(rr,{each:["transparent","#ffffff","#f8f9fa","#f1f3f5","#fff5f5","#fff0f6","#f3f0ff","#e03131","#e8590c","#fcc419","#2f9e44","#1971c2","#6741d9","#c2255c","#343a40"],children:c=>(()=>{var s=G_();return s.$$click=()=>e.onChange(c),sn(s,"background",c==="transparent"?"white":c),Lt(s,"title",c),ee(s,c==="transparent"&&H_()),We(()=>s.classList.toggle("selected",e.value===c)),s})()})),o}}),(()=>{var o=j_(),c=o.firstChild,s=c.nextSibling,d=s.nextSibling,u=d.firstChild;return s.$$input=f=>e.onChange("#"+f.currentTarget.value),u.$$input=f=>e.onChange(f.currentTarget.value),We(f=>sn(o,"margin-top",t()?"12px":"0")),We(()=>s.value=e.value?.replace("#","")||""),We(()=>u.value=e.value?.startsWith("#")?e.value:"#000000"),o})()]}}),null),r})()},w7=e=>{const t=or(()=>{const s=e.target?.data;if(!s)return[];const d=s.gradientStops;return d&&d.length>0?d:s.gradientStart&&s.gradientEnd?[{offset:0,color:s.gradientStart},{offset:1,color:s.gradientEnd}]:[{offset:0,color:"#ffffff"},{offset:1,color:"#000000"}]}),[n,i]=Pt(null);let r;const a=(s,d=!0)=>{const u=e.target;e.onChange("gradientStops",s,u?.type,u?.type==="element"?u.data.id:void 0,d)},l=s=>{if(s.target.closest(".val-thumb")||!r)return;const d=r.getBoundingClientRect(),u=s.clientX-d.left,h={offset:Math.min(Math.max(u/d.width,0),1),color:"#ffffff"},g=[...t(),h];a(g,!0),i(g.length-1)},o=(s,d)=>{s.stopPropagation(),s.preventDefault(),i(d);const u=h=>{if(!r)return;const g=r.getBoundingClientRect(),p=h.clientX-g.left,y=Math.min(Math.max(p/g.width,0),1),A=[...t()];A[d]={...A[d],offset:y},a(A,!1)},f=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f),cn()};window.addEventListener("mousemove",u),window.addEventListener("mouseup",f)},c=or(()=>`linear-gradient(90deg, ${[...t()].sort((d,u)=>d.offset-u.offset).map(d=>`${d.color} ${d.offset*100}%`).join(", ")})`);return(()=>{var s=V_(),d=s.firstChild,u=d.firstChild,f=d.nextSibling;d.$$mousedown=l;var h=r;return typeof h=="function"?Rn(h,d):r=d,ee(d,$(wv,{get each(){return t()},children:(g,p)=>(()=>{var y=Q_();return y.$$mousedown=A=>o(A,p),We(A=>{var v=`Stop ${p+1}: ${(g().offset*100).toFixed(0)}%`,x=`${g().offset*100}%`,C=g().color,_=n()===p?10:1,F=n()===p?"2px solid var(--accent-color)":"none";return v!==A.e&&Lt(y,"title",A.e=v),x!==A.t&&sn(y,"left",A.t=x),C!==A.a&&sn(y,"background",A.a=C),_!==A.o&&sn(y,"z-index",A.o=_),F!==A.i&&sn(y,"outline",A.i=F),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),y})()}),null),ee(s,$(st,{get when(){return Wn(()=>n()!==null)()&&t()[n()]},get children(){var g=Y_(),p=g.firstChild,y=p.firstChild,A=p.nextSibling,v=A.firstChild,x=v.nextSibling,C=x.firstChild,_=A.nextSibling;return y.addEventListener("change",()=>cn()),y.$$input=F=>{const O=[...t()];O[n()]={...O[n()],color:F.currentTarget.value},a(O,!1)},v.addEventListener("change",()=>cn()),v.$$input=F=>{const O=parseInt(F.currentTarget.value)/100,E=[...t()];E[n()]={...E[n()],offset:O},a(E,!1)},ee(x,()=>Math.round(t()[n()].offset*100),C),_.$$click=()=>{const F=t();if(F.length>2){const O=F.filter((E,I)=>I!==n());a(O,!0),i(null)}},ee(_,$(Is,{size:14})),We(()=>_.disabled=t().length<=2),We(()=>y.value=t()[n()].color),We(()=>v.value=Math.round(t()[n()].offset*100)),g}}),f),We(g=>sn(u,"background",c())),s})()},x7=()=>{const e=or(()=>{if(w.selection.length===1){const c=w.elements.find(s=>s.id===w.selection[0]);if(c)return{type:"element",data:c}}else if(w.selection.length>1)return{type:"multi",data:null};if(w.showCanvasProperties)return{type:"canvas",data:null};if(w.docType==="slides"){const c=w.slides[w.activeSlideIndex];if(c)return{type:"slide",data:c}}const o=w.selectedTool;return o==="selection"||o==="pan"||o==="eraser"?null:{type:"defaults",data:null}}),t=or(()=>{const o=e();if(!o)return[];if(o.type==="multi")return[];let c;if(o.type==="canvas")c="canvas";else if(o.type==="slide")c="slide";else if(o.type==="defaults"){const s=w.selectedTool;s==="selection"||s==="pan"||s==="eraser"?c="rectangle":s==="bezier"?c="line":c=s}else c=o.data.type;return y_.filter(s=>{if(o.type==="defaults"&&["locked","link","angle","containerText","text","shadowOffsetX","shadowOffsetY"].includes(s.key))return!1;if(o.type==="slide"||o.type==="canvas"){if(!Array.isArray(s.applicableTo)||!s.applicableTo.includes(c))return!1}else if(s.applicableTo!=="all"&&Array.isArray(s.applicableTo)&&!s.applicableTo.includes(c))return!1;if(s.dependsOn){const d=typeof s.dependsOn=="string"?s.dependsOn:s.dependsOn.key,u=typeof s.dependsOn=="string"?!0:s.dependsOn.value;let f;if(o.type==="element"?f=o.data[d]:o.type==="defaults"?f=w.defaultElementStyles[d]:o.type,typeof u=="boolean"){if(!!f!==u)return!1}else if(Array.isArray(u)){if(!u.includes(f))return!1}else if(f!==u)return!1}return!0})}),n=(o,c,s,d,u=!0)=>{const f=e();if(!f||d&&f.type==="element"&&f.data.id!==d||s&&f.type!==s)return;let h=c;if(o==="roundness"&&(h=c?{type:1}:null),f.type==="element")bt(d||f.data.id,{[o]:h},u);else if(f.type==="canvas")o==="canvasBackgroundColor"?Jy(c):o==="gridEnabled"?ol({enabled:c}):o==="snapToGrid"?ol({snapToGrid:c}):o==="gridStyle"?w4(c):o==="gridColor"?ol({gridColor:c}):o==="gridOpacity"?ol({gridOpacity:c}):o==="objectSnapping"?ol({objectSnapping:c}):o==="maxLayers"?x4(parseInt(c)):o==="canvasTexture"?Ky(c):o==="renderStyle"?N0({renderStyle:c}):o==="showMindmapToolbar"?N0({showMindmapToolbar:c}):o==="docType"&&Wy(c);else if(f.type==="slide"){const g=w.activeSlideIndex;o==="transitionType"?Oo(g,{type:c}):o==="transitionDuration"?Oo(g,{duration:c}):o==="transitionEasing"?Oo(g,{easing:c}):o==="slideBackground"&&Uy(g,c)}else Ka({[o]:h})},i=o=>{const c=e();if(c){if(c.type==="canvas")return o.key==="canvasBackgroundColor"?w.canvasBackgroundColor:o.key==="gridEnabled"?w.gridSettings.enabled:o.key==="gridStyle"?w.gridSettings.style:["snapToGrid","gridColor","gridOpacity","objectSnapping"].includes(o.key)?w.gridSettings[o.key]:o.key==="maxLayers"?w.maxLayers:o.key==="renderStyle"?w.globalSettings.renderStyle:o.key==="showMindmapToolbar"?w.globalSettings.showMindmapToolbar:o.key==="docType"?w.docType:w[o.key];if(c.type==="slide"){const s=c.data;return o.key==="transitionType"?s.transition?.type||"none":o.key==="transitionDuration"?s.transition?.duration||500:o.key==="transitionEasing"?s.transition?.easing||"easeInOutQuad":o.key==="slideBackground"?s.backgroundColor||"#ffffff":void 0}if(c.type==="element"){const s=c.data[o.key];return o.key==="roundness"?!!s:s}if(c.type==="defaults"){const s=w.defaultElementStyles[o.key];return o.key==="roundness"?!!s:s}}},r=()=>{w.selection.length>0&&ea(w.selection)},a=o=>{switch(o.type){case"color":return $(b7,{prop:o,get value(){return i(o)},onChange:c=>n(o.key,c,e()?.type,e()?.type==="element"?e()?.data?.id:void 0)});case"slider":return(()=>{var c=J_(),s=c.firstChild,d=s.nextSibling,u=d.firstChild,f=u.firstChild,h=u.nextSibling;return ee(s,()=>o.label),f.$$input=g=>n(o.key,Number(g.currentTarget.value),e()?.type,e()?.type==="element"?e()?.data?.id:void 0),h.$$input=g=>n(o.key,Number(g.currentTarget.value),e()?.type,e()?.type==="element"?e()?.data?.id:void 0),We(g=>{var p=o.min,y=o.max,A=o.step,v=o.min,x=o.max,C=o.step;return p!==g.e&&Lt(f,"min",g.e=p),y!==g.t&&Lt(f,"max",g.t=y),A!==g.a&&Lt(f,"step",g.a=A),v!==g.o&&Lt(h,"min",g.o=v),x!==g.i&&Lt(h,"max",g.i=x),C!==g.n&&Lt(h,"step",g.n=C),g},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),We(()=>f.value=i(o)??o.defaultValue),We(()=>h.value=i(o)??o.defaultValue),c})();case"select":return(()=>{var c=K_(),s=c.firstChild,d=s.nextSibling;return ee(s,()=>o.label),d.addEventListener("change",u=>{const f=u.currentTarget.value,h=o.options?.some(g=>typeof g.value=="number");n(o.key,h?Number(f):f,e()?.type,e()?.type==="element"?e()?.data?.id:void 0)}),ee(d,$(rr,{get each(){return o.options},children:u=>(()=>{var f=w1();return ee(f,()=>u.label),We(()=>f.value=u.value??""),f})()})),We(()=>d.value=i(o)??o.defaultValue),c})();case"toggle":return(()=>{var c=Z_(),s=c.firstChild,d=s.nextSibling;return ee(s,()=>o.label),d.addEventListener("change",u=>n(o.key,u.currentTarget.checked,e()?.type,e()?.type==="element"?e()?.data?.id:void 0)),We(()=>d.checked=!!i(o)),c})();case"input":return(()=>{var c=e7(),s=c.firstChild,d=s.nextSibling;return ee(s,()=>o.label),d.$$input=u=>n(o.key,u.currentTarget.value,e()?.type,e()?.type==="element"?e()?.data?.id:void 0),We(()=>d.value=i(o)||""),c})();case"textarea":return(()=>{var c=t7(),s=c.firstChild,d=s.nextSibling,u=d.firstChild;return ee(s,()=>o.label),u.$$input=f=>n(o.key,f.currentTarget.value,e()?.type,e()?.type==="element"?e()?.data?.id:void 0),We(()=>u.value=i(o)||""),c})();case"number":return(()=>{var c=n7(),s=c.firstChild,d=s.nextSibling;return ee(s,()=>o.label),d.$$input=u=>n(o.key,Number(u.currentTarget.value),e()?.type,e()?.type==="element"?e()?.data?.id:void 0),We(()=>d.value=i(o)??0),c})();default:return null}},l=or(()=>{const o={};return t().forEach(c=>{o[c.group]||(o[c.group]=[]),o[c.group].push(c)}),o});return $(st,{get when(){return Wn(()=>!!w.showPropertyPanel)()&&(e()||w.isPropertyPanelMinimized)},get children(){var o=p7();return ee(o,$(st,{get when(){return e()||w.isPropertyPanelMinimized},get fallback(){return g7()},get children(){var c=f7(),s=c.firstChild,d=s.firstChild,u=d.firstChild,f=d.nextSibling,h=f.firstChild;return u.$$click=()=>C4(),ee(u,$(G1,{size:18})),ee(d,$(st,{get when(){return!w.isPropertyPanelMinimized},get children(){var g=r7();return ee(g,(()=>{var p=Wn(()=>e()?.type==="element");return()=>p()?"Properties":Wn(()=>e()?.type==="canvas")()?"Canvas":Wn(()=>e()?.type==="slide")()?`Slide ${w.activeSlideIndex+1}`:Wn(()=>e()?.type==="multi")()?"Selection":e()?.type==="defaults"?"Defaults":"Properties"})()),g}}),null),ee(f,$(st,{get when(){return Wn(()=>e()?.type==="element")()&&!w.isPropertyPanelMinimized},get children(){return[(()=>{var g=i7();return g.$$click=()=>gp(e().data.id),ee(g,$(U1,{size:16})),g})(),(()=>{var g=a7();return g.$$click=r,ee(g,$(Is,{size:16})),g})(),o7()]}}),h),h.$$click=()=>eo(!1),ee(h,$(Hr,{size:16})),ee(c,$(st,{get when(){return!w.isPropertyPanelMinimized},get children(){var g=u7();return ee(g,$(st,{get when(){return e()?.type==="multi"},get children(){return $(v7,{})}}),null),ee(g,$(st,{get when(){return e()?.type==="element"},get children(){return $(y7,{get elementId(){return e().data.id}})}}),null),ee(g,$(st,{get when(){return e()?.type==="slide"},get children(){return $(m7,{})}}),null),ee(g,$(rr,{get each(){return Object.keys(l())},children:p=>(()=>{var y=A7(),A=y.firstChild;return ee(A,()=>p.toUpperCase()),ee(y,$(st,{get when(){return p==="gradient"&&e()?.type==="element"},get children(){return $(w7,{get target(){return e()},onChange:n})}}),null),ee(y,$(rr,{get each(){return l()[p]},children:v=>p==="gradient"&&(v.key==="gradientStart"||v.key==="gradientEnd")?null:a(v)}),null),y})()}),null),ee(g,$(st,{get when(){return Wn(()=>!!e())()&&(e().type==="element"||e().type==="multi")},get children(){var p=d7(),y=p.firstChild,A=y.nextSibling,v=A.firstChild,x=v.nextSibling;return x.addEventListener("change",C=>{const _=C.currentTarget.value;if(!_)return;const F=e();if(F?.type==="element"){const O=F.data.id;bt(O,{layerId:_},!0)}else F?.type==="multi"&&Qy(w.selection,_)}),ee(x,$(st,{get when(){return Wn(()=>e()?.type==="multi")()&&!w.elements.filter(C=>w.selection.includes(C.id)).every((C,_,F)=>C.layerId===F[0].layerId)},get children(){return s7()}}),null),ee(x,$(rr,{get each(){return w.layers},children:C=>(()=>{var _=w1();return ee(_,()=>C.name,null),ee(_,()=>C.visible?"":" (hidden)",null),ee(_,()=>C.locked?" (locked)":"",null),We(()=>_.value=C.id),_})()}),null),ee(p,$(st,{get when(){return e()?.type==="element"},get children(){return[l7(),(()=>{var C=c7(),_=C.firstChild,F=_.nextSibling,O=F.nextSibling,E=O.nextSibling;return _.$$click=()=>Na(e().data.id,"front"),ee(_,$(yw,{size:16})),F.$$click=()=>Na(e().data.id,"forward"),ee(F,$(Ol,{size:16})),O.$$click=()=>Na(e().data.id,"backward"),ee(O,$(oi,{size:16})),E.$$click=()=>Na(e().data.id,"back"),ee(E,$(pw,{size:16})),C})()]}}),null),We(()=>x.value=(()=>{const C=e();if(C?.type==="element")return C.data.layerId;if(C?.type==="multi"){const _=w.selection,F=w.elements.filter(I=>_.includes(I.id)),O=F[0]?.layerId;return F.every(I=>I.layerId===O)?O:""}return""})()),p}}),null),ee(g,$(st,{get when(){return e()?.type==="element"},get children(){var p=h7();return ee(p,$(D_,{})),p}}),null),g}}),null),We(()=>Lt(u,"title",w.isPropertyPanelMinimized?"Expand":"Collapse")),c}})),We(()=>o.classList.toggle("minimized",!!w.isPropertyPanelMinimized)),o}})};Cn(["click","input","mousedown"]);const k7=e=>{const t=()=>w.layers.find(i=>i.id===e.layerId);if(!t())return null;const n=[{label:"Rename",onClick:()=>e.onRename(e.layerId),shortcut:"Enter"},{label:"Duplicate",onClick:()=>mp(e.layerId),disabled:w.layers.length>=w.maxLayers},{separator:!0},{label:t().visible?"Hide Layer":"Show Layer",onClick:()=>Xr(e.layerId,{visible:!t().visible}),checked:t().visible},{label:t().locked?"Unlock Layer":"Lock Layer",onClick:()=>Xr(e.layerId,{locked:!t().locked}),checked:t().locked},{label:"Isolate Layer",onClick:()=>Yy(e.layerId)},{label:"Show All Layers",onClick:()=>Vy()},{separator:!0},{label:"Merge Down",onClick:()=>Gy(e.layerId),disabled:w.layers.findIndex(i=>i.id===e.layerId)===0},{label:"Flatten Layers",onClick:()=>Hy(),disabled:w.layers.length<=1},{label:"Delete",onClick:()=>yp(e.layerId),disabled:w.layers.length<=1,separator:!1},{separator:w.layerGroupingModeEnabled},...t()?.parentId&&w.layerGroupingModeEnabled?[{label:"Move to Top Level",onClick:()=>Xr(e.layerId,{parentId:void 0})}]:[],...w.layerGroupingModeEnabled?w.layers.filter(i=>i.isGroup&&i.id!==e.layerId&&i.id!==t()?.parentId).map(i=>({label:`Move to ${i.name}`,onClick:()=>Xr(e.layerId,{parentId:i.id})})):[],...t()?.isGroup&&w.layerGroupingModeEnabled?[{label:t()?.expanded?"Collapse Group":"Expand Group",onClick:()=>Xr(e.layerId,{expanded:!t()?.expanded})}]:[]];return $(kp,{get x(){return e.x},get y(){return e.y},items:n,get onClose(){return e.onClose}})};var S7=Ne("<button class=minimize-btn title=Expand>"),C7=Ne('<div title="Toggle Grouping Mode"><span>Groups'),L7=Ne('<button class=icon-button title="New Group">'),P7=Ne('<button class=icon-button title="Add new layer">'),M7=Ne("<button class=icon-button title=Minimize>"),_7=Ne("<button class=icon-button title=Expand>"),N7=Ne("<input type=color style=width:24px;height:20px;padding:0;border:none;cursor:pointer>"),T7=Ne('<div class=layer-properties><div class=opacity-control><span class=label>Opacity</span><input type=range min=0 max=1 step=0.1></div><div class=background-control><span class=label>Background</span><div style=display:flex;gap:8px;align-items:center><button title="Toggle transparent / color"></button></div></div><div class=color-tag-control><span class=label>Tag</span><div class=color-tag-options>'),I7=Ne("<div>Move to Top Level"),B7=Ne("<div class=layer-list>"),D7=Ne("<div><div class=layer-panel-header><div style=display:flex;align-items:center;gap:8px><h3>Layers</h3></div><div class=header-actions><button class=icon-button title=Close>"),x1=Ne("<div>"),E7=Ne("<div class=layer-color-tag>"),R7=Ne("<input type=text autofocus>"),$7=Ne('<div><span class=drag-handle title="Drag to reorder"></span><div class=layer-visibility></div><div class=layer-name-container><div class=layer-name></div></div><div class=layer-actions><button class=icon-button title=Duplicate></button><button class=icon-button title=Delete>');const F7=()=>{const[e,t]=Pt(null),[n,i]=Pt(""),[r,a]=Pt(null),[l,o]=Pt(null),[c,s]=Pt(null);let d=null;const u=P=>{Jl(P)},f=(P,D)=>{D.stopPropagation();const k=w.layers.find(U=>U.id===P);k&&Xr(P,{visible:!k.visible})},h=(P,D)=>{D.stopPropagation(),w.layers.length>1&&yp(P)},g=(P,D)=>{D.stopPropagation(),mp(P)},p=(P,D,k)=>{k.stopPropagation(),t(P),i(D)},y=P=>{const D=n().trim();D&&D!==w.layers.find(k=>k.id===P)?.name&&Xr(P,{name:D}),t(null),i("")},A=()=>{t(null),i("")},v=(P,D)=>{P.key==="Enter"?(P.preventDefault(),y(D)):P.key==="Escape"&&(P.preventDefault(),A())},x=(P,D,k)=>{d=window.setTimeout(()=>{p(P,D,k)},500)},C=()=>{d&&(clearTimeout(d),d=null)},_=(P,D)=>{a(P),D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("text/plain",P),setTimeout(()=>{D.target.style.opacity="0.5"},0)},F=P=>{P.target.style.opacity="1",a(null),o(null)},O=(P,D)=>{D.preventDefault(),D.dataTransfer.dropEffect="move",o(P)},E=()=>{o(null)},I=(P,D)=>{D.preventDefault();const k=r();if(!k)return;if(P===null){Xr(k,{parentId:void 0}),a(null),o(null);return}const U=w.layers.find(Q=>Q.id===k),ce=w.layers.find(Q=>Q.id===P);if(k&&k!==P&&U&&ce){if(w.layerGroupingModeEnabled&&ce.isGroup&&k!==P){Xr(k,{parentId:P}),a(null),o(null);return}const Q=[...w.layers].reverse(),ae=Q.findIndex(Se=>Se.id===k),ie=Q.findIndex(Se=>Se.id===P);if(ae!==-1&&ie!==-1){const Se=w.layers.length-1-ae,ne=w.layers.length-1-ie;Fd(Se,ne),w.layerGroupingModeEnabled&&Xr(k,{parentId:ce.parentId??void 0})}}a(null),o(null)},q=()=>{if(!w.layerGroupingModeEnabled)return{items:[...w.layers].reverse(),depths:new Map};const P=[],D=new Map,k=[...w.layers].sort((Q,ae)=>ae.order-Q.order),U=(Q,ae)=>{k.filter(Se=>Se.parentId===Q).forEach(Se=>{P.push(Se),D.set(Se.id,ae),Se.isGroup&&Se.expanded&&U(Se.id,ae+1)})};return k.filter(Q=>!Q.parentId).forEach(Q=>{P.push(Q),D.set(Q.id,0),Q.isGroup&&Q.expanded&&U(Q.id,1)}),{items:P,depths:D}},R=[{name:"None",value:void 0,color:"transparent"},{name:"Red",value:"#ff4d4d",color:"#ff4d4d"},{name:"Orange",value:"#ffab40",color:"#ffab40"},{name:"Yellow",value:"#ffd740",color:"#ffd740"},{name:"Green",value:"#69f0ae",color:"#69f0ae"},{name:"Blue",value:"#40c4ff",color:"#40c4ff"},{name:"Purple",value:"#e040fb",color:"#e040fb"}];return $(st,{get when(){return w.showLayerPanel},get children(){var P=D7(),D=P.firstChild,k=D.firstChild,U=k.firstChild,ce=k.nextSibling,Q=ce.firstChild;return D.$$dblclick=()=>Ic(!w.isLayerPanelMinimized),ee(k,$(st,{get when(){return w.isLayerPanelMinimized},get children(){var ae=S7();return ae.$$click=()=>Ic(!1),ee(ae,$(Ol,{size:16})),ae}}),U),ee(ce,$(st,{get when(){return!w.isLayerPanelMinimized},get children(){return[(()=>{var ae=C7(),ie=ae.firstChild;return wn(ae,"click",L4,!0),ee(ae,$(ah,{size:14}),ie),We(()=>hn(ae,`group-mode-toggle ${w.layerGroupingModeEnabled?"active":""}`)),ae})(),(()=>{var ae=L7();return ae.$$click=()=>e2(),ee(ae,$(sf,{size:16})),We(()=>ae.disabled=w.layers.length>=w.maxLayers),ae})(),(()=>{var ae=P7();return ae.$$click=()=>vh(),ee(ae,$(zl,{size:16})),We(()=>ae.disabled=w.layers.length>=w.maxLayers),ae})(),(()=>{var ae=M7();return ae.$$click=()=>Ic(!0),ee(ae,$(oh,{size:16})),ae})()]}}),Q),ee(ce,$(st,{get when(){return w.isLayerPanelMinimized},get children(){var ae=_7();return ae.$$click=()=>Ic(!1),ee(ae,$(fx,{size:16})),ae}}),Q),Q.$$click=()=>Ns(!1),ee(Q,$(Hr,{size:16})),ee(P,$(st,{get when(){return!w.isLayerPanelMinimized},get children(){return[(()=>{var ae=T7(),ie=ae.firstChild,Se=ie.firstChild,ne=Se.nextSibling,N=ie.nextSibling,H=N.firstChild,V=H.nextSibling,te=V.firstChild,ge=N.nextSibling,Ce=ge.firstChild,Pe=Ce.nextSibling;return ne.$$input=pe=>{const _e=parseFloat(pe.currentTarget.value);Xr(w.activeLayerId,{opacity:_e})},te.$$click=()=>{w.layers.find(_e=>_e.id===w.activeLayerId)?.backgroundColor==="transparent"?Xr(w.activeLayerId,{backgroundColor:"#ffffff"}):Xr(w.activeLayerId,{backgroundColor:"transparent"})},ee(V,$(st,{get when(){return w.layers.find(pe=>pe.id===w.activeLayerId)?.backgroundColor!=="transparent"},get children(){var pe=N7();return pe.$$input=_e=>{Xr(w.activeLayerId,{backgroundColor:_e.currentTarget.value})},We(()=>pe.value=w.layers.find(_e=>_e.id===w.activeLayerId)?.backgroundColor||"#ffffff"),pe}}),null),ee(Pe,$(rr,{each:R,children:pe=>(()=>{var _e=x1();return _e.$$click=()=>Xr(w.activeLayerId,{colorTag:pe.value}),We(Oe=>{var ht=`color-tag-option ${pe.value===void 0?"none":""} ${w.layers.find(z=>z.id===w.activeLayerId)?.colorTag===pe.value?"active":""}`,et=pe.color,B=pe.name;return ht!==Oe.e&&hn(_e,Oe.e=ht),et!==Oe.t&&sn(_e,"background-color",Oe.t=et),B!==Oe.a&&Lt(_e,"title",Oe.a=B),Oe},{e:void 0,t:void 0,a:void 0}),_e})()})),We(pe=>{var _e=`Opacity: ${Math.round((w.layers.find(et=>et.id===w.activeLayerId)?.opacity??1)*100)}%`,Oe=`color-swatch-mini ${w.layers.find(et=>et.id===w.activeLayerId)?.backgroundColor==="transparent"?"transparent":""}`,ht=w.layers.find(et=>et.id===w.activeLayerId)?.backgroundColor==="transparent"?"white":w.layers.find(et=>et.id===w.activeLayerId)?.backgroundColor||"transparent";return _e!==pe.e&&Lt(ne,"title",pe.e=_e),Oe!==pe.t&&hn(te,pe.t=Oe),ht!==pe.a&&sn(te,"background",pe.a=ht),pe},{e:void 0,t:void 0,a:void 0}),We(()=>ne.value=w.layers.find(pe=>pe.id===w.activeLayerId)?.opacity??1),ae})(),(()=>{var ae=B7();return ee(ae,$(rr,{get each(){return q().items},children:ie=>{const Se=()=>q().depths.get(ie.id)||0;return(()=>{var ne=$7(),N=ne.firstChild,H=N.nextSibling,V=H.nextSibling,te=V.firstChild,ge=V.nextSibling,Ce=ge.firstChild,Pe=Ce.nextSibling;return ne.addEventListener("drop",pe=>I(ie.id,pe)),ne.addEventListener("dragleave",E),ne.addEventListener("dragover",pe=>O(ie.id,pe)),ne.addEventListener("dragend",F),ne.addEventListener("dragstart",pe=>_(ie.id,pe)),ne.$$contextmenu=pe=>{pe.preventDefault(),s({x:pe.clientX,y:pe.clientY,layerId:ie.id})},ne.$$click=()=>u(ie.id),Lt(ne,"draggable",!0),ee(ne,$(st,{get when(){return Wn(()=>!!ie.isGroup)()&&w.layerGroupingModeEnabled},get children(){var pe=x1();return pe.$$click=_e=>{_e.stopPropagation(),t2(ie.id)},ee(pe,$(Fl,{size:14})),We(()=>hn(pe,`expander ${ie.expanded?"expanded":""}`)),pe}}),N),H.$$click=pe=>f(ie.id,pe),ee(H,(()=>{var pe=Wn(()=>ie.visible!==!1);return()=>pe()?$(g5,{size:14}):$(u5,{size:14})})()),ee(V,$(st,{get when(){return Wn(()=>!!ie.isGroup)()&&w.layerGroupingModeEnabled},get children(){return Wn(()=>!!ie.expanded)()?$(np,{size:14}):$(sf,{size:14})}}),te),ee(V,$(st,{get when(){return ie.colorTag},get children(){var pe=E7();return We(_e=>sn(pe,"background-color",ie.colorTag)),pe}}),te),te.addEventListener("pointercancel",C),te.$$pointerup=C,te.$$pointerdown=pe=>x(ie.id,ie.name,pe),te.$$dblclick=pe=>p(ie.id,ie.name,pe),ee(te,$(st,{get when(){return e()===ie.id},get fallback(){return ie.name},get children(){var pe=R7();return pe.$$click=_e=>_e.stopPropagation(),pe.addEventListener("blur",()=>y(ie.id)),pe.$$keydown=_e=>v(_e,ie.id),pe.$$input=_e=>i(_e.currentTarget.value),We(()=>pe.value=n()),pe}})),Ce.$$click=pe=>g(ie.id,pe),Pe.$$click=pe=>h(ie.id,pe),We(pe=>{var _e=`layer-item ${ie.id===w.activeLayerId?"active":""} ${l()===ie.id?"drag-over":""} ${ie.visible===!1?"hidden":""} ${ie.locked?"locked":""} ${ie.isGroup?"group":""} ${Se()>0?"nested":""}`,Oe=w.layerGroupingModeEnabled?`${Se()*24}px`:"0",ht=w.layers.length<=1;return _e!==pe.e&&hn(ne,pe.e=_e),Oe!==pe.t&&sn(ne,"padding-left",pe.t=Oe),ht!==pe.a&&(Pe.disabled=pe.a=ht),pe},{e:void 0,t:void 0,a:void 0}),ne})()}}),null),ee(ae,$(st,{get when(){return Wn(()=>!!w.layerGroupingModeEnabled)()&&r()},get children(){var ie=I7();return ie.addEventListener("drop",Se=>I(null,Se)),ie.addEventListener("dragleave",()=>o(null)),ie.addEventListener("dragover",Se=>{Se.preventDefault(),o("root")}),We(()=>hn(ie,`root-drop-zone ${l()==="root"?"drag-over":""}`)),ie}}),null),ae})()]}}),null),ee(P,$(st,{get when(){return c()},get children(){return $(k7,{get x(){return c().x},get y(){return c().y},get layerId(){return c().layerId},onClose:()=>s(null),onRename:ae=>{const ie=w.layers.find(Se=>Se.id===ae);ie&&p(ae,ie.name,new MouseEvent("click")),s(null)}})}}),null),We(()=>hn(P,`layer-panel ${w.isLayerPanelMinimized?"minimized":""}`)),P}})};Cn(["dblclick","click","input","contextmenu","pointerdown","pointerup","keydown"]);const O7=()=>{const e=[{id:"tool-selection",label:"Selection Tool",category:"Tools",action:()=>on("selection"),shortcut:"V"},{id:"tool-rectangle",label:"Rectangle Tool",category:"Tools",action:()=>on("rectangle"),shortcut:"R"},{id:"tool-circle",label:"Circle Tool",category:"Tools",action:()=>on("circle"),shortcut:"O"},{id:"tool-line",label:"Line Tool",category:"Tools",action:()=>on("line"),shortcut:"L"},{id:"tool-arrow",label:"Arrow Tool",category:"Tools",action:()=>on("arrow"),shortcut:"A"},{id:"tool-text",label:"Text Tool",category:"Tools",action:()=>on("text"),shortcut:"T"},{id:"tool-eraser",label:"Eraser Tool",category:"Tools",action:()=>on("eraser"),shortcut:"E"},{id:"tool-bezier",label:"Bezier Tool",category:"Tools",action:()=>on("bezier"),shortcut:"B"},{id:"tool-diamond",label:"Diamond Tool",category:"Tools",action:()=>on("diamond"),shortcut:"D"},{id:"tool-pan",label:"Pan Tool",category:"Tools",action:()=>on("pan"),shortcut:"H"},{id:"action-undo",label:"Undo",category:"Actions",action:()=>fh(),shortcut:"Ctrl+Z"},{id:"action-redo",label:"Redo",category:"Actions",action:()=>Tl(),shortcut:"Ctrl+Y"},{id:"action-group",label:"Group Selection",category:"Actions",action:()=>Ah(),shortcut:"Ctrl+G"},{id:"action-ungroup",label:"Ungroup Selection",category:"Actions",action:()=>yh(),shortcut:"Ctrl+Shift+G"},{id:"action-front",label:"Bring to Front",category:"Actions",action:()=>ph(w.selection),shortcut:"Ctrl+]"},{id:"action-back",label:"Send to Back",category:"Actions",action:()=>gh(w.selection),shortcut:"Ctrl+["},{id:"action-forward",label:"Bring Forward",category:"Actions",action:()=>Na(w.selection[0],"forward")},{id:"action-backward",label:"Send Backward",category:"Actions",action:()=>Na(w.selection[0],"backward")},{id:"action-delete",label:"Delete Selected",category:"Actions",action:()=>ea(w.selection),shortcut:"Del"},{id:"view-grid",label:"Toggle Grid",category:"View",action:()=>bh(),shortcut:"Shift+'"},{id:"view-snap",label:"Toggle Snap to Grid",category:"View",action:()=>wh(),shortcut:"Shift+;"},{id:"view-zen",label:"Toggle Zen Mode",category:"View",action:()=>xh(),shortcut:"Alt+Z"},{id:"view-properties",label:"Toggle Properties Panel",category:"View",action:()=>eo(),shortcut:"Alt+Enter"},{id:"view-layers",label:"Toggle Layers Panel",category:"View",action:()=>Ns(),shortcut:"Alt+L"},{id:"view-minimap",label:"Toggle Minimap",category:"View",action:()=>Kl(),shortcut:"Alt+M"},{id:"view-zoom-fit",label:"Zoom to Fit",category:"View",action:()=>mh()},{id:"view-theme",label:"Toggle Theme",category:"View",action:()=>Ap()},{id:"file-new",label:"New Sketch",category:"File",action:()=>{confirm("Start new sketch? Unsaved changes will be lost.")&&(xe("elements",[]),xe("viewState",{scale:1,panX:0,panY:0}),xe("selection",[]),xe("layers",[{id:"default-layer",name:"Layer 1",visible:!0,locked:!1,opacity:1,order:0}]),xe("activeLayerId","default-layer"),pp())},shortcut:"Alt+N"},{id:"action-add-layer",label:"Add Layer",category:"Layers",action:()=>vh(),shortcut:"Ctrl+Shift+N"}];return w.layers.forEach(t=>{e.push({id:`layer-${t.id}`,label:`Activate Layer: ${t.name}`,category:"Layers",action:()=>Jl(t.id)})}),e},z7=e=>{const t=O7();if(!e)return t.slice(0,10);const n=e.toLowerCase();return t.filter(i=>i.label.toLowerCase().includes(n)||i.category.toLowerCase().includes(n)).sort((i,r)=>{const a=i.label.toLowerCase(),l=r.label.toLowerCase();return a.startsWith(n)&&!l.startsWith(n)?-1:!a.startsWith(n)&&l.startsWith(n)?1:a.localeCompare(l)})};var U7=Ne("<div class=command-palette-no-results>No commands found"),W7=Ne('<div class=command-palette-backdrop><div class=command-palette-container><div class=command-palette-search><input type=text placeholder="Type a command or search layers..."></div><div class=command-palette-results></div><div class=command-palette-footer><span> to navigate</span><span> to execute</span><span>esc to close'),j7=Ne("<span class=command-palette-item-shortcut>"),q7=Ne("<div><div class=command-palette-item-info><span class=command-palette-item-category></span><span class=command-palette-item-label>");const X7=()=>{const[e,t]=Pt(""),[n,i]=Pt(0);let r;const a=()=>z7(e());Dn(()=>{w.showCommandPalette&&(t(""),i(0),setTimeout(()=>r?.focus(),10))});const l=o=>{const c=a();if(o.key==="ArrowDown")o.preventDefault(),i(s=>(s+1)%c.length);else if(o.key==="ArrowUp")o.preventDefault(),i(s=>(s-1+c.length)%c.length);else if(o.key==="Enter"){o.preventDefault();const s=c[n()];s&&(s.action(),ms(!1))}else o.key==="Escape"&&(o.preventDefault(),ms(!1))};return $(st,{get when(){return w.showCommandPalette},get children(){var o=W7(),c=o.firstChild,s=c.firstChild,d=s.firstChild,u=s.nextSibling;o.$$click=()=>ms(!1),c.$$click=h=>h.stopPropagation(),d.$$keydown=l,d.$$input=h=>{t(h.currentTarget.value),i(0)};var f=r;return typeof f=="function"?Rn(f,d):r=d,ee(u,$(rr,{get each(){return a()},children:(h,g)=>(()=>{var p=q7(),y=p.firstChild,A=y.firstChild,v=A.nextSibling;return p.addEventListener("mouseenter",()=>i(g())),p.$$click=()=>{h.action(),ms(!1)},ee(A,()=>h.category),ee(v,()=>h.label),ee(p,$(st,{get when(){return h.shortcut},get children(){var x=j7();return ee(x,()=>h.shortcut),x}}),null),We(()=>hn(p,`command-palette-item ${g()===n()?"selected":""}`)),p})()}),null),ee(u,$(st,{get when(){return a().length===0},get children(){return U7()}}),null),We(()=>d.value=e()),o}})};Cn(["click","input","keydown"]);var G7=Ne('<button class="icon-btn play-all-btn"title="Play All States">'),H7=Ne("<div class=empty-state>No states saved yet. Capture the current canvas to start!"),Y7=Ne('<div class=state-panel><div class=panel-header><h3>Display States</h3><div style=display:flex;gap:4px><button class="icon-btn reset-btn"title="Reset to Start"></button><button class=close-btn></button></div></div><div class=panel-actions><div class=input-group><input type=text placeholder="State name..."><button class=add-btn title="Capture Current State"><span>Capture</span></button></div></div><div class=state-list>'),V7=Ne('<button class="icon-btn play-all-btn"title="Stop Playback">'),Q7=Ne('<div><div class=state-info><span class=state-name></span><span class=state-count> elements</span></div><div class=state-controls><button class=icon-btn title="Morph to State"></button><button class=icon-btn title="Update State with Current"></button><button class="icon-btn delete"title="Delete State">');const J7=()=>{const[e,t]=Pt(""),[n,i]=Pt({x:0,y:0}),[r,a]=Pt(!1),[l,o]=Pt({x:0,y:0}),[c,s]=Pt(!1),d=()=>{e().trim()?(hf(e().trim()),t("")):hf(`State ${w.states.length+1}`)},u=()=>{w.states.length>0&&Pa(w.states[0].id)},f=async()=>{if(!(w.states.length===0||c())){s(!0),await Pa(w.states[0].id);for(let A=1;A<w.states.length&&c();A++)await new Promise(v=>setTimeout(v,1500)),await Pa(w.states[A].id);s(!1)}},h=()=>{s(!1)},g=A=>{!A.target.closest(".panel-header")||A.target.closest(".close-btn")||A.target.closest(".reset-btn")||A.target.closest(".play-all-btn")||(a(!0),o({x:A.clientX-n().x,y:A.clientY-n().y}),A.preventDefault())},p=A=>{r()&&i({x:A.clientX-l().x,y:A.clientY-l().y})},y=()=>{a(!1)};return qi(()=>{window.addEventListener("mousemove",p),window.addEventListener("mouseup",y),jn(()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",y)})}),$(st,{get when(){return w.showStatePanel},get children(){var A=Y7(),v=A.firstChild,x=v.firstChild,C=x.nextSibling,_=C.firstChild,F=_.nextSibling,O=v.nextSibling,E=O.firstChild,I=E.firstChild,q=I.nextSibling,R=q.firstChild,P=O.nextSibling;return v.$$dblclick=u,v.$$mousedown=g,ee(C,$(st,{get when(){return!c()},get fallback(){return(()=>{var D=V7();return D.$$click=h,ee(D,$(Hr,{size:18})),D})()},get children(){var D=G7();return D.$$click=f,ee(D,$(Mw,{size:18})),We(()=>D.disabled=w.states.length===0),D}}),_),_.$$click=u,ee(_,$(yk,{size:18})),F.$$click=()=>hp(!1),ee(F,$(Hr,{size:18})),I.$$keydown=D=>D.key==="Enter"&&d(),I.$$input=D=>t(D.currentTarget.value),q.$$click=d,ee(q,$(O1,{size:18}),R),ee(P,$(rr,{get each(){return w.states},children:D=>(()=>{var k=Q7(),U=k.firstChild,ce=U.firstChild,Q=ce.nextSibling,ae=Q.firstChild,ie=U.nextSibling,Se=ie.firstChild,ne=Se.nextSibling,N=ne.nextSibling;return U.$$click=()=>Pa(D.id),ee(ce,()=>D.name),ee(Q,()=>Object.keys(D.overrides).length,ae),Se.$$click=()=>Pa(D.id),ee(Se,$(Uo,{size:16,fill:"currentColor"})),ne.$$click=()=>jy(D.id),ee(ne,$(pk,{size:16})),N.$$click=()=>qy(D.id),ee(N,$(Is,{size:16})),We(()=>hn(k,`state-item ${w.activeStateId===D.id?"active":""}`)),k})()}),null),ee(P,$(st,{get when(){return w.states.length===0},get children(){return H7()}}),null),We(D=>{var k=!!r(),U=`translate(${n().x}px, ${n().y}px)`;return k!==D.e&&A.classList.toggle("dragging",D.e=k),U!==D.t&&sn(A,"transform",D.t=U),D},{e:void 0,t:void 0}),We(()=>I.value=e()),A}})};Cn(["mousedown","dblclick","click","input","keydown"]);const K7={get state(){return w},createElement(e,t,n,i,r,a){const l=crypto.randomUUID(),o=w.defaultElementStyles,c={id:l,type:e,x:t,y:n,width:i,height:r,strokeColor:a?.strokeColor??o.strokeColor??"#000000",backgroundColor:a?.backgroundColor??o.backgroundColor??"transparent",fillStyle:a?.fillStyle??o.fillStyle??"solid",strokeWidth:a?.strokeWidth??o.strokeWidth??1,strokeStyle:a?.strokeStyle??o.strokeStyle??"solid",opacity:a?.opacity??o.opacity??100,roughness:a?.roughness??o.roughness??1,angle:a?.angle??0,renderStyle:o.renderStyle??"sketch",seed:a?.seed??Math.floor(Math.random()*2**31),roundness:a?.roundness??o.roundness??null,fontFamily:a?.fontFamily??o.fontFamily??"hand-drawn",fontSize:a?.fontSize??o.fontSize??20,textAlign:a?.textAlign??o.textAlign??"left",verticalAlign:a?.verticalAlign??"middle",startArrowhead:a?.startArrowhead??o.startArrowhead??null,endArrowhead:a?.endArrowhead??o.endArrowhead??"arrow",locked:a?.locked??!1,link:a?.link??null,layerId:a?.layerId??w.activeLayerId,curveType:a?.curveType??"straight",containerText:a?.containerText??"",parentId:a?.parentId??null,isCollapsed:a?.isCollapsed??!1,autoResize:a?.autoResize??!1,constrained:a?.constrained??!1,starPoints:a?.starPoints,polygonSides:a?.polygonSides,burstPoints:a?.burstPoints,borderRadius:a?.borderRadius,shadowEnabled:a?.shadowEnabled??!1,shadowColor:a?.shadowColor,shadowBlur:a?.shadowBlur,shadowOffsetX:a?.shadowOffsetX,shadowOffsetY:a?.shadowOffsetY,gradientStart:a?.gradientStart,gradientEnd:a?.gradientEnd,gradientDirection:a?.gradientDirection,gradientStops:a?.gradientStops,gradientType:a?.gradientType,gradientHandlePositions:a?.gradientHandlePositions,drawInnerBorder:a?.drawInnerBorder,innerBorderColor:a?.innerBorderColor,innerBorderDistance:a?.innerBorderDistance,strokeLineJoin:a?.strokeLineJoin,spinEnabled:a?.spinEnabled,spinSpeed:a?.spinSpeed,orbitEnabled:a?.orbitEnabled,orbitCenterId:a?.orbitCenterId,orbitRadius:a?.orbitRadius,orbitSpeed:a?.orbitSpeed,orbitDirection:a?.orbitDirection,flowAnimation:a?.flowAnimation,flowSpeed:a?.flowSpeed,flowStyle:a?.flowStyle,flowColor:a?.flowColor,flowDensity:a?.flowDensity,textColor:a?.textColor,textHighlightEnabled:a?.textHighlightEnabled??!1,textHighlightColor:a?.textHighlightColor,textHighlightPadding:a?.textHighlightPadding,textHighlightRadius:a?.textHighlightRadius,...a};return(c.type==="line"||c.type==="arrow"||c.type==="bezier")&&(c.curveType==="elbow"||c.curveType==="bezier"||c.type==="bezier")&&(!c.points||c.points.length===0)&&(c.points=[0,0,c.width,c.height]),Io(c),l},createRectangle(e,t,n,i,r){return this.createElement("rectangle",e,t,n,i,r)},createCircle(e,t,n,i,r){return this.createElement("circle",e,t,n,i,r)},createDiamond(e,t,n,i,r){return this.createElement("diamond",e,t,n,i,r)},createTriangle(e,t,n,i,r){return this.createElement("triangle",e,t,n,i,r)},createPolygonalShape(e,t,n,i,r,a){return this.createElement(e,t,n,i,r,a)},createStar(e,t,n,i,r=5,a){return this.createElement("star",e,t,n,i,{...a,starPoints:r})},createBrowserWindow(e,t,n,i,r){return this.createElement("browserWindow",e,t,n,i,r)},createStickyNote(e,t,n,i,r,a){return this.createElement("stickyNote",e,t,n,i,{...a,containerText:r})},createLine(e,t,n,i,r){const a=n-e,l=i-t;return this.createElement("line",e,t,a,l,r)},createArrow(e,t,n,i,r){const a=n-e,l=i-t;return this.createElement("arrow",e,t,a,l,{...r})},createBezier(e,t,n,i,r){const a=n-e,l=i-t;return this.createElement("bezier",e,t,a,l,{...r,curveType:"bezier"})},createOrganicBranch(e,t,n,i,r){const a=n-e,l=i-t;return this.createElement("organicBranch",e,t,a,l,{...r,curveType:"bezier",strokeWidth:r?.strokeWidth??3})},createText(e,t,n,i){const r=crypto.randomUUID(),a=w.defaultElementStyles,l=i?.fontSize??a.fontSize??20,o=n.length*(l*.6),c={id:r,type:"text",x:e,y:t,width:o,height:l*1.5,text:n,strokeColor:i?.strokeColor??a.strokeColor??"#000000",backgroundColor:"transparent",fillStyle:"solid",strokeWidth:1,strokeStyle:"solid",opacity:i?.opacity??100,roughness:0,angle:i?.angle??0,renderStyle:"sketch",seed:Math.floor(Math.random()*2**31),roundness:null,fontFamily:i?.fontFamily??a.fontFamily??"hand-drawn",fontSize:l,textAlign:i?.textAlign??a.textAlign??"left",verticalAlign:i?.verticalAlign??"middle",locked:!1,link:null,layerId:i?.layerId??w.activeLayerId,...i};return Io(c),r},createImage(e,t,n,i,r,a){return this.createElement("image",e,t,i,r,{...a,backgroundColor:"transparent",fillStyle:"solid",dataURL:n,status:"loaded"})},getElement(e){return w.elements.find(t=>t.id===e)},updateElement(e,t){bt(e,t,!0)},deleteElement(e){ea([e])},clear(){w.elements.length>0&&(cn(),xe("elements",[]),xe("selection",[]))},setSelected(e){xe("selection",e)},clearSelection(){xe("selection",[])},setView(e,t,n){Ir({scale:e,panX:t,panY:n})},updateGridSettings(e){xe("gridSettings",t=>({...t,...e}))},updateDefaultStyles(e){xe("defaultElementStyles",t=>({...t,...e}))},async zoomToFit(){mh()},connect(e,t,n){const i=this.getElement(e),r=this.getElement(t);if(!i||!r)return console.error("Source or Target element not found"),null;const a=i.x+i.width/2,l=i.y+i.height/2,o=r.x+r.width/2,c=r.y+r.height/2,s=n?.type??"arrow",d=n?.curveType??"bezier",u=(y,A,v,x,C)=>{const _=C.x+C.width/2,F=C.y+C.height/2,O=C.width/2,E=C.height/2,I=v-y,q=x-A;if(I===0&&q===0)return{x:y,y:A};const R=Math.atan2(q,I);if(C.type==="diamond"){const Q=Math.abs(Math.tan(R)),ae=1/(1/O+Q/E),ie=(I>0?1:-1)*ae,Se=ie*Math.tan(R);return{x:_+ie,y:F+Se}}if(["circle","star","octagon","hexagon"].includes(C.type)){const Q=Math.cos(R),ae=Math.sin(R);return{x:_+O*Q,y:F+E*ae}}const P=I>0?_+O:_-O,D=F+Math.tan(R)*(P-_),k=q>0?F+E:F-E,U=_+(k-F)/Math.tan(R);return D>=F-E-1&&D<=F+E+1?{x:P,y:D}:{x:U,y:k}},f=u(a,l,o,c,i),h=u(o,c,a,l,r),g=this.createElement(s,f.x,f.y,h.x-f.x,h.y-f.y,{...n,curveType:d,startBinding:{elementId:e,focus:0,gap:5},endBinding:{elementId:t,focus:0,gap:5},points:[0,0,h.x-f.x,h.y-f.y]}),p=(y,A)=>{const v=y.boundElements||[];v.find(x=>x.id===A)||this.updateElement(y.id,{boundElements:[...v,{id:A,type:s}]})};return p(i,g),p(r,g),g},undo(){fh()},redo(){Tl()},groupSelection(){Ah()},ungroupSelection(){yh()},duplicate(e){gp(e)},toggleTheme(){Ap()},addLayer(e){return vh(e)},deleteLayer(e){yp(e)},setActiveLayer(e){Jl(e)},mergeLayerDown(e){Gy(e)},flattenLayers(){Hy()},isolateLayer(e){Yy(e)},showAllLayers(){Vy()},updateLayer(e,t){Xr(e,t)},duplicateLayer(e){mp(e)},reorderLayers(e,t){Fd(e,t)},moveElementsToLayer(e,t){Qy(e,t)},createLayerGroup(e){e2(e)},toggleLayerGroupExpansion(e){t2(e)},isLayerVisible(e){return ka(e)},isLayerLocked(e){return vp(e)},toggleGrid(){bh()},toggleSnapToGrid(){wh()},addDisplayState(e){hf(e)},updateDisplayState(e){jy(e)},deleteDisplayState(e){qy(e)},applyDisplayState(e,t=!0){Pa(e,t)},toggleStatePanel(e){hp(e)},applyNextState(){up()},applyPreviousState(){fp()},addChildNode(e){Vl(e)},addSiblingNode(e){Ql(e)},toggleCollapseSelection(){$y()},toggleCollapse(e){Bl(e)},setParent(e,t){i2(e,t)},reorderMindmap(e,t){Ni(e,t)},applyMindmapStyling(e){kh(e)},toggleCommandPalette(e){ms(e)},togglePropertyPanel(e){eo(e)},togglePresentationMode(e){Il(e)},toggleLayerPanel(e){Ns(e)},toggleMinimap(e){Kl(e)},toggleZenMode(e){xh(e)},toggleSlideNavigator(e){n2(e)},addSlide(){dp()},deleteSlide(e){zy(e)},setActiveSlide(e){co(e)},reorderSlides(e,t){f4(e,t)},updateSlideTransition(e,t){Oo(e,t)},updateSlideBackground(e,t){Uy(e,t)},setDocType(e){Wy(e)},loadDocument(e){$d(e)},resetToNewDocument(e="slides"){Xy(e)},bringToFront(e){ph(e)},sendToBack(e){gh(e)},moveElementZIndex(e,t){Na(e,t)},alignSelectedElements(e){Po(e)},distributeSelectedElements(e){uf(e)},setCanvasBackgroundColor(e){Jy(e)},setCanvasTexture(e){Ky(e)},zoomToFitSlide(){bp()},setSelectedTool(e){on(e)},moveSelectedElements(e,t){Fy(e,t,!0)},loadTemplate(e){r2(e)},animateElement:xt,animateElements:eA,createTimeline:A_,fadeIn:iA,fadeOut:aA,scaleIn:ip,bounce:lh,pulse:ch,shakeX:dh,stopElementAnimation:tA,pauseElementAnimation:nA,resumeElementAnimation:rA,easings:$o,animationEngine:Sr,createSpring:K1,copyToClipboard:Lh,cutToClipboard:Lp,pasteFromClipboard:Yd,copyStyle:Pp,pasteStyle:Mp},Z7=()=>{window.Yappy=K7,console.log("Yappy API initialized. Use window.Yappy to interact.")};function eN(e,t){const n=i=>{e.contains(i.target)||t()?.()};document.body.addEventListener("click",n),jn(()=>{document.body.removeEventListener("click",n)})}var tN=Ne('<button class=toolbar-btn title="Add Sibling (Enter)">'),nN=Ne('<div class=layout-dropdown><button class=layout-btn title="Horizontal Right"></button><button class=layout-btn title="Vertical Down"></button><button class=layout-btn title=Radial>'),rN=Ne("<div class=toolbar-divider>"),iN=Ne("<button class=toolbar-btn>"),aN=Ne('<div class=mindmap-action-toolbar><div class=toolbar-content><button class=toolbar-btn title="Add Child (Tab)"></button><div class=toolbar-divider></div><button title="Auto Layout"></button><button class=toolbar-btn title="Auto Style Branch">');const oN=()=>{const[e,t]=Pt(!1),n=()=>w.selection.length!==1?null:w.elements.find(l=>l.id===w.selection[0]),i=()=>{const l=n();return l?w.elements.some(o=>o.parentId===l.id):!1},r=or(()=>{const l=n();return!(!l||["line","arrow","image","fineliner","inkbrush","marker","bezier"].includes(l.type))}),a=or(()=>{const l=n();return!l||!w.globalSettings.showMindmapToolbar||Z1(l.id)?!1:r()});return $(st,{get when(){return a()},get children(){return $(sN,{hasChildren:i,isLayoutOpen:e,setIsLayoutOpen:t})}})},sN=e=>{const t=or(()=>w.selection.length!==1?null:w.elements.find(i=>i.id===w.selection[0]));let n;return Dn(()=>{e.isLayoutOpen()&&n&&eN(n,()=>()=>e.setIsLayoutOpen(!1))}),$(st,{get when(){return t()},children:i=>{const r=()=>{const l=Nl(i().id),o=l?l.x:i().x,c=l?l.width:i().width,s=(o+c/2)*w.viewState.scale+w.viewState.panX-90;if(w.showPropertyPanel&&!w.isPropertyPanelMinimized){const d=window.innerWidth-280,u=200,f=20;if(s+u>d-f)return d-u-f}return s},a=()=>{const l=Nl(i().id),d=(l?l.y:i().y)*w.viewState.scale+w.viewState.panY-50-20;return Math.max(d,60)};return(()=>{var l=aN(),o=l.firstChild,c=o.firstChild,s=c.nextSibling,d=s.nextSibling,u=d.nextSibling,f=n;return typeof f=="function"?Rn(f,l):n=l,c.$$click=()=>Vl(i().id),ee(c,$(zl,{size:18})),ee(o,$(st,{get when(){return i().parentId},get children(){var h=tN();return h.$$click=()=>Ql(i().id),ee(h,$(rh,{size:18})),h}}),s),d.$$click=()=>e.setIsLayoutOpen(!e.isLayoutOpen()),ee(d,$(_3,{size:18})),ee(o,$(st,{get when(){return e.isLayoutOpen()},get children(){var h=nN(),g=h.firstChild,p=g.nextSibling,y=p.nextSibling;return g.$$click=()=>{Ni(i().id,"horizontal-right"),e.setIsLayoutOpen(!1)},ee(g,$(X1,{size:16})),p.$$click=()=>{Ni(i().id,"vertical-down"),e.setIsLayoutOpen(!1)},ee(p,$(q1,{size:16})),y.$$click=()=>{Ni(i().id,"radial"),e.setIsLayoutOpen(!1)},ee(y,$(V1,{size:16})),h}}),u),u.$$click=()=>kh(i().id),ee(u,$(rp,{size:18})),ee(o,$(st,{get when(){return e.hasChildren()},get children(){return[rN(),(()=>{var h=iN();return h.$$click=()=>Bl(i().id),ee(h,(()=>{var g=Wn(()=>!!i().isCollapsed);return()=>g()?$(oi,{size:18}):$(Ol,{size:18})})()),We(()=>Lt(h,"title",i().isCollapsed?"Expand":"Collapse")),h})()]}}),null),We(h=>{var g=`${Math.round(a())}px`,p=`${Math.round(r())}px`,y=`toolbar-btn ${e.isLayoutOpen()?"active":""}`;return g!==h.e&&sn(l,"top",h.e=g),p!==h.t&&sn(l,"left",h.t=p),y!==h.a&&hn(d,h.a=y),h},{e:void 0,t:void 0,a:void 0}),l})()}})};Cn(["click"]);const lN=(e,t,n,i,r)=>`M ${e+r} ${t} L ${e+n-r} ${t} Q ${e+n} ${t} ${e+n} ${t+r} L ${e+n} ${t+i-r} Q ${e+n} ${t+i} ${e+n-r} ${t+i} L ${e+r} ${t+i} Q ${e} ${t+i} ${e} ${t+i-r} L ${e} ${t+r} Q ${e} ${t} ${e+r} ${t}`,Ld=e=>{const t=e.width,n=e.height,i=t/2,r=n/2,a=-i,l=-r;switch(e.type){case"rectangle":case"image":case"text":case"umlClass":case"umlNote":case"umlPackage":case"umlActor":case"umlComponent":case"umlLifeline":case"umlFragment":return{type:"rect",x:a,y:l,w:t,h:n,r:e.roundness?10:0};case"umlState":return{type:"rect",x:a,y:l,w:t,h:n,r:Math.min(Math.abs(t),Math.abs(n))*.15};case"umlInterface":case"umlUseCase":case"umlProvidedInterface":case"circle":return{type:"ellipse",cx:0,cy:0,rx:t/2,ry:n/2};case"umlRequiredInterface":{const o=Math.min(t,n)/2;return{type:"path",path:`M 0 ${-o} A ${o} ${o} 0 0 1 0 ${o}`}}case"umlSignalSend":{const o=t*.2;return{type:"points",points:[{x:-i,y:-r},{x:i-o,y:-r},{x:i,y:0},{x:i-o,y:r},{x:-i,y:r}]}}case"umlSignalReceive":{const o=t*.2;return{type:"points",points:[{x:-i+o,y:-r},{x:i,y:-r},{x:i,y:r},{x:-i+o,y:r},{x:-i,y:0}]}}case"triangle":return{type:"points",points:[{x:0,y:-r},{x:-i,y:r},{x:i,y:r}]};case"diamond":return{type:"points",points:[{x:0,y:-r},{x:i,y:0},{x:0,y:r},{x:-i,y:0}]};case"hexagon":{const o=[];for(let c=0;c<6;c++){const s=Math.PI/3*c-Math.PI/2;o.push({x:t/2*Math.cos(s),y:n/2*Math.sin(s)})}return{type:"points",points:o}}case"octagon":{const o=[];for(let c=0;c<8;c++){const s=Math.PI/4*c-Math.PI/2;o.push({x:t/2*Math.cos(s),y:n/2*Math.sin(s)})}return{type:"points",points:o}}case"pentagon":{const o=[];for(let c=0;c<5;c++){const s=Math.PI*2/5*c-Math.PI/2;o.push({x:t/2*Math.cos(s),y:n/2*Math.sin(s)})}return{type:"points",points:o}}case"septagon":{const o=[];for(let c=0;c<7;c++){const s=Math.PI*2/7*c-Math.PI/2;o.push({x:t/2*Math.cos(s),y:n/2*Math.sin(s)})}return{type:"points",points:o}}case"star":{const o=Math.min(t,n)/2,c=(e.shapeRatio!==void 0?e.shapeRatio:38)/100,s=o*c,d=e.starPoints||5,u=[];for(let f=0;f<d*2;f++){const h=Math.PI/d*f-Math.PI/2,g=f%2===0?o:s;u.push({x:g*Math.cos(h),y:g*Math.sin(h)})}return{type:"points",points:u}}case"burst":{const o=Math.min(Math.abs(t),Math.abs(n))/2,c=(e.shapeRatio!==void 0?e.shapeRatio:70)/100,s=o*c,d=e.burstPoints||16,u=[];for(let f=0;f<d*2;f++){const h=Math.PI/d*f-Math.PI/2,g=f%2===0?o:s;u.push({x:g*Math.cos(h),y:g*Math.sin(h)})}return{type:"points",points:u}}case"parallelogram":{const o=t*.2;return{type:"points",points:[{x:a+o,y:l},{x:a+t,y:l},{x:a+t-o,y:l+n},{x:a,y:l+n}]}}case"trapezoid":{const o=t*.2;return{type:"points",points:[{x:a+o,y:l},{x:a+t-o,y:l},{x:a+t,y:l+n},{x:a,y:l+n}]}}case"rightTriangle":return{type:"points",points:[{x:a,y:l},{x:a,y:l+n},{x:a+t,y:l+n}]};case"capsule":return{type:"path",path:lN(a,l,t,n,Math.min(t,n)/2)};case"stickyNote":{const o=Math.min(t,n)*.15;return{type:"points",points:[{x:a,y:l},{x:a+t,y:l},{x:a+t,y:l+n-o},{x:a+t-o,y:l+n},{x:a,y:l+n}]}}case"callout":{const o=n*.2,c=n-o;return{type:"path",path:`M ${a} ${l} L ${a+t} ${l} L ${a+t} ${l+c} L ${a+t*.7} ${l+c} L 0 ${r} L ${a+t*.3} ${l+c} L ${a} ${l+c} Z`}}case"speechBubble":{const o=Math.min(t,n)*((e.borderRadius!==void 0?e.borderRadius:20)/100),c=t*.15,s=n*.2,d=n-s,u=(e.tailPosition!==void 0?e.tailPosition:20)/100,f=a+t*u;let h,g;u<=.5?(h=f+t*.1,g=h+c):(g=f-t*.1,h=g-c);const p=Math.min(t/2,o),y=Math.min(d/2,o);return{type:"path",path:`M ${a+p} ${l} L ${a+t-p} ${l} Q ${a+t} ${l} ${a+t} ${l+y} L ${a+t} ${l+d-y} Q ${a+t} ${l+d} ${a+t-p} ${l+d} L ${g} ${l+d} L ${f} ${r} L ${h} ${l+d} L ${a+p} ${l+d} Q ${a} ${l+d} ${a} ${l+d-y} L ${a} ${l+y} Q ${a} ${l} ${a+p} ${l} Z`}}case"cloud":{const o=t*.2,c=t*.25,s=t*.2,d=t*.3;return{type:"path",path:`M ${a+o} 0 A ${o} ${o} 0 0 1 ${a+t*.3} ${l+c} A ${c} ${c} 0 0 1 ${a+t*.7} ${l+c} A ${s} ${s} 0 0 1 ${a+t-s} 0 A ${d} ${d} 0 0 1 ${a+t*.6} ${l+n-d*.5} A ${d} ${d} 0 0 1 ${a+t*.3} ${l+n-d*.5} A ${d} ${d} 0 0 1 ${a+o} 0 Z`}}case"heart":return{type:"path",path:`M 0 ${l+n*.3} C 0 ${l+n*.15} ${a+t*.3} ${l} ${a+t*.5} ${l+n*.15} C ${a+t*.7} ${l} ${a+t} ${l+n*.15} ${a+t} ${l+n*.35} C ${a+t} ${l+n*.6} 0 ${l+n*.8} 0 ${l+n} C 0 ${l+n*.8} ${a} ${l+n*.6} ${a} ${l+n*.35} C ${a} ${l+n*.15} ${a+t*.3} ${l} ${a+t*.5} ${l+n*.15} Z`};case"polygon":{const o=e.polygonSides||6,c=[];for(let s=0;s<o;s++){const d=2*Math.PI/o*s-Math.PI/2;c.push({x:t/2*Math.cos(d),y:n/2*Math.sin(d)})}return{type:"points",points:c}}case"starPerson":{const o=Math.min(t,n)*.15,c=l+o*2;return{type:"multi",shapes:[{type:"ellipse",cx:0,cy:l+o,rx:o,ry:o},{type:"points",points:[{x:0,y:c},{x:a,y:l+n*.4},{x:0,y:l+n*.5},{x:a+t,y:l+n*.4},{x:0,y:c},{x:a+t*.8,y:l+n},{x:0,y:l+n*.7},{x:a+t*.2,y:l+n},{x:0,y:c}]}]}}case"lightbulb":{const o=Math.min(t,n/1.5)/2,c=t*.4,s=n*.25,d=l+n-s;return{type:"multi",shapes:[{type:"path",path:`M ${-c/2} ${d} C ${-c/2} ${l+o} ${a} ${l+o*1.5} ${a} ${l+o} A ${o} ${o} 0 1 1 ${a+t} ${l+o} C ${a+t} ${l+o*1.5} ${c/2} ${l+o} ${c/2} ${d} Z`},{type:"rect",x:-c/2,y:d,w:c,h:s}]}}case"signpost":{const o=Math.max(4,t*.05),c=n*.3,s=t*.9,d=l+n*.1;return{type:"multi",shapes:[{type:"rect",x:-o/2,y:l,w:o,h:n},{type:"rect",x:-s/2,y:d,w:s,h:c}]}}case"burstBlob":{const o=t/2,c=n/2,s=12,d=Math.min(o,c),u=d*.6,f=e.seed||1,h=p=>{let y=p+=1831565813;return y=Math.imul(y^y>>>15,y|1),y^=y+Math.imul(y^y>>>7,y|61),((y^y>>>14)>>>0)/4294967296},g=[];for(let p=0;p<s*2;p++){const A=(p%2===0?d:u)+(h(f+p)-.5)*(d*.1),v=Math.PI*p/s;g.push({x:Math.cos(v)*(t/n)*A,y:Math.sin(v)*A})}return{type:"points",points:g}}case"scroll":{const o=n*.15;return{type:"path",path:`M ${a} ${l+o} L ${a+t} ${l+o} L ${a+t} ${l+n-o} L ${a} ${l+n-o} Z M ${a} ${l+o} C ${a-o} ${l+o} ${a-o} ${l} ${a} ${l} L ${a+t} ${l} C ${a+t+o} ${l} ${a+t+o} ${l+o} ${a+t} ${l+o} M ${a} ${l+n-o} C ${a-o} ${l+n-o} ${a-o} ${l+n} ${a} ${l+n} L ${a+t} ${l+n} C ${a+t+o} ${l+n} ${a+t+o} ${l+n-o} ${a+t} ${l+n-o}`}}case"doubleBanner":{const o=t*.15,c=n*.25;return{type:"multi",shapes:[{type:"points",points:[{x:a+o,y:l+c},{x:a,y:l+c},{x:a+o/2,y:0},{x:a,y:r},{x:a+o,y:r}]},{type:"points",points:[{x:a+t-o,y:l+c},{x:a+t,y:l+c},{x:a+t-o/2,y:0},{x:a+t,y:r},{x:a+t-o,y:r}]},{type:"points",points:[{x:a+o,y:l},{x:a+t-o,y:l},{x:a+t-o,y:l+n-c},{x:a+o,y:l+n-c}]}]}}case"document":{const o=n*.1;return{type:"path",path:`M ${a} ${l} L ${a+t} ${l} L ${a+t} ${l+n-o} Q ${a+t*.75} ${l+n-o*2} ${a+t*.5} ${l+n-o} T ${a} ${l+n-o} Z`}}case"cross":return{type:"multi",shapes:[{type:"points",points:[{x:a,y:l},{x:a+t,y:l+n}]},{type:"points",points:[{x:a+t,y:l},{x:a,y:l+n}]}]};case"checkmark":return{type:"points",points:[{x:a,y:l+n*.5},{x:a+t*.4,y:r},{x:a+t,y:l}]};case"wavyDivider":{let o=`M ${a} 0`;for(let c=1;c<=20;c++)o+=` L ${a+c/20*t} ${Math.sin(c/20*Math.PI*4)*(n/2)}`;return{type:"path",path:o}}case"ribbon":{const o=t*.15,c=n*.7;return{type:"path",path:`M ${a+o} ${l} L ${a+t-o} ${l} L ${a+t-o} ${l+c} L ${a+t} ${l+n/2} L ${a+t-o} ${l+n*.8} L ${a+o} ${l+n*.8} L ${a} ${l+n/2} L ${a+o} ${l+c} Z`}}case"bracketLeft":return{type:"points",isClosed:!1,points:[{x:a+t,y:l},{x:a,y:l+n/2},{x:a+t,y:l+n}]};case"bracketRight":return{type:"points",isClosed:!1,points:[{x:a,y:l},{x:a+t,y:l+n/2},{x:a,y:l+n}]};case"arrowLeft":{const o=n*.4,c=l+(n-o)/2,s=t*.4;return{type:"points",points:[{x:a+s,y:l},{x:a+s,y:c},{x:a+t,y:c},{x:a+t,y:c+o},{x:a+s,y:c+o},{x:a+s,y:l+n},{x:a,y:l+n/2}]}}case"arrowRight":{const o=n*.4,c=l+(n-o)/2,s=t*.4;return{type:"points",points:[{x:a+t-s,y:l},{x:a+t,y:l+n/2},{x:a+t-s,y:l+n},{x:a+t-s,y:c+o},{x:a,y:c+o},{x:a,y:c},{x:a+t-s,y:c}]}}case"arrowUp":{const o=t*.4,c=a+(t-o)/2,s=n*.4;return{type:"points",points:[{x:a+t/2,y:l},{x:a+t,y:l+s},{x:c+o,y:l+s},{x:c+o,y:l+n},{x:c,y:l+n},{x:c,y:l+s},{x:a,y:l+s}]}}case"arrowDown":{const o=t*.4,c=a+(t-o)/2,s=n*.4;return{type:"points",points:[{x:c,y:l},{x:c+o,y:l},{x:c+o,y:l+n-s},{x:a+t,y:l+n-s},{x:a+t/2,y:l+n},{x:a,y:l+n-s},{x:c,y:l+n-s}]}}case"dfdProcess":{const o=n*.25;return{type:"multi",shapes:[{type:"rect",x:a,y:l,w:t,h:n,r:10},{type:"points",points:[{x:a,y:l+o},{x:a+t,y:l+o}],isClosed:!1}]}}case"dfdDataStore":{const o=t*.2;return{type:"multi",shapes:[{type:"points",isClosed:!1,points:[{x:a+t,y:l},{x:a,y:l},{x:a,y:l+n},{x:a+t,y:l+n}]},{type:"points",isClosed:!1,points:[{x:a+o,y:l},{x:a+o,y:l+n}]}]}}case"isometricCube":{const o=(e.shapeRatio!==void 0?e.shapeRatio:25)/100,c=(e.sideRatio!==void 0?e.sideRatio:50)/100,s=a+t*c,d=a+t*(1-c),u=n*o,f=l+u,h=l+u/2;return{type:"multi",shapes:[{type:"points",points:[{x:d,y:l},{x:a+t,y:h},{x:s,y:f},{x:a,y:h}],shade:1.1},{type:"points",points:[{x:a,y:h},{x:s,y:f},{x:s,y:l+n},{x:a,y:l+n-u/2}],shade:.9},{type:"points",points:[{x:s,y:f},{x:a+t,y:h},{x:a+t,y:l+n-u/2},{x:s,y:l+n}],shade:.7}]}}case"solidBlock":{const o=e.depth!==void 0?e.depth:50,s=(e.viewAngle!==void 0?e.viewAngle:45)*Math.PI/180,d=o*Math.cos(s),u=o*Math.sin(s),f={x:a,y:l},h={x:a+t,y:l},g={x:a+t,y:l+n},p={x:a,y:l+n},y={x:a+d,y:l+u},A={x:a+t+d,y:l+u},v={x:a+t+d,y:l+n+u},x={x:a+d,y:l+n+u};return{type:"multi",shapes:[{type:"points",points:[y,A,v,x],shade:.6},{type:"points",points:[f,h,A,y],shade:1.1},{type:"points",points:[h,g,v,A],shade:.8},{type:"points",points:[g,p,x,v],shade:.7},{type:"points",points:[p,f,y,x],shade:.9},{type:"points",points:[f,h,g,p],shade:1}]}}case"perspectiveBlock":{const o=e.depth!==void 0?e.depth:50,s=(e.viewAngle!==void 0?e.viewAngle:45)*Math.PI/180,d=e.taper!==void 0?e.taper:0,u=(e.skewX!==void 0?e.skewX:0)*t,f=(e.skewY!==void 0?e.skewY:0)*n,h=e.frontTaper!==void 0?e.frontTaper:0,g=(e.frontSkewX!==void 0?e.frontSkewX:0)*t,p=(e.frontSkewY!==void 0?e.frontSkewY:0)*n,y=o*Math.cos(s)+u,A=o*Math.sin(s)+f,v=1-h,x=i*v,C=r*v,_={x:-x+g,y:-C+p},F={x:x+g,y:-C+p},O={x:x+g,y:C+p},E={x:-x+g,y:C+p},I=1-d,q=i*I,R=r*I,P={x:y-q,y:A-R},D={x:y+q,y:A-R},k={x:y+q,y:A+R},U={x:y-q,y:A+R};return{type:"multi",shapes:[{type:"points",points:[P,D,k,U],shade:.6},{type:"points",points:[_,F,D,P],shade:1.1},{type:"points",points:[F,O,k,D],shade:.8},{type:"points",points:[O,E,U,k],shade:.7},{type:"points",points:[E,_,P,U],shade:.9},{type:"points",points:[_,F,O,E],shade:1}]}}case"cylinder":{const o=e.depth!==void 0?e.depth:50,s=(e.viewAngle!==void 0?e.viewAngle:45)*Math.PI/180,d=t/2,u=n/2,f=o*Math.cos(s),h=o*Math.sin(s),g=0,p=0,y=f,A=h,v=Math.atan2(h*d*d,f*u*u)+Math.PI/2,x=d*Math.cos(v),C=u*Math.sin(v);return{type:"multi",shapes:[{type:"ellipse",cx:y,cy:A,rx:d,ry:u,shade:.6},{type:"points",points:[{x:g+x,y:p+C},{x:y+x,y:A+C},{x:y-x,y:A-C},{x:g-x,y:p-C}],shade:.8},{type:"ellipse",cx:g,cy:p,rx:d,ry:u,shade:1}]}}case"stateStart":return{type:"ellipse",cx:0,cy:0,rx:t/2,ry:n/2};case"stateEnd":return{type:"multi",shapes:[{type:"ellipse",cx:0,cy:0,rx:t/2,ry:n/2},{type:"ellipse",cx:0,cy:0,rx:t/3,ry:n/3}]};case"stateSync":return{type:"rect",x:a,y:l,w:t,h:n,r:2};case"activationBar":return{type:"rect",x:a,y:l,w:t,h:n,r:0};case"externalEntity":return{type:"multi",shapes:[{type:"rect",x:a+4,y:l+4,w:t,h:n,r:0},{type:"rect",x:a,y:l,w:t,h:n,r:0}]}}return null};class wt{static adjustColor(t,n){return n&&(t==="#000000"||t==="black"||t==="#000")?"#ffffff":t}static shadeColor(t,n){if(t==="transparent"||t==="none"||!t)return t;let i,r,a;if(t.startsWith("#")){const s=t.slice(1);s.length===3||s.length===4?(i=parseInt(s[0]+s[0],16),r=parseInt(s[1]+s[1],16),a=parseInt(s[2]+s[2],16)):(i=parseInt(s.substring(0,2),16),r=parseInt(s.substring(2,4),16),a=parseInt(s.substring(4,6),16))}else if(t.startsWith("rgb")){const s=t.match(/(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(s)i=parseInt(s[1]),r=parseInt(s[2]),a=parseInt(s[3]);else return t}else return t;if(isNaN(i)||isNaN(r)||isNaN(a))return t;i=Math.min(255,Math.floor(i*n)),r=Math.min(255,Math.floor(r*n)),a=Math.min(255,Math.floor(a*n));const l=i.toString(16).padStart(2,"0"),o=r.toString(16).padStart(2,"0"),c=a.toString(16).padStart(2,"0");return"#"+l+o+c}static applyTransformations(t,n,i){t.save(),t.globalAlpha=(n.opacity??100)/100*i,n.blendMode&&(t.globalCompositeOperation=n.blendMode==="normal"?"source-over":n.blendMode),n.shadowEnabled?(t.shadowColor=n.shadowColor||"rgba(0,0,0,0.3)",t.shadowBlur=n.shadowBlur||10,t.shadowOffsetX=n.shadowOffsetX||5,t.shadowOffsetY=n.shadowOffsetY||5):t.shadowColor="transparent";let a=n.angle||0,l=n.x,o=n.y;if(n.spinEnabled){const d=n.spinSpeed||5,u=window.yappyGlobalTime||performance.now();a+=u/1e3*(d*(Math.PI/180))*60}if(n.orbitEnabled&&n.orbitCenterId){const d=w.elements.find(u=>u.id===n.orbitCenterId);if(d){const u=n.orbitSpeed||1,f=n.orbitRadius||150,h=n.orbitDirection==="ccw"?-1:1,g=window.yappyGlobalTime||performance.now(),p=d.x+d.width/2,y=d.y+d.height/2,A=g/1e3*u*h;l=p+Math.cos(A)*f-n.width/2,o=y+Math.sin(A)*f-n.height/2}}const c=l+n.width/2,s=o+n.height/2;return a&&(t.translate(c,s),t.rotate(a),t.translate(-c,-s)),{cx:c,cy:s}}static restoreTransformations(t){t.restore()}static buildRenderOptions(t,n){const i=this.adjustColor(t.strokeColor,n);let r=t.backgroundColor==="transparent"?void 0:this.adjustColor(t.backgroundColor,n);["linear","radial","conic","dots"].includes(t.fillStyle)&&(r=void 0);const a=t.fillDensity||1,o=Math.max(.5,5/a);return{stroke:i,fill:r,fillStyle:t.fillStyle,strokeWidth:t.strokeWidth,hachureAngle:60,hachureGap:o,roughness:t.roughness??1,seed:t.seed||1,disableMultiStroke:t.roughness===0,strokeLineDash:t.strokeStyle==="dashed"?[8,8]:t.strokeStyle==="dotted"?[2,4]:void 0}}static applyComplexFills(t,n,i){const{ctx:r,element:a}=t,l=a.fillStyle,o=["linear","radial","conic"].includes(l)||a.gradientType!=="none"&&a.gradientType!==void 0,c=l==="dots";if(!o&&!c)return;r.save(),r.translate(n,i),o?(r.beginPath(),this.applyGradient(r,a)):c&&(r.beginPath(),this.applyDotsFill(r,a,t.isDarkMode));const s=Ld(a);s&&(this.renderGeometry(r,s),r.fill()),r.restore()}static applyGradient(t,n){const i=n.width,r=n.height,a=i/2,l=r/2,o=n.gradientType||n.fillStyle||"linear";let c;if(o==="linear"){const s=(n.gradientDirection||45)*(Math.PI/180),d=Math.sqrt(a**2+l**2),u=-Math.cos(s)*d,f=-Math.sin(s)*d,h=Math.cos(s)*d,g=Math.sin(s)*d;c=t.createLinearGradient(u,f,h,g)}else if(o==="radial")c=t.createRadialGradient(0,0,0,0,0,Math.max(i,r)/2);else if(o==="conic"){const s=(n.gradientDirection||0)*(Math.PI/180);c=t.createConicGradient(s,0,0)}else c=t.createLinearGradient(-a,-l,a,l);n.gradientStops&&n.gradientStops.length>0?[...n.gradientStops].sort((s,d)=>s.offset-d.offset).forEach(s=>c.addColorStop(s.offset,s.color)):n.gradientStart&&n.gradientEnd&&(c.addColorStop(0,n.gradientStart),c.addColorStop(1,n.gradientEnd)),t.fillStyle=c}static applyDotsFill(t,n,i){const r=n.fillDensity||1,a=i?"#ffffff":"#000000",l=document.createElement("canvas"),o=Math.max(5,20/r);l.width=o,l.height=o;const c=l.getContext("2d");if(c){c.fillStyle=a,c.beginPath(),c.arc(o/2,o/2,n.strokeWidth/2||1,0,Math.PI*2),c.fill();const s=t.createPattern(l,"repeat");s&&(t.fillStyle=s)}}static renderGeometry(t,n){if(n.type==="rect")t.roundRect(n.x,n.y,n.w,n.h,n.r||0);else if(n.type==="ellipse")t.ellipse(n.cx,n.cy,n.rx,n.ry,0,0,Math.PI*2);else if(n.type==="points"){if(n.points.length>0){t.moveTo(n.points[0].x,n.points[0].y);for(let i=1;i<n.points.length;i++)t.lineTo(n.points[i].x,n.points[i].y);n.isClosed!==!1&&t.closePath()}}else n.type==="path"?t.fill(new Path2D(n.path)):n.type==="multi"&&n.shapes.forEach(i=>this.renderGeometry(t,i))}static renderText(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t;if(a.isEditing)return;const o=a.containerText||a.text;if(!o)return;r.save();let c=a.width-20,s=0;a.type==="doubleBanner"?(c=a.width*.65,s=-(a.height*.1)):a.type==="starPerson"?s=a.height*.15:a.type==="lightbulb"?(c=a.width*.7,s=-(a.height*.1)):a.type==="signpost"?(c=a.width*.8,s=-(a.height*.15)):a.type==="browserWindow"?s=Math.min(a.height*.15,30)/2:a.type==="mobilePhone"&&(s=-(a.height*.05));const d=ki(r,a,o,c);r.font=Ph(a);const u=a.textColor||a.strokeColor,f=this.adjustColor(u,l),h=a.textAlign||"center";r.textAlign=h,r.textBaseline="middle";const g=i-d.textHeight/2+d.lineHeight/2+s,p=a.fontFamily==="hand-drawn"?2:0,y=g+p,A=()=>h==="left"?n-(a.width||c)/2+10:h==="right"?n+(a.width||c)/2-10:n;if(a.textHighlightEnabled){const v=a.textHighlightColor||"rgba(255, 255, 0, 0.4)",x=a.textHighlightPadding??4,C=a.textHighlightRadius??2;r.fillStyle=this.adjustColor(v,l),d.lines.forEach((_,F)=>{const O=y+F*d.lineHeight,E=r.measureText(_).width,I=A(),q=x/2;let R=I-E/2-x;h==="left"?R=I-x:h==="right"&&(R=I-E-x),r.beginPath(),r.roundRect?r.roundRect(R,O-d.lineHeight/2-q,E+x*2,d.lineHeight+q*2,C):r.rect(R,O-d.lineHeight/2-q,E+x*2,d.lineHeight+q*2),r.fill()})}r.fillStyle=f,d.lines.forEach((v,x)=>{const C=y+x*d.lineHeight,_=A();r.fillText(v,_,C,a.width-10)}),r.restore()}}class Nr{render(t){const{ctx:n,element:i,layerOpacity:r}=t,{cx:a,cy:l}=wt.applyTransformations(n,i,r),o=i.drawProgress;o!==void 0&&o>=0&&o<100?this.renderDrawProgress(t,a,l):(wt.applyComplexFills(t,a,l),i.renderStyle==="architectural"?this.renderArchitectural(t,a,l):this.renderSketch(t,a,l)),i.flowAnimation&&this.renderFlowAnimation(t),wt.restoreTransformations(n)}renderDrawProgress(t,n,i){const{ctx:r,element:a,isDarkMode:l,layerOpacity:o}=t,c=(a.drawProgress??0)/100;r.globalAlpha=o;const s=Math.min(1,c/.7),d=Math.max(0,Math.min(1,(c-.65)/.25)),u=Math.max(0,Math.min(1,(c-.85)/.15)),f=this.estimatePathLength(a),h=wt.adjustColor(a.strokeColor,l);if(s>0){r.save(),r.strokeStyle=h,r.lineWidth=a.strokeWidth,r.lineCap="round",r.lineJoin="round";const g=f*s;r.setLineDash([g,f]),r.lineDashOffset=0,r.beginPath(),this.definePath(r,a),r.stroke(),r.restore()}if(d>0){const g=a.backgroundColor;if(g&&g!=="transparent"&&g!=="none"){r.save(),r.globalAlpha*=d;const p=a.fillStyle;["linear","radial","conic","dots"].includes(p)?wt.applyComplexFills(t,n,i):(r.fillStyle=wt.adjustColor(g,l),r.beginPath(),this.definePath(r,a),r.fill()),r.restore()}}u>0&&(r.save(),r.globalAlpha*=u,wt.renderText(t,n,i),r.restore())}estimatePathLength(t){return 2*(Math.abs(t.width)+Math.abs(t.height))}renderFlowAnimation(t){const{ctx:n,element:i,isDarkMode:r}=t,a=i.flowSpeed!==void 0?i.flowSpeed:1,l=df(),o=l/20*a;n.save(),n.strokeStyle=wt.adjustColor(i.flowColor||i.strokeColor,r),n.lineWidth=Math.max(1,i.strokeWidth*.8),n.lineCap="round",n.lineJoin="round";const c=i.flowStyle||"dashes";if(c==="dots")n.setLineDash([2,8]);else if(c==="pulse"){const s=Math.sin(l/200)*.5+.5;n.globalAlpha*=s,n.setLineDash([])}else n.setLineDash([8,8]);n.lineDashOffset=-o,n.beginPath(),this.definePath(n,i),n.stroke(),n.restore()}}class cN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);if(this.drawRectArch(r,a.x,a.y,a.width,a.height,o,a.strokeWidth,c.stroke,c.fill),a.drawInnerBorder){const s=a.innerBorderDistance||5;if(a.width>s*2&&a.height>s*2){const d=Math.max(0,o-s);this.drawRectArch(r,a.x+s,a.y+s,a.width-s*2,a.height-s*2,d,a.strokeWidth,a.innerBorderColor||c.stroke,"none")}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);if(this.drawRectSketch(r,a.x,a.y,a.width,a.height,o,c),a.drawInnerBorder){const s=a.innerBorderDistance||5;if(a.width>s*2&&a.height>s*2){const d=Math.max(0,o-s),u={...c,stroke:a.innerBorderColor||c.stroke,fill:"none"};this.drawRectSketch(r,a.x+s,a.y+s,a.width-s*2,a.height-s*2,d,u)}}wt.renderText(t,n,i)}getRadius(t){return t.borderRadius!==void 0?Math.min(Math.abs(t.width),Math.abs(t.height))*(t.borderRadius/100):t.roundness?Math.min(Math.abs(t.width),Math.abs(t.height))*.15:0}drawRectArch(t,n,i,r,a,l,o,c,s){s&&s!=="transparent"&&s!=="none"&&(t.beginPath(),l>0?t.roundRect(n,i,r,a,l):t.rect(n,i,r,a),t.fillStyle=s,t.fill()),t.beginPath(),l>0?t.roundRect(n,i,r,a,l):t.rect(n,i,r,a),t.strokeStyle=c,t.lineWidth=o,t.stroke()}drawRectSketch(t,n,i,r,a,l,o){if(l>0){const c=this.getRoundedRectPath(n,i,r,a,l);t.path(c,o)}else t.rectangle(n,i,r,a,o)}getRoundedRectPath(t,n,i,r,a){const l=Math.min(Math.abs(i)/2,a),o=Math.min(Math.abs(r)/2,a);return`M ${t+l} ${n} L ${t+i-l} ${n} Q ${t+i} ${n} ${t+i} ${n+o} L ${t+i} ${n+r-o} Q ${t+i} ${n+r} ${t+i-l} ${n+r} L ${t+l} ${n+r} Q ${t} ${n+r} ${t} ${n+r-o} L ${t} ${n+o} Q ${t} ${n} ${t+l} ${n}`}definePath(t,n){const i=this.getRadius(n);i>0?t.roundRect(n.x,n.y,n.width,n.height,i):t.rect(n.x,n.y,n.width,n.height)}}class dN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l);if(this.drawCircleArch(r,a.x,a.y,a.width,a.height,a.strokeWidth,o.stroke,o.fill),a.drawInnerBorder){const c=a.innerBorderDistance||5;a.width>c*2&&a.height>c*2&&this.drawCircleArch(r,a.x+c,a.y+c,a.width-c*2,a.height-c*2,a.strokeWidth,a.innerBorderColor||o.stroke,"none")}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l);if(r.ellipse(a.x+a.width/2,a.y+a.height/2,Math.abs(a.width),Math.abs(a.height),o),a.drawInnerBorder){const c=a.innerBorderDistance||5;if(a.width>c*2&&a.height>c*2){const s={...o,stroke:a.innerBorderColor||o.stroke,fill:"none"};r.ellipse(a.x+a.width/2,a.y+a.height/2,Math.abs(a.width)-c*2,Math.abs(a.height)-c*2,s)}}wt.renderText(t,n,i)}drawCircleArch(t,n,i,r,a,l,o,c){const s=n+r/2,d=i+a/2,u=Math.abs(r)/2,f=Math.abs(a)/2;c&&c!=="transparent"&&c!=="none"&&(t.beginPath(),t.ellipse(s,d,u,f,0,0,Math.PI*2),t.fillStyle=c,t.fill()),t.beginPath(),t.ellipse(s,d,u,f,0,0,Math.PI*2),t.strokeStyle=o,t.lineWidth=l,t.stroke()}definePath(t,n){const i=n.x+n.width/2,r=n.y+n.height/2,a=Math.abs(n.width)/2,l=Math.abs(n.height)/2;t.ellipse(i,r,a,l,0,0,Math.PI*2)}estimatePathLength(t){const n=Math.abs(t.width)/2,i=Math.abs(t.height)/2,r=(n-i)**2/((n+i)**2||1);return Math.PI*(n+i)*(1+3*r/(10+Math.sqrt(4-3*r)))}}class hN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);if(this.drawDiamondArch(r,a.x,a.y,a.width,a.height,o,a.strokeWidth,c.stroke,c.fill),a.drawInnerBorder){const s=a.innerBorderDistance||5;if(a.width>s*2&&a.height>s*2){const d=Math.max(0,o-s);this.drawDiamondArch(r,a.x+s,a.y+s,a.width-s*2,a.height-s*2,d,a.strokeWidth,a.innerBorderColor||c.stroke,"none")}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);if(o>0){const s=this.getRoundedDiamondPath(a.x,a.y,a.width,a.height,o);r.path(s,c)}else{const s=a.width/2,d=a.height/2,u=[[a.x+s,a.y],[a.x+a.width,a.y+d],[a.x+s,a.y+a.height],[a.x,a.y+d]];r.polygon(u,c)}if(a.drawInnerBorder){const s=a.innerBorderDistance||5;if(a.width>s*2&&a.height>s*2){const d=Math.max(0,o-s),u={...c,stroke:a.innerBorderColor||c.stroke,fill:"none"};if(d>0){const f=this.getRoundedDiamondPath(a.x+s,a.y+s,a.width-s*2,a.height-s*2,d);r.path(f,u)}else{const f=(a.width-s*2)/2,h=(a.height-s*2)/2,g=a.x+s,p=a.y+s,y=a.width-s*2,A=a.height-s*2,v=[[g+f,p],[g+y,p+h],[g+f,p+A],[g,p+h]];r.polygon(v,u)}}}wt.renderText(t,n,i)}getRadius(t){return t.borderRadius!==void 0?Math.min(Math.abs(t.width),Math.abs(t.height))*(t.borderRadius/100):t.roundness?Math.min(Math.abs(t.width),Math.abs(t.height))*.2:0}drawDiamondArch(t,n,i,r,a,l,o,c,s){const d=r/2,u=a/2,f=n+d,h=i+u;if(s&&s!=="transparent"&&s!=="none")if(t.beginPath(),l>0){const g=this.getRoundedDiamondPath(n,i,r,a,l);t.fill(new Path2D(g))}else t.moveTo(f,i),t.lineTo(n+r,h),t.lineTo(f,i+a),t.lineTo(n,h),t.closePath(),t.fillStyle=s,t.fill();if(t.beginPath(),l>0){const g=this.getRoundedDiamondPath(n,i,r,a,l);t.stroke(new Path2D(g))}else t.moveTo(f,i),t.lineTo(n+r,h),t.lineTo(f,i+a),t.lineTo(n,h),t.closePath(),t.strokeStyle=c,t.lineWidth=o,t.stroke()}getRoundedDiamondPath(t,n,i,r,a){const l=i/2,o=r/2,c=t+l,s=n+o,d=Math.hypot(l,o),f=Math.min(a,d/2)/d,h=l*f,g=o*f,p={x:c-h,y:n+g},y={x:c+h,y:n+g},A={x:t+i-h,y:s-g},v={x:t+i-h,y:s+g},x={x:c+h,y:n+r-g},C={x:c-h,y:n+r-g},_={x:t+h,y:s+g},F={x:t+h,y:s-g};return`M ${p.x} ${p.y} Q ${c} ${n} ${y.x} ${y.y} L ${A.x} ${A.y} Q ${t+i} ${s} ${v.x} ${v.y} L ${x.x} ${x.y} Q ${c} ${n+r} ${C.x} ${C.y} L ${_.x} ${_.y} Q ${t} ${s} ${F.x} ${F.y} Z`}definePath(t,n){const i=this.getRadius(n);if(i>0)this.executePath(t,n.x,n.y,n.width,n.height,i);else{const r=n.width/2,a=n.height/2;t.moveTo(n.x+r,n.y),t.lineTo(n.x+n.width,n.y+a),t.lineTo(n.x+r,n.y+n.height),t.lineTo(n.x,n.y+a),t.closePath()}}executePath(t,n,i,r,a,l){const o=r/2,c=a/2,s=n+o,d=i+c,u=Math.hypot(o,c),h=Math.min(l,u/2)/u,g=o*h,p=c*h,y={x:s-g,y:i+p},A={x:s+g,y:i+p},v={x:n+r-g,y:d-p},x={x:n+r-g,y:d+p},C={x:s+g,y:i+a-p},_={x:s-g,y:i+a-p},F={x:n+g,y:d+p},O={x:n+g,y:d-p};t.moveTo(y.x,y.y),t.quadraticCurveTo(s,i,A.x,A.y),t.lineTo(v.x,v.y),t.quadraticCurveTo(n+r,d,x.x,x.y),t.lineTo(C.x,C.y),t.quadraticCurveTo(s,i+a,_.x,_.y),t.lineTo(F.x,F.y),t.quadraticCurveTo(n,d,O.x,O.y),t.closePath()}}class uN extends Nr{renderArchitectural(t,n,i){this.renderCommon(t)}renderSketch(t,n,i){this.renderCommon(t)}renderCommon(t){const{ctx:n,element:i,isDarkMode:r}=t;if(!i.text)return;const a=i.fontSize||20,l=i.fontFamily==="sans-serif"?"Inter, sans-serif":i.fontFamily==="monospace"?"Source Code Pro, monospace":"Handlee, cursive",o=i.fontWeight===!0||i.fontWeight==="bold"?"bold ":"",c=i.fontStyle===!0||i.fontStyle==="italic"?"italic ":"";n.save(),n.font=`${c}${o}${a}px ${l}`;const d=n.measureText(i.text).width,u=i.width&&d&&!i.textHighlightEnabled?i.width/d:1,f=i.textColor||i.strokeColor,h=wt.adjustColor(f,r),g=i.textAlign||"left";if(n.textAlign=g,n.textBaseline="hanging",i.textHighlightEnabled){const p=i.textHighlightColor||"rgba(255, 255, 0, 0.4)",y=i.textHighlightPadding??4,A=i.textHighlightRadius??2;n.fillStyle=wt.adjustColor(p,r);const v=i.text.split(`
`),x=a*1.2,C=i.fontFamily==="hand-drawn"?-2:0,_=F=>g==="center"?i.x+(i.width||F)/2:g==="right"?i.x+(i.width||F):i.x;v.forEach((F,O)=>{const E=n.measureText(F).width,I=_(E),q=i.y+O*x+C,R=y/2;n.beginPath(),n.roundRect?n.roundRect(I-(g==="center"?E/2:0)-y,q-R,E+y*2,x+R*2,A):n.rect(I-(g==="center"?E/2:0)-y,q-R,E+y*2,x+R*2),n.fill()}),n.fillStyle=h,v.forEach((F,O)=>{const E=n.measureText(F).width,I=_(E),q=i.y+O*x;n.fillText(F,I,q)})}else{n.fillStyle=h;let p=i.x;g==="center"?p=i.x+(i.width||d)/2:g==="right"&&(p=i.x+(i.width||d)),u!==1?(n.translate(p,i.y),n.scale(u,1),n.fillText(i.text,0,0)):n.fillText(i.text,p,i.y)}n.restore()}definePath(t,n){t.rect(n.x,n.y,n.width,n.height)}}class fN extends Nr{renderArchitectural(t,n,i){this.renderCommon(t)}renderSketch(t,n,i){this.renderCommon(t)}renderCommon(t){const{ctx:n,element:i}=t;if(!i.dataURL)return;const r=CS(i.dataURL);r?n.drawImage(r,i.x,i.y,i.width,i.height):(n.save(),n.fillStyle="#e5e5e5",n.fillRect(i.x,i.y,i.width,i.height),n.fillStyle="#999",n.font="12px sans-serif",n.fillText("Loading image...",i.x+10,i.y+20),n.restore())}definePath(t,n){t.rect(n.x,n.y,n.width,n.height)}}class pN extends Nr{renderArchitectural(t,n,i){const{rc:r,ctx:a,element:l,isDarkMode:o}=t,c=wt.buildRenderOptions(l,o),{mainPoints:s,foldPoints:d}=this.getPoints(l);c.fill&&c.fill!=="transparent"&&c.fill!=="none"&&(r.polygon(s,{...c,stroke:"none",fill:c.fill}),r.polygon(d,{...c,stroke:"none",fill:c.fill,fillStyle:"solid"})),a.beginPath(),a.moveTo(s[0][0],s[0][1]);for(let f=1;f<s.length;f++)a.lineTo(s[f][0],s[f][1]);a.closePath(),a.strokeStyle=wt.adjustColor(l.strokeColor,o),a.lineWidth=l.strokeWidth,a.stroke(),a.beginPath(),a.moveTo(d[0][0],d[0][1]),a.lineTo(d[1][0],d[1][1]),a.lineTo(d[2][0],d[2][1]),a.stroke(),wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),{mainPoints:c,foldPoints:s}=this.getPoints(a);r.polygon(c,o),r.polygon(s,{...o,fillStyle:"solid"}),wt.renderText(t,n,i)}getPoints(t){const n=Math.min(Math.abs(t.width),Math.abs(t.height))*.15,i=t.x,r=t.y,a=t.width,l=t.height,o=[[i,r],[i+a,r],[i+a,r+l-n],[i+a-n,r+l],[i,r+l]],c=[[i+a,r+l-n],[i+a-n,r+l-n],[i+a-n,r+l]];return{mainPoints:o,foldPoints:c}}definePath(t,n){const{mainPoints:i,foldPoints:r}=this.getPoints(n);t.moveTo(i[0][0],i[0][1]);for(let a=1;a<i.length;a++)t.lineTo(i[a][0],i[a][1]);t.closePath(),t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1])}}class gN extends Nr{renderArchitectural(t,n,i){const{element:r}=t;if(this.drawPolygon(t,r.x,r.y,r.width,r.height),r.drawInnerBorder){const a=r.innerBorderDistance||5;r.width>a*2&&r.height>a*2&&this.drawPolygon(t,r.x+a,r.y+a,r.width-a*2,r.height-a*2,!0)}wt.renderText(t,n,i)}renderSketch(t,n,i){const{element:r}=t;if(this.drawPolygon(t,r.x,r.y,r.width,r.height),r.drawInnerBorder){const a=r.innerBorderDistance||5;r.width>a*2&&r.height>a*2&&this.drawPolygon(t,r.x+a,r.y+a,r.width-a*2,r.height-a*2,!0)}wt.renderText(t,n,i)}drawPolygon(t,n,i,r,a,l=!1){const{ctx:o,rc:c,element:s,isDarkMode:d}=t,u=this.getPoints(s,n,i,r,a),f=wt.buildRenderOptions(s,d),h=wt.adjustColor(s.strokeColor,d),g=l?{...f,stroke:s.innerBorderColor||h,fill:"none"}:f;if(s.renderStyle==="architectural"){const p=f.fill&&f.fill!=="transparent"&&f.fill!=="none";!l&&p&&s.fillStyle!=="dots"&&c.polygon(u,{...g,stroke:"none",fill:f.fill}),o.beginPath(),o.moveTo(u[0][0],u[0][1]);for(let y=1;y<u.length;y++)o.lineTo(u[y][0],u[y][1]);o.closePath(),o.strokeStyle=l&&s.innerBorderColor||h,o.lineWidth=s.strokeWidth,o.lineJoin=s.strokeLineJoin||"round",o.stroke()}else c.polygon(u,g)}getPoints(t,n,i,r,a){const l=n+r/2,o=i+a/2,c=r/2,s=a/2;switch(t.type){case"triangle":return[[l,i],[n+r,i+a],[n,i+a]];case"hexagon":return this.getRegularPolyPoints(l,o,c,s,6);case"octagon":return this.getRegularPolyPoints(l,o,c,s,8);case"parallelogram":{const d=r*.2;return[[n+d,i],[n+r,i],[n+r-d,i+a],[n,i+a]]}case"trapezoid":{const d=r*.2;return[[n+d,i],[n+r-d,i],[n+r,i+a],[n,i+a]]}case"rightTriangle":return[[n,i],[n,i+a],[n+r,i+a]];case"pentagon":return this.getRegularPolyPoints(l,o,c,s,5);case"septagon":return this.getRegularPolyPoints(l,o,c,s,7);case"polygon":return this.getRegularPolyPoints(l,o,c,s,t.polygonSides||6);default:return[[n,i],[n+r,i],[n+r,i+a],[n,i+a]]}}getRegularPolyPoints(t,n,i,r,a){const l=[];for(let o=0;o<a;o++){const c=2*Math.PI/a*o-Math.PI/2;l.push([t+i*Math.cos(c),n+r*Math.sin(c)])}return l}definePath(t,n){const i=this.getPoints(n,n.x,n.y,n.width,n.height);if(!(i.length<2)){t.moveTo(i[0][0],i[0][1]);for(let r=1;r<i.length;r++)t.lineTo(i[r][0],i[r][1]);t.closePath()}}estimatePathLength(t){const n=this.getPoints(t,t.x,t.y,t.width,t.height);if(n.length<2)return 0;let i=0;for(let r=0;r<n.length;r++){const a=n[(r+1)%n.length],l=a[0]-n[r][0],o=a[1]-n[r][1];i+=Math.sqrt(l*l+o*o)}return i}}class AN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.adjustColor(a.strokeColor,l),c=a.backgroundColor==="transparent"?void 0:wt.adjustColor(a.backgroundColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"database":{const h=f*.2,g=this.getDatabasePath(s,d,u,f,h),p=this.getDatabaseTopPath(s,d,u,f,h);c&&(r.fillStyle=c,r.fill(new Path2D(g))),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.stroke(new Path2D(g)),r.stroke(new Path2D(p));break}case"document":{const h=f*.1,g=this.getDocumentPath(s,d,u,f,h);c&&(r.fillStyle=c,r.fill(new Path2D(g))),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.lineJoin="round",r.stroke(new Path2D(g));break}case"predefinedProcess":{const h=u*.1;c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f),r.beginPath(),r.moveTo(s+h,d),r.lineTo(s+h,d+f),r.moveTo(s+u-h,d),r.lineTo(s+u-h,d+f),r.stroke();break}case"internalStorage":{const h=Math.min(u,f)*.15;c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f),r.beginPath(),r.moveTo(s+h,d),r.lineTo(s+h,d+f),r.moveTo(s,d+h),r.lineTo(s+u,d+h),r.stroke();break}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=a.x,s=a.y,d=a.width,u=a.height;switch(a.type){case"database":{const f=u*.2;r.path(this.getDatabasePath(c,s,d,u,f),o),r.path(this.getDatabaseTopPath(c,s,d,u,f),o);break}case"document":{const f=u*.1;r.path(this.getDocumentPath(c,s,d,u,f),o);break}case"predefinedProcess":{const f=d*.1;r.rectangle(c,s,d,u,o),r.line(c+f,s,c+f,s+u,o),r.line(c+d-f,s,c+d-f,s+u,o);break}case"internalStorage":{const f=Math.min(d,u)*.15;r.rectangle(c,s,d,u,o),r.line(c+f,s,c+f,s+u,o),r.line(c,s+f,c+d,s+f,o);break}}wt.renderText(t,n,i)}getDatabasePath(t,n,i,r,a){return`
            M ${t} ${n+a/2}
            L ${t} ${n+r-a/2}
            A ${i/2} ${a/2} 0 0 0 ${t+i} ${n+r-a/2}
            L ${t+i} ${n+a/2}
            A ${i/2} ${a/2} 0 0 0 ${t} ${n+a/2}
            A ${i/2} ${a/2} 0 0 0 ${t+i} ${n+a/2}
        `}getDatabaseTopPath(t,n,i,r,a){return`
            M ${t} ${n+a/2}
            A ${i/2} ${a/2} 0 1 1 ${t+i} ${n+a/2}
            A ${i/2} ${a/2} 0 1 1 ${t} ${n+a/2}
        `}getDocumentPath(t,n,i,r,a){return`
            M ${t} ${n}
            L ${t+i} ${n}
            L ${t+i} ${n+r-a}
            Q ${t+i*.75} ${n+r-a*2} ${t+i*.5} ${n+r-a}
            T ${t} ${n+r-a}
            Z
        `}definePath(t,n){t.rect(n.x,n.y,n.width,n.height)}}class yN extends Nr{renderArchitectural(t,n,i){const{ctx:r,rc:a,element:l,isDarkMode:o}=t,c=wt.buildRenderOptions(l,o),s=wt.adjustColor(l.strokeColor,o),d=l.x,u=l.y,f=l.width,h=l.height;switch(l.type){case"starPerson":{const g=Math.min(Math.abs(f),Math.abs(h))*.15,p=d+f/2,y=u+g,A=this.getStarPersonBodyPoints(d,u,f,h,g);c.fill&&c.fill!=="transparent"&&c.fill!=="none"&&(a.ellipse(p,y,g*2,g*2,{...c,stroke:"none",fill:c.fill}),a.polygon(A,{...c,stroke:"none",fill:c.fill})),r.beginPath(),r.ellipse(p,y,g,g,0,0,Math.PI*2),r.moveTo(A[0][0],A[0][1]);for(let v=1;v<A.length;v++)r.lineTo(A[v][0],A[v][1]);r.strokeStyle=s,r.lineWidth=l.strokeWidth,r.stroke();break}case"lightbulb":{const g=Math.min(f,h/1.5)/2,p=f*.4,y=h*.25,A=u+h-y,v=this.getLightbulbPath(d,u,f,g,p,A);c.fill&&c.fill!=="transparent"&&c.fill!=="none"&&(r.fillStyle=c.fill,r.fill(new Path2D(v)),r.fillRect(d+f/2-p/2,A,p,y)),r.strokeStyle=s,r.lineWidth=l.strokeWidth,r.stroke(new Path2D(v)),r.strokeRect(d+f/2-p/2,A,p,y);break}case"signpost":{const g=Math.max(4,f*.05),p=h*.3,y=f*.9,A=u+h*.1,v=d+f/2-g/2,x=d+f/2-y/2;c.fill&&c.fill!=="transparent"&&c.fill!=="none"&&(r.fillStyle=c.fill,r.fillRect(v,u,g,h),r.fillRect(x,A,y,p)),r.strokeStyle=s,r.lineWidth=l.strokeWidth,r.strokeRect(v,u,g,h),r.strokeRect(x,A,y,p);break}case"burstBlob":{const g=this.getBurstBlobPath(l);c.fill&&c.fill!=="transparent"&&c.fill!=="none"&&(r.fillStyle=c.fill,r.fill(new Path2D(g))),r.strokeStyle=s,r.lineWidth=l.strokeWidth,r.stroke(new Path2D(g)),r.stroke(new Path2D(g));break}case"wavyDivider":{const g=this.getWavyDividerPath(d,u,f,h);r.strokeStyle=s,r.lineWidth=l.strokeWidth,r.stroke(new Path2D(g));break}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=a.x,s=a.y,d=a.width,u=a.height;switch(a.type){case"starPerson":{const f=Math.min(Math.abs(d),Math.abs(u))*.15;r.ellipse(c+d/2,s+f,f*2,f*2,o),r.polygon(this.getStarPersonBodyPoints(c,s,d,u,f),o);break}case"lightbulb":{const f=Math.min(d,u/1.5)/2,h=d*.4,g=u*.25,p=s+u-g;r.path(this.getLightbulbPath(c,s,d,f,h,p),o),r.rectangle(c+d/2-h/2,p,h,g,o);break}case"signpost":{const f=Math.max(4,d*.05),h=u*.3,g=d*.9,p=s+u*.1;r.rectangle(c+d/2-f/2,s,f,u,{...o,fill:"none"}),r.rectangle(c+d/2-g/2,p,g,h,o);break}case"burstBlob":{r.path(this.getBurstBlobPath(a),o);break}case"wavyDivider":{r.path(this.getWavyDividerPath(c,s,d,u),o);break}}wt.renderText(t,n,i)}getStarPersonBodyPoints(t,n,i,r,a){const l=t+i/2;return[[l,n+a*2],[t,n+r*.4],[l,n+r*.5],[t+i,n+r*.4],[l,n+a*2],[t+i*.8,n+r],[l,n+r*.7],[t+i*.2,n+r],[l,n+a*2]]}getLightbulbPath(t,n,i,r,a,l){const o=t+i/2;return`
            M ${o-a/2} ${l}
            C ${o-a/2} ${n+r} ${t} ${n+r*1.5} ${t} ${n+r}
            A ${r} ${r} 0 1 1 ${t+i} ${n+r}
            C ${t+i} ${n+r*1.5} ${o+a/2} ${n+r} ${o+a/2} ${l}
            Z
        `}getWavyDividerPath(t,n,i,r){const a=n+r/2,l=4,o=i/l;let c=`M ${t} ${a}`;for(let s=0;s<l;s++){const d=t+s*o;c+=` Q ${d+o/4} ${a-r/2}, ${d+o/2} ${a}`,c+=` Q ${d+o*.75} ${a+r/2}, ${d+o} ${a}`}return c}getBurstBlobPath(t){const n=t.x,i=t.y,r=t.width,a=t.height,l=n+r/2,o=i+a/2,c=r/2,s=a/2,d=12,u=Math.min(c,s),f=u*.6,h=t.seed||1,g=y=>{let A=y+=1831565813;return A=Math.imul(A^A>>>15,A|1),A^=A+Math.imul(A^A>>>7,A|61),((A^A>>>14)>>>0)/4294967296};let p="";for(let y=0;y<d*2;y++){const A=y%2===0?u:f,v=g(h+y),x=A+(v-.5)*(u*.1),C=Math.PI*y/d,_=l+Math.cos(C)*(r/a)*x,F=o+Math.sin(C)*x;p+=(y===0?"M ":" L ")+_+" "+F}return p+" Z"}definePath(t,n){t.rect(n.x,n.y,n.width,n.height)}}class mN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.adjustColor(a.strokeColor,l),c=a.backgroundColor==="transparent"?void 0:wt.adjustColor(a.backgroundColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"server":{c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f);const h=f*.05,g=u*.7,p=s+(u-g)/2;r.fillStyle=o;for(let y=0;y<3;y++)r.fillRect(p,d+f-(y+1)*h*2-h,g,h);break}case"loadBalancer":{const h=s+u/2,g=d+f/2;c&&(r.fillStyle=c,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.stroke();const p=u*.3;r.beginPath(),r.moveTo(h-p,g),r.lineTo(h+p,g),r.stroke(),this.drawArchArrowhead(r,h+p,g,0),this.drawArchArrowhead(r,h-p,g,Math.PI);break}case"firewall":{c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f);const h=4,g=3,p=f/h,y=u/g;r.beginPath();for(let A=1;A<h;A++)r.moveTo(s,d+A*p),r.lineTo(s+u,d+A*p);for(let A=0;A<h;A++){const v=A%2===0?0:y/2;for(let x=1;x<g;x++){const C=s+x*y+v;C<s+u&&(r.moveTo(C,d+A*p),r.lineTo(C,d+(A+1)*p))}}r.stroke();break}case"user":{const h=Math.min(u,f)*.25,g=s+u/2;c&&(r.fillStyle=c,r.beginPath(),r.arc(g,d+h,h,0,Math.PI*2),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.beginPath(),r.arc(g,d+h,h,0,Math.PI*2),r.stroke();const p=u*.8;r.beginPath(),r.moveTo(g-p/2,d+f),r.quadraticCurveTo(g,d+h*1.5,g+p/2,d+f),r.stroke();break}case"messageQueue":{c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f);const h=4,g=u/h;r.beginPath();for(let p=1;p<h;p++)r.moveTo(s+p*g,d),r.lineTo(s+p*g,d+f);r.stroke();break}case"lambda":{const h=s+u/2,g=d+f/2,p=u*.4,y=f*.6,A=h-p/2,v=g-y/2,x=`M ${A+p} ${v} L ${A} ${v+y*.6} L ${A+p*.6} ${v+y*.5} L ${A} ${v+y} L ${A+p} ${v+y*.4} L ${A+p*.4} ${v+y*.5} Z`;c&&(r.fillStyle=c,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.stroke(),r.fillStyle=o,r.fill(new Path2D(x));break}case"router":{const h=s+u/2,g=d+f/2;c&&(r.fillStyle=c,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.beginPath(),r.ellipse(h,g,u/2,f/2,0,0,Math.PI*2),r.stroke();const p=Math.min(u,f)*.3;r.beginPath();for(let y=0;y<4;y++){const A=Math.PI/2*y+Math.PI/4;r.moveTo(h,g),r.lineTo(h+p*Math.cos(A),g+p*Math.sin(A))}r.stroke();break}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=wt.adjustColor(a.strokeColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"server":{r.rectangle(s,d,u,f,o);const h=u*.7,g=f*.05,p=s+(u-h)/2;for(let y=0;y<3;y++)r.rectangle(p,d+f-(y+1)*g*2-g,h,g,{...o,fillStyle:"solid",fill:c});break}case"loadBalancer":{const h=s+u/2,g=d+f/2;r.ellipse(h,g,u,f,o);const p=u*.3;r.line(h-p,g,h+p,g,o),this.drawSketchArrowhead(r,h+p,g,0,o),this.drawSketchArrowhead(r,h-p,g,Math.PI,o);break}case"firewall":{r.rectangle(s,d,u,f,o);const h=4,g=3,p=f/h,y=u/g;for(let A=1;A<h;A++)r.line(s,d+A*p,s+u,d+A*p,o);for(let A=0;A<h;A++){const v=A%2===0?0:y/2;for(let x=1;x<g;x++){const C=s+x*y+v;C<s+u&&r.line(C,d+A*p,C,d+(A+1)*p,o)}}break}case"user":{const h=Math.min(u,f)*.25,g=s+u/2;r.circle(g,d+h,h*2,o);const p=u*.8,y=`M ${g-p/2} ${d+f} Q ${g} ${d+h*1.5} ${g+p/2} ${d+f} Z`;r.path(y,o);break}case"messageQueue":{r.rectangle(s,d,u,f,o);const h=4,g=u/h;for(let p=1;p<h;p++)r.line(s+p*g,d,s+p*g,d+f,o);break}case"lambda":{const h=s+u/2,g=d+f/2,p=u*.4,y=f*.6,A=h-p/2,v=g-y/2,x=`M ${A+p} ${v} L ${A} ${v+y*.6} L ${A+p*.6} ${v+y*.5} L ${A} ${v+y} L ${A+p} ${v+y*.4} L ${A+p*.4} ${v+y*.5} Z`;r.ellipse(h,g,u,f,o),r.path(x,{...o,fillStyle:"solid",fill:c});break}case"router":{const h=s+u/2,g=d+f/2;r.ellipse(h,g,u,f,o);const p=Math.min(u,f)*.3;for(let y=0;y<4;y++){const A=Math.PI/2*y+Math.PI/4,v=h+p*Math.cos(A),x=g+p*Math.sin(A);r.line(h,g,v,x,o),this.drawSketchArrowhead(r,v,x,A,o)}break}}wt.renderText(t,n,i)}drawArchArrowhead(t,n,i,r){t.beginPath(),t.moveTo(n-5*Math.cos(r-Math.PI/6),i-5*Math.sin(r-Math.PI/6)),t.lineTo(n,i),t.lineTo(n-5*Math.cos(r+Math.PI/6),i-5*Math.sin(r+Math.PI/6)),t.stroke()}drawSketchArrowhead(t,n,i,r,a){const o={x:n-10*Math.cos(r-Math.PI/6),y:i-10*Math.sin(r-Math.PI/6)},c={x:n-10*Math.cos(r+Math.PI/6),y:i-10*Math.sin(r+Math.PI/6)};t.line(n,i,o.x,o.y,a),t.line(n,i,c.x,c.y,a)}definePath(t,n){n.type==="loadBalancer"||n.type==="router"||n.type==="lambda"?t.ellipse(n.x+n.width/2,n.y+n.height/2,n.width/2,n.height/2,0,0,Math.PI*2):t.rect(n.x,n.y,n.width,n.height)}}class vN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.adjustColor(a.strokeColor,l),c=a.backgroundColor==="transparent"?void 0:wt.adjustColor(a.backgroundColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"browserWindow":{c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f);const h=Math.min(f*.15,30);r.strokeRect(s,d,u,h);const g=4;for(let p=0;p<3;p++)r.beginPath(),r.arc(s+10+p*15,d+h/2,g,0,Math.PI*2),r.stroke();break}case"mobilePhone":{c&&(r.fillStyle=c,r.roundRect(s,d,u,f,20),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.beginPath(),r.roundRect(s,d,u,f,20),r.stroke();const g=10;r.strokeRect(s+g,d+g+20,u-2*g,f-2*g-40),r.beginPath(),r.arc(s+u/2,d+f-20,10,0,Math.PI*2),r.stroke();break}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=a.x,s=a.y,d=a.width,u=a.height;switch(a.type){case"browserWindow":{r.rectangle(c,s,d,u,o);const f=Math.min(u*.15,30);r.rectangle(c,s,d,f,o);for(let h=0;h<3;h++)r.circle(c+10+h*15,s+f/2,8,o);break}case"mobilePhone":{const h=this.getRoundedRectPath(c,s,d,u,20);r.path(h,o);const g=10;r.rectangle(c+g,s+g+20,d-2*g,u-2*g-40,o),r.circle(c+d/2,s+u-20,20,o);break}}wt.renderText(t,n,i)}getRoundedRectPath(t,n,i,r,a){const l=Math.min(Math.abs(i)/2,a),o=Math.min(Math.abs(r)/2,a);return`M ${t+l} ${n} L ${t+i-l} ${n} Q ${t+i} ${n} ${t+i} ${n+o} L ${t+i} ${n+r-o} Q ${t+i} ${n+r} ${t+i-l} ${n+r} L ${t+l} ${n+r} Q ${t} ${n+r} ${t} ${n+r-o} L ${t} ${n+o} Q ${t} ${n} ${t+l} ${n}`}definePath(t,n){const i=n.x,r=n.y,a=n.width,l=n.height;n.type==="mobilePhone"?t.roundRect(i,r,a,l,20):t.rect(i,r,a,l)}}class bN extends Nr{renderArchitectural(t,n,i){this.renderCommon(t)}renderSketch(t,n,i){this.renderCommon(t)}renderCommon(t){const{ctx:n,element:i,isDarkMode:r}=t,a=wt.adjustColor(i.strokeColor,r);if(i.type==="organicBranch"){const l=Jn(i.points),o=i.controlPoints||[];if(l.length<2||o.length<2)return;const c={x:i.x+l[0].x,y:i.y+l[0].y},s={x:i.x+l[l.length-1].x,y:i.y+l[l.length-1].y},d=o[0],u=o[1];this.drawOrganicBranch(n,c,s,d,u,a,i.strokeWidth,i.text||"",a),this.renderFlow(t,c,s,d,u)}}renderFlow(t,n,i,r,a){const{ctx:l,element:o,isDarkMode:c}=t;if(!o.flowAnimation)return;const s=window.yappyGlobalTime||performance.now(),d=(o.flowSpeed??2)*50,u=s/1e3*d,f=wt.adjustColor(o.flowColor||o.strokeColor,c),h=Math.max(2,o.strokeWidth*1.5),g=100/(o.flowDensity||3);l.save(),l.fillStyle=f,l.shadowBlur=o.flowStyle==="pulse"?h:0,l.shadowColor=f;const p=Math.sqrt((i.x-n.x)**2+(i.y-n.y)**2),y=Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2)+Math.sqrt((a.x-r.x)**2+(a.y-r.y)**2)+Math.sqrt((i.x-a.x)**2+(i.y-a.y)**2),A=(p+y)/2,v=Math.ceil(A/5);for(let x=0;x<=v;x++){const C=x/v;if((C*A+u)%g<d/10){const F=this.cubicBezier(n.x,r.x,a.x,i.x,C),O=this.cubicBezier(n.y,r.y,a.y,i.y,C),E=Math.min(1,C+.01),I=this.cubicBezier(n.x,r.x,a.x,i.x,E),q=this.cubicBezier(n.y,r.y,a.y,i.y,E),R=Math.atan2(q-O,I-F);this.drawPulse(l,F,O,h,o.flowStyle,R)}}l.restore()}drawPulse(t,n,i,r,a,l=0){if(t.save(),t.translate(n,i),t.rotate(l),a==="dashes")t.fillRect(-r,-r/2,r*2,r);else if(a==="pulse"){t.beginPath(),t.arc(0,0,r*1.5,0,Math.PI*2);const o=.5+.5*Math.sin(performance.now()/100);t.globalAlpha*=o,t.fill()}else t.beginPath(),t.arc(0,0,r,0,Math.PI*2),t.fill();t.restore()}cubicBezier(t,n,i,r,a){const l=1-a;return l*l*l*t+3*l*l*a*n+3*l*a*a*i+a*a*a*r}cubicBezierAngle(t,n,i,r,a){const l=3*(1-a)*(1-a)*(n.x-t.x)+6*(1-a)*a*(i.x-n.x)+3*a*a*(r.x-i.x),o=3*(1-a)*(1-a)*(n.y-t.y)+6*(1-a)*a*(i.y-n.y)+3*a*a*(r.y-i.y);return Math.atan2(o,l)}drawOrganicBranch(t,n,i,r,a,l,o,c,s){const u=[],f=[],h=Math.max(o*8,4),g=Math.max(o*2,2);for(let p=0;p<=20;p++){const y=p/20,A=this.cubicBezier(n.x,r.x,a.x,i.x,y),v=this.cubicBezier(n.y,r.y,a.y,i.y,y),x=this.cubicBezierAngle(n,r,a,i,y),_=(h+(g-h)*y)/2,F=Math.cos(x+Math.PI/2)*_,O=Math.sin(x+Math.PI/2)*_;u.push({x:A+F,y:v+O}),f.push({x:A-F,y:v-O})}t.beginPath(),t.moveTo(u[0].x,u[0].y);for(let p=1;p<u.length;p++)t.lineTo(u[p].x,u[p].y);t.lineTo(f[f.length-1].x,f[f.length-1].y);for(let p=f.length-2;p>=0;p--)t.lineTo(f[p].x,f[p].y);if(t.closePath(),t.fillStyle=l,t.fill(),c){t.save(),t.font="16px sans-serif",t.fillStyle=s,t.textAlign="center",t.textBaseline="middle";const p=this.cubicBezier(n.x,r.x,a.x,i.x,.5),y=this.cubicBezier(n.y,r.y,a.y,i.y,.5),A=this.cubicBezierAngle(n,r,a,i,.5),v=-15;t.translate(p,y);let x=A;(x>Math.PI/2||x<-Math.PI/2)&&(x+=Math.PI),t.rotate(x),t.fillText(c,0,v),t.restore()}}definePath(t,n){if(n.type==="organicBranch"){const i=Jn(n.points),r=n.controlPoints||[];if(i.length<2||r.length<2)return;const a={x:n.x+i[0].x,y:n.y+i[0].y},l={x:n.x+i[i.length-1].x,y:n.y+i[i.length-1].y},o=r[0],c=r[1];t.moveTo(a.x,a.y),t.bezierCurveTo(o.x,o.y,c.x,c.y,l.x,l.y)}}}class wN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.adjustColor(a.strokeColor,l),c=a.backgroundColor==="transparent"?void 0:wt.adjustColor(a.backgroundColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"browser":{c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f);const h=f*.15;r.beginPath(),r.moveTo(s,d+h),r.lineTo(s+u,d+h),r.stroke(),r.fillStyle=o;const g=h*.2;for(let p=0;p<3;p++)r.beginPath(),r.arc(s+h*(.5+p*.6),d+h/2,g,0,Math.PI*2),r.fill();break}case"ghostButton":{const h=Math.min(u,f)*.2;c&&(r.fillStyle=c,r.roundRect(s,d,u,f,h),r.fill()),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.setLineDash([4,4]),r.roundRect(s,d,u,f,h),r.stroke(),r.setLineDash([]);break}case"inputField":{if(c&&(r.fillStyle=c,r.fillRect(s,d,u,f)),r.strokeStyle=o,r.lineWidth=a.strokeWidth,r.strokeRect(s,d,u,f),r.beginPath(),r.moveTo(s+10,d+8),r.lineTo(s+10,d+f-8),r.stroke(),a.containerText){r.save(),r.textAlign="left";const h=s+25,g=ki(r,a,a.containerText,u-30),p=d+(f-g.textHeight)/2+g.lineHeight/2;r.fillStyle=o,g.lines.forEach((y,A)=>{r.fillText(y,h,p+A*g.lineHeight)}),r.restore();return}break}}wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=wt.adjustColor(a.strokeColor,l),s=a.x,d=a.y,u=a.width,f=a.height;switch(a.type){case"browser":{r.rectangle(s,d,u,f,o);const h=f*.15;r.line(s,d+h,s+u,d+h,o);const g=h*.3;for(let p=0;p<3;p++)r.circle(s+h*(.5+p*.6),d+h/2,g,{...o,fillStyle:"solid",fill:c});break}case"ghostButton":{const h=Math.min(u,f)*.2,g=this.getRoundedRectPath(s,d,u,f,h);r.path(g,{...o,strokeLineDash:[4,4]});break}case"inputField":{r.rectangle(s,d,u,f,o),r.line(s+10,d+8,s+10,d+f-8,o);break}}wt.renderText(t,n,i)}getRoundedRectPath(t,n,i,r,a){const l=Math.min(Math.abs(i)/2,a),o=Math.min(Math.abs(r)/2,a);return`M ${t+l} ${n} L ${t+i-l} ${n} Q ${t+i} ${n} ${t+i} ${n+o} L ${t+i} ${n+r-o} Q ${t+i} ${n+r} ${t+i-l} ${n+r} L ${t+l} ${n+r} Q ${t} ${n+r} ${t} ${n+r-o} L ${t} ${n+o} Q ${t} ${n} ${t+l} ${n}`}definePath(t,n){if(n.type==="ghostButton"){const i=Math.min(n.width,n.height)*.2;t.roundRect(n.x,n.y,n.width,n.height,i)}else t.rect(n.x,n.y,n.width,n.height)}}class xN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.adjustColor(a.strokeColor,l),c=a.backgroundColor==="transparent"?"#ffffff":wt.adjustColor(a.backgroundColor,l);r.save(),r.strokeStyle=o,r.fillStyle=c,r.lineWidth=a.strokeWidth,r.lineCap="round",r.lineJoin=a.strokeLineJoin||"round",a.strokeStyle==="dashed"?r.setLineDash([8,8]):a.strokeStyle==="dotted"&&r.setLineDash([2,4]),r.beginPath(),this.definePath(r,a),r.stroke(),this.renderFlow(t);const s=Jn(a.points);let d,u;s.length>=2?(d={x:a.x+s[0].x,y:a.y+s[0].y},u={x:a.x+s[s.length-1].x,y:a.y+s[s.length-1].y}):(d={x:a.x,y:a.y},u={x:a.x+a.width,y:a.y+a.height});let f;if(a.curveType==="bezier"){const h=a.controlPoints?.[0]||{x:d.x,y:d.y},g=a.controlPoints?.[1]||h;if(a.startArrowhead){const p=Math.atan2(d.y-h.y,d.x-h.x);this.drawArrowheadArchitectural(r,d.x,d.y,p,a.startArrowhead)}if(a.endArrowhead){const p=Math.atan2(u.y-g.y,u.x-g.x);this.drawArrowheadArchitectural(r,u.x,u.y,p,a.endArrowhead)}}else if(a.curveType==="elbow"&&s.length>=2){const h={x:a.x+s[0].x,y:a.y+s[0].y},g={x:a.x+s[1].x,y:a.y+s[1].y},p=Math.atan2(h.y-g.y,h.x-g.x);a.startArrowhead&&this.drawArrowheadArchitectural(r,h.x,h.y,p,a.startArrowhead);const y={x:a.x+s[s.length-1].x,y:a.y+s[s.length-1].y},A={x:a.x+s[s.length-2].x,y:a.y+s[s.length-2].y},v=Math.atan2(y.y-A.y,y.x-A.x);a.endArrowhead&&this.drawArrowheadArchitectural(r,y.x,y.y,v,a.endArrowhead)}else f=Math.atan2(u.y-d.y,u.x-d.x),a.startArrowhead&&this.drawArrowheadArchitectural(r,d.x,d.y,f+Math.PI,a.startArrowhead),a.endArrowhead&&this.drawArrowheadArchitectural(r,u.x,u.y,f,a.endArrowhead);r.restore()}renderSketch(t,n,i){this.renderCommon(t,n,i),this.renderFlow(t)}renderCommon(t,n,i){const{element:r,isDarkMode:a}=t,l=wt.buildRenderOptions(r,a);r.curveType==="bezier"?this.renderBezier(t,l):r.curveType==="elbow"?this.renderElbow(t,l):this.renderStraight(t,l)}renderBezier(t,n){n={...n,fill:void 0};const{rc:i,element:r}=t,a=r.x+r.width,l=r.y+r.height,o=Jn(r.points);let c={x:r.x,y:r.y},s={x:a,y:l};if(o.length>=2&&(c={x:r.x+o[0].x,y:r.y+o[0].y},s={x:r.x+o[o.length-1].x,y:r.y+o[o.length-1].y}),r.controlPoints&&r.controlPoints.length>0){const d=r.controlPoints[0];if(r.controlPoints.length>1){const u=r.controlPoints[1],f=`M ${c.x} ${c.y} C ${d.x} ${d.y}, ${u.x} ${u.y}, ${s.x} ${s.y}`;i.path(f,n),r.startArrowhead&&this.drawArrowhead(i,c.x,c.y,Math.atan2(c.y-d.y,c.x-d.x),r.startArrowhead,n),r.endArrowhead&&this.drawArrowhead(i,s.x,s.y,Math.atan2(s.y-u.y,s.x-u.x),r.endArrowhead,n)}else{const u=`M ${c.x} ${c.y} Q ${d.x} ${d.y}, ${s.x} ${s.y}`;i.path(u,n),r.startArrowhead&&this.drawArrowhead(i,c.x,c.y,Math.atan2(c.y-d.y,c.x-d.x),r.startArrowhead,n),r.endArrowhead&&this.drawArrowhead(i,s.x,s.y,Math.atan2(s.y-d.y,s.x-d.x),r.endArrowhead,n)}}else{const d=r.width,u=r.height;let f,h;Math.abs(d)>Math.abs(u)?(f={x:c.x+d/2,y:c.y},h={x:s.x-d/2,y:s.y}):(f={x:c.x,y:c.y+u/2},h={x:s.x,y:s.y-u/2});const g=`M ${c.x} ${c.y} C ${f.x} ${f.y}, ${h.x} ${h.y}, ${s.x} ${s.y}`;i.path(g,n),r.startArrowhead&&this.drawArrowhead(i,c.x,c.y,Math.atan2(c.y-f.y,c.x-f.x),r.startArrowhead,n),r.endArrowhead&&this.drawArrowhead(i,s.x,s.y,Math.atan2(s.y-h.y,s.x-h.x),r.endArrowhead,n)}}renderElbow(t,n){n={...n,fill:void 0};const{rc:i,element:r}=t,a=Jn(r.points),l=a&&a.length>0?a.map(c=>[r.x+c.x,r.y+c.y]):[[r.x,r.y],[r.x+r.width,r.y+r.height]];i.linearPath(l,n);const o=l.filter((c,s,d)=>s===0||Math.abs(c[0]-d[s-1][0])>.1||Math.abs(c[1]-d[s-1][1])>.1);if(r.startArrowhead&&o.length>=2){const c=Math.atan2(o[0][1]-o[1][1],o[0][0]-o[1][0]);this.drawArrowhead(i,o[0][0],o[0][1],c,r.startArrowhead,n)}if(r.endArrowhead&&o.length>=2){const c=o.length,s=Math.atan2(o[c-1][1]-o[c-2][1],o[c-1][0]-o[c-2][0]);this.drawArrowhead(i,o[c-1][0],o[c-1][1],s,r.endArrowhead,n)}}renderStraight(t,n){n={...n,fill:void 0};const{rc:i,element:r}=t,a=Jn(r.points);let l,o;a.length>=2?(l={x:r.x+a[0].x,y:r.y+a[0].y},o={x:r.x+a[a.length-1].x,y:r.y+a[a.length-1].y}):(l={x:r.x,y:r.y},o={x:r.x+r.width,y:r.y+r.height}),i.line(l.x,l.y,o.x,o.y,n);const c=Math.atan2(o.y-l.y,o.x-l.x);r.startArrowhead&&this.drawArrowhead(i,l.x,l.y,c+Math.PI,r.startArrowhead,n),r.endArrowhead&&this.drawArrowhead(i,o.x,o.y,c,r.endArrowhead,n)}drawArrowhead(t,n,i,r,a,l){const c={x:n-12*Math.cos(r-Math.PI/6),y:i-12*Math.sin(r-Math.PI/6)},s={x:n-12*Math.cos(r+Math.PI/6),y:i-12*Math.sin(r+Math.PI/6)};if(a==="triangle"||a==="arrow")a==="triangle"?t.polygon([[n,i],[c.x,c.y],[s.x,s.y]],{...l,fill:"#ffffff",fillStyle:"solid"}):(t.line(n,i,c.x,c.y,l),t.line(n,i,s.x,s.y,l));else if(a==="circle"||a==="dot")t.circle(n,i,12,{...l,fill:a==="dot"?l.stroke:"#ffffff",fillStyle:"solid"});else if(a==="diamond"||a==="diamondFilled"){const d={x:n-24*Math.cos(r),y:i-24*Math.sin(r)},u={x:n-12*Math.cos(r),y:i-12*Math.sin(r)},f={x:u.x-12/2*Math.cos(r-Math.PI/2),y:u.y-12/2*Math.sin(r-Math.PI/2)},h={x:u.x-12/2*Math.cos(r+Math.PI/2),y:u.y-12/2*Math.sin(r+Math.PI/2)};t.polygon([[n,i],[f.x,f.y],[d.x,d.y],[h.x,h.y]],{...l,fill:a==="diamondFilled"?l.stroke:"#ffffff",fillStyle:"solid"})}else if(a==="crowsfoot"){const d={x:n-12*Math.cos(r-Math.PI/4),y:i-12*Math.sin(r-Math.PI/4)},u={x:n-12*Math.cos(r+Math.PI/4),y:i-12*Math.sin(r+Math.PI/4)},f={x:n-12*Math.cos(r),y:i-12*Math.sin(r)};t.line(n,i,d.x,d.y,l),t.line(n,i,u.x,u.y,l),t.line(n,i,f.x,f.y,l)}else if(a==="bar"){const d=n+Math.cos(r+Math.PI/2)*12,u=i+Math.sin(r+Math.PI/2)*12,f=n+Math.cos(r-Math.PI/2)*12,h=i+Math.sin(r-Math.PI/2)*12;t.line(d,u,f,h,l)}}drawArrowheadArchitectural(t,n,i,r,a){t.save(),t.translate(n,i),t.rotate(r),t.setLineDash([]),a==="triangle"||a==="arrow"?(t.beginPath(),t.moveTo(0,0),t.lineTo(-12*Math.cos(Math.PI/6),-12*Math.sin(Math.PI/6)),a==="triangle"?(t.lineTo(-12*Math.cos(-Math.PI/6),-12*Math.sin(-Math.PI/6)),t.closePath(),t.fillStyle="#ffffff",t.fill()):(t.moveTo(0,0),t.lineTo(-12*Math.cos(-Math.PI/6),-12*Math.sin(-Math.PI/6))),t.stroke()):a==="circle"||a==="dot"?(t.beginPath(),t.arc(-12/2*Math.cos(0),0,12/2,0,Math.PI*2),a==="dot"?t.fillStyle=t.strokeStyle:t.fillStyle="#ffffff",t.fill(),t.stroke()):a==="diamond"||a==="diamondFilled"?(t.beginPath(),t.moveTo(0,0),t.lineTo(-12,-12/2),t.lineTo(-24,0),t.lineTo(-12,12/2),t.closePath(),a==="diamondFilled"?t.fillStyle=t.strokeStyle:t.fillStyle="#ffffff",t.fill(),t.stroke()):a==="crowsfoot"?(t.beginPath(),t.moveTo(0,0),t.lineTo(-12*Math.cos(Math.PI/4),-12*Math.sin(Math.PI/4)),t.moveTo(0,0),t.lineTo(-12*Math.cos(-Math.PI/4),-12*Math.sin(-Math.PI/4)),t.moveTo(0,0),t.lineTo(-12,0),t.stroke()):a==="bar"&&(t.beginPath(),t.moveTo(0,-12),t.lineTo(0,12),t.stroke()),t.restore()}renderFlow(t){const{ctx:n,element:i,isDarkMode:r}=t;if(!i.flowAnimation)return;const a=window.yappyGlobalTime||performance.now(),l=(i.flowSpeed??2)*50,o=a/1e3*l,c=wt.adjustColor(i.flowColor||i.strokeColor,r),s=Math.max(2,i.strokeWidth*1.5),d=100/(i.flowDensity||3);n.save(),n.fillStyle=c,n.shadowBlur=i.flowStyle==="pulse"?s:0,n.shadowColor=c;const u=Jn(i.points);let f,h;if(u.length>=2?(f={x:i.x+u[0].x,y:i.y+u[0].y},h={x:i.x+u[u.length-1].x,y:i.y+u[u.length-1].y}):(f={x:i.x,y:i.y},h={x:i.x+i.width,y:i.y+i.height}),i.curveType==="bezier"){let g,p;if(i.controlPoints&&i.controlPoints.length>0)g=i.controlPoints[0],p=i.controlPoints.length>1?i.controlPoints[1]:g;else{const C=i.width,_=i.height;Math.abs(C)>Math.abs(_)?(g={x:f.x+C/2,y:f.y},p={x:h.x-C/2,y:h.y}):(g={x:f.x,y:f.y+_/2},p={x:h.x,y:h.y-_/2})}const y=Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),A=Math.sqrt((g.x-f.x)**2+(g.y-f.y)**2)+Math.sqrt((p.x-g.x)**2+(p.y-g.y)**2)+Math.sqrt((h.x-p.x)**2+(h.y-p.y)**2),v=(y+A)/2,x=Math.ceil(v/5);for(let C=0;C<=x;C++){const _=C/x;if((_*v+o)%d<l/10){const O=Rc(f.x,g.x,p.x,h.x,_),E=Rc(f.y,g.y,p.y,h.y,_),I=Math.min(1,_+.01),q=Rc(f.x,g.x,p.x,h.x,I),R=Rc(f.y,g.y,p.y,h.y,I),P=Math.atan2(R-E,q-O);this.drawPulse(n,O,E,s,i.flowStyle,P)}}}else if(i.curveType==="elbow"&&u.length>=2){let g=0;for(let p=0;p<u.length-1;p++){const y={x:i.x+u[p].x,y:i.y+u[p].y},A={x:i.x+u[p+1].x,y:i.y+u[p+1].y},v=Math.sqrt((A.x-y.x)**2+(A.y-y.y)**2),x=Math.atan2(A.y-y.y,A.x-y.x),C=Math.ceil(v/5);for(let _=0;_<=C;_++){const F=_/C;if((g+F*v+o)%d<l/10){const E=y.x+(A.x-y.x)*F,I=y.y+(A.y-y.y)*F;this.drawPulse(n,E,I,s,i.flowStyle,x)}}g+=v}}else{const g=h.x-f.x,p=h.y-f.y,y=Math.sqrt(g*g+p*p),A=Math.atan2(p,g),v=Math.ceil(y/5);for(let x=0;x<=v;x++){const C=x/v;if((C*y+o)%d<l/10){const F=f.x+g*C,O=f.y+p*C;this.drawPulse(n,F,O,s,i.flowStyle,A)}}}n.restore()}drawPulse(t,n,i,r,a,l=0){if(t.save(),t.translate(n,i),t.rotate(l),a==="dashes")t.fillRect(-r,-r/2,r*2,r);else if(a==="pulse"){t.beginPath(),t.arc(0,0,r*1.5,0,Math.PI*2);const o=.5+.5*Math.sin(performance.now()/100);t.globalAlpha*=o,t.fill()}else t.beginPath(),t.arc(0,0,r,0,Math.PI*2),t.fill();t.restore()}definePath(t,n){const i=Jn(n.points);let r,a;if(i.length>=2?(r={x:n.x+i[0].x,y:n.y+i[0].y},a={x:n.x+i[i.length-1].x,y:n.y+i[i.length-1].y}):(r={x:n.x,y:n.y},a={x:n.x+n.width,y:n.y+n.height}),n.curveType==="bezier"){const l=n.width,o=n.height;let c,s;n.controlPoints&&n.controlPoints.length>0?(c=n.controlPoints[0],n.controlPoints.length>1?(s=n.controlPoints[1],t.moveTo(r.x,r.y),t.bezierCurveTo(c.x,c.y,s.x,s.y,a.x,a.y)):(t.moveTo(r.x,r.y),t.quadraticCurveTo(c.x,c.y,a.x,a.y))):(Math.abs(l)>Math.abs(o)?(c={x:r.x+l/2,y:r.y},s={x:a.x-l/2,y:a.y}):(c={x:r.x,y:r.y+o/2},s={x:a.x,y:a.y-o/2}),t.moveTo(r.x,r.y),t.bezierCurveTo(c.x,c.y,s.x,s.y,a.x,a.y))}else if(n.curveType==="elbow"){const l=i&&i.length>0?i.map(o=>({x:n.x+o.x,y:n.y+o.y})):[r,a];t.moveTo(l[0].x,l[0].y);for(let o=1;o<l.length;o++)t.lineTo(l[o].x,l[o].y)}else t.moveTo(r.x,r.y),t.lineTo(a.x,a.y)}estimatePathLength(t){const n=Jn(t.points);let i,r;if(n.length>=2?(i={x:t.x+n[0].x,y:t.y+n[0].y},r={x:t.x+n[n.length-1].x,y:t.y+n[n.length-1].y}):(i={x:t.x,y:t.y},r={x:t.x+t.width,y:t.y+t.height}),t.curveType==="bezier"){let a,l;if(t.controlPoints&&t.controlPoints.length>0)a=t.controlPoints[0],l=t.controlPoints.length>1?t.controlPoints[1]:a;else{const s=t.width,d=t.height;Math.abs(s)>Math.abs(d)?(a={x:i.x+s/2,y:i.y},l={x:r.x-s/2,y:r.y}):(a={x:i.x,y:i.y+d/2},l={x:r.x,y:r.y-d/2})}const o=Math.sqrt((r.x-i.x)**2+(r.y-i.y)**2),c=Math.sqrt((a.x-i.x)**2+(a.y-i.y)**2)+Math.sqrt((l.x-a.x)**2+(l.y-a.y)**2)+Math.sqrt((r.x-l.x)**2+(r.y-l.y)**2);return(o+c)/2}else if(t.curveType==="elbow"&&n.length>=2){let a=0;const l=n.map(o=>({x:t.x+o.x,y:t.y+o.y}));for(let o=0;o<l.length-1;o++)a+=Math.sqrt((l[o+1].x-l[o].x)**2+(l[o+1].y-l[o].y)**2);return a}else return Math.sqrt((r.x-i.x)**2+(r.y-i.y)**2)}}class kN extends Nr{renderArchitectural(t,n,i){this.renderCommon(t)}renderSketch(t,n,i){this.renderCommon(t)}renderCommon(t){const{ctx:n,element:i,isDarkMode:r,layerOpacity:a}=t;if(!i.points||i.points.length===0)return;let l=Jn(i.points).map(c=>({x:i.x+c.x,y:i.y+c.y}));i.smoothing&&i.smoothing>0&&(l=this.smoothPoints(l,i.smoothing));const o=wt.adjustColor(i.strokeColor,r);n.save(),n.strokeStyle=o,n.fillStyle=o,i.type==="fineliner"?this.renderFineliner(n,l,i.strokeWidth):i.type==="inkbrush"?this.renderInkbrush(n,l,i.strokeWidth,i.taperAmount,i.velocitySensitivity):i.type==="marker"?this.renderMarker(n,l,i.strokeWidth,i.opacity,a):i.type==="ink"&&this.renderFineliner(n,l,i.strokeWidth),n.restore()}smoothPoints(t,n){if(t.length<3)return t;const i=[t[0]],r=Math.floor(n/2)||1;for(let a=1;a<t.length-1;a++){let l=0,o=0,c=0;for(let s=Math.max(0,a-r);s<=Math.min(t.length-1,a+r);s++)l+=t[s].x,o+=t[s].y,c++;i.push({x:l/c,y:o/c})}return i.push(t[t.length-1]),i}renderFineliner(t,n,i){if(n.length<6){t.beginPath(),t.arc(n[0].x,n[0].y,i/2,0,Math.PI*2),t.fill();return}t.lineWidth=i,t.lineJoin="round",t.lineCap="round",t.beginPath(),t.moveTo(n[0].x,n[0].y);for(let a=1;a<n.length-2;a++){const l=(n[a].x+n[a+1].x)/2,o=(n[a].y+n[a+1].y)/2;t.quadraticCurveTo(n[a].x,n[a].y,l,o)}const r=n.length-1;t.quadraticCurveTo(n[r-1].x,n[r-1].y,n[r].x,n[r].y),t.stroke()}renderInkbrush(t,n,i,r=.15,a=.5){if(n.length<2){t.beginPath(),t.arc(n[0].x,n[0].y,i/2,0,Math.PI*2),t.fill();return}const l=[0];for(let p=1;p<n.length;p++){const y=n[p].x-n[p-1].x,A=n[p].y-n[p-1].y;l.push(Math.sqrt(y*y+A*A))}const o=[],c=3;for(let p=0;p<l.length;p++){let y=0,A=0;for(let v=Math.max(0,p-c);v<=Math.min(l.length-1,p+c);v++)y+=l[v],A++;o.push(y/A)}const s=Math.max(...o,1),d=i*(1-a*.7),u=i*(1+a*.5),f=[];for(let p=0;p<n.length;p++){const y=o[p]/s;let A=u-(u-d)*y;const v=Math.min(n.length*r,20);if(v>0&&(p<v&&(A*=p/v*.9+.1),p>n.length-v-1)){const x=n.length-1-p;A*=x/v*.9+.1}f.push(Math.max(A,.5))}t.beginPath();const h=[],g=[];for(let p=0;p<n.length;p++){let y,A;if(p===0){const x=n[1].x-n[0].x,C=n[1].y-n[0].y,_=Math.sqrt(x*x+C*C)||1;y=-C/_,A=x/_}else if(p===n.length-1){const x=n[p].x-n[p-1].x,C=n[p].y-n[p-1].y,_=Math.sqrt(x*x+C*C)||1;y=-C/_,A=x/_}else{const x=n[p].x-n[p-1].x,C=n[p].y-n[p-1].y,_=n[p+1].x-n[p].x,F=n[p+1].y-n[p].y,O=Math.sqrt(x*x+C*C)||1,E=Math.sqrt(_*_+F*F)||1;y=-(C/O+F/E)/2,A=(x/O+_/E)/2;const I=Math.sqrt(y*y+A*A)||1;y/=I,A/=I}const v=f[p]/2;h.push({x:n[p].x+y*v,y:n[p].y+A*v}),g.push({x:n[p].x-y*v,y:n[p].y-A*v})}if(h.length>=2){t.moveTo(h[0].x,h[0].y);for(let y=1;y<h.length-1;y++){const A=(h[y].x+h[y+1].x)/2,v=(h[y].y+h[y+1].y)/2;t.quadraticCurveTo(h[y].x,h[y].y,A,v)}t.lineTo(h[h.length-1].x,h[h.length-1].y);const p=n.length-1;t.arc(n[p].x,n[p].y,f[p]/2,Math.atan2(h[p].y-n[p].y,h[p].x-n[p].x),Math.atan2(g[p].y-n[p].y,g[p].x-n[p].x),!1);for(let y=g.length-2;y>0;y--){const A=(g[y].x+g[y-1].x)/2,v=(g[y].y+g[y-1].y)/2;t.quadraticCurveTo(g[y].x,g[y].y,A,v)}t.lineTo(g[0].x,g[0].y),t.arc(n[0].x,n[0].y,f[0]/2,Math.atan2(g[0].y-n[0].y,g[0].x-n[0].x),Math.atan2(h[0].y-n[0].y,h[0].x-n[0].x),!1)}t.closePath(),t.fill()}renderMarker(t,n,i,r,a){t.globalAlpha=(r??100)/100*a*.5,t.globalCompositeOperation="multiply",this.renderFineliner(t,n,i*4)}definePath(t,n){const i=Jn(n.points).map(a=>({x:n.x+a.x,y:n.y+a.y}));if(i.length<2)return;if(i.length<6){t.moveTo(i[0].x,i[0].y);for(let a=1;a<i.length;a++)t.lineTo(i[a].x,i[a].y);return}t.moveTo(i[0].x,i[0].y);for(let a=1;a<i.length-2;a++){const l=(i[a].x+i[a+1].x)/2,o=(i[a].y+i[a+1].y)/2;t.quadraticCurveTo(i[a].x,i[a].y,l,o)}const r=i.length-1;t.quadraticCurveTo(i[r-1].x,i[r-1].y,i[r].x,i[r].y)}estimatePathLength(t){const n=Jn(t.points);if(n.length<2)return 0;let i=0;for(let r=1;r<n.length;r++){const a=n[r].x-n[r-1].x,l=n[r].y-n[r-1].y;i+=Math.sqrt(a*a+l*l)}return i}}class SN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=wt.adjustColor(a.strokeColor,l),s=a.backgroundColor==="transparent"?void 0:wt.adjustColor(a.backgroundColor,l),d=Ld(a);if(!d)return;if(r.save(),r.translate(n,i),["solidBlock","cylinder","isometricCube","perspectiveBlock"].includes(a.type)&&d.type==="multi"){const f=o.fill&&o.fill!=="transparent"&&o.fill!=="none";d.shapes.forEach(h=>{f&&s&&(r.fillStyle=h.shade?wt.shadeColor(s,h.shade):s,r.beginPath(),wt.renderGeometry(r,h),r.fill()),r.strokeStyle=c,r.lineWidth=a.strokeWidth,r.lineJoin=a.strokeLineJoin||"round",r.beginPath(),wt.renderGeometry(r,h),r.stroke(),a.drawInnerBorder})}else if(o.fill&&o.fill!=="transparent"&&o.fill!=="none"&&s&&(r.fillStyle=s,r.beginPath(),wt.renderGeometry(r,d),r.fill()),r.strokeStyle=c,r.lineWidth=a.strokeWidth,r.lineJoin=a.strokeLineJoin||"round",r.beginPath(),wt.renderGeometry(r,d),r.stroke(),a.drawInnerBorder){const h=a.innerBorderDistance||5,g=(a.width-h*2)/a.width,p=(a.height-h*2)/a.height;g>0&&p>0&&(r.save(),r.scale(g,p),r.strokeStyle=a.innerBorderColor||c,r.beginPath(),wt.renderGeometry(r,d),r.stroke(),r.restore())}r.restore(),wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,ctx:a,element:l,isDarkMode:o}=t,c=wt.buildRenderOptions(l,o),s=Ld(l);if(!s)return;a.save(),a.translate(n,i),this.renderSketchGeometry(r,s,c);const d=["solidBlock","cylinder","isometricCube","perspectiveBlock"].includes(l.type);if(l.drawInnerBorder&&!d){const u=l.innerBorderDistance||5,f=(l.width-u*2)/l.width,h=(l.height-u*2)/l.height;if(f>0&&h>0){const g={...c,stroke:l.innerBorderColor||c.stroke,fill:"none"};a.save(),a.scale(f,h),this.renderSketchGeometry(r,s,g),a.restore()}}a.restore(),wt.renderText(t,n,i)}renderSketchGeometry(t,n,i){const r=n.shade&&i.fill&&i.fill!=="transparent"&&i.fill!=="none"?{...i,fill:wt.shadeColor(i.fill,n.shade)}:i;if(n.type==="rect")t.rectangle(n.x,n.y,n.w,n.h,r);else if(n.type==="ellipse")t.ellipse(n.cx,n.cy,n.rx*2,n.ry*2,r);else if(n.type==="points"){const a=n.points.map(l=>[l.x,l.y]);n.isClosed===!1?t.linearPath(a,r):t.polygon(a,r)}else n.type==="path"?t.path(n.path,r):n.type==="multi"&&n.shapes.forEach(a=>this.renderSketchGeometry(t,a,r))}definePath(t,n){const i=Ld(n);i&&(t.translate(n.x+n.width/2,n.y+n.height/2),wt.renderGeometry(t,i))}}class CN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l);r.beginPath(),r.rect(a.x,a.y,a.width,a.height),r.fillStyle=o.fill||"transparent",o.fill&&o.fill!=="none"&&r.fill(),r.lineWidth=a.strokeWidth,r.strokeStyle=o.stroke||"#000000",r.stroke();const c=this.calculateLayout(r,a);this.drawDividers(r,a,c,o.stroke||"#000000"),this.renderTexts(t,a,c)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l);r.rectangle(a.x,a.y,a.width,a.height,o);const s=document.createElement("canvas").getContext("2d"),d=this.calculateLayout(s,a);this.drawSketchDividers(r,a,d,o),this.renderTexts(t,a,d)}definePath(t,n){t.rect(n.x,n.y,n.width,n.height)}calculateLayout(t,n){const i=n.containerText||"";let r=30;if(i){const o=ki(t,n,i,n.width-10);r=Math.max(30,o.textHeight+20)}const a=n.attributesText||"";let l=0;if(a){const o=ki(t,{...n,fontSize:(n.fontSize||20)*.9},a,n.width-10);l=Math.max(20,o.textHeight+10)}else n.type==="umlClass"&&(l=20);return{headerHeight:r,attrHeight:l,hasAttributes:!!a||n.type==="umlClass",hasMethods:!!n.methodsText||n.type==="umlClass"}}drawDividers(t,n,i,r){t.strokeStyle=r,t.lineWidth=1;const a=n.y+i.headerHeight;if(a<n.y+n.height&&(t.beginPath(),t.moveTo(n.x,a),t.lineTo(n.x+n.width,a),t.stroke()),i.hasAttributes&&i.hasMethods){const l=a+i.attrHeight;l<n.y+n.height&&(t.beginPath(),t.moveTo(n.x,l),t.lineTo(n.x+n.width,l),t.stroke())}}drawSketchDividers(t,n,i,r){const a=n.y+i.headerHeight;if(a<n.y+n.height&&t.line(n.x,a,n.x+n.width,a,r),i.hasAttributes&&i.hasMethods){const l=a+i.attrHeight;l<n.y+n.height&&t.line(n.x,l,n.x+n.width,l,r)}}renderTexts(t,n,i){const{ctx:r,isDarkMode:a}=t;if(n.containerText&&this.renderSectionText(r,n,n.containerText,n.x+n.width/2,n.y+i.headerHeight/2,n.width-10,"center",!0,a),n.attributesText){const l=n.y+i.headerHeight+10,o=(n.fontSize||20)*.9;this.renderSectionText(r,{...n,fontSize:o},n.attributesText,n.x+10,l,n.width-20,"left",!1,a)}if(n.methodsText){const l=n.y+i.headerHeight+i.attrHeight+10,o=(n.fontSize||20)*.9;this.renderSectionText(r,{...n,fontSize:o},n.methodsText,n.x+10,l,n.width-20,"left",!1,a)}}renderSectionText(t,n,i,r,a,l,o,c,s){if(!i)return;t.save(),t.font=Ph({...n,fontWeight:c?"bold":n.fontWeight});const d=wt.adjustColor(n.strokeColor||"#000",s);t.fillStyle=d,t.textAlign=o,t.textBaseline=o==="center"?"middle":"top";const u=ki(t,n,i,l);u.lines.forEach((f,h)=>{const g=a+h*u.lineHeight-(o==="center"?(u.lines.length-1)*u.lineHeight/2:0);t.fillText(f,r,g)}),t.restore()}}class LN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=a.width,s=a.height,d=a.x,u=a.y;if(r.beginPath(),a.type==="umlActor")this.drawActorPath(r,d,u,c,s);else if(a.type==="umlUseCase"||a.type==="umlInterface")r.ellipse(d+c/2,u+s/2,c/2,s/2,0,0,Math.PI*2);else if(a.type==="umlPackage")this.drawPackagePath(r,d,u,c,s);else if(a.type==="umlNote")this.drawNotePath(r,d,u,c,s);else if(a.type==="umlComponent")r.rect(d,u,c,s);else if(a.type==="umlLifeline"){const f=Math.max(30,s*.2);r.rect(d,u,c,f)}else a.type==="umlFragment"&&r.rect(d,u,c,s);if(r.fillStyle=o.fill||"transparent",o.fill&&o.fill!=="none"&&r.fill(),r.lineWidth=a.strokeWidth,r.strokeStyle=o.stroke||"#000000",r.stroke(),a.type==="umlNote"){const f=Math.min(c,s)*.15;r.beginPath(),r.moveTo(d+c-f,u),r.lineTo(d+c-f,u+f),r.lineTo(d+c,u+f),r.stroke()}if(a.type==="umlComponent"){const f=Math.min(16,c*.15),h=Math.min(10,s*.08),g=d-f/2;r.fillStyle=o.fill||"transparent",r.strokeStyle=o.stroke||"#000000",r.beginPath(),r.rect(g,u+s*.25-h/2,f,h),o.fill&&o.fill!=="none"&&r.fill(),r.stroke(),r.beginPath(),r.rect(g,u+s*.55-h/2,f,h),o.fill&&o.fill!=="none"&&r.fill(),r.stroke()}if(a.type==="umlLifeline"){const f=Math.max(30,s*.2);r.save(),r.setLineDash([8,6]),r.beginPath(),r.moveTo(d+c/2,u+f),r.lineTo(d+c/2,u+s),r.stroke(),r.restore()}if(a.type==="umlFragment"){const f=Math.min(c*.3,60),h=Math.min(s*.12,22);r.fillStyle=o.fill||"transparent",r.strokeStyle=o.stroke||"#000000",r.beginPath(),r.moveTo(d,u),r.lineTo(d+f,u),r.lineTo(d+f,u+h),r.lineTo(d+f-5,u+h+5),r.lineTo(d,u+h+5),r.closePath(),o.fill&&o.fill!=="none"&&r.fill(),r.stroke()}if(a.type==="umlLifeline"){const f=Math.max(30,s*.2),h=a.y+f/2;wt.renderText(t,n,h)}else wt.renderText(t,n,i)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=wt.buildRenderOptions(a,l),c=a.width,s=a.height,d=a.x,u=a.y;if(a.type==="umlActor"){const f=c*.15;r.circle(d+c/2,u+f,f*2,o),r.line(d+c/2,u+f*2,d+c/2,u+s*.6,o),r.line(d,u+s*.3,d+c,u+s*.3,o),r.line(d+c/2,u+s*.6,d,u+s,o),r.line(d+c/2,u+s*.6,d+c,u+s,o)}else if(a.type==="umlUseCase"||a.type==="umlInterface")r.ellipse(d+c/2,u+s/2,c,s,o);else if(a.type==="umlPackage"){const f=s*.15,h=c*.4,g=`M ${d} ${u} L ${d+h} ${u} L ${d+h} ${u+f} L ${d+c} ${u+f} L ${d+c} ${u+s} L ${d} ${u+s} Z`;r.path(g,o),r.line(d,u+f,d+h,u+f,o)}else if(a.type==="umlNote"){const f=Math.min(c,s)*.15,h=`M ${d} ${u} L ${d+c-f} ${u} L ${d+c} ${u+f} L ${d+c} ${u+s} L ${d} ${u+s} L ${d} ${u} Z`;r.path(h,o),r.path(`M ${d+c-f} ${u} L ${d+c-f} ${u+f} L ${d+c} ${u+f}`,o)}else if(a.type==="umlComponent"){r.rectangle(d,u,c,s,o);const f=Math.min(16,c*.15),h=Math.min(10,s*.08),g=d-f/2;r.rectangle(g,u+s*.25-h/2,f,h,o),r.rectangle(g,u+s*.55-h/2,f,h,o)}else if(a.type==="umlLifeline"){const f=Math.max(30,s*.2);r.rectangle(d,u,c,f,o);const h={...o,strokeLineDash:[8,6],fill:"none"};r.line(d+c/2,u+f,d+c/2,u+s,h)}else if(a.type==="umlFragment"){r.rectangle(d,u,c,s,o);const f=Math.min(c*.3,60),h=Math.min(s*.12,22),g=`M ${d} ${u} L ${d+f} ${u} L ${d+f} ${u+h} L ${d+f-5} ${u+h+5} L ${d} ${u+h+5} Z`;r.path(g,o)}if(a.type==="umlLifeline"){const f=Math.max(30,s*.2),h=a.y+f/2;wt.renderText(t,n,h)}else wt.renderText(t,n,i)}definePath(t,n){n.type==="umlActor"?this.drawActorPath(t,n.x,n.y,n.width,n.height):n.type==="umlUseCase"||n.type==="umlInterface"?t.ellipse(n.x+n.width/2,n.y+n.height/2,n.width/2,n.height/2,0,0,Math.PI*2):n.type==="umlPackage"?this.drawPackagePath(t,n.x,n.y,n.width,n.height):n.type==="umlNote"?this.drawNotePath(t,n.x,n.y,n.width,n.height):(n.type==="umlComponent"||n.type==="umlLifeline"||n.type==="umlFragment")&&t.rect(n.x,n.y,n.width,n.height)}drawActorPath(t,n,i,r,a){const l=r*.15;t.moveTo(n+r/2+l,i+l),t.arc(n+r/2,i+l,l,0,Math.PI*2),t.moveTo(n+r/2,i+l*2),t.lineTo(n+r/2,i+a*.6),t.moveTo(n,i+a*.3),t.lineTo(n+r,i+a*.3),t.moveTo(n+r/2,i+a*.6),t.lineTo(n,i+a),t.moveTo(n+r/2,i+a*.6),t.lineTo(n+r,i+a)}drawPackagePath(t,n,i,r,a){const l=a*.15,o=r*.4;t.moveTo(n,i),t.lineTo(n+o,i),t.lineTo(n+o,i+l),t.lineTo(n+r,i+l),t.lineTo(n+r,i+a),t.lineTo(n,i+a),t.closePath()}drawNotePath(t,n,i,r,a){const l=Math.min(r,a)*.15;t.moveTo(n,i),t.lineTo(n+r-l,i),t.lineTo(n+r,i+l),t.lineTo(n+r,i+a),t.lineTo(n,i+a),t.closePath()}}class PN extends Nr{renderArchitectural(t,n,i){const{ctx:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);r.beginPath(),o>0?r.roundRect(a.x,a.y,a.width,a.height,o):r.rect(a.x,a.y,a.width,a.height),r.fillStyle=c.fill||"transparent",c.fill&&c.fill!=="none"&&r.fill(),r.lineWidth=a.strokeWidth,r.strokeStyle=c.stroke||"#000000",r.stroke();const s=this.calculateLayout(r,a);this.drawDivider(r,a,s,c.stroke||"#000000",!1),this.renderTexts(t,a,s)}renderSketch(t,n,i){const{rc:r,element:a,isDarkMode:l}=t,o=this.getRadius(a),c=wt.buildRenderOptions(a,l);if(o>0){const u=this.getRoundedRectPath(a.x,a.y,a.width,a.height,o);r.path(u,c)}else r.rectangle(a.x,a.y,a.width,a.height,c);const s=VS(),d=this.calculateLayout(s,a);this.drawDivider(null,a,d,c.stroke||"#000000",!0,r,c),this.renderTexts(t,a,d)}definePath(t,n){const i=this.getRadius(n);i>0?t.roundRect(n.x,n.y,n.width,n.height,i):t.rect(n.x,n.y,n.width,n.height)}getRadius(t){return Math.min(Math.abs(t.width),Math.abs(t.height))*.15}getRoundedRectPath(t,n,i,r,a){const l=Math.min(Math.abs(i)/2,a),o=Math.min(Math.abs(r)/2,a);return`M ${t+l} ${n} L ${t+i-l} ${n} Q ${t+i} ${n} ${t+i} ${n+o} L ${t+i} ${n+r-o} Q ${t+i} ${n+r} ${t+i-l} ${n+r} L ${t+l} ${n+r} Q ${t} ${n+r} ${t} ${n+r-o} L ${t} ${n+o} Q ${t} ${n} ${t+l} ${n}`}calculateLayout(t,n){const i=n.containerText||"";let r=Math.min(n.height,35);if(i){const a=ki(t,n,i,n.width-20);r=Math.max(r,a.textHeight+15)}return{headerHeight:r}}drawDivider(t,n,i,r,a,l,o){const c=n.y+i.headerHeight;c<n.y+n.height&&(a&&l?l.line(n.x,c,n.x+n.width,c,o):t&&(t.strokeStyle=r,t.lineWidth=1,t.beginPath(),t.moveTo(n.x,c),t.lineTo(n.x+n.width,c),t.stroke()))}renderTexts(t,n,i){const{ctx:r,isDarkMode:a}=t;if(n.containerText&&this.renderSectionText(r,n,n.containerText,n.x+n.width/2,n.y+i.headerHeight/2,n.width-20,"center",!0,a),n.attributesText){const l=n.y+i.headerHeight+5,o=(n.fontSize||20)*.9;this.renderSectionText(r,{...n,fontSize:o},n.attributesText,n.x+10,l,n.width-20,"left",!1,a)}}renderSectionText(t,n,i,r,a,l,o,c,s){if(!i)return;t.save(),t.font=Ph({...n,fontWeight:c?"bold":n.fontWeight});const d=wt.adjustColor(n.strokeColor||"#000",s);t.fillStyle=d,t.textAlign=o,t.textBaseline=o==="center"?"middle":"top";const u=ki(t,n,i,l);u.lines.forEach((f,h)=>{const g=a+h*u.lineHeight-(o==="center"?(u.lines.length-1)*u.lineHeight/2:0);t.fillText(f,r,g)}),t.restore()}}function MN(){console.log("Registering all shapes including specialty..."),hr.register("rectangle",new cN),hr.register("circle",new dN),hr.register("diamond",new hN),hr.register("text",new uN),hr.register("image",new fN),hr.register("stickyNote",new pN);const e=new gN;["triangle","hexagon","octagon","parallelogram","trapezoid","rightTriangle","pentagon","septagon","polygon"].forEach(O=>hr.register(O,e));const n=new AN;["database","document","predefinedProcess","internalStorage"].forEach(O=>hr.register(O,n));const r=new yN;["starPerson","lightbulb","signpost","burstBlob","scroll","wavyDivider","doubleBanner"].forEach(O=>hr.register(O,r));const l=new mN;["server","loadBalancer","firewall","user","messageQueue","lambda","router"].forEach(O=>hr.register(O,l));const c=new vN;["browserWindow","mobilePhone"].forEach(O=>hr.register(O,c));const d=new bN;["organicBranch"].forEach(O=>hr.register(O,d));const f=new wN;["browser","ghostButton","inputField"].forEach(O=>hr.register(O,f));const g=new xN;hr.register("line",g),hr.register("arrow",g),hr.register("bezier",g);const p=new kN;["fineliner","inkbrush","marker","ink"].forEach(O=>hr.register(O,p));const A=new SN;["cloud","heart","star","burst","callout","speechBubble","ribbon","bracketLeft","bracketRight","cross","checkmark","capsule","arrowLeft","arrowRight","arrowUp","arrowDown","dfdProcess","dfdDataStore","isometricCube","solidBlock","cylinder","stateStart","stateEnd","stateSync","activationBar","externalEntity","perspectiveBlock","umlSignalSend","umlSignalReceive","umlProvidedInterface","umlRequiredInterface"].forEach(O=>hr.register(O,A));const x=new CN;hr.register("umlClass",x);const C=new PN;hr.register("umlState",C);const _=new LN;["umlInterface","umlActor","umlUseCase","umlNote","umlPackage","umlComponent","umlLifeline","umlFragment"].forEach(O=>hr.register(O,_))}var _N=Ne('<div class=slide-transition-picker><div style=display:flex;justify-content:space-between;align-items:center><h4>Transition</h4><button class=close-picker-btn title=Close></button></div><div class=transition-field><label>Type</label><select><option value=none>None</option><option value=fade>Fade</option><option value=slide-left>Slide Left</option><option value=slide-right>Slide Right</option><option value=slide-up>Slide Up</option><option value=slide-down>Slide Down</option><option value=zoom-in>Zoom In</option><option value=zoom-out>Zoom Out</option></select></div><div class=transition-field><label>Duration (ms)</label><input type=number min=100 max=5000 step=100></div><div class=transition-field><label>Easing</label><select><option value=linear>Linear</option><option value=easeInQuad>Quad In</option><option value=easeOutQuad>Quad Out</option><option value=easeInOutQuad>Quad InOut</option><option value=easeInCubic>Cubic In</option><option value=easeOutCubic>Cubic Out</option><option value=easeInOutCubic>Cubic InOut</option><option value=easeOutBack>Back Out</option><option value=easeSpring>Spring</option></select></div><div class=transition-actions><button class=preview-btn title="Preview Transition">Preview');const NN=e=>{const t=()=>w.slides[e.index],n=()=>t()?.transition||{type:"none",duration:500,easing:"easeInOutQuad"},i=c=>{c.key==="Escape"&&(c.preventDefault(),e.onClose())};qi(()=>{window.addEventListener("keydown",i)}),jn(()=>{window.removeEventListener("keydown",i)});const r=c=>{const s=c.currentTarget.value;Oo(e.index,{type:s})},a=c=>{const s=parseInt(c.currentTarget.value,10);isNaN(s)||Oo(e.index,{duration:s})},l=c=>{const s=c.currentTarget.value;Oo(e.index,{easing:s})},o=async()=>{await wl.previewTransition(e.index)};return $(ra,{get children(){var c=_N(),s=c.firstChild,d=s.firstChild,u=d.nextSibling,f=s.nextSibling,h=f.firstChild,g=h.nextSibling,p=f.nextSibling,y=p.firstChild,A=y.nextSibling,v=p.nextSibling,x=v.firstChild,C=x.nextSibling,_=v.nextSibling,F=_.firstChild,O=F.firstChild;return c.$$click=E=>E.stopPropagation(),wn(u,"click",e.onClose,!0),ee(u,$(Hr,{size:14})),g.addEventListener("change",r),A.$$input=a,C.addEventListener("change",l),F.$$click=o,ee(F,$(Uo,{size:14,style:"margin-right: 4px;"}),O),We(E=>{var I=`${e.position.top}px`,q=`${e.position.left}px`;return I!==E.e&&sn(c,"top",E.e=I),q!==E.t&&sn(c,"left",E.t=q),E},{e:void 0,t:void 0}),We(()=>g.value=n().type),We(()=>A.value=n().duration),We(()=>C.value=n().easing),c}})};Cn(["click","input"]);var TN=Ne('<div class=slide-navigator id=slide-navigator><div class=slide-navigator-header>Slides</div><div class=slide-list-container></div><div class=add-slide-container><button class=add-slide-btn title="Add Slide (Ctrl+M)"><span class=icon>+ Add Slide'),IN=Ne("<img class=slide-thumbnail-img>"),BN=Ne('<div class=slide-thumbnail-wrapper><div class=slide-index></div><div><button class=slide-delete-btn title="Delete Slide"></button><button title="Slide Transition"></button><button class=slide-duplicate-btn title="Duplicate Slide"></button><div class=slide-preview>'),DN=Ne("<div class=slide-name-tag>");const EN=()=>{const[e,t]=Pt(null),[n,i]=Pt({top:0,left:0}),r=(a,l)=>{if(a.stopPropagation(),e()===l)t(null);else{const o=a.currentTarget.getBoundingClientRect();i({top:o.top,left:o.right+10}),t(l)}};return $(st,{get when(){return w.docType==="slides"},get children(){var a=TN(),l=a.firstChild,o=l.nextSibling,c=o.nextSibling,s=c.firstChild;return a.$$click=()=>t(null),ee(o,$(rr,{get each(){return w.slides},children:(d,u)=>(()=>{var f=BN(),h=f.firstChild,g=h.nextSibling,p=g.firstChild,y=p.nextSibling,A=y.nextSibling,v=A.nextSibling;return ee(h,()=>u()+1),g.$$click=()=>co(u()),p.$$click=x=>{x.stopPropagation(),confirm(`Delete Slide ${u()+1}?`)&&zy(u())},ee(p,$(Hr,{size:14})),y.$$click=x=>r(x,u()),ee(y,$(Wl,{size:14})),A.$$click=x=>{x.stopPropagation(),u4(u())},ee(A,$(U1,{size:14})),ee(v,$(st,{get when(){return d.thumbnail},get fallback(){return(()=>{var x=DN();return ee(x,()=>d.name||`Slide ${u()+1}`),x})()},get children(){var x=IN();return We(()=>Lt(x,"src",d.thumbnail)),x}})),ee(f,$(st,{get when(){return e()===u()},get children(){return $(NN,{get index(){return u()},onClose:()=>t(null),get position(){return n()}})}}),null),We(x=>{var C=`slide-thumbnail ${w.activeSlideIndex===u()?"active":""}`,_=`transition-toggle-btn ${e()===u()?"active":""}`;return C!==x.e&&hn(g,x.e=C),_!==x.t&&hn(y,x.t=_),x},{e:void 0,t:void 0}),f})()})),s.$$click=()=>dp(),a}})};Cn(["click"]);var RN=Ne('<div style="position:fixed;display:flex;align-items:center;gap:4px;padding:6px;background:rgba(255, 255, 255, 0.7);backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);border-radius:12px;box-shadow:0 8px 32px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.05);border:1px solid rgba(255, 255, 255, 0.3);z-index:9999;user-select:none"><div class=drag-handle style="padding:8px 4px;cursor:grab;color:#94a3b8;display:flex;align-items:center"></div><div style=display:flex;gap:2px></div><button style="background:none;border:none;color:#94a3b8;padding:6px;cursor:pointer;border-radius:6px;display:flex;transition:all 0.2s">'),$N=Ne('<button style="border:none;padding:8px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all 0.2s cubic-bezier(0.4, 0, 0.2, 1)">');const FN=()=>{let e;const[t,n]=Pt(!1);let i={x:0,y:0};const r=c=>{if(c.target.closest(".drag-handle")){n(!0);const s=e.getBoundingClientRect();i={x:c.clientX-s.left,y:c.clientY-s.top},c.target.setPointerCapture(c.pointerId)}},a=c=>{if(!t())return;const s=c.clientX-i.x,d=c.clientY-i.y;k4(s,d)},l=c=>{n(!1)},o=()=>{const s=Ry(w.activeSlideIndex,w.elements,w.slides).map(d=>d.id);Wo.playAll("on-load",s)};return $(st,{get when(){return Wn(()=>!!(w.docType==="slides"&&w.showSlideToolbar))()&&!w.presentationMode},get children(){var c=RN(),s=c.firstChild,d=s.nextSibling,u=d.nextSibling;c.$$pointerup=l,c.$$pointermove=a,c.$$pointerdown=r;var f=e;return typeof f=="function"?Rn(f,c):e=c,ee(s,$(W1,{size:16})),ee(d,$(k1,{onClick:()=>Il(!0),get icon(){return $(Mx,{size:18})},label:"Play Presentation",color:"#3b82f6"}),null),ee(d,$(k1,{onClick:o,get icon(){return $(Wl,{size:18})},label:"Preview Animations",color:"#f59e0b"}),null),u.addEventListener("mouseleave",h=>h.currentTarget.style.background="none"),u.addEventListener("mouseenter",h=>h.currentTarget.style.background="rgba(239, 44, 44, 0.1)"),u.$$click=()=>Zy(!1),ee(u,$(Hr,{size:16})),We(h=>{var g=`${w.slideToolbarPosition.x}px`,p=`${w.slideToolbarPosition.y}px`,y=t()?"none":"transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1)",A=t()?"grabbing":"default";return g!==h.e&&sn(c,"left",h.e=g),p!==h.t&&sn(c,"top",h.t=p),y!==h.a&&sn(c,"transition",h.a=y),A!==h.o&&sn(c,"cursor",h.o=A),h},{e:void 0,t:void 0,a:void 0,o:void 0}),c}})},k1=e=>{const[t,n]=Pt(!1);return(()=>{var i=$N();return i.addEventListener("mouseleave",()=>n(!1)),i.addEventListener("mouseenter",()=>n(!0)),wn(i,"click",e.onClick,!0),ee(i,()=>e.icon),We(r=>{var a=e.label,l=t()?"rgba(0, 0, 0, 0.05)":"none",o=t()?e.color:"#475569",c=t()?"translateY(-1px)":"none";return a!==r.e&&Lt(i,"title",r.e=a),l!==r.t&&sn(i,"background",r.t=l),o!==r.a&&sn(i,"color",r.a=o),c!==r.o&&sn(i,"transform",r.o=c),r},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()};Cn(["pointerdown","pointermove","pointerup","click"]);var ON=Ne('<div class=presentation-hud style="position:fixed;bottom:40px;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:12px;padding:8px 16px;background:rgba(255, 255, 255, 0.8);backdrop-filter:blur(12px);border-radius:100px;box-shadow:0 10px 25px rgba(0, 0, 0, 0.2);z-index:10000;border:1px solid rgba(255, 255, 255, 0.3);transition:opacity 0.3s ease;font-family:Inter, sans-serif"><button style="background:none;border:none;color:#1e293b;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:background 0.2s"></button><div style=color:#64748b;font-size:13px;font-weight:600;min-width:100px;text-align:center;user-select:none></div><button style="background:none;border:none;color:#1e293b;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:background 0.2s"></button><div style="width:1px;height:24px;background:rgba(0,0,0,0.1);margin:0 4px"></div><button title="Exit Presentation"style="background:#f1f5f9;border:none;color:#ef4444;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:transform 0.2s">');const zN=()=>{const[e,t]=Pt(!0);let n;const i=()=>{t(!0),window.clearTimeout(n),n=window.setTimeout(()=>{w.presentationMode&&t(!1)},3e3)};qi(()=>{window.addEventListener("mousemove",i),i()}),jn(()=>{window.removeEventListener("mousemove",i),window.clearTimeout(n)});const r=or(()=>`Slide ${w.activeSlideIndex+1} of ${w.slides.length}`),a=async()=>{await cp(),i()},l=async()=>{await Oy(),i()};return $(st,{get when(){return e()},get children(){var o=ON(),c=o.firstChild,s=c.nextSibling,d=s.nextSibling,u=d.nextSibling,f=u.nextSibling;return c.addEventListener("mouseleave",h=>h.currentTarget.style.background="none"),c.addEventListener("mouseenter",h=>h.currentTarget.style.background="rgba(0,0,0,0.05)"),c.$$click=l,ee(c,$(Zf,{size:20})),ee(s,r),d.addEventListener("mouseleave",h=>h.currentTarget.style.background="none"),d.addEventListener("mouseenter",h=>h.currentTarget.style.background="rgba(0,0,0,0.05)"),d.$$click=a,ee(d,$(Fl,{size:20})),f.addEventListener("mouseleave",h=>h.currentTarget.style.transform="scale(1)"),f.addEventListener("mouseenter",h=>h.currentTarget.style.transform="scale(1.1)"),f.$$click=()=>Il(!1),ee(f,$(Hr,{size:18})),o}})};Cn(["click"]);var UN=Ne('<button class=floating-settings-btn title="Toggle Properties (Alt+Enter)"style="position:fixed;bottom:20px;right:20px;width:48px;height:48px;border-radius:50%;border:none;background:#ffffff;color:#4b5563;box-shadow:0 4px 12px rgba(0, 0, 0, 0.15);cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1000;transition:all 0.2s ease">'),WN=Ne("<div>");const jN=()=>(qi(()=>{console.log("App: Registering shapes..."),MN(),Z7();const e=async t=>{if(t.key==="F5"){t.preventDefault(),Il(!0);return}if(t.key==="Escape"&&w.presentationMode){t.preventDefault(),Il(!1);return}const n=t.code,i=t.key.toLowerCase();if(t.altKey&&!t.ctrlKey&&!t.metaKey)if(n==="Enter"||i==="enter")t.preventDefault(),eo();else if(n==="KeyL"||i==="l")t.preventDefault(),Ns();else if(n==="KeyM"||i==="m")t.preventDefault(),Kl();else if(n==="KeyZ"||i==="z"){t.preventDefault();const a=!w.zenMode;xh(a),n2(!a)}else if(n==="KeyP"||i==="p")t.preventDefault(),on("laser");else if(n==="KeyI"||i==="i")t.preventDefault(),on("ink");else if(i==="\\"||n==="Backslash"){t.preventDefault();const a=w.showPropertyPanel||w.showLayerPanel;eo(!a),Ns(!a)}else if(i==="["||n==="BracketLeft"){t.preventDefault();const l=w.layers.findIndex(o=>o.id===w.activeLayerId);l>0&&Fd(l,l-1)}else if(i==="]"||n==="BracketRight"){t.preventDefault();const a=w.layers,l=a.findIndex(o=>o.id===w.activeLayerId);l!==-1&&l<a.length-1&&Fd(l,l+1)}else if(i==="n"||n==="KeyN")t.preventDefault(),Vf();else if(i>="1"&&i<="9"){t.preventDefault();const a=parseInt(i)-1;p4(a)}else n==="ArrowRight"?(t.preventDefault(),up()):n==="ArrowLeft"&&(t.preventDefault(),fp());if(t.defaultPrevented)return;const r=t.target;if(!(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)){if(!t.altKey&&!t.ctrlKey&&!t.metaKey&&(n==="ArrowRight"||n==="PageDown"||n==="Enter"||n==="NumpadEnter"||w.presentationMode&&n==="Space"?(t.preventDefault(),cp()):n==="ArrowLeft"||n==="PageUp"||n==="Backspace"?(t.preventDefault(),Oy()):n==="Home"&&(t.preventDefault(),w.states.length>0?Pa(w.states[0].id):co(0))),t.ctrlKey||t.metaKey){if(i==="z")t.preventDefault(),t.shiftKey?Tl():fh();else if(i==="y")t.preventDefault(),Tl();else if(i==="k")t.preventDefault(),ms(!0);else if(i==="a")t.preventDefault(),xe("selection",w.elements.map(a=>a.id));else if(n==="KeyO")t.preventDefault(),Sd(!0);else if(n==="KeyS")t.preventDefault(),Cd("workspace");else if(n==="KeyE"&&t.shiftKey)t.preventDefault(),Al(!0);else if(i==="g")t.preventDefault(),t.shiftKey?yh():Ah();else if(i==="m")t.preventDefault(),dp();else if(i==="c"||n==="KeyC")t.preventDefault(),t.altKey?Pp():await Lh();else if(i==="v"||n==="KeyV")t.preventDefault(),t.altKey?Mp():await Yd();else if(i==="x"||n==="KeyX")t.preventDefault(),await Lp();else if(i==="]")t.preventDefault(),w.selection.length>0&&ph(w.selection);else if(i==="[")t.preventDefault(),w.selection.length>0&&gh(w.selection);else if(i==="d"){t.preventDefault();const a=w.elements.filter(l=>w.selection.includes(l.id));if(a.length>0){const l=new Map;a.forEach(s=>{s.groupIds?.forEach(d=>{l.has(d)||l.set(d,crypto.randomUUID())})});const o=20,c=a.map(s=>({...s,id:crypto.randomUUID(),x:s.x+o,y:s.y+o,groupIds:s.groupIds?.map(d=>l.get(d))}));xe("elements",[...w.elements,...c]),xe("selection",c.map(s=>s.id))}}return}if(!t.ctrlKey&&!t.metaKey&&!t.altKey&&!t.defaultPrevented)if(i==="s")t.preventDefault(),_4();else if(i==="f")t.preventDefault(),N4();else if(i==="?"&&t.shiftKey)t.preventDefault(),Hf(!0);else if(i==='"'||i==="'"&&t.shiftKey)t.preventDefault(),bh();else if(i===":"||i===";"&&t.shiftKey)t.preventDefault(),wh();else if(i==="delete"||i==="backspace")t.preventDefault(),w.selection.length>0&&ea(w.selection);else if(["arrowup","arrowdown","arrowleft","arrowright"].includes(i)){if(w.selection.length>0){t.preventDefault();const a=t.shiftKey?10:1;let l=0,o=0;i==="arrowup"?o=-a:i==="arrowdown"?o=a:i==="arrowleft"?l=-a:i==="arrowright"&&(l=a),Fy(l,o,!0)}}else i==="tab"?w.selection.length===1&&(t.preventDefault(),Vl(w.selection[0])):i==="enter"?w.selection.length===1&&(t.preventDefault(),Ql(w.selection[0])):i===" "?w.selection.length>0&&(t.preventDefault(),$y()):t.shiftKey&&i==="n"?(t.preventDefault(),vh()):i==="v"||i==="1"?on("selection"):i==="r"||i==="2"?on("rectangle"):i==="o"||i==="3"?on("circle"):i==="l"||i==="4"?on("line"):i==="a"||i==="5"?on("arrow"):i==="t"||i==="6"?on("text"):i==="e"||i==="7"?on("eraser"):i==="p"||i==="8"?on("fineliner"):i==="9"||i==="i"?window.triggerImageUpload?.():i==="b"||i==="0"?on("bezier"):i==="d"?on("diamond"):i==="h"&&on("pan")}};window.addEventListener("keydown",e),jn(()=>window.removeEventListener("keydown",e))}),(()=>{var e=WN();return ee(e,$(st,{get when(){return!w.presentationMode},get children(){return[$(fM,{}),$(st,{get when(){return!w.zenMode},get children(){return[$(x7,{}),$(F7,{}),$(p_,{})]}}),$(u_,{})]}}),null),ee(e,$(JL,{}),null),ee(e,$(st,{get when(){return Wn(()=>!w.presentationMode&&!w.zenMode)()&&w.showSlideNavigator},get fallback(){return $(st,{get when(){return w.presentationMode},get children(){return $(zN,{})}})},get children(){return $(EN,{})}}),null),ee(e,$(st,{get when(){return!w.presentationMode},get children(){return[$(X7,{}),$(J7,{})]}}),null),ee(e,$(st,{get when(){return!w.presentationMode},get children(){return[(()=>{var t=UN();return t.$$click=()=>eo(),ee(t,$(Ik,{size:24})),We(()=>t.classList.toggle("active",!!w.showPropertyPanel)),t})(),$(FN,{}),$(oN,{})]}}),null),ee(e,$(O3,{}),null),e})());Cn(["click"]);const qN=document.getElementById("root");Iv(()=>$(jN,{}),qN);export{zn as _,xt as a,Jc as c,iA as f,X8 as g,w as s};
