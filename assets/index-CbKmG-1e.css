@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Code+Pro:wght@400;700&family=Handlee&display=swap";:root{--font-hand: "Handlee", "Comic Sans MS", cursive;--font-sans: "Inter", system-ui, sans-serif;--font-mono: "Source Code Pro", "Cascadia Code", monospace;font-family:var(--font-sans);line-height:1.5;font-weight:400;--bg-canvas: #ffffff;--bg-panel: #ffffff;--bg-secondary: #f9fafb;--text-primary: #111827;--text-secondary: #6b7280;--border-color: #e5e7eb;--btn-bg: #ffffff;--btn-hover: #f3f4f6;--btn-active: #e5e7eb;--primary-color: #3b82f6;--danger-color: #ef4444;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);color-scheme:light dark;color:var(--text-primary);background-color:var(--bg-canvas);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-theme=dark]{--bg-canvas: #121212;--bg-panel: #1e1e1e;--bg-secondary: #2d2d2d;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--border-color: #404040;--btn-bg: #2d2d2d;--btn-hover: #3d3d3d;--btn-active: #4d4d4d;--primary-color: #60a5fa;--danger-color: #f87171;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .5)}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--bg-canvas);color:var(--text-primary)}button{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:var(--btn-bg);color:var(--text-primary);cursor:pointer;transition:all .2s;box-shadow:var(--shadow-sm)}button:hover{background-color:var(--btn-hover);border-color:var(--border-color)}button:active{background-color:var(--btn-active);transform:translateY(1px)}button.active{background-color:#3b82f61a;border-color:var(--primary-color);color:var(--primary-color)}input[type=text]{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-family:inherit;font-size:14px;outline:none;background-color:var(--bg-panel);color:var(--text-primary);transition:border-color .2s}input[type=text]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f633}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}button{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:#fff;cursor:pointer;transition:all .2s;box-shadow:0 1px 2px #0000000d}button:hover{background-color:#f9f9f9;border-color:#bbb}button:active{background-color:#f0f0f0;transform:translateY(1px)}button.active{background-color:#e0efff;border-color:#007acc;color:#007acc}input[type=text]{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-family:inherit;font-size:14px;outline:none;transition:border-color .2s}input[type=text]:focus{border-color:#007acc;box-shadow:0 0 0 2px #007acc33}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}.minimap-container{position:fixed;bottom:20px;right:20px;z-index:1000;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px;-webkit-user-select:none;user-select:none}.minimap-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;padding:0 4px}.minimap-title{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.minimap-close{background:transparent;border:none;padding:2px;cursor:pointer;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s,color .2s;box-shadow:none}.minimap-close:hover{background-color:var(--btn-hover);color:var(--text-primary)}.minimap-canvas{display:block;border-radius:4px;cursor:pointer;border:1px solid var(--border-color)}.minimap-canvas:active{cursor:grabbing}.context-menu{position:fixed;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 20px #00000026;padding:4px;min-width:220px;z-index:10000;font-size:14px}.context-menu-item{width:100%;display:flex;align-items:center;gap:8px;padding:8px 12px;border:none;background:transparent;color:var(--text-primary);cursor:pointer;border-radius:4px;text-align:left;transition:background .15s;font-size:13px}.context-menu-item:hover:not(.disabled){background:var(--btn-hover)}.context-menu-item.disabled{opacity:.4;cursor:not-allowed}.menu-item-check{width:16px;flex-shrink:0;font-size:12px;color:#3b82f6}.menu-item-label{flex:1}.menu-item-shortcut{font-size:11px;color:var(--text-secondary);opacity:.6;font-family:monospace}.context-menu-separator{height:1px;background:var(--border-color);margin:4px 8px}[data-theme=dark] .context-menu{box-shadow:0 4px 20px #0006}.toolbar-container{position:fixed;top:60px;left:50%;transform:translate(-50%);display:flex;gap:4px;padding:4px;background:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;z-index:100;border:1px solid #e5e7eb}.toolbar-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;border-radius:6px;border:1px solid transparent;background-color:transparent;color:#4b5563;cursor:pointer;transition:all .2s}.toolbar-btn:hover{background-color:#f3f4f6;color:#1f2937}.toolbar-btn.active{background-color:#eff6ff;color:#3b82f6;border-color:#bfdbfe}.help-modal-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.help-modal-content{background:var(--bg-panel);width:800px;max-width:90vw;max-height:85vh;border-radius:12px;box-shadow:0 10px 25px #0003;display:flex;flex-direction:column;overflow:hidden;color:var(--text-primary);border:1px solid var(--border-color)}.help-modal-header{padding:24px 24px 0;display:flex;justify-content:space-between;align-items:flex-start}.help-modal-header h2{margin:0;font-size:24px;font-weight:600}.help-close-btn{background:transparent;border:none;cursor:pointer;color:var(--text-secondary);padding:4px;border-radius:4px;transition:all .2s}.help-close-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.help-modal-body{padding:24px;overflow-y:auto}.social-links{display:flex;gap:12px;margin-bottom:32px;flex-wrap:wrap}.social-btn{display:flex;align-items:center;gap:8px;padding:8px 16px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);text-decoration:none;font-size:14px;font-weight:500;transition:all .2s}.social-btn:hover{background:var(--btn-hover);border-color:#3b82f6}.shortcuts-section h3{font-size:18px;margin-bottom:24px}.shortcuts-grid{display:grid;grid-template-columns:1fr 1fr;gap:48px}.shortcut-column h4{font-size:14px;color:var(--text-secondary);margin-bottom:16px;text-transform:uppercase;letter-spacing:.5px}.shortcut-list{display:flex;flex-direction:column;gap:8px}.shortcut-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--border-color)}.shortcut-item:last-child{border-bottom:none}.shortcut-label{font-size:14px;color:var(--text-primary)}.shortcut-keys{display:flex;align-items:center;gap:4px}.keycap{padding:2px 8px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:4px;font-size:12px;font-family:monospace;font-weight:600;min-width:20px;text-align:center;box-shadow:0 1px 2px #0000000d}.key-or{font-size:12px;color:var(--text-secondary);margin:0 2px}@media(max-width:768px){.shortcuts-grid{grid-template-columns:1fr;gap:24px}}.load-export-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;display:flex;align-items:center;justify-content:center;z-index:2000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.load-export-dialog{background:var(--bg-panel);width:90%;max-width:640px;border-radius:12px;box-shadow:0 20px 25px -5px #0003,0 10px 10px -5px #0000000a;display:flex;flex-direction:column;overflow:hidden;border:1px solid var(--border-color);animation:dialogScale .2s ease-out}@keyframes dialogScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.dialog-header{display:flex;align-items:center;justify-content:space-between;padding:0 16px;border-bottom:1px solid var(--border-color);background:var(--bg-canvas)}.tabs{display:flex;gap:8px}.tab-btn{display:flex;align-items:center;gap:8px;padding:16px 20px;background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;font-size:14px;font-weight:500;color:var(--text-secondary);transition:all .2s}.tab-btn:hover{color:var(--text-primary)}.tab-btn.active{color:var(--primary-color);border-bottom-color:var(--primary-color)}.close-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;border-radius:50%;display:flex}.dialog-content{padding:24px;flex:1}.alert-box.warning{display:flex;gap:16px;background:#ffedd5b3;border:1px solid #fed7aa;padding:20px;border-radius:8px;margin-bottom:24px;color:#9a3412}.alert-text{font-size:14px;line-height:1.5}.options-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}.options-grid.horizontal{grid-template-columns:repeat(3,1fr);gap:16px}.option-card{background:var(--bg-panel);border:1px solid var(--border-color);border-radius:12px;padding:24px;display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px;cursor:pointer;transition:all .2s}.option-card:hover{border-color:var(--primary-color);background:var(--bg-canvas);transform:translateY(-2px);box-shadow:var(--shadow-md)}.option-icon{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:var(--bg-canvas);color:var(--primary-color)}.option-card.compact{padding:20px 16px}.option-card.compact .option-icon{width:48px;height:48px}.option-info h4{margin:0 0 4px;font-size:16px;color:var(--text-primary)}.option-info p{margin:0;font-size:13px;color:var(--text-secondary);line-height:1.4}.action-trigger{margin-top:auto;width:100%;padding:10px;border-radius:8px;border:1px solid var(--primary-color);background:var(--primary-color);color:#fff;font-weight:500;cursor:pointer;transition:all .2s}.action-trigger:hover{filter:brightness(1.1)}.action-trigger.secondary{background:transparent;border:1px solid var(--border-color);color:var(--text-primary)}.option-card:hover .action-trigger.secondary{border-color:var(--primary-color);background:var(--primary-color);color:#fff}.option-card:hover .action-trigger:not(.secondary){background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.dialog-footer{padding:12px 24px;background:var(--bg-canvas);border-top:1px solid var(--border-color)}.help-tip{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-secondary)}[data-theme=dark] .alert-box.warning{background:#7c2d1233;border-color:#7c2d12;color:#fdba74}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content{background:#fff;padding:24px;border-radius:8px;width:400px;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 4px 6px #0000001a}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.modal-header h3{margin:0;font-size:1.25rem;color:#333}.close-btn{background:none;border:none;cursor:pointer;color:#666;padding:4px;border-radius:4px}.close-btn:hover{background:#f0f0f0;color:#333}.modal-body{flex:1;overflow-y:auto}.file-list{display:flex;flex-direction:column;gap:8px}.file-item{display:flex;align-items:center;gap:12px;padding:12px;border-radius:6px;cursor:pointer;transition:background .2s;border:1px solid #eee}.file-item:hover{background:#f8f9fa;border-color:#ddd}.file-item span{font-size:.95rem;color:#333}.loading,.empty{text-align:center;color:#666;padding:20px}.delete-file-btn{background:transparent;border:none;color:#9ca3af;padding:4px;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center}.delete-file-btn:hover{color:#ef4444;background:#fee2e2}.export-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.export-modal{background:var(--bg-panel);color:var(--text-primary);padding:24px;border-radius:12px;width:320px;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;gap:16px}.export-header{display:flex;justify-content:space-between;align-items:center}.export-header h3{margin:0;font-size:1.2rem}.export-options{display:flex;flex-direction:column;gap:12px}.option-group{display:flex;flex-direction:column;gap:8px}.option-group label{font-size:.9rem;font-weight:500;color:var(--text-secondary)}.radio-group{display:flex;gap:16px}.radio-label{display:flex;align-items:center;gap:6px;font-size:.95rem;cursor:pointer;color:var(--text-primary)}.scale-group{display:flex;gap:8px}.scale-btn{background:var(--btn-bg);border:1px solid var(--border-color);color:var(--text-primary);padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.9rem;flex:1}.scale-btn.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.checkbox-label{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.95rem;-webkit-user-select:none;user-select:none}.export-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:8px}.cancel-btn{background:transparent;border:1px solid var(--border-color);color:var(--text-primary);padding:8px 16px;border-radius:6px;cursor:pointer}.cancel-btn:hover{background:var(--btn-hover)}.export-confirm-btn{background:var(--primary-color);color:#fff;border:none;padding:8px 20px;border-radius:6px;cursor:pointer;font-weight:500}.export-confirm-btn:hover{background-color:var(--primary-color);opacity:.9}.save-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:2000}.save-modal{background:var(--bg-panel);border:1px solid var(--border-color);border-radius:12px;padding:24px;width:320px;box-shadow:var(--shadow-lg);color:var(--text-primary)}.save-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.save-header h2{margin:0;font-size:18px;font-weight:600}.close-btn{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:4px}.close-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.save-content{display:flex;flex-direction:column;gap:16px}.input-group{display:flex;flex-direction:column;gap:8px}.input-group label{font-size:14px;font-weight:500;color:var(--text-secondary)}.filename-input{padding:8px 12px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-canvas);color:var(--text-primary);font-size:14px}.filename-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f633}.save-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:8px}.cancel-btn{padding:8px 16px;border-radius:6px;border:1px solid var(--border-color);background:var(--bg-panel);color:var(--text-secondary);font-size:14px;cursor:pointer}.cancel-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.confirm-btn{padding:8px 16px;border-radius:6px;border:none;background:var(--primary-color);color:#fff;font-size:14px;font-weight:500;cursor:pointer}.confirm-btn:hover{background:var(--primary-color);opacity:.9}.template-browser-backdrop{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:2000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.template-browser-dialog{background:var(--bg-panel);border-radius:12px;width:90%;max-width:900px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;overflow:hidden;border:1px solid var(--border-color)}.template-browser-header{padding:20px 24px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.template-browser-header h2{margin:0;font-size:20px;font-weight:600;color:var(--text-primary)}.template-close-btn{background:none;border:none;font-size:28px;color:var(--text-secondary);cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.template-close-btn:hover{background:var(--bg-secondary);color:var(--text-primary)}.template-categories{display:flex;gap:4px;padding:12px 24px;border-bottom:1px solid var(--border-color);overflow-x:auto}.template-category-tab{padding:8px 16px;border:none;background:transparent;color:var(--text-secondary);font-size:14px;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s;white-space:nowrap}.template-category-tab:hover{background:var(--bg-secondary);color:var(--text-primary)}.template-category-tab.active{background:var(--primary-color);color:#fff}.template-grid{padding:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px;overflow-y:auto;flex:1}.template-card{border:1px solid var(--border-color);border-radius:8px;overflow:hidden;cursor:pointer;transition:all .2s;background:var(--bg-panel);display:flex;flex-direction:column;height:100%}.template-card:hover{border-color:var(--primary-color);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.template-thumbnail{aspect-ratio:16 / 9;background:var(--bg-secondary);display:flex;align-items:center;justify-content:center;overflow:hidden}.template-thumbnail img{width:100%;height:100%;object-fit:contain;padding:10px}.template-placeholder{color:var(--text-secondary);display:flex;align-items:center;justify-content:center;opacity:.6}.template-info{padding:14px;flex:1;display:flex;flex-direction:column;background:var(--bg-panel);border-top:1px solid var(--border-color)}.template-name{margin:0 0 6px;font-size:15px;font-weight:700;color:#111827}[data-theme=dark] .template-name{color:#f3f4f6}.template-description{margin:0;font-size:12px;color:#4b5563;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}[data-theme=dark] .template-description{color:#9ca3af}.template-empty{padding:60px 24px;text-align:center;color:var(--text-secondary)}.template-empty p{margin:0;font-size:14px}[data-theme=dark] .template-browser-backdrop{background:#000000b3}[data-theme=dark] .template-card{background:var(--bg-secondary)}[data-theme=dark] .template-card:hover{box-shadow:0 4px 12px #0000004d}.menu-container{display:flex;align-items:center;background:var(--bg-panel);padding:6px;border-radius:8px;box-shadow:var(--shadow-sm);gap:4px;border:1px solid var(--border-color)}.title-input{background:transparent;border:1px solid transparent;padding:4px 8px;font-size:14px;font-weight:500;width:150px;color:var(--text-primary);border-radius:4px}.title-input:hover{border-color:var(--border-color)}.title-input:focus{border-color:var(--primary-color);background:var(--bg-canvas)}.menu-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:transparent;color:var(--text-secondary);border-radius:6px;cursor:pointer;transition:all .2s}.menu-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.menu-btn:disabled{opacity:.5;cursor:not-allowed}.menu-btn.primary{background:var(--primary-color);color:#fff;width:auto;padding:0 12px}.menu-btn.primary:hover{opacity:.9}.menu-dropdown{position:absolute;top:60px;left:0;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;padding:8px 0;width:300px;z-index:1001;display:flex;flex-direction:column;gap:1px}.menu-item{display:grid;grid-template-columns:20px 1fr auto;align-items:center;gap:12px;padding:10px 16px;border:none;background:transparent;color:var(--text-primary);cursor:pointer;text-align:left;width:100%;box-sizing:border-box;transition:background .2s}.menu-item:hover{background:var(--btn-hover)}.menu-item svg{color:var(--text-secondary)}.menu-item .label{min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}.menu-item-right{display:flex;align-items:center;gap:12px;flex-shrink:0;justify-content:flex-end;min-width:70px}.menu-item .shortcut{font-size:11px;color:var(--text-secondary);opacity:.6;white-space:nowrap;min-width:40px;text-align:right}.check-icon{color:var(--primary-color)}.menu-separator{height:1px;background:var(--border-color);margin:4px 0}.menu-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;cursor:default}.app-title{position:fixed;top:12px;left:50%;transform:translate(-50%);background:var(--bg-panel);padding:6px 16px;border-radius:8px;border:1px solid var(--border-color);box-shadow:var(--shadow-sm);font-weight:500;color:var(--text-primary);z-index:100;font-size:14px;pointer-events:none}.zoom-container{position:fixed;bottom:12px;left:12px;display:flex;align-items:center;z-index:100}.zoom-group{display:flex;background:var(--bg-panel, white);border-radius:6px;box-shadow:0 1px 3px #0000001a;border:1px solid var(--border-color, #e5e7eb);overflow:hidden}.zoom-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;border-right:1px solid var(--border-color, #e5e7eb);background-color:var(--btn-bg, white);color:var(--text-primary, #4b5563);cursor:pointer;transition:all .2s}.zoom-btn:last-child{border-right:none}.zoom-btn:hover:not(:disabled){background-color:var(--btn-hover, #f9fafb)}.zoom-btn:disabled{opacity:.3;cursor:not-allowed}.zoom-btn.text-btn{width:auto;padding:0 8px;font-size:13px;font-variant-numeric:tabular-nums}.property-panel-container{width:280px;background:var(--bg-panel);border-left:1px solid var(--border-color);height:100vh;display:flex;flex-direction:column;box-shadow:-2px 0 8px #0000000d;z-index:50;pointer-events:auto;position:absolute;right:0;top:0;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden}.property-panel-container.minimized{height:48px;overflow:hidden;width:200px}.property-header{padding:16px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;background:var(--bg-secondary)}.property-header h3{margin:0;font-size:14px;font-weight:600;color:var(--text-primary)}.header-actions{display:flex;gap:8px}.header-actions button{background:transparent;border:none;cursor:pointer;padding:4px;border-radius:4px;color:var(--text-secondary);display:flex;align-items:center;justify-content:center}.header-actions button:hover{background:var(--btn-hover);color:var(--text-primary)}.header-actions button.delete-btn:hover{background:#ef444426;color:var(--danger-color)}.header-actions button.close-btn:hover{background:#ef44441a;color:var(--danger-color)}.vertical-separator{width:1px;height:16px;background:var(--border-color);margin:0 4px}.property-panel{display:flex;flex-direction:column;height:100%;overflow:hidden}.panel-header{padding:16px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;background:var(--bg-secondary);flex-shrink:0}.panel-header h3{margin:0;font-size:14px;font-weight:600;color:var(--text-primary)}.property-content{flex:1;overflow-y:auto;padding:16px;min-height:0}.property-group{margin-bottom:24px}.group-title{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:12px}.control-row{margin-bottom:12px;display:flex;align-items:center;justify-content:space-between}.control-row label{font-size:13px;color:var(--text-primary);flex:1}.control-col{margin-bottom:12px;display:flex;flex-direction:column;gap:8px}.color-picker-container{padding:8px;background:var(--bg-secondary);border-radius:6px;border:1px solid var(--border-color)}.color-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;margin-bottom:8px}.color-swatch{width:100%;aspect-ratio:1;border-radius:4px;border:1px solid var(--border-color);cursor:pointer;position:relative;padding:0}.color-swatch:hover{transform:scale(1.1);z-index:1;box-shadow:0 2px 4px #0000001a}.color-swatch.selected{box-shadow:0 0 0 2px #3b82f6;border-color:transparent;z-index:2}.hex-input-row{display:flex;align-items:center;gap:8px;background:var(--bg-panel);padding:4px 8px;border:1px solid var(--border-color);border-radius:4px}.hash{color:var(--text-secondary);font-family:monospace;font-size:14px}.hex-input{border:none!important;padding:0!important;font-family:monospace;font-size:13px;outline:none;color:var(--text-primary);width:60px!important;text-transform:uppercase}.system-picker-wrapper{width:20px;height:20px;position:relative;overflow:hidden;border-radius:50%;border:1px solid #dee2e6;cursor:pointer;margin-left:auto;background:#fff;display:flex;align-items:center;justify-content:center}.system-picker-wrapper:after{content:"";position:absolute;width:100%;height:100%;background:conic-gradient(red,#ff0,#0f0,#0ff,#00f,#f0f,red);opacity:.5;pointer-events:none}.system-picker-wrapper input[type=color]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;padding:0;margin:0;cursor:pointer;opacity:0}.color-value{font-size:12px;font-family:monospace;color:var(--text-secondary)}.slider-wrapper{flex:2;display:flex;align-items:center;gap:8px}.slider-wrapper input[type=range]{flex:1;accent-color:#3b82f6}.value-display{font-size:12px;color:var(--text-secondary);width:24px;text-align:right}select{padding:6px 10px;border:1px solid var(--border-color);border-radius:6px;font-size:13px;color:var(--text-primary);background:var(--bg-panel);cursor:pointer;min-width:120px}select:focus{outline:2px solid #3b82f6;border-color:#3b82f6}input[type=text]{width:100%;padding:6px 10px;border:1px solid var(--border-color);border-radius:6px;font-size:13px}.layer-controls{display:flex;gap:4px;background:var(--bg-secondary);padding:4px;border-radius:6px;justify-content:space-between}.layer-controls button{flex:1;display:flex;align-items:center;justify-content:center;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:4px;padding:6px;cursor:pointer;color:var(--text-secondary)}.layer-controls button:hover{background:var(--btn-hover)}@media(max-width:768px){.property-panel-container{width:100%;height:auto;max-height:45vh;inset:auto 0 0;border-left:none;border-top:1px solid var(--border-color);box-shadow:0 -2px 10px #0000001a;border-radius:12px 12px 0 0}.property-content{padding:12px 12px 20px}.control-row{margin-bottom:8px}.property-group{margin-bottom:16px}}.swatch-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px}.swatch-circle{width:24px;height:24px;border-radius:50%;border:1px solid var(--border-color);cursor:pointer;padding:0;transition:transform .1s,border-color .1s;box-shadow:0 1px 2px #0000000d}.swatch-circle:hover{transform:scale(1.1);border-color:var(--primary-color)}.swatch-circle.selected{transform:scale(1.1);border:2px solid var(--primary-color);box-shadow:0 0 0 2px #fff,0 0 0 4px var(--primary-color)}.swatch-circle[style*="#ffffff"],.swatch-circle[style*="#fafafa"]{border:1px solid #d1d5db}.swatch-circle.rainbow{border:none;background:transparent;display:flex;align-items:center;justify-content:center}.rainbow-gradient{width:24px;height:24px;border-radius:50%;background:conic-gradient(red,orange,#ff0,green,#00f,indigo,violet,red);border:1px solid rgba(0,0,0,.1)}.swatch-circle.rainbow.active .rainbow-gradient{border:2px solid white;box-shadow:0 0 0 2px var(--primary-color)}.alignment-row{display:flex;justify-content:space-between;margin-bottom:8px;background:var(--bg-secondary);padding:6px;border-radius:6px;gap:4px}.icon-btn{flex:1;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid transparent;border-radius:4px;padding:6px;cursor:pointer;color:var(--text-secondary);transition:all .2s}.icon-btn:hover{background:var(--btn-hover);color:var(--text-primary);border-color:var(--border-color)}.layer-panel{position:absolute;right:0;bottom:0;width:280px;background:var(--bg-panel);border-left:1px solid var(--border-color);border-top:1px solid var(--border-color);display:flex;flex-direction:column;height:300px;min-height:200px;box-shadow:-2px 0 8px #0000000d;z-index:50;pointer-events:auto;transition:all .3s cubic-bezier(.4,0,.2,1)}.layer-panel.minimized{height:48px;min-height:48px;overflow:hidden}.layer-panel-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.layer-properties{padding:8px 12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.opacity-control,.background-control,.color-tag-control{display:flex;align-items:center;gap:8px;font-size:11px;color:var(--text-secondary)}.background-control,.color-tag-control{margin-top:4px}.color-tag-options{display:flex;gap:4px}.color-tag-option{width:12px;height:12px;border-radius:50%;cursor:pointer;border:1px solid transparent}.color-tag-option.active{border-color:var(--text-primary);transform:scale(1.2)}.color-tag-option.none{border:1px solid var(--border-color);position:relative}.color-tag-option.none:after{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:red;transform:rotate(45deg)}.opacity-control input[type=range]{flex:1;height:4px;accent-color:#3b82f6;cursor:pointer}.color-swatch-mini{width:16px;height:16px;border-radius:3px;border:1px solid var(--border-color);cursor:pointer;position:relative;overflow:hidden;padding:0}.color-swatch-mini.transparent{background:#fff}.color-swatch-mini.transparent:after{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 45%,#ff0000 45%,#ff0000 55%,transparent 55%)}.color-picker-mini{width:0;height:0;opacity:0;position:absolute;padding:0}.layer-panel-header h3{margin:0;font-size:14px;font-weight:600;color:var(--text-primary)}.layer-add-btn{width:28px;height:28px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-panel);color:var(--text-primary);font-size:20px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.layer-add-btn:hover{background:var(--btn-hover);border-color:#3b82f6}.close-btn,.minimize-btn{background:transparent;border:none;cursor:pointer;padding:4px;border-radius:4px;color:var(--text-secondary);display:flex;align-items:center;justify-content:center}.close-btn:hover,.minimize-btn:hover{background:var(--btn-hover);color:var(--text-primary)}.close-btn:hover{background:#ef44441a;color:var(--danger-color)}.layer-list{flex:1;overflow-y:auto;padding:4px}.layer-item{display:flex;align-items:center;gap:8px;padding:8px 12px;margin-bottom:2px;border-radius:4px;background:var(--bg-panel);border:1px solid transparent;cursor:pointer;transition:all .2s}.layer-item:hover{background:var(--btn-hover);border-color:var(--border-color)}.layer-item.active{background:#3b82f6;color:#fff;border-color:#3b82f6}.layer-item.active .layer-name{font-weight:600}.drag-handle{cursor:grab;font-size:12px;color:var(--text-secondary);opacity:.5;transition:opacity .2s;-webkit-user-select:none;user-select:none;padding:0 2px}.drag-handle:active{cursor:grabbing}.layer-item:hover .drag-handle{opacity:1}.layer-item.drag-over{border-color:#3b82f6!important;border-style:dashed!important;background:#3b82f61a}.layer-visibility-btn,.layer-lock-btn,.layer-delete-btn{border:none;background:transparent;cursor:pointer;font-size:16px;padding:2px 4px;line-height:1;transition:transform .2s}.layer-visibility-btn:hover,.layer-lock-btn:hover{transform:scale(1.2)}.layer-duplicate-btn{border:none;background:transparent;cursor:pointer;font-size:18px;padding:2px 4px;line-height:1;transition:transform .2s;opacity:.6}.layer-duplicate-btn:hover{opacity:1;transform:scale(1.2)}.layer-delete-btn{margin-left:auto;font-size:24px;font-weight:300;opacity:.5}.layer-delete-btn:hover:not(:disabled){opacity:1;transform:scale(1.2)}.layer-delete-btn:disabled{opacity:.2;cursor:not-allowed}.layer-name{flex:1;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;-webkit-user-select:none;user-select:none}.layer-name-container{flex:1;display:flex;align-items:center;gap:8px;min-width:0}.layer-color-tag{width:3px;height:16px;border-radius:1px;flex-shrink:0}.layer-name-input{flex:1;font-size:13px;padding:2px 6px;border:1px solid #3b82f6;border-radius:3px;background:var(--bg-panel);color:var(--text-primary);outline:none;min-width:0}.layer-name-input:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}.layer-item.active .layer-name{color:#fff}@media(max-width:768px){.layer-panel{width:100%;height:auto;max-height:40vh;inset:auto 0 0;border-left:none;border-top:1px solid var(--border-color);box-shadow:0 -2px 10px #0000001a;position:absolute;border-radius:12px 12px 0 0}.layer-name,.layer-name-input{font-size:14px;min-height:24px}}.command-palette-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:flex-start;padding-top:15vh;z-index:10000}.command-palette-container{width:600px;max-width:90vw;background:var(--bg-panel);border-radius:12px;box-shadow:0 10px 25px #0003;border:1px solid var(--border-color);display:flex;flex-direction:column;overflow:hidden;color:var(--text-primary)}.command-palette-search{padding:16px;border-bottom:1px solid var(--border-color)}.command-palette-search input{width:100%;background:transparent;border:none;outline:none;font-size:18px;color:var(--text-primary);font-family:inherit}.command-palette-results{max-height:400px;overflow-y:auto;padding:8px 0}.command-palette-item{padding:10px 16px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background .1s}.command-palette-item.selected{background:var(--primary-color);color:#fff}.command-palette-item-info{display:flex;flex-direction:column}.command-palette-item-category{font-size:11px;text-transform:uppercase;opacity:.6;margin-bottom:2px}.command-palette-item.selected .command-palette-item-category{opacity:.8}.command-palette-item-label{font-size:15px;font-weight:500}.command-palette-item-shortcut{font-size:12px;opacity:.5;background:#0000000d;padding:2px 6px;border-radius:4px;border:1px solid rgba(0,0,0,.1)}.command-palette-item.selected .command-palette-item-shortcut{background:#fff3;border-color:#ffffff4d;color:#fff}.command-palette-no-results{padding:32px;text-align:center;opacity:.5;font-style:italic}.command-palette-footer{padding:8px 16px;border-top:1px solid var(--border-color);background:#00000005;display:flex;gap:16px;font-size:11px;opacity:.6}[data-theme=dark] .command-palette-footer{background:#ffffff05}[data-theme=dark] .command-palette-item-shortcut{background:#ffffff0d}
