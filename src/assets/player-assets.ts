// Auto-generated by scripts/embed-player.js
export const PLAYER_JS = "const _g=(t,e)=>t===e,mi=Symbol(\"solid-proxy\"),Ip=typeof Proxy==\"function\",Eh=Symbol(\"solid-track\"),$l={equals:_g};let Op=Tp;const xs=1,ql=2,Pp={owned:null,cleanups:null,context:null,owner:null};var or=null;let Gc=null,Sg=null,Vn=null,kr=null,Ji=null,fc=0;function Nl(t,e){const n=Vn,r=or,i=t.length===0,s=e===void 0?r:e,a=i?Pp:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?t:()=>t(()=>Tr(()=>ga(a)));or=a,Vn=null;try{return Co(o,!0)}finally{Vn=n,or=r}}function En(t,e){e=e?Object.assign({},$l,e):$l;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i==\"function\"&&(i=i(n.value)),Ep(n,i));return[Rp.bind(n),r]}function xr(t,e,n){const r=fu(t,e,!1,xs);_a(r)}function di(t,e,n){Op=Cg;const r=fu(t,e,!1,xs);r.user=!0,Ji?Ji.push(r):_a(r)}function ei(t,e,n){n=n?Object.assign({},$l,n):$l;const r=fu(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,_a(r),Rp.bind(r)}function ka(t){return Co(t,!1)}function Tr(t){if(Vn===null)return t();const e=Vn;Vn=null;try{return t()}finally{Vn=e}}function Lo(t){di(()=>Tr(t))}function qs(t){return or===null||(or.cleanups===null?or.cleanups=[t]:or.cleanups.push(t)),t}function Th(){return Vn}function Rp(){if(this.sources&&this.state)if(this.state===xs)_a(this);else{const t=kr;kr=null,Co(()=>Xl(this),!1),kr=t}if(Vn){const t=this.observers?this.observers.length:0;Vn.sources?(Vn.sources.push(this),Vn.sourceSlots.push(t)):(Vn.sources=[this],Vn.sourceSlots=[t]),this.observers?(this.observers.push(Vn),this.observerSlots.push(Vn.sources.length-1)):(this.observers=[Vn],this.observerSlots=[Vn.sources.length-1])}return this.value}function Ep(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Co(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],a=Gc&&Gc.running;a&&Gc.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?kr.push(s):Ji.push(s),s.observers&&Bp(s)),a||(s.state=xs)}if(kr.length>1e6)throw kr=[],new Error},!1)),e}function _a(t){if(!t.fn)return;ga(t);const e=fc;Ag(t,t.value,e)}function Ag(t,e,n){let r;const i=or,s=Vn;Vn=or=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=xs,t.owned&&t.owned.forEach(ga),t.owned=null),t.updatedAt=n+1,Fp(a)}finally{Vn=s,or=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&\"observers\"in t?Ep(t,r):t.value=r,t.updatedAt=n)}function fu(t,e,n,r=xs,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:or,context:or?or.context:null,pure:n};return or===null||or!==Pp&&(or.owned?or.owned.push(s):or.owned=[s]),s}function Wl(t){if(t.state===0)return;if(t.state===ql)return Xl(t);if(t.suspense&&Tr(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<fc);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===xs)_a(t);else if(t.state===ql){const r=kr;kr=null,Co(()=>Xl(t,e[0]),!1),kr=r}}function Co(t,e){if(kr)return t();let n=!1;e||(kr=[]),Ji?n=!0:Ji=[],fc++;try{const r=t();return Lg(n),r}catch(r){n||(Ji=null),kr=null,Fp(r)}}function Lg(t){if(kr&&(Tp(kr),kr=null),t)return;const e=Ji;Ji=null,e.length&&Co(()=>Op(e),!1)}function Tp(t){for(let e=0;e<t.length;e++)Wl(t[e])}function Cg(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Wl(r)}for(e=0;e<n;e++)Wl(t[e])}function Xl(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===xs?r!==e&&(!r.updatedAt||r.updatedAt<fc)&&Wl(r):i===ql&&Xl(r,e)}}}function Bp(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=ql,n.pure?kr.push(n):Ji.push(n),n.observers&&Bp(n))}}function ga(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),a=n.observerSlots.pop();r<i.length&&(s.sourceSlots[a]=r,i[r]=s,n.observerSlots[r]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)ga(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)ga(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Ng(t){return t instanceof Error?t:new Error(typeof t==\"string\"?t:\"Unknown error\",{cause:t})}function Fp(t,e=or){throw Ng(t)}const Mg=Symbol(\"fallback\");function gf(t){for(let e=0;e<t.length;e++)t[e]()}function Ig(t,e,n={}){let r=[],i=[],s=[],a=0,o=e.length>1?[]:null;return qs(()=>gf(s)),()=>{let l=t()||[],c=l.length,h,d;return l[Eh],Tr(()=>{let u,b,m,v,y,k,A,M,z;if(c===0)a!==0&&(gf(s),s=[],r=[],i=[],a=0,o&&(o=[])),n.fallback&&(r=[Mg],i[0]=Nl(Z=>(s[0]=Z,n.fallback())),a=1);else if(a===0){for(i=new Array(c),d=0;d<c;d++)r[d]=l[d],i[d]=Nl(g);a=c}else{for(m=new Array(c),v=new Array(c),o&&(y=new Array(c)),k=0,A=Math.min(a,c);k<A&&r[k]===l[k];k++);for(A=a-1,M=c-1;A>=k&&M>=k&&r[A]===l[M];A--,M--)m[M]=i[A],v[M]=s[A],o&&(y[M]=o[A]);for(u=new Map,b=new Array(M+1),d=M;d>=k;d--)z=l[d],h=u.get(z),b[d]=h===void 0?-1:h,u.set(z,d);for(h=k;h<=A;h++)z=r[h],d=u.get(z),d!==void 0&&d!==-1?(m[d]=i[h],v[d]=s[h],o&&(y[d]=o[h]),d=b[d],u.set(z,d)):s[h]();for(d=k;d<c;d++)d in m?(i[d]=m[d],s[d]=v[d],o&&(o[d]=y[d],o[d](d))):i[d]=Nl(g);i=i.slice(0,a=c),r=l.slice(0)}return i});function g(u){if(s[d]=u,o){const[b,m]=En(d);return o[d]=m,e(l[d],b)}return e(l[d])}}}function Pe(t,e){return Tr(()=>t(e||{}))}function sl(){return!0}const Bh={get(t,e,n){return e===mi?n:t.get(e)},has(t,e){return e===mi?!0:t.has(e)},set:sl,deleteProperty:sl,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:sl,deleteProperty:sl}},ownKeys(t){return t.keys()}};function Hc(t){return(t=typeof t==\"function\"?t():t)?t:{}}function Og(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Br(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&mi in o,t[a]=typeof o==\"function\"?(e=!0,ei(o)):o}if(Ip&&e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const l=Hc(t[o])[a];if(l!==void 0)return l}},has(a){for(let o=t.length-1;o>=0;o--)if(a in Hc(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(Hc(t[o])));return[...new Set(a)]}},Bh);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let c=l.length-1;c>=0;c--){const h=l[c];if(h===\"__proto__\"||h===\"constructor\")continue;const d=Object.getOwnPropertyDescriptor(o,h);if(!r[h])r[h]=d.get?{enumerable:!0,configurable:!0,get:Og.bind(n[h]=[d.get.bind(o)])}:d.value!==void 0?d:void 0;else{const g=n[h];g&&(d.get?g.push(d.get.bind(o)):d.value!==void 0&&g.push(()=>d.value))}}}const i={},s=Object.keys(r);for(let a=s.length-1;a>=0;a--){const o=s[a],l=r[o];l&&l.get?Object.defineProperty(i,o,l):i[o]=l?l.value:void 0}return i}function Dp(t,...e){const n=e.length;if(Ip&&mi in t){const i=n>1?e.flat():e[0],s=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},Bh));return s.push(new Proxy({get(a){return i.includes(a)?void 0:t[a]},has(a){return i.includes(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!i.includes(a))}},Bh)),s}const r=[];for(let i=0;i<=n;i++)r[i]={};for(const i of Object.getOwnPropertyNames(t)){let s=n;for(let l=0;l<e.length;l++)if(e[l].includes(i)){s=l;break}const a=Object.getOwnPropertyDescriptor(t,i);!a.get&&!a.set&&a.enumerable&&a.writable&&a.configurable?r[s][i]=a.value:Object.defineProperty(r[s],i,a)}return r}const Pg=t=>`Stale read from <${t}>.`;function du(t){const e=\"fallback\"in t&&{fallback:()=>t.fallback};return ei(Ig(()=>t.each,t.children,e||void 0))}function tr(t){const e=t.keyed,n=ei(()=>t.when,void 0,void 0),r=e?n:ei(n,void 0,{equals:(i,s)=>!i==!s});return ei(()=>{const i=r();if(i){const s=t.children;return typeof s==\"function\"&&s.length>0?Tr(()=>s(e?i:()=>{if(!Tr(r))throw Pg(\"Show\");return n()})):s}return t.fallback},void 0,void 0)}const Rg=[\"allowfullscreen\",\"async\",\"alpha\",\"autofocus\",\"autoplay\",\"checked\",\"controls\",\"default\",\"disabled\",\"formnovalidate\",\"hidden\",\"indeterminate\",\"inert\",\"ismap\",\"loop\",\"multiple\",\"muted\",\"nomodule\",\"novalidate\",\"open\",\"playsinline\",\"readonly\",\"required\",\"reversed\",\"seamless\",\"selected\",\"adauctionheaders\",\"browsingtopics\",\"credentialless\",\"defaultchecked\",\"defaultmuted\",\"defaultselected\",\"defer\",\"disablepictureinpicture\",\"disableremoteplayback\",\"preservespitch\",\"shadowrootclonable\",\"shadowrootcustomelementregistry\",\"shadowrootdelegatesfocus\",\"shadowrootserializable\",\"sharedstoragewritable\"],Eg=new Set([\"className\",\"value\",\"readOnly\",\"noValidate\",\"formNoValidate\",\"isMap\",\"noModule\",\"playsInline\",\"adAuctionHeaders\",\"allowFullscreen\",\"browsingTopics\",\"defaultChecked\",\"defaultMuted\",\"defaultSelected\",\"disablePictureInPicture\",\"disableRemotePlayback\",\"preservesPitch\",\"shadowRootClonable\",\"shadowRootCustomElementRegistry\",\"shadowRootDelegatesFocus\",\"shadowRootSerializable\",\"sharedStorageWritable\",...Rg]),Tg=new Set([\"innerHTML\",\"textContent\",\"innerText\",\"children\"]),Bg=Object.assign(Object.create(null),{className:\"class\",htmlFor:\"for\"}),Fg=Object.assign(Object.create(null),{class:\"className\",novalidate:{$:\"noValidate\",FORM:1},formnovalidate:{$:\"formNoValidate\",BUTTON:1,INPUT:1},ismap:{$:\"isMap\",IMG:1},nomodule:{$:\"noModule\",SCRIPT:1},playsinline:{$:\"playsInline\",VIDEO:1},readonly:{$:\"readOnly\",INPUT:1,TEXTAREA:1},adauctionheaders:{$:\"adAuctionHeaders\",IFRAME:1},allowfullscreen:{$:\"allowFullscreen\",IFRAME:1},browsingtopics:{$:\"browsingTopics\",IMG:1},defaultchecked:{$:\"defaultChecked\",INPUT:1},defaultmuted:{$:\"defaultMuted\",AUDIO:1,VIDEO:1},defaultselected:{$:\"defaultSelected\",OPTION:1},disablepictureinpicture:{$:\"disablePictureInPicture\",VIDEO:1},disableremoteplayback:{$:\"disableRemotePlayback\",AUDIO:1,VIDEO:1},preservespitch:{$:\"preservesPitch\",AUDIO:1,VIDEO:1},shadowrootclonable:{$:\"shadowRootClonable\",TEMPLATE:1},shadowrootdelegatesfocus:{$:\"shadowRootDelegatesFocus\",TEMPLATE:1},shadowrootserializable:{$:\"shadowRootSerializable\",TEMPLATE:1},sharedstoragewritable:{$:\"sharedStorageWritable\",IFRAME:1,IMG:1}});function Dg(t,e){const n=Fg[t];return typeof n==\"object\"?n[e]?n.$:void 0:n}const zg=new Set([\"beforeinput\",\"click\",\"dblclick\",\"contextmenu\",\"focusin\",\"focusout\",\"input\",\"keydown\",\"keyup\",\"mousedown\",\"mousemove\",\"mouseout\",\"mouseover\",\"mouseup\",\"pointerdown\",\"pointermove\",\"pointerout\",\"pointerover\",\"pointerup\",\"touchend\",\"touchmove\",\"touchstart\"]),jg=new Set([\"altGlyph\",\"altGlyphDef\",\"altGlyphItem\",\"animate\",\"animateColor\",\"animateMotion\",\"animateTransform\",\"circle\",\"clipPath\",\"color-profile\",\"cursor\",\"defs\",\"desc\",\"ellipse\",\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\",\"filter\",\"font\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignObject\",\"g\",\"glyph\",\"glyphRef\",\"hkern\",\"image\",\"line\",\"linearGradient\",\"marker\",\"mask\",\"metadata\",\"missing-glyph\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"set\",\"stop\",\"svg\",\"switch\",\"symbol\",\"text\",\"textPath\",\"tref\",\"tspan\",\"use\",\"view\",\"vkern\"]),Ug={xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\"},ma=t=>ei(()=>t());function $g(t,e,n){let r=n.length,i=e.length,s=r,a=0,o=0,l=e[i-1].nextSibling,c=null;for(;a<i||o<s;){if(e[a]===n[o]){a++,o++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===a){const h=s<r?o?n[o-1].nextSibling:n[s-o]:l;for(;o<s;)t.insertBefore(n[o++],h)}else if(s===o)for(;a<i;)(!c||!c.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[s-1]&&n[o]===e[i-1]){const h=e[--i].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--s],h),e[i]=n[s]}else{if(!c){c=new Map;let d=o;for(;d<s;)c.set(n[d],d++)}const h=c.get(e[a]);if(h!=null)if(o<h&&h<s){let d=a,g=1,u;for(;++d<i&&d<s&&!((u=c.get(e[d]))==null||u!==h+g);)g++;if(g>h-o){const b=e[a];for(;o<h;)t.insertBefore(n[o++],b)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const mf=\"_$DX_DELEGATE\";function qg(t,e,n,r={}){let i;return Nl(s=>{i=s,e===document?t():gn(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=\"\"}}function qn(t,e,n,r){let i;const s=()=>{const o=document.createElement(\"template\");return o.innerHTML=t,o.content.firstChild},a=()=>(i||(i=s())).cloneNode(!0);return a.cloneNode=a,a}function Gs(t,e=window.document){const n=e[mf]||(e[mf]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,Zg))}}function js(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Wg(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function Xg(t,e,n){n?t.setAttribute(e,\"\"):t.removeAttribute(e)}function pu(t,e){e==null?t.removeAttribute(\"class\"):t.className=e}function zp(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n,typeof n!=\"function\"&&n)}function Gg(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,a;for(s=0,a=i.length;s<a;s++){const o=i[s];!o||o===\"undefined\"||e[o]||(yf(t,o,!1),delete n[o])}for(s=0,a=r.length;s<a;s++){const o=r[s],l=!!e[o];!o||o===\"undefined\"||n[o]===l||!l||(yf(t,o,!0),n[o]=l)}return n}function Hg(t,e,n){if(!e)return n?js(t,\"style\"):e;const r=t.style;if(typeof e==\"string\")return r.cssText=e;typeof n==\"string\"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Ln(t,e,n){n!=null?t.style.setProperty(e,n):t.style.removeProperty(e)}function jp(t,e={},n,r){const i={};return r||xr(()=>i.children=ya(t,e.children,i.children)),xr(()=>typeof e.ref==\"function\"&&So(e.ref,t)),xr(()=>Vg(t,e,n,!0,i,!0)),i}function So(t,e,n){return Tr(()=>t(e,n))}function gn(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!=\"function\")return ya(t,e,r,n);xr(i=>ya(t,e(),i,n),r)}function Vg(t,e,n,r,i={},s=!1){e||(e={});for(const a in i)if(!(a in e)){if(a===\"children\")continue;i[a]=bf(t,a,null,i[a],n,s,e)}for(const a in e){if(a===\"children\")continue;const o=e[a];i[a]=bf(t,a,o,i[a],n,s,e)}}function Yg(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function yf(t,e,n){const r=e.trim().split(/\\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function bf(t,e,n,r,i,s,a){let o,l,c,h,d;if(e===\"style\")return Hg(t,n,r);if(e===\"classList\")return Gg(t,n,r);if(n===r)return r;if(e===\"ref\")s||n(t);else if(e.slice(0,3)===\"on:\"){const g=e.slice(3);r&&t.removeEventListener(g,r,typeof r!=\"function\"&&r),n&&t.addEventListener(g,n,typeof n!=\"function\"&&n)}else if(e.slice(0,10)===\"oncapture:\"){const g=e.slice(10);r&&t.removeEventListener(g,r,!0),n&&t.addEventListener(g,n,!0)}else if(e.slice(0,2)===\"on\"){const g=e.slice(2).toLowerCase(),u=zg.has(g);if(!u&&r){const b=Array.isArray(r)?r[0]:r;t.removeEventListener(g,b)}(u||n)&&(zp(t,g,n,u),u&&Gs([g]))}else if(e.slice(0,5)===\"attr:\")js(t,e.slice(5),n);else if(e.slice(0,5)===\"bool:\")Xg(t,e.slice(5),n);else if((d=e.slice(0,5)===\"prop:\")||(c=Tg.has(e))||!i&&((h=Dg(e,t.tagName))||(l=Eg.has(e)))||(o=t.nodeName.includes(\"-\")||\"is\"in a))d&&(e=e.slice(5),l=!0),e===\"class\"||e===\"className\"?pu(t,n):o&&!l&&!c?t[Yg(e)]=n:t[h||e]=n;else{const g=i&&e.indexOf(\":\")>-1&&Ug[e.split(\":\")[0]];g?Wg(t,g,e,n):js(t,Bg[e]||e,n)}return n}function Zg(t){let e=t.target;const n=`$$${t.type}`,r=t.target,i=t.currentTarget,s=l=>Object.defineProperty(t,\"target\",{configurable:!0,value:l}),a=()=>{const l=e[n];if(l&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!=\"string\"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,\"currentTarget\",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();s(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!a());c++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();s(r)}function ya(t,e,n,r,i){for(;typeof n==\"function\";)n=n();if(e===n)return n;const s=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,s===\"string\"||s===\"number\"){if(s===\"number\"&&(e=e.toString(),e===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=no(t,n,r,o)}else n!==\"\"&&typeof n==\"string\"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||s===\"boolean\")n=no(t,n,r);else{if(s===\"function\")return xr(()=>{let o=e();for(;typeof o==\"function\";)o=o();n=ya(t,o,n,r)}),()=>n;if(Array.isArray(e)){const o=[],l=n&&Array.isArray(n);if(Fh(o,e,n,i))return xr(()=>n=ya(t,o,n,r,!0)),()=>n;if(o.length===0){if(n=no(t,n,r),a)return n}else l?n.length===0?wf(t,o,r):$g(t,n,o):(n&&no(t),wf(t,o));n=o}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=no(t,n,r,e);no(t,n,null,e)}else n==null||n===\"\"||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Fh(t,e,n,r){let i=!1;for(let s=0,a=e.length;s<a;s++){let o=e[s],l=n&&n[t.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)==\"object\"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=Fh(t,o,l)||i;else if(c===\"function\")if(r){for(;typeof o==\"function\";)o=o();i=Fh(t,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||i}else t.push(o),i=!0;else{const h=String(o);l&&l.nodeType===3&&l.data===h?t.push(l):t.push(document.createTextNode(h))}}return i}function wf(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function no(t,e,n,r){if(n===void 0)return t.textContent=\"\";const i=r||document.createTextNode(\"\");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const l=o.parentNode===t;!s&&!a?l?t.replaceChild(i,o):t.insertBefore(i,n):l&&o.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const Kg=\"http://www.w3.org/2000/svg\";function Jg(t,e=!1,n=void 0){return e?document.createElementNS(Kg,t):document.createElement(t,{is:n})}function Qg(t,e){const n=ei(t);return ei(()=>{const r=n();switch(typeof r){case\"function\":return Tr(()=>r(e));case\"string\":const i=jg.has(r),s=Jg(r,i,Tr(()=>e.is));return jp(s,e,i),s}})}function t5(t){const[,e]=Dp(t,[\"component\"]);return Qg(()=>t.component,e)}const Up=(t,e,n,r,i=new Set,s=!1)=>{if(r.has(t.id))return r.get(t.id);if(i.has(t.id))return{x:t.x,y:t.y,angle:t.angle||0,opacity:t.opacity||100};i.add(t.id);let a=t.x,o=t.y,l=t.angle||0;const c=t.orbitSpeed!==void 0?Number(t.orbitSpeed):1,h=t.orbitRadius!==void 0?Number(t.orbitRadius):150;if(t.orbitEnabled&&t.orbitCenterId&&!isNaN(h)&&!isNaN(c)){const u=n.get(t.orbitCenterId);if(u){const b=Up(u,e,n,r,i,s),m=Number(b.x)||0,v=Number(b.y)||0,y=Number(u.width)||0,k=Number(u.height)||0,A=m+y/2,M=v+k/2;if(s){const z=e*.001*c,Z=A+h*Math.cos(z),H=M+h*Math.sin(z);a=Z-(Number(t.width)||0)/2,o=H-(Number(t.height)||0)/2}}}const d=t.spinSpeed!==void 0?Number(t.spinSpeed):5;if(t.spinEnabled&&!isNaN(d)&&s){const u=e*.001;l+=u*(d*Math.PI/3)}isNaN(a)&&(a=t.x),isNaN(o)&&(o=t.y),isNaN(l)&&(l=t.angle||0);const g={x:a,y:o,angle:l,opacity:t.opacity||100};return r.set(t.id,g),i.delete(t.id),g},Vc=(t,e,n=!1)=>{const r=new Map;t.forEach(a=>r.set(a.id,a));const i=new Map,s=new Set;return t.forEach(a=>{Up(a,e,r,i,s,n)}),i};function e5(t=170,e=26,n=1,r=0){return i=>{if(i===0||i===1)return i;const a=i*1,o=Math.max(n,.01),l=Math.max(t,.01),c=Math.sqrt(l/o),h=e/(2*Math.sqrt(l*o)),d=-1,g=r;let u;const b=.001;if(h<1-b){const m=c*Math.sqrt(1-h*h),v=Math.exp(-h*c*a),y=d,k=(g+h*c*d)/m;u=1+v*(y*Math.cos(m*a)+k*Math.sin(m*a))}else if(h>1+b){const m=-c*(h+Math.sqrt(h*h-1)),v=-c*(h-Math.sqrt(h*h-1)),y=(g-v*d)/(m-v),k=d-y;u=1+y*Math.exp(m*a)+k*Math.exp(v*a)}else u=1+Math.exp(-c*a)*(d+(g+c*d)*a);return u}}const bo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,10*(2*t-1))/2:(2-Math.pow(2,-10*(2*t-1)))/2,easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInBounce:t=>1-bo.easeOutBounce(1-t),easeInOutBounce:t=>t<.5?(1-bo.easeOutBounce(1-2*t))/2:(1+bo.easeOutBounce(2*t-1))/2,easeOutElastic:t=>{const e=2*Math.PI/3;return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*e)+1},easeInElastic:t=>{const e=2*Math.PI/3;return t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*e)},easeOutBack:t=>1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2),easeInBack:t=>2.70158*t*t*t-1.70158*t*t,easeSpring:e5(170,26,1,0)};function Dh(t){return t?typeof t==\"function\"?t:bo[t]??bo.linear:bo.linear}function Yr(t,e,n){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*n}function n5(t,e,n){if(!t)return e||\"#000000\";if(!e)return t;const r=u=>{const b=u.replace(\"#\",\"\");return b.length<6?[0,0,0]:[parseInt(b.substring(0,2),16)||0,parseInt(b.substring(2,4),16)||0,parseInt(b.substring(4,6),16)||0]},[i,s,a]=r(t),[o,l,c]=r(e),h=Math.round(Yr(i,o,n)),d=Math.round(Yr(s,l,n)),g=Math.round(Yr(a,c,n));return`#${h.toString(16).padStart(2,\"0\")}${d.toString(16).padStart(2,\"0\")}${g.toString(16).padStart(2,\"0\")}`}const r5=\"modulepreload\",i5=function(t){return\"/\"+t},vf={},Ml=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:\"fulfilled\",value:d}),d=>({status:\"rejected\",reason:d}))))};document.getElementsByTagName(\"link\");const a=document.querySelector(\"meta[property=csp-nonce]\"),o=a?.nonce||a?.getAttribute(\"nonce\");i=l(n.map(c=>{if(c=i5(c),c in vf)return;vf[c]=!0;const h=c.endsWith(\".css\"),d=h?'[rel=\"stylesheet\"]':\"\";if(document.querySelector(`link[href=\"${c}\"]${d}`))return;const g=document.createElement(\"link\");if(g.rel=h?\"stylesheet\":r5,h||(g.as=\"script\"),g.crossOrigin=\"\",g.href=c,o&&g.setAttribute(\"nonce\",o),document.head.appendChild(g),h)return new Promise((u,b)=>{g.addEventListener(\"load\",u),g.addEventListener(\"error\",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event(\"vite:preloadError\",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status===\"rejected\"&&s(o.reason);return e().catch(s)})},zh=Symbol(\"store-raw\"),wo=Symbol(\"store-node\"),Yi=Symbol(\"store-has\"),$p=Symbol(\"store-self\");function qp(t){let e=t[mi];if(!e&&(Object.defineProperty(t,mi,{value:e=new Proxy(t,a5)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,s=n.length;i<s;i++){const a=n[i];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Gl(t){let e;return t!=null&&typeof t==\"object\"&&(t[mi]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ba(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[zh])return n;if(!Gl(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(r=ba(i,e))!==i&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let l=0,c=a.length;l<c;l++)s=a[l],!o[s].get&&(i=t[s],(r=ba(i,e))!==i&&(t[s]=r))}return t}function Hl(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function wa(t,e,n){if(t[e])return t[e];const[r,i]=En(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function s5(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===mi||e===wo||(delete n.value,delete n.writable,n.get=()=>t[mi][e]),n}function Wp(t){Th()&&wa(Hl(t,wo),$p)()}function o5(t){return Wp(t),Reflect.ownKeys(t)}const a5={get(t,e,n){if(e===zh)return t;if(e===mi)return n;if(e===Eh)return Wp(t),n;const r=Hl(t,wo),i=r[e];let s=i?i():t[e];if(e===wo||e===Yi||e===\"__proto__\")return s;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Th()&&(typeof s!=\"function\"||t.hasOwnProperty(e))&&!(a&&a.get)&&(s=wa(r,e,s)())}return Gl(s)?qp(s):s},has(t,e){return e===zh||e===mi||e===Eh||e===wo||e===Yi||e===\"__proto__\"?!0:(Th()&&wa(Hl(t,Yi),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:o5,getOwnPropertyDescriptor:s5};function Vl(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?(delete t[e],t[Yi]&&t[Yi][e]&&i!==void 0&&t[Yi][e].$()):(t[e]=n,t[Yi]&&t[Yi][e]&&i===void 0&&t[Yi][e].$());let a=Hl(t,wo),o;if((o=wa(a,e,i))&&o.$(()=>n),Array.isArray(t)&&t.length!==s){for(let l=t.length;l<s;l++)(o=a[l])&&o.$();(o=wa(a,\"length\",s))&&o.$(t.length)}(o=a[$p])&&o.$()}function Xp(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];Vl(t,i,e[i])}}function l5(t,e){if(typeof e==\"function\"&&(e=e(t)),e=ba(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&Vl(t,n,i)}Vl(t,\"length\",r)}else Xp(t,e)}function ca(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)ca(t,[r[l]].concat(e),n);return}else if(o&&a===\"function\"){for(let l=0;l<t.length;l++)r(t[l],l)&&ca(t,[l].concat(e),n);return}else if(o&&a===\"object\"){const{from:l=0,to:c=t.length-1,by:h=1}=r;for(let d=l;d<=c;d+=h)ca(t,[d].concat(e),n);return}else if(e.length>1){ca(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s==\"function\"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=ba(s),r===void 0||Gl(i)&&Gl(s)&&!Array.isArray(s)?Xp(i,s):Vl(t,r,s))}function c5(...[t,e]){const n=ba(t||{}),r=Array.isArray(n),i=qp(n);function s(...a){ka(()=>{r&&a.length===1?l5(n,a[0]):ca(n,a)})}return[i,s]}const Yl={type:\"none\",duration:500,easing:\"easeInOutQuad\"},Gp=(t,e,n=0,r=0)=>({id:crypto.randomUUID(),name:\"Slide 1\",spatialPosition:{x:n,y:r},dimensions:{width:1920,height:1080},backgroundColor:\"#ffffff\",order:0,transition:{...Yl}}),h5=(t,e=\"slides\")=>({version:4,metadata:{name:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),docType:e},elements:[],layers:[{id:\"default-layer\",name:\"Layer 1\",visible:!0,locked:!1,opacity:1,order:0,backgroundColor:\"transparent\"}],slides:[Gp()],globalSettings:{},gridSettings:{enabled:!1,snapToGrid:!1,objectSnapping:!0,gridSize:20,gridColor:\"#cccccc\",gridOpacity:.5,style:\"lines\"}});var u5={xmlns:\"http://www.w3.org/2000/svg\",width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",\"stroke-width\":2,\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},ro=u5,f5=qn(\"<svg>\"),xf=t=>t.replace(/([a-z0-9])([A-Z])/g,\"$1-$2\").toLowerCase(),d5=t=>t.replace(/^([A-Z])|[\\s-_]+(\\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),p5=t=>{const e=d5(t);return e.charAt(0).toUpperCase()+e.slice(1)},g5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==\"\"&&r.indexOf(e)===n).join(\" \").trim(),m5=t=>{const[e,n]=Dp(t,[\"color\",\"size\",\"strokeWidth\",\"children\",\"class\",\"name\",\"iconNode\",\"absoluteStrokeWidth\"]);return(()=>{var r=f5();return jp(r,Br(ro,{get width(){return e.size??ro.width},get height(){return e.size??ro.height},get stroke(){return e.color??ro.stroke},get\"stroke-width\"(){return ma(()=>!!e.absoluteStrokeWidth)()?Number(e.strokeWidth??ro[\"stroke-width\"])*24/Number(e.size):Number(e.strokeWidth??ro[\"stroke-width\"])},get class(){return g5(\"lucide\",\"lucide-icon\",...e.name!=null?[`lucide-${xf(p5(e.name))}`,`lucide-${xf(e.name)}`]:[],e.class!=null?e.class:\"\")}},n),!0,!0),gn(r,Pe(du,{get each(){return e.iconNode},children:([i,s])=>Pe(t5,Br({component:i},s))})),r})()},ri=m5,y5=[[\"path\",{d:\"M20 6 9 17l-5-5\",key:\"1gmf2c\"}]],b5=t=>Pe(ri,Br(t,{iconNode:y5,name:\"check\"})),w5=b5,v5=[[\"path\",{d:\"m15 18-6-6 6-6\",key:\"1wnfg3\"}]],x5=t=>Pe(ri,Br(t,{iconNode:v5,name:\"chevron-left\"})),k5=x5,_5=[[\"path\",{d:\"m9 18 6-6-6-6\",key:\"mthhwq\"}]],S5=t=>Pe(ri,Br(t,{iconNode:_5,name:\"chevron-right\"})),A5=S5,L5=[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"8\",y2:\"12\",key:\"1pkeuh\"}],[\"line\",{x1:\"12\",x2:\"12.01\",y1:\"16\",y2:\"16\",key:\"4dfq90\"}]],C5=t=>Pe(ri,Br(t,{iconNode:L5,name:\"circle-alert\"})),N5=C5,M5=[[\"path\",{d:\"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21\",key:\"g5wo59\"}],[\"path\",{d:\"m5.082 11.09 8.828 8.828\",key:\"1wx5vj\"}]],I5=t=>Pe(ri,Br(t,{iconNode:M5,name:\"eraser\"})),O5=I5,P5=[[\"path\",{d:\"m9 11-6 6v3h9l3-3\",key:\"1a3l36\"}],[\"path\",{d:\"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4\",key:\"14a9rk\"}]],R5=t=>Pe(ri,Br(t,{iconNode:P5,name:\"highlighter\"})),E5=R5,T5=[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"M12 16v-4\",key:\"1dtifu\"}],[\"path\",{d:\"M12 8h.01\",key:\"e9boi3\"}]],B5=t=>Pe(ri,Br(t,{iconNode:T5,name:\"info\"})),F5=B5,D5=[[\"path\",{d:\"M21 12a9 9 0 1 1-6.219-8.56\",key:\"13zald\"}]],z5=t=>Pe(ri,Br(t,{iconNode:D5,name:\"loader-circle\"})),j5=z5,U5=[[\"path\",{d:\"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z\",key:\"edeuup\"}]],$5=t=>Pe(ri,Br(t,{iconNode:U5,name:\"mouse-pointer-2\"})),q5=$5,W5=[[\"rect\",{width:\"18\",height:\"18\",x:\"3\",y:\"3\",rx:\"2\",key:\"afitv7\"}]],X5=t=>Pe(ri,Br(t,{iconNode:W5,name:\"square\"})),G5=X5,H5=[[\"path\",{d:\"M18 6 6 18\",key:\"1bl5f8\"}],[\"path\",{d:\"m6 6 12 12\",key:\"d8bk6v\"}]],V5=t=>Pe(ri,Br(t,{iconNode:H5,name:\"x\"})),gu=V5,Y5=[[\"path\",{d:\"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",key:\"1xq2db\"}]],Z5=t=>Pe(ri,Br(t,{iconNode:Y5,name:\"zap\"})),K5=Z5,J5=qn(\"<div><div class=toast-icon></div><div class=toast-message></div><button class=toast-close>\");const[Ts,jh]=En({message:\"\",type:\"info\",visible:!1});let fa;const pi=(t,e=\"info\",n=3e3)=>{const r=e===\"loading\"?0:n;jh({message:t,type:e,visible:!0}),fa&&clearTimeout(fa),r>0&&(fa=window.setTimeout(()=>{jh(i=>({...i,visible:!1}))},r))},Q5=()=>{jh(t=>({...t,visible:!1})),fa&&clearTimeout(fa)},tm=()=>Pe(tr,{get when(){return Ts().visible},get children(){var t=J5(),e=t.firstChild,n=e.nextSibling,r=n.nextSibling;return gn(e,Pe(tr,{get when(){return Ts().type===\"success\"},get children(){return Pe(w5,{size:18})}}),null),gn(e,Pe(tr,{get when(){return Ts().type===\"error\"},get children(){return Pe(N5,{size:18})}}),null),gn(e,Pe(tr,{get when(){return Ts().type===\"info\"},get children(){return Pe(F5,{size:18})}}),null),gn(e,Pe(tr,{get when(){return Ts().type===\"loading\"},get children(){return Pe(j5,{size:18,class:\"spin\"})}}),null),gn(n,()=>Ts().message),r.$$click=Q5,gn(r,Pe(gu,{size:14})),xr(()=>pu(t,`toast toast-${Ts().type}`)),t}});Gs([\"click\"]);const kf=[\"#e03131\",\"#1971c2\",\"#2f9e44\",\"#f08c00\",\"#9c36b5\",\"#0b7285\",\"#748ffc\",\"#f76707\",\"#099268\"];class Hp{hSpacing=100;vSpacing=40;buildTree(e,n){const r=n.find(a=>a.id===e);if(!r)return null;const i={id:r.id,element:r,children:[],width:r.width,height:r.height,x:r.x,y:r.y},s=n.filter(a=>a.parentId===e);for(const a of s){const o=this.buildTree(a.id,n);o&&i.children.push(o)}return i}layoutHorizontal(e,n=\"right\"){this.calculateSubtreeHeights(e),this.assignHorizontalPositions(e,e.x,e.y,n)}layoutVertical(e,n=\"down\"){this.calculateSubtreeWidths(e),this.assignVerticalPositions(e,e.x,e.y,n)}calculateSubtreeHeights(e){if(e.children.length===0)return e.totalHeight=e.height,e.totalHeight;const n=e.children.reduce((i,s)=>i+this.calculateSubtreeHeights(s),0),r=(e.children.length-1)*this.vSpacing;return e.totalHeight=Math.max(e.height,n+r),e.totalHeight}assignHorizontalPositions(e,n,r,i){if(e.x=n,e.y=r,e.children.length===0)return;const s=i===\"right\"?n+e.width+this.hSpacing:n-this.hSpacing;let a=r-e.totalHeight/2+e.children[0].totalHeight/2;const o=e.children.reduce((l,c)=>l+c.totalHeight,0)+(e.children.length-1)*this.vSpacing;a=r+e.height/2-o/2;for(const l of e.children){const c=i===\"right\"?s:s-l.width,h=a+l.totalHeight/2-l.height/2;this.assignHorizontalPositions(l,c,h,i),a+=l.totalHeight+this.vSpacing}}calculateSubtreeWidths(e){if(e.children.length===0)return e.totalWidth=e.width,e.totalWidth;const n=e.children.reduce((i,s)=>i+this.calculateSubtreeWidths(s),0),r=(e.children.length-1)*this.hSpacing;return e.totalWidth=Math.max(e.width,n+r),e.totalWidth}assignVerticalPositions(e,n,r,i){if(e.x=n,e.y=r,e.children.length===0)return;const s=i===\"down\"?r+e.height+this.vSpacing:r-this.vSpacing,a=e.children.reduce((l,c)=>l+c.totalWidth,0)+(e.children.length-1)*this.hSpacing;let o=n+e.width/2-a/2;for(const l of e.children){const c=i===\"down\"?s:s-l.height,h=o+l.totalWidth/2-l.width/2;this.assignVerticalPositions(l,h,c,i),o+=l.totalWidth+this.hSpacing}}layoutRadial(e){this.assignRadialPositions(e,e.x,e.y,0,Math.PI*2,250)}assignRadialPositions(e,n,r,i,s,a){if(e.x=n,e.y=r,e.children.length===0)return;const o=n+e.width/2,l=r+e.height/2,h=(s-i)/e.children.length;for(let d=0;d<e.children.length;d++){const g=e.children[d],u=i+(d+.5)*h,b=o+Math.cos(u)*(a+e.width/2),m=l+Math.sin(u)*(a+e.height/2),v=b-g.width/2,y=m-g.height/2,k=Math.min(Math.PI/2,h*.9);this.assignRadialPositions(g,v,y,u-k/2,u+k/2,a*.8)}}applySemanticStyling(e,n){e.styleUpdates={},e.children.forEach((r,i)=>{const s=kf[i%kf.length];this.styleSubtree(r,s,1,n)})}styleSubtree(e,n,r,i){const s=Math.max(1,4-r*.5),a=Math.max(40,100-r*10);e.styleUpdates={strokeColor:n,strokeWidth:s,opacity:a},i.find(o=>(o.type===\"arrow\"||o.type===\"line\"||o.type===\"bezier\")&&o.endBinding?.elementId===e.id);for(const o of e.children)this.styleSubtree(o,n,r+1,i)}getUpdates(e,n,r=new Map){const i={x:e.x,y:e.y,...e.styleUpdates};r.set(e.id,i);const s=n.find(a=>(a.type===\"arrow\"||a.type===\"line\"||a.type===\"bezier\")&&a.endBinding?.elementId===e.id);s&&e.styleUpdates&&r.set(s.id,{strokeColor:e.styleUpdates.strokeColor,strokeWidth:e.styleUpdates.strokeWidth,opacity:e.styleUpdates.opacity});for(const a of e.children)this.getUpdates(a,n,r);return r}}function Yc(t){const{width:e,height:n}=t.dimensions,{x:r,y:i}=t.spatialPosition,s=40,a=window.innerWidth-s*2,o=window.innerHeight-s*2,l=a/e,c=o/n,h=Math.min(l,c),d=(window.innerWidth-e*h)/2-r*h,g=(window.innerHeight-n*h)/2-i*h;return{scale:h,panX:d,panY:g}}class em{activeAnimationId=null;isTransitioning=!1;fadeOverlay=null;get transitioning(){return this.isTransitioning}async transitionTo(e,n){if(e<0||e>=L.slides.length||e===L.activeSlideIndex&&!this.isTransitioning)return;this.cancelActiveTransition();const r=L.activeSlideIndex,i=L.slides[r],s=L.slides[e],a=s.transition||Yl,o=e>r?\"forward\":\"backward\",l={fromSlide:i,toSlide:s,fromIndex:r,toIndex:e,direction:o};if(n?.skipAnimation||a.type===\"none\"||L.globalSettings?.animationEnabled===!1||L.globalSettings?.reducedMotion===!0){this.applyImmediateSwitch(e);return}this.isTransitioning=!0;try{await this.executeTransition(l,a)}finally{this.isTransitioning=!1,this.activeAnimationId=null}}applyImmediateSwitch(e){Kt(\"activeSlideIndex\",e);const n=L.slides[e];if(n){const r=Yc(n);Nr(r)}}cancelActiveTransition(){this.activeAnimationId&&(Bn.stop(this.activeAnimationId),this.activeAnimationId=null),this.removeFadeOverlay(),this.isTransitioning=!1}async executeTransition(e,n){switch(n.type){case\"fade\":return this.executeFade(e,n);case\"slide-left\":case\"slide-right\":case\"slide-up\":case\"slide-down\":return this.executeSlide(e,n);case\"zoom-in\":case\"zoom-out\":return this.executeZoom(e,n);default:this.applyImmediateSwitch(e.toIndex)}}executeFade(e,n){return new Promise(r=>{const i=n.duration/2,s=e.toSlide.backgroundColor||\"#ffffff\";this.fadeOverlay=document.createElement(\"div\"),this.fadeOverlay.style.cssText=`\n                position: fixed;\n                inset: 0;\n                z-index: 99999;\n                background: ${s};\n                opacity: 0;\n                pointer-events: none;\n                transition: opacity ${i}ms ease-in-out;\n            `,document.body.appendChild(this.fadeOverlay),requestAnimationFrame(()=>{this.fadeOverlay&&(this.fadeOverlay.style.opacity=\"1\")}),setTimeout(()=>{this.applyImmediateSwitch(e.toIndex),this.fadeOverlay&&(this.fadeOverlay.style.opacity=\"0\"),setTimeout(()=>{this.removeFadeOverlay(),r()},i)},i)})}executeSlide(e,n){return new Promise(r=>{const i={...L.viewState},s=Yc(e.toSlide);let a=0,o=0;const l=200;switch(n.type){case\"slide-left\":a=e.direction===\"forward\"?-l:l;break;case\"slide-right\":a=e.direction===\"forward\"?l:-l;break;case\"slide-up\":o=e.direction===\"forward\"?-l:l;break;case\"slide-down\":o=e.direction===\"forward\"?l:-l;break}Kt(\"activeSlideIndex\",e.toIndex);const c=Ao(\"slide-transition\");this.activeAnimationId=c;const h=Dh(n.easing);Bn.create(c,d=>{const g=h(d),u=Yr(i.panX+a,s.panX,g),b=Yr(i.panY+o,s.panY,g),m=Yr(i.scale,s.scale,g);Nr({panX:u,panY:b,scale:m})},{duration:n.duration,onComplete:()=>{this.activeAnimationId=null,Nr(s),r()}}),Bn.start(c)})}executeZoom(e,n){return new Promise(r=>{const i={...L.viewState},s=Yc(e.toSlide),a=n.type===\"zoom-in\";Kt(\"activeSlideIndex\",e.toIndex);const o=Ao(\"zoom-transition\");this.activeAnimationId=o;const l=Dh(n.easing),c=a?.3:1.5,h=s.scale*c;Bn.create(o,d=>{const g=l(d);let u,b,m;if(d<.5){const v=g*2;u=Yr(i.scale,h,v),b=Yr(i.panX,(i.panX+s.panX)/2,v),m=Yr(i.panY,(i.panY+s.panY)/2,v)}else{const v=(g-.5)*2;u=Yr(h,s.scale,v),b=Yr((i.panX+s.panX)/2,s.panX,v),m=Yr((i.panY+s.panY)/2,s.panY,v)}Nr({scale:u,panX:b,panY:m})},{duration:n.duration,onComplete:()=>{this.activeAnimationId=null,Nr(s),r()}}),Bn.start(o)})}removeFadeOverlay(){this.fadeOverlay&&this.fadeOverlay.parentNode&&(this.fadeOverlay.parentNode.removeChild(this.fadeOverlay),this.fadeOverlay=null)}async previewTransition(e){if(!(e<0||e>=L.slides.length))if(e===0){const n=L.slides[0],r=n.transition||Yl;await this.executeTransition({fromSlide:n,toSlide:n,fromIndex:-1,toIndex:0,direction:\"forward\"},r)}else await this.transitionTo(e-1,{skipAnimation:!0}),await new Promise(n=>setTimeout(n,300)),await this.transitionTo(e)}}const Zc=new em;class Us{static parsePath(e){const n=[],r=e.match(/[a-zA-Z]|[-+]?[0-9]*\\.?[0-9]+/g);if(!r)return[];let i=0,s=0,a=0,o=0,l=0;for(;l<r.length;){const c=r[l];switch(l++,c){case\"M\":{const h=parseFloat(r[l++]),d=parseFloat(r[l++]);i=h,s=d,a=h,o=d;break}case\"L\":{const h=parseFloat(r[l++]),d=parseFloat(r[l++]),g=Math.hypot(h-i,d-s);n.push({type:\"L\",start:{x:i,y:s},points:[{x:h,y:d}],length:g}),i=h,s=d;break}case\"Q\":{const h=parseFloat(r[l++]),d=parseFloat(r[l++]),g=parseFloat(r[l++]),u=parseFloat(r[l++]),b=this.estimateBezierLength(i,s,h,d,g,u);n.push({type:\"Q\",start:{x:i,y:s},points:[{x:h,y:d},{x:g,y:u}],length:b}),i=g,s=u;break}case\"C\":{const h=parseFloat(r[l++]),d=parseFloat(r[l++]),g=parseFloat(r[l++]),u=parseFloat(r[l++]),b=parseFloat(r[l++]),m=parseFloat(r[l++]),v=this.estimateCubicBezierLength(i,s,h,d,g,u,b,m);n.push({type:\"C\",start:{x:i,y:s},points:[{x:h,y:d},{x:g,y:u},{x:b,y:m}],length:v}),i=b,s=m;break}case\"Z\":{const h=Math.hypot(a-i,o-s);h>0&&n.push({type:\"L\",start:{x:i,y:s},points:[{x:a,y:o}],length:h}),i=a,s=o;break}}}return n}static getPointOnPath(e,n){if(e.length===0)return{x:0,y:0,angle:0};const r=e.reduce((a,o)=>a+o.length,0),i=n*r;let s=0;for(const a of e){if(s+a.length>=i||a===e[e.length-1]){const o=Math.max(0,Math.min(1,(i-s)/a.length));return this.interpolateSegment(a,o)}s+=a.length}return this.interpolateSegment(e[e.length-1],1)}static interpolateSegment(e,n){const{start:r}=e;let i=0,s=0,a=0;if(e.type===\"L\"){const o=e.points[0];i=r.x+(o.x-r.x)*n,s=r.y+(o.y-r.y)*n,a=Math.atan2(o.y-r.y,o.x-r.x)}else if(e.type===\"Q\"){const o=e.points[0],l=e.points[1],c=1-n;i=c*c*r.x+2*c*n*o.x+n*n*l.x,s=c*c*r.y+2*c*n*o.y+n*n*l.y;const h=2*c*(o.x-r.x)+2*n*(l.x-o.x),d=2*c*(o.y-r.y)+2*n*(l.y-o.y);a=Math.atan2(d,h)}else if(e.type===\"C\"){const o=e.points[0],l=e.points[1],c=e.points[2],h=1-n,d=h*h,g=n*n;i=d*h*r.x+3*d*n*o.x+3*h*g*l.x+g*n*c.x,s=d*h*r.y+3*d*n*o.y+3*h*g*l.y+g*n*c.y;const u=3*d*(o.x-r.x)+6*h*n*(l.x-o.x)+3*g*(c.x-l.x),b=3*d*(o.y-r.y)+6*h*n*(l.y-o.y)+3*g*(c.y-l.y);a=Math.atan2(b,u)}return{x:i,y:s,angle:a}}static estimateBezierLength(e,n,r,i,s,a){const o=Math.hypot(s-e,a-n);return(Math.hypot(r-e,i-n)+Math.hypot(s-r,a-i)+o)/2}static estimateCubicBezierLength(e,n,r,i,s,a,o,l){const c=Math.hypot(o-e,l-n);return(Math.hypot(r-e,i-n)+Math.hypot(s-r,a-i)+Math.hypot(o-s,l-a)+c)/2}static svgToPoints(e){const n=this.parsePath(e),r=[];if(n.length===0)return[];r.push({x:n[0].start.x,y:n[0].start.y,type:\"anchor\"});for(const i of n)i.type===\"L\"?r.push({x:i.points[0].x,y:i.points[0].y,type:\"anchor\"}):i.type===\"Q\"?(r.push({x:i.points[0].x,y:i.points[0].y,type:\"control\"}),r.push({x:i.points[1].x,y:i.points[1].y,type:\"anchor\"})):i.type===\"C\"&&(r.push({x:i.points[0].x,y:i.points[0].y,type:\"control\"}),r.push({x:i.points[1].x,y:i.points[1].y,type:\"control_end\"}),r.push({x:i.points[2].x,y:i.points[2].y,type:\"anchor\"}));return r}static pointsToSvg(e){if(e.length===0)return\"\";let n=`M ${Math.round(e[0].x)} ${Math.round(e[0].y)}`,r=1;for(;r<e.length;){const i=e[r];if(i.type.includes(\"control\")){const s=e[r+1];if(!s)break;if(s.type.includes(\"control\")){const a=e[r+2];a&&a.type===\"anchor\"?(n+=` C ${Math.round(i.x)} ${Math.round(i.y)} ${Math.round(s.x)} ${Math.round(s.y)} ${Math.round(a.x)} ${Math.round(a.y)}`,r+=3):r++}else s.type===\"anchor\"?(n+=` Q ${Math.round(i.x)} ${Math.round(i.y)} ${Math.round(s.x)} ${Math.round(s.y)}`,r+=2):r++}else n+=` L ${Math.round(i.x)} ${Math.round(i.y)}`,r++}return n}}const nm=(t,e,n,r,i)=>`M ${t+i} ${e} L ${t+n-i} ${e} Q ${t+n} ${e} ${t+n} ${e+i} L ${t+n} ${e+r-i} Q ${t+n} ${e+r} ${t+n-i} ${e+r} L ${t+i} ${e+r} Q ${t} ${e+r} ${t} ${e+r-i} L ${t} ${e+i} Q ${t} ${e} ${t+i} ${e}`,rm=t=>{if(t.points&&t.points.length>0)return console.log(\"[getShapeGeometry] Using custom points:\",t.id,t.points.length),{type:\"points\",points:t.points};const e=t.width,n=t.height,r=e/2,i=n/2,s=-r,a=-i;switch(t.type){case\"rectangle\":case\"image\":case\"text\":case\"umlClass\":case\"umlNote\":case\"umlPackage\":case\"umlActor\":case\"umlComponent\":case\"umlLifeline\":case\"umlFragment\":return{type:\"rect\",x:s,y:a,w:e,h:n,r:t.roundness?10:0};case\"umlState\":return{type:\"rect\",x:s,y:a,w:e,h:n,r:Math.min(Math.abs(e),Math.abs(n))*.15};case\"umlInterface\":case\"umlUseCase\":case\"umlProvidedInterface\":case\"circle\":return{type:\"ellipse\",cx:0,cy:0,rx:e/2,ry:n/2};case\"umlRequiredInterface\":{const o=Math.min(e,n)/2;return{type:\"path\",path:`M 0 ${-o} A ${o} ${o} 0 0 1 0 ${o}`}}case\"umlSignalSend\":{const o=e*.2;return{type:\"points\",points:[{x:-r,y:-i},{x:r-o,y:-i},{x:r,y:0},{x:r-o,y:i},{x:-r,y:i}]}}case\"umlSignalReceive\":{const o=e*.2;return{type:\"points\",points:[{x:-r+o,y:-i},{x:r,y:-i},{x:r,y:i},{x:-r+o,y:i},{x:-r,y:0}]}}case\"triangle\":return{type:\"points\",points:[{x:0,y:-i},{x:-r,y:i},{x:r,y:i}]};case\"diamond\":return{type:\"points\",points:[{x:0,y:-i},{x:r,y:0},{x:0,y:i},{x:-r,y:0}]};case\"hexagon\":{const o=[];for(let l=0;l<6;l++){const c=Math.PI/3*l-Math.PI/2;o.push({x:e/2*Math.cos(c),y:n/2*Math.sin(c)})}return{type:\"points\",points:o}}case\"octagon\":{const o=[];for(let l=0;l<8;l++){const c=Math.PI/4*l-Math.PI/2;o.push({x:e/2*Math.cos(c),y:n/2*Math.sin(c)})}return{type:\"points\",points:o}}case\"pentagon\":{const o=[];for(let l=0;l<5;l++){const c=Math.PI*2/5*l-Math.PI/2;o.push({x:e/2*Math.cos(c),y:n/2*Math.sin(c)})}return{type:\"points\",points:o}}case\"septagon\":{const o=[];for(let l=0;l<7;l++){const c=Math.PI*2/7*l-Math.PI/2;o.push({x:e/2*Math.cos(c),y:n/2*Math.sin(c)})}return{type:\"points\",points:o}}case\"star\":{const o=Math.min(e,n)/2,l=(t.shapeRatio!==void 0?t.shapeRatio:38)/100,c=o*l,h=t.starPoints||5,d=[];for(let g=0;g<h*2;g++){const u=Math.PI/h*g-Math.PI/2,b=g%2===0?o:c;d.push({x:b*Math.cos(u),y:b*Math.sin(u)})}return{type:\"points\",points:d}}case\"burst\":{const o=Math.min(Math.abs(e),Math.abs(n))/2,l=(t.shapeRatio!==void 0?t.shapeRatio:70)/100,c=o*l,h=t.burstPoints||16,d=[];for(let g=0;g<h*2;g++){const u=Math.PI/h*g-Math.PI/2,b=g%2===0?o:c;d.push({x:b*Math.cos(u),y:b*Math.sin(u)})}return{type:\"points\",points:d}}case\"parallelogram\":{const o=e*.2;return{type:\"points\",points:[{x:s+o,y:a},{x:s+e,y:a},{x:s+e-o,y:a+n},{x:s,y:a+n}]}}case\"trapezoid\":{const o=e*.2;return{type:\"points\",points:[{x:s+o,y:a},{x:s+e-o,y:a},{x:s+e,y:a+n},{x:s,y:a+n}]}}case\"rightTriangle\":return{type:\"points\",points:[{x:s,y:a},{x:s,y:a+n},{x:s+e,y:a+n}]};case\"capsule\":return{type:\"path\",path:nm(s,a,e,n,Math.min(e,n)/2)};case\"stickyNote\":{const o=Math.min(e,n)*.15;return{type:\"points\",points:[{x:s,y:a},{x:s+e,y:a},{x:s+e,y:a+n-o},{x:s+e-o,y:a+n},{x:s,y:a+n}]}}case\"callout\":{const o=n*.2,l=n-o;return{type:\"path\",path:`M ${s} ${a} L ${s+e} ${a} L ${s+e} ${a+l} L ${s+e*.7} ${a+l} L 0 ${i} L ${s+e*.3} ${a+l} L ${s} ${a+l} Z`}}case\"speechBubble\":{const o=Math.min(e,n)*((t.borderRadius!==void 0?t.borderRadius:20)/100),l=e*.15,c=n*.2,h=n-c,d=(t.tailPosition!==void 0?t.tailPosition:20)/100,g=s+e*d;let u,b;d<=.5?(u=g+e*.1,b=u+l):(b=g-e*.1,u=b-l);const m=Math.min(e/2,o),v=Math.min(h/2,o);return{type:\"path\",path:`M ${s+m} ${a} L ${s+e-m} ${a} Q ${s+e} ${a} ${s+e} ${a+v} L ${s+e} ${a+h-v} Q ${s+e} ${a+h} ${s+e-m} ${a+h} L ${b} ${a+h} L ${g} ${i} L ${u} ${a+h} L ${s+m} ${a+h} Q ${s} ${a+h} ${s} ${a+h-v} L ${s} ${a+v} Q ${s} ${a} ${s+m} ${a} Z`}}case\"cloud\":{const o=e*.2,l=e*.25,c=e*.2,h=e*.3;return{type:\"path\",path:`M ${s+o} 0 A ${o} ${o} 0 0 1 ${s+e*.3} ${a+l} A ${l} ${l} 0 0 1 ${s+e*.7} ${a+l} A ${c} ${c} 0 0 1 ${s+e-c} 0 A ${h} ${h} 0 0 1 ${s+e*.6} ${a+n-h*.5} A ${h} ${h} 0 0 1 ${s+e*.3} ${a+n-h*.5} A ${h} ${h} 0 0 1 ${s+o} 0 Z`}}case\"heart\":return{type:\"path\",path:`M 0 ${a+n*.3} C 0 ${a+n*.15} ${s+e*.3} ${a} ${s+e*.5} ${a+n*.15} C ${s+e*.7} ${a} ${s+e} ${a+n*.15} ${s+e} ${a+n*.35} C ${s+e} ${a+n*.6} 0 ${a+n*.8} 0 ${a+n} C 0 ${a+n*.8} ${s} ${a+n*.6} ${s} ${a+n*.35} C ${s} ${a+n*.15} ${s+e*.3} ${a} ${s+e*.5} ${a+n*.15} Z`};case\"polygon\":{const o=t.polygonSides||6,l=[];for(let c=0;c<o;c++){const h=2*Math.PI/o*c-Math.PI/2;l.push({x:e/2*Math.cos(h),y:n/2*Math.sin(h)})}return{type:\"points\",points:l}}case\"starPerson\":{const o=Math.min(e,n)*.15,l=a+o*2;return{type:\"multi\",shapes:[{type:\"ellipse\",cx:0,cy:a+o,rx:o,ry:o},{type:\"points\",points:[{x:0,y:l},{x:s,y:a+n*.4},{x:0,y:a+n*.5},{x:s+e,y:a+n*.4},{x:0,y:l},{x:s+e*.8,y:a+n},{x:0,y:a+n*.7},{x:s+e*.2,y:a+n},{x:0,y:l}]}]}}case\"lightbulb\":{const o=Math.min(e,n/1.5)/2,l=e*.4,c=n*.25,h=a+n-c;return{type:\"multi\",shapes:[{type:\"path\",path:`M ${-l/2} ${h} C ${-l/2} ${a+o} ${s} ${a+o*1.5} ${s} ${a+o} A ${o} ${o} 0 1 1 ${s+e} ${a+o} C ${s+e} ${a+o*1.5} ${l/2} ${a+o} ${l/2} ${h} Z`},{type:\"rect\",x:-l/2,y:h,w:l,h:c}]}}case\"signpost\":{const o=Math.max(4,e*.05),l=n*.3,c=e*.9,h=a+n*.1;return{type:\"multi\",shapes:[{type:\"rect\",x:-o/2,y:a,w:o,h:n},{type:\"rect\",x:-c/2,y:h,w:c,h:l}]}}case\"burstBlob\":{const o=e/2,l=n/2,c=12,h=Math.min(o,l),d=h*.6,g=t.seed||1,u=m=>{let v=m+=1831565813;return v=Math.imul(v^v>>>15,v|1),v^=v+Math.imul(v^v>>>7,v|61),((v^v>>>14)>>>0)/4294967296},b=[];for(let m=0;m<c*2;m++){const y=(m%2===0?h:d)+(u(g+m)-.5)*(h*.1),k=Math.PI*m/c;b.push({x:Math.cos(k)*(e/n)*y,y:Math.sin(k)*y})}return{type:\"points\",points:b}}case\"scroll\":{const o=n*.15;return{type:\"path\",path:`M ${s} ${a+o} L ${s+e} ${a+o} L ${s+e} ${a+n-o} L ${s} ${a+n-o} Z M ${s} ${a+o} C ${s-o} ${a+o} ${s-o} ${a} ${s} ${a} L ${s+e} ${a} C ${s+e+o} ${a} ${s+e+o} ${a+o} ${s+e} ${a+o} M ${s} ${a+n-o} C ${s-o} ${a+n-o} ${s-o} ${a+n} ${s} ${a+n} L ${s+e} ${a+n} C ${s+e+o} ${a+n} ${s+e+o} ${a+n-o} ${s+e} ${a+n-o}`}}case\"doubleBanner\":{const o=e*.15,l=n*.25;return{type:\"multi\",shapes:[{type:\"points\",points:[{x:s+o,y:a+l},{x:s,y:a+l},{x:s+o/2,y:0},{x:s,y:i},{x:s+o,y:i}]},{type:\"points\",points:[{x:s+e-o,y:a+l},{x:s+e,y:a+l},{x:s+e-o/2,y:0},{x:s+e,y:i},{x:s+e-o,y:i}]},{type:\"points\",points:[{x:s+o,y:a},{x:s+e-o,y:a},{x:s+e-o,y:a+n-l},{x:s+o,y:a+n-l}]}]}}case\"document\":{const o=n*.1;return{type:\"path\",path:`M ${s} ${a} L ${s+e} ${a} L ${s+e} ${a+n-o} Q ${s+e*.75} ${a+n-o*2} ${s+e*.5} ${a+n-o} T ${s} ${a+n-o} Z`}}case\"cross\":return{type:\"multi\",shapes:[{type:\"points\",points:[{x:s,y:a},{x:s+e,y:a+n}]},{type:\"points\",points:[{x:s+e,y:a},{x:s,y:a+n}]}]};case\"checkmark\":return{type:\"points\",points:[{x:s,y:a+n*.5},{x:s+e*.4,y:i},{x:s+e,y:a}]};case\"wavyDivider\":{let o=`M ${s} 0`;for(let l=1;l<=20;l++)o+=` L ${s+l/20*e} ${Math.sin(l/20*Math.PI*4)*(n/2)}`;return{type:\"path\",path:o}}case\"ribbon\":{const o=e*.15,l=n*.7;return{type:\"path\",path:`M ${s+o} ${a} L ${s+e-o} ${a} L ${s+e-o} ${a+l} L ${s+e} ${a+n/2} L ${s+e-o} ${a+n*.8} L ${s+o} ${a+n*.8} L ${s} ${a+n/2} L ${s+o} ${a+l} Z`}}case\"bracketLeft\":return{type:\"points\",isClosed:!1,points:[{x:s+e,y:a},{x:s,y:a+n/2},{x:s+e,y:a+n}]};case\"bracketRight\":return{type:\"points\",isClosed:!1,points:[{x:s,y:a},{x:s+e,y:a+n/2},{x:s,y:a+n}]};case\"arrowLeft\":{const o=n*.4,l=a+(n-o)/2,c=e*.4;return{type:\"points\",points:[{x:s+c,y:a},{x:s+c,y:l},{x:s+e,y:l},{x:s+e,y:l+o},{x:s+c,y:l+o},{x:s+c,y:a+n},{x:s,y:a+n/2}]}}case\"arrowRight\":{const o=n*.4,l=a+(n-o)/2,c=e*.4;return{type:\"points\",points:[{x:s+e-c,y:a},{x:s+e,y:a+n/2},{x:s+e-c,y:a+n},{x:s+e-c,y:l+o},{x:s,y:l+o},{x:s,y:l},{x:s+e-c,y:l}]}}case\"arrowUp\":{const o=e*.4,l=s+(e-o)/2,c=n*.4;return{type:\"points\",points:[{x:s+e/2,y:a},{x:s+e,y:a+c},{x:l+o,y:a+c},{x:l+o,y:a+n},{x:l,y:a+n},{x:l,y:a+c},{x:s,y:a+c}]}}case\"arrowDown\":{const o=e*.4,l=s+(e-o)/2,c=n*.4;return{type:\"points\",points:[{x:l,y:a},{x:l+o,y:a},{x:l+o,y:a+n-c},{x:s+e,y:a+n-c},{x:s+e/2,y:a+n},{x:s,y:a+n-c},{x:l,y:a+n-c}]}}case\"dfdProcess\":{const o=n*.25;return{type:\"multi\",shapes:[{type:\"rect\",x:s,y:a,w:e,h:n,r:10},{type:\"points\",points:[{x:s,y:a+o},{x:s+e,y:a+o}],isClosed:!1}]}}case\"dfdDataStore\":{const o=e*.2;return{type:\"multi\",shapes:[{type:\"points\",isClosed:!1,points:[{x:s+e,y:a},{x:s,y:a},{x:s,y:a+n},{x:s+e,y:a+n}]},{type:\"points\",isClosed:!1,points:[{x:s+o,y:a},{x:s+o,y:a+n}]}]}}case\"isometricCube\":{const o=(t.shapeRatio!==void 0?t.shapeRatio:25)/100,l=(t.sideRatio!==void 0?t.sideRatio:50)/100,c=s+e*l,h=s+e*(1-l),d=n*o,g=a+d,u=a+d/2;return{type:\"multi\",shapes:[{type:\"points\",points:[{x:h,y:a},{x:s+e,y:u},{x:c,y:g},{x:s,y:u}],shade:1.1},{type:\"points\",points:[{x:s,y:u},{x:c,y:g},{x:c,y:a+n},{x:s,y:a+n-d/2}],shade:.9},{type:\"points\",points:[{x:c,y:g},{x:s+e,y:u},{x:s+e,y:a+n-d/2},{x:c,y:a+n}],shade:.7}]}}case\"solidBlock\":{const o=t.depth!==void 0?t.depth:50,c=(t.viewAngle!==void 0?t.viewAngle:45)*Math.PI/180,h=o*Math.cos(c),d=o*Math.sin(c),g={x:s,y:a},u={x:s+e,y:a},b={x:s+e,y:a+n},m={x:s,y:a+n},v={x:s+h,y:a+d},y={x:s+e+h,y:a+d},k={x:s+e+h,y:a+n+d},A={x:s+h,y:a+n+d};return{type:\"multi\",shapes:[{type:\"points\",points:[v,y,k,A],shade:.6},{type:\"points\",points:[g,u,y,v],shade:1.1},{type:\"points\",points:[u,b,k,y],shade:.8},{type:\"points\",points:[b,m,A,k],shade:.7},{type:\"points\",points:[m,g,v,A],shade:.9},{type:\"points\",points:[g,u,b,m],shade:1}]}}case\"perspectiveBlock\":{const o=t.depth!==void 0?t.depth:50,c=(t.viewAngle!==void 0?t.viewAngle:45)*Math.PI/180,h=t.taper!==void 0?t.taper:0,d=(t.skewX!==void 0?t.skewX:0)*e,g=(t.skewY!==void 0?t.skewY:0)*n,u=t.frontTaper!==void 0?t.frontTaper:0,b=(t.frontSkewX!==void 0?t.frontSkewX:0)*e,m=(t.frontSkewY!==void 0?t.frontSkewY:0)*n,v=o*Math.cos(c)+d,y=o*Math.sin(c)+g,k=1-u,A=r*k,M=i*k,z={x:-A+b,y:-M+m},Z={x:A+b,y:-M+m},H={x:A+b,y:M+m},F={x:-A+b,y:M+m},P=1-h,G=r*P,R=i*P,C={x:v-G,y:y-R},D={x:v+G,y:y-R},_={x:v+G,y:y+R},Q={x:v-G,y:y+R};return{type:\"multi\",shapes:[{type:\"points\",points:[C,D,_,Q],shade:.6},{type:\"points\",points:[z,Z,D,C],shade:1.1},{type:\"points\",points:[Z,H,_,D],shade:.8},{type:\"points\",points:[H,F,Q,_],shade:.7},{type:\"points\",points:[F,z,C,Q],shade:.9},{type:\"points\",points:[z,Z,H,F],shade:1}]}}case\"cylinder\":{const o=t.depth!==void 0?t.depth:50,c=(t.viewAngle!==void 0?t.viewAngle:45)*Math.PI/180,h=e/2,d=n/2,g=o*Math.cos(c),u=o*Math.sin(c),b=0,m=0,v=g,y=u,k=Math.atan2(u*h*h,g*d*d)+Math.PI/2,A=h*Math.cos(k),M=d*Math.sin(k);return{type:\"multi\",shapes:[{type:\"ellipse\",cx:v,cy:y,rx:h,ry:d,shade:.6},{type:\"points\",points:[{x:b+A,y:m+M},{x:v+A,y:y+M},{x:v-A,y:y-M},{x:b-A,y:m-M}],shade:.8},{type:\"ellipse\",cx:b,cy:m,rx:h,ry:d,shade:1}]}}case\"stateStart\":return{type:\"ellipse\",cx:0,cy:0,rx:e/2,ry:n/2};case\"stateEnd\":return{type:\"multi\",shapes:[{type:\"ellipse\",cx:0,cy:0,rx:e/2,ry:n/2},{type:\"ellipse\",cx:0,cy:0,rx:e/3,ry:n/3}]};case\"stateSync\":return{type:\"rect\",x:s,y:a,w:e,h:n,r:2};case\"activationBar\":return{type:\"rect\",x:s,y:a,w:e,h:n,r:0};case\"externalEntity\":return{type:\"multi\",shapes:[{type:\"rect\",x:s+4,y:a+4,w:e,h:n,r:0},{type:\"rect\",x:s,y:a,w:e,h:n,r:0}]}}return null};class io{static resamplePolygon(e,n){if(e.length<2)return Array(n).fill(e[0]||{x:0,y:0});let r=0;const i=[];for(let c=0;c<e.length;c++){const h=e[c],d=e[(c+1)%e.length],g=Math.hypot(d.x-h.x,d.y-h.y);r+=g,i.push({length:g,start:h,end:d})}if(r===0)return Array(n).fill(e[0]);const s=[],a=r/n;let o=0,l=0;for(let c=0;c<n;c++){const h=c*a;for(;l<i.length;){const d=i[l];if(o+d.length>=h){const u=(h-o)/d.length;s.push({x:d.start.x+(d.end.x-d.start.x)*u,y:d.start.y+(d.end.y-d.start.y)*u});break}else o+=d.length,l++}s.length<=c&&s.push(e[e.length-1])}return s}static interpolatePoints(e,n,r){return e.length!==n.length?(console.warn(\"Interpolation mismatch\",e.length,n.length),e):e.map((i,s)=>{const a=n[s];return{x:i.x+(a.x-i.x)*r,y:i.y+(a.y-i.y)*r}})}static alignPolygons(e,n){if(e.length!==n.length)return n;let r=0,i=1/0;for(let a=0;a<n.length;a++){let o=0;for(let l=0;l<e.length;l++){const c=e[l],h=n[(l+a)%n.length];o+=(c.x-h.x)**2+(c.y-h.y)**2}o<i&&(i=o,r=a)}const s=Array(n.length);for(let a=0;a<n.length;a++)s[a]=n[(a+r)%n.length];return s}static getPointsFromElement(e,n){const r=n?{...e,type:n}:e;if(r.type===\"line\"||r.type===\"arrow\")return r.points||[{x:0,y:0},{x:r.width,y:r.height}];const i=rm(r);return i?this.geometryToPoints(i,r.width,r.height):this.generateCirclePoints(r.width/2,r.height/2)}static geometryToPoints(e,n,r){switch(e.type){case\"points\":return e.points.length===0?[]:e.points;case\"rect\":return[{x:e.x,y:e.y},{x:e.x+e.w,y:e.y},{x:e.x+e.w,y:e.y+e.h},{x:e.x,y:e.y+e.h}];case\"ellipse\":const i=[],s=60;for(let c=0;c<s;c++){const h=c/s*Math.PI*2;i.push({x:e.cx+e.rx*Math.cos(h),y:e.cy+e.ry*Math.sin(h)})}return i;case\"path\":const a=Us.parsePath(e.path),o=[],l=60;for(let c=0;c<l;c++){const h=Us.getPointOnPath(a,c/l);o.push({x:h.x,y:h.y})}return o;case\"multi\":return e.shapes.length>0?this.geometryToPoints(e.shapes[0],n,r):[]}return[]}static generateCirclePoints(e,n){const r=[];for(let s=0;s<60;s++){const a=s/60*Math.PI*2;r.push({x:e*Math.cos(a),y:n*Math.sin(a)})}return r}}const Tn=new Map;function Sa(t,e){const n=Tn.get(t);if(!n)return;const r=[];for(const[i,s]of n.entries())for(const a of s)if(e.has(a)){r.push(i);break}r.forEach(i=>{Bn.stop(i),n.delete(i)}),n.size===0&&Tn.delete(t)}function Vp(t){const e=Tn.get(t);e&&(e.forEach((n,r)=>Bn.stop(r)),Tn.delete(t))}function im(t){const e=Tn.get(t);return e?e.size>0:!1}function sm(t,e){return t[e]}function le(t,e,n){const r=L.elements.find(h=>h.id===t);if(!r)return console.warn(`animateElement: Element ${t} not found`),\"\";const i=Ao(\"el\"),s={},a=[],o=[],l={},c=new Set;for(const h of Object.keys(e)){c.add(h);const d=sm(r,h);d!==void 0?(s[h]=d,typeof d==\"number\"?a.push(h):typeof d==\"string\"&&o.push(h)):l[h]=e[h]}return Sa(t,c),Tn.has(t)||Tn.set(t,new Map),Tn.get(t).set(i,c),Object.keys(l).length>0&&fe(t,l,!1),Bn.create(i,h=>{const d={},g={};for(const u of a){const b=s[u],m=e[u],v=Yr(b,m,h);d[u]=v,g[u]=v}for(const u of o){const b=s[u],m=e[u];if(b&&m&&b.startsWith(\"#\")&&m.startsWith(\"#\")){const v=n5(b,m,h);d[u]=v,g[u]=v}}fe(t,d,!1),n.onUpdate?.(g)},{duration:n.duration,easing:n.easing,delay:n.delay,onStart:n.onStart,onComplete:()=>{const h=Tn.get(t);h&&(h.delete(i),h.size===0&&Tn.delete(t)),n.onComplete?.()},loop:n.loop,loopCount:n.loopCount,alternate:n.alternate}),Bn.start(i),i}function om(t,e,n,r=0){return t.map((i,s)=>le(i,e,{...n,delay:(n.delay??0)+r*s}))}function am(t){Bn.stop(t)}function lm(t){Bn.pause(t)}function Yp(t,e,n){const r=L.elements.find(h=>h.id===t);if(!r)return\"\";const i=Us.parsePath(e);if(i.length===0)return\"\";const s=Ao(\"path\"),a=new Set([\"x\",\"y\"]);n.orientToPath&&a.add(\"angle\"),Sa(t,a),Tn.has(t)||Tn.set(t,new Map),Tn.get(t).set(s,a);const o=r.x+r.width/2,l=r.y+r.height/2,c=n.isRelative??!0;return Bn.create(s,h=>{const d=Us.getPointOnPath(i,h);let g,u;c?(g=o+d.x-r.width/2,u=l+d.y-r.height/2):(g=d.x-r.width/2,u=d.y-r.height/2);const b={x:g,y:u};n.orientToPath&&(b.angle=d.angle),fe(t,b,!1),n.onUpdate?.({x:b.x,y:b.y,angle:b.angle})},{duration:n.duration,easing:n.easing,delay:n.delay,onStart:n.onStart,onComplete:()=>{const h=Tn.get(t);h&&(h.delete(s),h.size===0&&Tn.delete(t)),n.onComplete?.()},loop:n.loop,loopCount:n.loopCount,alternate:n.alternate}),Bn.start(s),s}function cm(t){Bn.start(t)}function hm(t,e=300,n={}){return fe(t,{opacity:0},!1),le(t,{opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function um(t,e=300,n={}){return le(t,{opacity:0},{duration:e,easing:\"easeOutQuad\",...n})}function Zp(t,e=300,n={}){const r=L.elements.find(d=>d.id===t);if(!r)return\"\";const i=r.x,s=r.y,a=r.width,o=r.height,l=100,c=i+a/2,h=s+o/2;return fe(t,{width:0,height:0,x:c,y:h,opacity:0},!1),le(t,{width:a,height:o,x:i,y:s,opacity:l},{duration:e,easing:\"easeOutBack\",onStart:n.onStart,onComplete:n.onComplete,delay:n.delay})}function mu(t,e=450,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=n.intensity??20,s=r.y;return le(t,{y:s-i},{duration:e*.33,easing:\"easeOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{y:s},{duration:e*.67,easing:\"easeOutBounce\",onComplete:n.onComplete})}})}function yu(t,e=300,n={}){const r=L.elements.find(u=>u.id===t);if(!r)return\"\";const i=n.scale??1.1,s=r.width,a=r.height,o=r.x,l=r.y,c=s*i,h=a*i,d=(c-s)/2,g=(h-a)/2;return le(t,{width:c,height:h,x:o-d,y:l-g},{duration:e/2,easing:\"easeOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{width:s,height:a,x:o,y:l},{duration:e/2,easing:\"easeOutQuad\",onComplete:n.onComplete})}})}function bu(t,e=1e3,n={}){return le(t,{opacity:0},{duration:e/4,easing:\"linear\",loop:!0,loopCount:2,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:n.onComplete})}function wu(t,e=1e3,n={}){const r=L.elements.find(l=>l.id===t);if(!r)return\"\";const i=r.width,s=r.height,a=r.x,o=r.y;return le(t,{width:i*1.25,height:s*.75,x:a-i*.25/2,y:o+s*.25/2},{duration:e*.3,easing:\"easeOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{width:i*.75,height:s*1.25,x:a+i*.25/2,y:o-s*.25/2},{duration:e*.3,easing:\"easeInOutQuad\",onComplete:()=>{le(t,{width:i,height:s,x:a,y:o},{duration:e*.4,easing:\"easeOutElastic\",onComplete:n.onComplete})}})}})}function vu(t,e=400,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=n.intensity??10,s=r.x;return le(t,{x:s+i},{duration:e/4,easing:\"linear\",loop:!0,loopCount:4,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:()=>{fe(t,{x:s},!1),n.onComplete?.()}})}function xu(t,e=400,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=n.intensity??10,s=r.y;return le(t,{y:s+i},{duration:e/4,easing:\"linear\",loop:!0,loopCount:4,alternate:!0,delay:n.delay,onStart:n.onStart,onComplete:()=>{fe(t,{y:s},!1),n.onComplete?.()}})}function Kp(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.x;return le(t,{x:i-6},{duration:e/5,easing:\"easeInOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{x:i+5},{duration:e/5,easing:\"easeInOutQuad\",onComplete:()=>{le(t,{x:i-3},{duration:e/5,easing:\"easeInOutQuad\",onComplete:()=>{le(t,{x:i+2},{duration:e/5,easing:\"easeInOutQuad\",onComplete:()=>{le(t,{x:i},{duration:e/5,easing:\"easeInOutQuad\",onComplete:n.onComplete})}})}})}})}})}function Jp(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.angle;return le(t,{angle:i+.25},{duration:e*.2,easing:\"linear\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{angle:i-.17},{duration:e*.2,easing:\"linear\",onComplete:()=>{le(t,{angle:i+.08},{duration:e*.2,easing:\"linear\",onComplete:()=>{le(t,{angle:i-.05},{duration:e*.2,easing:\"linear\",onComplete:()=>{le(t,{angle:i},{duration:e*.2,easing:\"linear\",onComplete:n.onComplete})}})}})}})}})}function Qp(t,e=1e3,n={}){const r=L.elements.find(c=>c.id===t);if(!r)return\"\";const i=r.width,s=r.height,a=r.x,o=r.y,l=r.angle;return le(t,{width:i*.9,height:s*.9,x:a+i*.1/2,y:o+s*.1/2,angle:l-.05},{duration:e*.1,easing:\"linear\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{width:i*1.1,height:s*1.1,x:a-i*.1/2,y:o-s*.1/2,angle:l+.05},{duration:e*.3,easing:\"linear\",loop:!0,loopCount:3,alternate:!0,onComplete:()=>{le(t,{width:i,height:s,x:a,y:o,angle:l},{duration:e*.1,easing:\"linear\",onComplete:n.onComplete})}})}})}function t0(t,e=1e3,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.x,s=r.angle;return le(t,{x:i-r.width*.25,angle:s-.08},{duration:e*.15,easing:\"linear\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{x:i+r.width*.2,angle:s+.05},{duration:e*.15,easing:\"linear\",onComplete:()=>{le(t,{x:i-r.width*.15,angle:s-.05},{duration:e*.15,easing:\"linear\",onComplete:()=>{le(t,{x:i+r.width*.1,angle:s+.03},{duration:e*.15,easing:\"linear\",onComplete:()=>{le(t,{x:i,angle:s},{duration:e*.15,easing:\"linear\",onComplete:n.onComplete})}})}})}})}})}function e0(t,e=1e3,n={}){const r=L.elements.find(l=>l.id===t);if(!r)return\"\";const i=r.width,s=r.height,a=r.x,o=r.y;return le(t,{width:i*1.1,height:s*.9,x:a-i*.1/2,y:o+s*.1/2},{duration:e*.2,easing:\"linear\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{width:i*.9,height:s*1.1,x:a+i*.1/2,y:o-s*.1/2},{duration:e*.2,easing:\"linear\",onComplete:()=>{le(t,{width:i*1.05,height:s*.95,x:a-i*.05/2,y:o+s*.05/2},{duration:e*.2,easing:\"linear\",onComplete:()=>{le(t,{width:i,height:s,x:a,y:o},{duration:e*.4,easing:\"easeOutQuad\",onComplete:n.onComplete})}})}})}})}function n0(t,e=1300,n={}){const r=L.elements.find(l=>l.id===t);if(!r)return\"\";const i=r.width,s=r.height,a=r.x,o=r.y;return le(t,{width:i*1.3,height:s*1.3,x:a-i*.3/2,y:o-s*.3/2},{duration:e*.2,easing:\"easeOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{width:i,height:s,x:a,y:o},{duration:e*.2,easing:\"easeInQuad\",onComplete:()=>{le(t,{width:i*1.3,height:s*1.3,x:a-i*.3/2,y:o-s*.3/2},{duration:e*.2,easing:\"easeOutQuad\",onComplete:()=>{le(t,{width:i,height:s,x:a,y:o},{duration:e*.4,easing:\"easeInQuad\",onComplete:n.onComplete})}})}})}})}function r0(t,e=300,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.x+r.width/2,s=r.y+r.height/2;return le(t,{width:0,height:0,x:i,y:s,opacity:0},{duration:e,easing:\"easeInBack\",onStart:n.onStart,onComplete:n.onComplete,delay:n.delay})}function fm(t,e=300,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.x,s=-r.width-50;return fe(t,{x:s,opacity:0},!1),le(t,{x:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function dm(t,e=300,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.x,s=window.innerWidth+50;return fe(t,{x:s,opacity:0},!1),le(t,{x:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function pm(t,e=300,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.y,s=-r.height-50;return fe(t,{y:s,opacity:0},!1),le(t,{y:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function gm(t,e=300,n={}){const r=L.elements.find(a=>a.id===t);if(!r)return\"\";const i=r.y,s=window.innerHeight+50;return fe(t,{y:s,opacity:0},!1),le(t,{y:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function mm(t,e=300,n={}){const r=L.elements.find(i=>i.id===t);return r?le(t,{x:-r.width,opacity:0},{duration:e,easing:\"easeInQuad\",...n}):\"\"}function ym(t,e=300,n={}){return le(t,{x:window.innerWidth+100,opacity:0},{duration:e,easing:\"easeInQuad\",...n})}function bm(t,e=300,n={}){const r=L.elements.find(i=>i.id===t);return r?le(t,{y:-r.height,opacity:0},{duration:e,easing:\"easeInQuad\",...n}):\"\"}function wm(t,e=300,n={}){return le(t,{y:window.innerHeight+100,opacity:0},{duration:e,easing:\"easeInQuad\",...n})}function dc(t,e,n,r={}){const i=L.elements.find(o=>o.id===t);if(!i)return\"\";const s=i.x,a=i.y;return fe(t,{x:e.x??s,y:e.y??a,opacity:70,width:i.width*.7,height:i.height*.7},!1),le(t,{x:s,y:a,opacity:100,width:i.width,height:i.height},{duration:n,easing:\"easeOutBack\",...r})}function i0(t,e=1e3,n={}){return dc(t,{y:-window.innerHeight},e,n)}function s0(t,e=1e3,n={}){return dc(t,{x:-window.innerWidth},e,n)}function o0(t,e=1e3,n={}){return dc(t,{x:window.innerWidth+100},e,n)}function a0(t,e=1e3,n={}){return dc(t,{y:window.innerHeight+100},e,n)}function pc(t,e,n,r={}){const i=L.elements.find(s=>s.id===t);return i?le(t,{x:e.x??i.x,y:e.y??i.y,opacity:0,width:i.width*.7,height:i.height*.7},{duration:n,easing:\"easeInBack\",...r}):\"\"}function l0(t,e=1e3,n={}){return pc(t,{y:window.innerHeight+100},e,n)}function c0(t,e=1e3,n={}){return pc(t,{x:-window.innerWidth},e,n)}function h0(t,e=1e3,n={}){return pc(t,{x:window.innerWidth+100},e,n)}function u0(t,e=1e3,n={}){return pc(t,{y:-window.innerHeight},e,n)}function Aa(t,e,n,r={}){const i=L.elements.find(o=>o.id===t);if(!i)return\"\";const s=i.x,a=i.y;return fe(t,{x:e.x??s,y:e.y??a,opacity:0,width:i.width*.3,height:i.height*.3},!1),le(t,{x:s,y:a,opacity:100,width:i.width,height:i.height},{duration:n,easing:\"easeOutBounce\",...r})}function f0(t,e=750,n={}){return Aa(t,{},e,n)}function d0(t,e=1e3,n={}){return Aa(t,{y:-window.innerHeight},e,n)}function p0(t,e=1e3,n={}){return Aa(t,{x:-window.innerWidth},e,n)}function g0(t,e=1e3,n={}){return Aa(t,{x:window.innerWidth+100},e,n)}function m0(t,e=1e3,n={}){return Aa(t,{y:window.innerHeight+100},e,n)}function La(t,e,n,r={}){const i=L.elements.find(s=>s.id===t);return i?le(t,{x:e.x??i.x,y:e.y??i.y,opacity:0,width:i.width*.3,height:i.height*.3},{duration:n,easing:\"easeInBounce\",...r}):\"\"}function y0(t,e=750,n={}){return La(t,{},e,n)}function b0(t,e=1e3,n={}){return La(t,{y:window.innerHeight+100},e,n)}function w0(t,e=1e3,n={}){return La(t,{x:-window.innerWidth},e,n)}function v0(t,e=1e3,n={}){return La(t,{x:window.innerWidth+100},e,n)}function x0(t,e=1e3,n={}){return La(t,{y:-window.innerHeight},e,n)}function ii(t,e,n,r={}){const i=L.elements.find(o=>o.id===t);if(!i)return\"\";const s=i.x,a=i.y;return fe(t,{x:e.x??s,y:e.y??a,opacity:0},!1),le(t,{x:s,y:a,opacity:100},{duration:n,easing:\"easeOutQuad\",...r})}function k0(t,e=1e3,n={}){return ii(t,{y:(L.selection.length>0,-100)},e,n)}function _0(t,e=1e3,n={}){return ii(t,{y:-window.innerHeight},e,n)}function S0(t,e=1e3,n={}){return ii(t,{x:-100},e,n)}function A0(t,e=1e3,n={}){return ii(t,{x:-window.innerWidth},e,n)}function L0(t,e=1e3,n={}){return ii(t,{x:window.innerWidth+100},e,n)}function C0(t,e=1e3,n={}){return ii(t,{x:window.innerWidth+2e3},e,n)}function N0(t,e=1e3,n={}){return ii(t,{y:100},e,n)}function M0(t,e=1e3,n={}){return ii(t,{y:window.innerHeight+100},e,n)}function I0(t,e=1e3,n={}){return ii(t,{x:-100,y:-100},e,n)}function O0(t,e=1e3,n={}){return ii(t,{x:100,y:-100},e,n)}function P0(t,e=1e3,n={}){return ii(t,{x:-100,y:100},e,n)}function R0(t,e=1e3,n={}){return ii(t,{x:100,y:100},e,n)}function si(t,e,n,r={}){const i=L.elements.find(s=>s.id===t);return i?le(t,{x:e.x??i.x,y:e.y??i.y,opacity:0},{duration:n,easing:\"easeInQuad\",...r}):\"\"}function E0(t,e=1e3,n={}){return si(t,{y:100},e,n)}function T0(t,e=1e3,n={}){return si(t,{y:window.innerHeight+100},e,n)}function B0(t,e=1e3,n={}){return si(t,{x:-100},e,n)}function F0(t,e=1e3,n={}){return si(t,{x:-window.innerWidth},e,n)}function D0(t,e=1e3,n={}){return si(t,{x:100},e,n)}function z0(t,e=1e3,n={}){return si(t,{x:window.innerWidth+100},e,n)}function j0(t,e=1e3,n={}){return si(t,{y:-100},e,n)}function U0(t,e=1e3,n={}){return si(t,{y:-window.innerHeight},e,n)}function $0(t,e=1e3,n={}){return si(t,{x:-100,y:-100},e,n)}function q0(t,e=1e3,n={}){return si(t,{x:100,y:-100},e,n)}function W0(t,e=1e3,n={}){return si(t,{x:-100,y:100},e,n)}function X0(t,e=1e3,n={}){return si(t,{x:100,y:100},e,n)}function G0(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.angle;return le(t,{angle:i+Math.PI},{duration:e/2,easing:\"easeInOutQuad\",delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{angle:i+Math.PI*2},{duration:e/2,easing:\"easeInOutQuad\",onComplete:()=>{fe(t,{angle:i},!1),n.onComplete?.()}})}})}function H0(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.height;return fe(t,{height:0,opacity:0},!1),le(t,{height:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function V0(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.width;return fe(t,{width:0,opacity:0},!1),le(t,{width:i,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function Y0(t,e=1e3,n={}){return le(t,{height:0,opacity:0},{duration:e,easing:\"easeInQuad\",...n})}function Z0(t,e=1e3,n={}){return le(t,{width:0,opacity:0},{duration:e,easing:\"easeInQuad\",...n})}function K0(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.x;return fe(t,{x:window.innerWidth+100,opacity:0},!1),le(t,{x:i,opacity:100},{duration:e,easing:\"easeOutExpo\",...n})}function J0(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.x;return fe(t,{x:-window.innerWidth,opacity:0},!1),le(t,{x:i,opacity:100},{duration:e,easing:\"easeOutExpo\",...n})}function Q0(t,e=1e3,n={}){return le(t,{x:window.innerWidth+100,opacity:0},{duration:e,easing:\"easeInExpo\",...n})}function t1(t,e=1e3,n={}){return le(t,{x:-window.innerWidth,opacity:0},{duration:e,easing:\"easeInExpo\",...n})}function Ca(t,e,n,r={}){const i=L.elements.find(l=>l.id===t);if(!i)return\"\";const s=i.x,a=i.y,o=i.angle;return fe(t,{x:e.x??s,y:e.y??a,angle:e.angle??o-Math.PI*2,opacity:0},!1),le(t,{x:s,y:a,angle:o,opacity:100},{duration:n,easing:\"easeOutQuad\",...r})}function e1(t,e=1e3,n={}){return Ca(t,{},e,n)}function n1(t,e=1e3,n={}){return Ca(t,{x:-100,y:-100,angle:-Math.PI/2},e,n)}function r1(t,e=1e3,n={}){return Ca(t,{x:100,y:-100,angle:Math.PI/2},e,n)}function i1(t,e=1e3,n={}){return Ca(t,{x:-100,y:100,angle:Math.PI/2},e,n)}function s1(t,e=1e3,n={}){return Ca(t,{x:100,y:100,angle:-Math.PI/2},e,n)}function Na(t,e,n,r={}){const i=L.elements.find(s=>s.id===t);return i?le(t,{x:e.x??i.x,y:e.y??i.y,angle:e.angle??i.angle+Math.PI*2,opacity:0},{duration:n,easing:\"easeInQuad\",...r}):\"\"}function o1(t,e=1e3,n={}){return Na(t,{},e,n)}function a1(t,e=1e3,n={}){return Na(t,{x:-100,y:100,angle:Math.PI/2},e,n)}function l1(t,e=1e3,n={}){return Na(t,{x:100,y:100,angle:-Math.PI/2},e,n)}function c1(t,e=1e3,n={}){return Na(t,{x:-100,y:-100,angle:-Math.PI/2},e,n)}function h1(t,e=1e3,n={}){return Na(t,{x:100,y:-100,angle:Math.PI/2},e,n)}function vm(t,e=2e3,n={}){const r=L.elements.find(g=>g.id===t);if(!r)return\"\";const s=(n.params||{}).radius??50,a=r.x,o=r.y,l=a+s,c=o,h=new Set([\"x\",\"y\"]),d=Ao(\"revolve\");return Sa(t,h),Tn.has(t)||Tn.set(t,new Map),Tn.get(t).set(d,h),Bn.create(d,g=>{const u=g*Math.PI*2,b=l-s*Math.cos(u),m=c-s*Math.sin(u);fe(t,{x:b,y:m},!1)},{duration:e,easing:n.easing||\"linear\",delay:n.delay,loop:n.loop,loopCount:n.loopCount,alternate:n.alternate,onComplete:()=>{const g=Tn.get(t);g&&(g.delete(d),g.size===0&&Tn.delete(t)),n.onComplete?.()}}),Bn.start(d),d}function u1(t,e=2e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.angle;return le(t,{angle:i+1.2},{duration:e*.4,easing:\"easeInOutQuad\",alternate:!0,loop:!0,loopCount:2,delay:n.delay,onStart:n.onStart,onComplete:()=>{le(t,{y:window.innerHeight+500,opacity:0},{duration:e*.6,easing:\"easeInQuad\",onComplete:n.onComplete})}})}function f1(t,e=1e3,n={}){const r=L.elements.find(l=>l.id===t);if(!r)return\"\";const i=r.width,s=r.height,a=r.x,o=r.y;return fe(t,{width:0,height:0,x:a+i/2,y:o+s/2,angle:-.5,opacity:0},!1),le(t,{width:i,height:s,x:a,y:o,angle:0,opacity:100},{duration:e,easing:\"easeOutBack\",...n})}function d1(t,e=1e3,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.x;return fe(t,{x:i-400,angle:-Math.PI*2,opacity:0},!1),le(t,{x:i,angle:0,opacity:100},{duration:e,easing:\"easeOutQuad\",...n})}function p1(t,e=1e3,n={}){const r=L.elements.find(i=>i.id===t);return r?le(t,{x:r.x+400,angle:Math.PI*2,opacity:0},{duration:e,easing:\"easeInQuad\",...n}):\"\"}function Ma(t,e,n,r={}){const i=L.elements.find(b=>b.id===t);if(!i)return\"\";const s=i.x,a=i.y,o=i.width,l=i.height,c=e.scale??.1,h=o*c,d=l*c,g=(e.x??s)+(o-h)/2,u=(e.y??a)+(l-d)/2;return fe(t,{x:g,y:u,width:h,height:d,opacity:0},!1),le(t,{x:s,y:a,width:o,height:l,opacity:100},{duration:n,easing:\"easeOutQuad\",...r})}function g1(t,e=1e3,n={}){return Ma(t,{},e,n)}function m1(t,e=1e3,n={}){return Ma(t,{y:-window.innerHeight},e,n)}function y1(t,e=1e3,n={}){return Ma(t,{x:-window.innerWidth},e,n)}function b1(t,e=1e3,n={}){return Ma(t,{x:window.innerWidth+100},e,n)}function w1(t,e=1e3,n={}){return Ma(t,{y:window.innerHeight+100},e,n)}function Ia(t,e,n,r={}){const i=L.elements.find(a=>a.id===t);if(!i)return\"\";const s=e.scale??.1;return le(t,{x:(e.x??i.x)+i.width*(1-s)/2,y:(e.y??i.y)+i.height*(1-s)/2,width:i.width*s,height:i.height*s,opacity:0},{duration:n,easing:\"easeInQuad\",...r})}function v1(t,e=1e3,n={}){return Ia(t,{},e,n)}function x1(t,e=1e3,n={}){return Ia(t,{y:window.innerHeight+100},e,n)}function k1(t,e=1e3,n={}){return Ia(t,{x:-window.innerWidth},e,n)}function _1(t,e=1e3,n={}){return Ia(t,{x:window.innerWidth+100},e,n)}function S1(t,e=1e3,n={}){return Ia(t,{y:-window.innerHeight},e,n)}function A1(t,e=1500,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.opacity??100;return fe(t,{drawProgress:0,opacity:0},!1),le(t,{drawProgress:100},{duration:e,easing:\"easeInOutQuad\",...n,onComplete:()=>{fe(t,{drawProgress:void 0,opacity:i},!1),n.onComplete?.()}})}function L1(t,e=1500,n={}){const r=L.elements.find(s=>s.id===t);if(!r)return\"\";const i=r.opacity??100;return fe(t,{drawProgress:100,opacity:0},!1),le(t,{drawProgress:0},{duration:e,easing:\"easeInOutQuad\",...n,onComplete:()=>{fe(t,{drawProgress:void 0,opacity:i},!1),n.onComplete?.()}})}const Ki=new Map;function C1(t){return Ki.get(t)}function xm(t,e={}){const n=L.elements.find(h=>h.id===t);if(!n)return\"\";const r=n.entranceAnimation??\"none\",i=n.animationDuration??300,{isPreview:s=!0,onComplete:a}=e;s&&!Ki.has(t)&&Ki.set(t,{x:n.x,y:n.y,width:n.width,height:n.height,opacity:n.opacity,angle:n.angle,drawProgress:void 0});const o=s?Ki.get(t):null,l=()=>{s&&o&&(fe(t,o,!1),Ki.delete(t)),a?.()},c={onComplete:l};switch(r){case\"fadeIn\":return fe(t,{opacity:0},!1),le(t,{opacity:100},{duration:i,easing:\"easeOutQuad\",onComplete:l});case\"fadeInDown\":return k0(t,i,c);case\"fadeInDownBig\":return _0(t,i,c);case\"fadeInLeft\":return S0(t,i,c);case\"fadeInLeftBig\":return A0(t,i,c);case\"fadeInRight\":return L0(t,i,c);case\"fadeInRightBig\":return C0(t,i,c);case\"fadeInUp\":return N0(t,i,c);case\"fadeInUpBig\":return M0(t,i,c);case\"fadeInTopLeft\":return I0(t,i,c);case\"fadeInTopRight\":return O0(t,i,c);case\"fadeInBottomLeft\":return P0(t,i,c);case\"fadeInBottomRight\":return R0(t,i,c);case\"bounce\":return mu(t,i,c);case\"flash\":return bu(t,i,c);case\"pulse\":return yu(t,i,{scale:1.1,...c});case\"rubberBand\":return wu(t,i,c);case\"shakeX\":return vu(t,i,{intensity:10,...c});case\"shakeY\":return xu(t,i,{intensity:10,...c});case\"headShake\":return Kp(t,i);case\"swing\":return Jp(t,i);case\"tada\":return Qp(t,i);case\"wobble\":return t0(t,i);case\"jello\":return e0(t,i);case\"heartBeat\":return n0(t,i);case\"backInDown\":return i0(t,i,c);case\"backInLeft\":return s0(t,i,c);case\"backInRight\":return o0(t,i,c);case\"backInUp\":return a0(t,i,c);case\"bounceIn\":return f0(t,i,c);case\"bounceInDown\":return d0(t,i,c);case\"bounceInLeft\":return p0(t,i,c);case\"bounceInRight\":return g0(t,i,c);case\"bounceInUp\":return m0(t,i,c);case\"zoomIn\":return g1(t,i,c);case\"zoomInDown\":return m1(t,i,c);case\"zoomInLeft\":return y1(t,i,c);case\"zoomInRight\":return b1(t,i,c);case\"zoomInUp\":return w1(t,i,c);case\"slideInDown\":{const h=n.y;return fe(t,{y:-n.height,opacity:0},!1),le(t,{y:h,opacity:100},{duration:i,easing:\"easeOutQuad\",onComplete:l})}case\"slideInLeft\":{const h=n.x;return fe(t,{x:-n.width,opacity:0},!1),le(t,{x:h,opacity:100},{duration:i,easing:\"easeOutQuad\",onComplete:l})}case\"slideInRight\":{const h=n.x;return fe(t,{x:window.innerWidth+100,opacity:0},!1),le(t,{x:h,opacity:100},{duration:i,easing:\"easeOutQuad\",onComplete:l})}case\"slideInUp\":{const h=n.y;return fe(t,{y:window.innerHeight+100,opacity:0},!1),le(t,{y:h,opacity:100},{duration:i,easing:\"easeOutQuad\",onComplete:l})}case\"rotateIn\":return e1(t,i,c);case\"rotateInDownLeft\":return n1(t,i,c);case\"rotateInDownRight\":return r1(t,i,c);case\"rotateInUpLeft\":return i1(t,i,c);case\"rotateInUpRight\":return s1(t,i,c);case\"flip\":return G0(t,i,c);case\"flipInX\":return H0(t,i,c);case\"flipInY\":return V0(t,i,c);case\"lightSpeedInRight\":return K0(t,i,c);case\"lightSpeedInLeft\":return J0(t,i,c);case\"rollIn\":return d1(t,i,c);case\"jackInTheBox\":return f1(t,i,c);case\"scaleIn\":return Zp(t,i,c);case\"drawIn\":return A1(t,i,c);default:return\"\"}}function km(t,e={}){const n=L.elements.find(h=>h.id===t);if(!n)return\"\";const r=n.exitAnimation??\"none\",i=n.animationDuration??300,{isPreview:s=!0,onComplete:a}=e;s&&!Ki.has(t)&&Ki.set(t,{x:n.x,y:n.y,width:n.width,height:n.height,opacity:n.opacity,angle:n.angle,drawProgress:void 0});const o=s?Ki.get(t):null,l=()=>{s&&o&&(fe(t,o,!1),Ki.delete(t)),a?.()},c={onComplete:l};switch(r){case\"fadeOut\":return le(t,{opacity:0},{duration:i,easing:\"easeOutQuad\",onComplete:l});case\"fadeOutDown\":return E0(t,i,c);case\"fadeOutDownBig\":return T0(t,i,c);case\"fadeOutLeft\":return B0(t,i,c);case\"fadeOutLeftBig\":return F0(t,i,c);case\"fadeOutRight\":return D0(t,i,c);case\"fadeOutRightBig\":return z0(t,i,c);case\"fadeOutUp\":return j0(t,i,c);case\"fadeOutUpBig\":return U0(t,i,c);case\"fadeOutTopLeft\":return $0(t,i,c);case\"fadeOutTopRight\":return q0(t,i,c);case\"fadeOutBottomLeft\":return W0(t,i,c);case\"fadeOutBottomRight\":return X0(t,i,c);case\"backOutDown\":return l0(t,i,c);case\"backOutLeft\":return c0(t,i,c);case\"backOutRight\":return h0(t,i,c);case\"backOutUp\":return u0(t,i,c);case\"bounceOut\":return y0(t,i,c);case\"bounceOutDown\":return b0(t,i,c);case\"bounceOutLeft\":return w0(t,i,c);case\"bounceOutRight\":return v0(t,i,c);case\"bounceOutUp\":return x0(t,i,c);case\"zoomOut\":return v1(t,i,c);case\"zoomOutDown\":return x1(t,i,c);case\"zoomOutLeft\":return k1(t,i,c);case\"zoomOutRight\":return _1(t,i,c);case\"zoomOutUp\":return S1(t,i,c);case\"slideOutDown\":return le(t,{y:window.innerHeight+100,opacity:0},{duration:i,easing:\"easeInQuad\",onComplete:l});case\"slideOutLeft\":return le(t,{x:-n.width,opacity:0},{duration:i,easing:\"easeInQuad\",onComplete:l});case\"slideOutRight\":return le(t,{x:window.innerWidth+100,opacity:0},{duration:i,easing:\"easeInQuad\",onComplete:l});case\"slideOutUp\":return le(t,{y:-n.height,opacity:0},{duration:i,easing:\"easeInQuad\",onComplete:l});case\"bounce\":return mu(t,i,c);case\"flash\":return bu(t,i,c);case\"pulse\":return yu(t,i,{scale:1.1,...c});case\"rubberBand\":return wu(t,i,c);case\"shakeX\":return vu(t,i,{intensity:10,...c});case\"shakeY\":return xu(t,i,{intensity:10,...c});case\"rotateOut\":return o1(t,i,c);case\"rotateOutDownLeft\":return a1(t,i,c);case\"rotateOutDownRight\":return l1(t,i,c);case\"rotateOutUpLeft\":return c1(t,i,c);case\"rotateOutUpRight\":return h1(t,i,c);case\"flipOutX\":return Y0(t,i,c);case\"flipOutY\":return Z0(t,i,c);case\"lightSpeedOutRight\":return Q0(t,i,c);case\"lightSpeedOutLeft\":return t1(t,i,c);case\"rollOut\":return p1(t,i,c);case\"hinge\":return u1(t,i,c);case\"scaleOut\":return r0(t,i,c);case\"drawOut\":return L1(t,i,c);default:return\"\"}}function N1(t,e,n){const r=L.elements.find(d=>d.id===t);if(!r)return\"\";const i=Ao(\"morph\"),s=new Set([\"points\",\"type\"]);Sa(t,s),Tn.has(t)||Tn.set(t,new Map),Tn.get(t).set(i,s);const a=120,o=io.getPointsFromElement(r),l=io.getPointsFromElement(r,e),c=io.resamplePolygon(o,a);let h=io.resamplePolygon(l,a);return h=io.alignPolygons(c,h),console.log(\"[Morph] Starting morph:\",{elementId:t,startPoints:c.length,endPoints:h.length}),Bn.create(i,d=>{const g=io.interpolatePoints(c,h,d);console.log(\"[Morph] Progress:\",d.toFixed(3));const u=L.elements.findIndex(b=>b.id===t);if(u!==-1){const b=[...L.elements];b[u]={...b[u],points:[...g]},Kt(\"elements\",b)}},{duration:n.duration,easing:n.easing,delay:n.delay,loop:n.loop,loopCount:n.loopCount,alternate:n.alternate,onComplete:()=>{const d=Tn.get(t);d&&(d.delete(i),d.size===0&&Tn.delete(t)),fe(t,{type:e,points:void 0},!1),n.onComplete?.()}}),Bn.start(i),i}const _m=Object.freeze(Object.defineProperty({__proto__:null,animateAlongPath:Yp,animateElement:le,animateElements:om,animateMorph:N1,backInDown:i0,backInLeft:s0,backInRight:o0,backInUp:a0,backOutDown:l0,backOutLeft:c0,backOutRight:h0,backOutUp:u0,bounce:mu,bounceIn:f0,bounceInDown:d0,bounceInLeft:p0,bounceInRight:g0,bounceInUp:m0,bounceOut:y0,bounceOutDown:b0,bounceOutLeft:w0,bounceOutRight:v0,bounceOutUp:x0,drawIn:A1,drawOut:L1,fadeIn:hm,fadeInBottomLeft:P0,fadeInBottomRight:R0,fadeInDown:k0,fadeInDownBig:_0,fadeInLeft:S0,fadeInLeftBig:A0,fadeInRight:L0,fadeInRightBig:C0,fadeInTopLeft:I0,fadeInTopRight:O0,fadeInUp:N0,fadeInUpBig:M0,fadeOut:um,fadeOutBottomLeft:W0,fadeOutBottomRight:X0,fadeOutDown:E0,fadeOutDownBig:T0,fadeOutLeft:B0,fadeOutLeftBig:F0,fadeOutRight:D0,fadeOutRightBig:z0,fadeOutTopLeft:$0,fadeOutTopRight:q0,fadeOutUp:j0,fadeOutUpBig:U0,flash:bu,flip:G0,flipInX:H0,flipInY:V0,flipOutX:Y0,flipOutY:Z0,getElementPreviewBaseState:C1,headShake:Kp,heartBeat:n0,hinge:u1,isElementAnimating:im,jackInTheBox:f1,jello:e0,lightSpeedInLeft:J0,lightSpeedInRight:K0,lightSpeedOutLeft:t1,lightSpeedOutRight:Q0,pauseElementAnimation:lm,playEntranceAnimation:xm,playExitAnimation:km,pulse:yu,resumeElementAnimation:cm,revolve:vm,rollIn:d1,rollOut:p1,rotateIn:e1,rotateInDownLeft:n1,rotateInDownRight:r1,rotateInUpLeft:i1,rotateInUpRight:s1,rotateOut:o1,rotateOutDownLeft:a1,rotateOutDownRight:l1,rotateOutUpLeft:c1,rotateOutUpRight:h1,rubberBand:wu,scaleIn:Zp,scaleOut:r0,shakeX:vu,shakeY:xu,slideInDown:gm,slideInLeft:fm,slideInRight:dm,slideInUp:pm,slideOutDown:wm,slideOutLeft:mm,slideOutRight:ym,slideOutUp:bm,stopAllElementAnimations:Vp,stopConflictingAnimations:Sa,stopElementAnimation:am,swing:Jp,tada:Qp,wobble:t0,zoomIn:g1,zoomInDown:m1,zoomInLeft:y1,zoomInRight:b1,zoomInUp:w1,zoomOut:v1,zoomOutDown:x1,zoomOutLeft:k1,zoomOutRight:_1,zoomOutUp:S1},Symbol.toStringTag,{value:\"Module\"}));class Sm{activeSequences=new Set;playSequence(e,n=\"programmatic\"){const r=L.elements.find(c=>c.id===e),i=r?.animations&&r.animations.length>0,s=r?.spinEnabled||r?.orbitEnabled;if(!r||!i&&!(n===\"programmatic\"&&s))return;let a=null;n===\"programmatic\"&&(this.activeSequences.add(e),ll(!0),Bn.setForceTicker(!0),a={x:r.x,y:r.y,width:r.width,height:r.height,opacity:r.opacity,angle:r.angle,strokeColor:r.strokeColor,backgroundColor:r.backgroundColor});const o=r.animations?r.animations.filter((c,h)=>n===\"programmatic\"?!0:h===0?c.trigger===n||c.trigger===\"after-prev\":!0):[];if(o.length===0)return void 0;const l=()=>{n===\"programmatic\"&&(this.activeSequences.delete(e),this.activeSequences.size===0&&(ll(!1),Bn.setForceTicker(!1))),a&&(o[o.length-1]?.restoreAfter??!0)&&setTimeout(()=>{fe(e,a,!1)},500)};this.runStep(e,o,0,l)}stopSequence(e){Vp(e),this.activeSequences.has(e)&&this.activeSequences.delete(e),this.activeSequences.size===0&&(ll(!1),Bn.setForceTicker(!1))}playAll(e=\"programmatic\",n){(n?L.elements.filter(i=>n.includes(i.id)):L.elements).forEach(i=>{this.playSequence(i.id,e)})}stopAll(){this.activeSequences.clear(),ll(!1),Bn.setForceTicker(!1),L.elements.forEach(e=>{this.stopSequence(e.id)})}runStep(e,n,r,i){if(r>=n.length){i?.();return}const s=n[r],a=r+1,o=()=>{s.restoreAfter&&L.elements.find(g=>g.id===e)&&l&&fe(e,l,!1);let h=a;for(;h<n.length&&n[h].trigger===\"with-prev\";)h++;h<n.length?this.runStep(e,n,h,i):i?.()};let l=null;if(s.restoreAfter){const h=L.elements.find(d=>d.id===e);h&&(l={...h})}let c=a;for(;c<n.length;){const h=n[c];if(h.trigger===\"with-prev\")this.executeAnimation(e,h,()=>{h.restoreAfter}),c++;else break}this.executeAnimation(e,s,o)}playAnimation(e,n,r){this.executeAnimation(e,n,r)}executeAnimation(e,n,r){const i={duration:n.duration,delay:n.delay,easing:n.easing,onComplete:r,params:n.params,loop:n.repeat===-1,loopCount:n.repeat!==-1&&(n.repeat||0)>0?n.repeat:void 0,alternate:n.yoyo};if(n.type===\"preset\"){const s=_m[n.name];typeof s==\"function\"?s(e,n.duration,i):(console.warn(`Unknown preset: ${n.name}`),r())}else n.type===\"property\"?this.animateProperty(e,n,i):n.type===\"rotate\"?this.animateRotate(e,n,i):n.type===\"autoSpin\"?this.animateAutoSpin(e,n,i):n.type===\"path\"?Yp(e,n.pathData,{...i,orientToPath:n.orientToPath,isRelative:n.isRelative}):n.type===\"morph\"&&N1(e,n.targetShape,i)}animateRotate(e,n,r){const i=L.elements.find(a=>a.id===e);if(!i){r.onComplete?.();return}const s=n.relative?(i.angle||0)+n.toAngle*Math.PI/180:n.toAngle*Math.PI/180;le(e,{angle:s},r)}animateAutoSpin(e,n,r){const i=L.elements.find(h=>h.id===e);if(!i){r.onComplete?.();return}const s=i.angle||0,a=n.direction===\"counterclockwise\"?-1:1,o=n.iterations===\"infinite\"?1/0:n.iterations||1,l=a*Math.PI*2,c={...r};if(o===1/0){c.loop=!0,c.loopCount=1/0,c.duration=r.duration||1e3;const h=r.onComplete;setTimeout(()=>{h?.()},0);const d=s+l;le(e,{angle:d},{...c,onComplete:void 0})}else{const h=l*o,d=s+h;if(o>1&&r.duration){c.loop=!0,c.loopCount=o,c.duration=r.duration/o;const g=s+l;le(e,{angle:g},c)}else le(e,{angle:d},c)}}animateProperty(e,n,r){const i={},s=n.to;n.property===\"opacity\"||n.property===\"x\"||n.property===\"y\"||n.property===\"width\"||n.property===\"height\"||n.property===\"angle\"||n.property===\"strokeWidth\"||n.property===\"roughness\"?i[n.property]=Number(s):(n.property===\"strokeColor\"||n.property===\"backgroundColor\")&&(i[n.property]=String(s)),le(e,i,r)}}const _f=new Sm,Am=(t,e,n)=>{const r=n[t];if(!r)return[];const{x:i,y:s}=r.spatialPosition,{width:a,height:o}=r.dimensions;return e.filter(l=>{const c=l.x+(l.width||0)/2,h=l.y+(l.height||0)/2;return c>=i&&c<=i+a&&h>=s&&h<=s+o})};class Lm{buildSequence=[];isPlaying=!1;init(e){this.reset();const n=Am(e,L.elements,L.slides),r=[];n.forEach(i=>{i.animations&&i.animations.length>0&&i.animations.forEach(s=>{r.push({elementId:i.id,animation:s,played:!1})})}),console.log(`[BuildManager] Initialized for slide ${e}. Found ${r.length} total animations.`),r.forEach(i=>console.log(`  - Element ${i.elementId}: ${i.animation.type} (trigger: ${i.animation.trigger})`)),this.buildSequence=r.sort((i,s)=>{const a=n.find(l=>l.id===i.elementId),o=n.find(l=>l.id===s.elementId);if(a.layerId!==o.layerId){const l=L.layers.find(h=>h.id===a.layerId),c=L.layers.find(h=>h.id===o.layerId);return(l?.order??0)-(c?.order??0)}return i.elementId===s.elementId?(a.animations?.indexOf(i.animation)??0)-(o.animations?.indexOf(s.animation)??0):i.elementId.localeCompare(s.elementId)}),console.log(`[BuildManager] Initialized with ${this.buildSequence.length} steps for slide ${e}`)}reset(){this.buildSequence=[],this.isPlaying=!1,_f.stopAll()}playInitial(){L.appMode===\"presentation\"&&this.buildSequence.forEach((e,n)=>{e.animation.trigger===\"on-load\"&&!e.played&&this.executeStep(n)})}hasMoreSteps(){return this.buildSequence.some(e=>!e.played&&e.animation.trigger===\"on-click\")}async playNext(){if(this.isPlaying)return console.log(\"[BuildManager] Already playing, ignoring click\"),!0;const e=this.buildSequence.findIndex(n=>!n.played&&n.animation.trigger===\"on-click\");return e===-1?(console.log(\"[BuildManager] No more on-click steps found\"),!1):(console.log(`[BuildManager] Executing on-click step ${e}`),this.isPlaying=!0,await this.executeStep(e),this.isPlaying=!1,!0)}executeStep(e){const n=this.buildSequence[e];return!n||n.played?Promise.resolve():(n.played=!0,new Promise(r=>{const i=()=>{this.triggerAfterPrev(e).then(r)};_f.playAnimation(n.elementId,n.animation,i),this.triggerWithPrev(e)}))}triggerWithPrev(e){let n=e+1;for(;n<this.buildSequence.length&&this.buildSequence[n].animation.trigger===\"with-prev\";)this.executeStep(n),n++}async triggerAfterPrev(e){let n=e+1;n<this.buildSequence.length&&this.buildSequence[n].animation.trigger===\"after-prev\"&&await this.executeStep(n)}}const Zl=new Lm,Cm={rectangle:\"rect\",circle:\"circ\",triangle:\"tria\",diamond:\"diam\",hexagon:\"hexa\",octagon:\"octa\",parallelogram:\"para\",arrow:\"arrw\",line:\"line\",text:\"text\",image:\"imag\",ink:\"ink_\",laser:\"lasr\",group:\"grup\",slide:\"slid\",layer:\"layr\",star:\"star\",cloud:\"clou\",heart:\"hear\",cross:\"cros\",checkmark:\"chck\",capsule:\"caps\",stickyNote:\"note\",callout:\"call\",burst:\"brst\",speechBubble:\"bubl\",ribbon:\"ribb\",database:\"data\",document:\"docu\",server:\"serv\",user:\"user\",firewall:\"fire\",browser:\"brow\"},gi=t=>{let e=Cm[t];e||(e=t.substring(0,4).toLowerCase()),e.length<4&&(e=e.padEnd(4,\"_\"));const n=`${e}-`;let r=0;return L.elements.forEach(i=>{if(i.id.startsWith(n)){const s=i.id.substring(n.length),a=parseInt(s,10);!isNaN(a)&&String(a)===s&&a>r&&(r=a)}}),`${n}${r+1}`},ta=h5(),go={elements:ta.elements,viewState:{scale:.5,panX:0,panY:0},layers:ta.layers,activeLayerId:ta.layers[0].id,gridSettings:ta.gridSettings,canvasBackgroundColor:\"#ffffff\",dimensions:{width:1920,height:1080},slides:ta.slides,activeSlideIndex:0,docType:\"infinite\",canvasTexture:\"none\",isPreviewing:!1,selectedTool:\"selection\",selectedUmlType:\"umlClass\",selection:[],flowTick:0,isRecording:!1,readOnly:!1,defaultElementStyles:{strokeColor:\"#000000\",backgroundColor:\"transparent\",fillStyle:\"solid\",strokeWidth:2,strokeStyle:\"solid\",roughness:1,renderStyle:\"sketch\",opacity:100,angle:0,roundness:null,locked:!1,fontSize:20,fontFamily:\"hand-drawn\",fontWeight:!1,fontStyle:!1,textAlign:\"left\",startArrowhead:null,endArrowhead:null,autoResize:!1,flowColor:void 0,seed:0,shadowEnabled:!1,shadowColor:\"rgba(0,0,0,0.3)\",shadowBlur:10,shadowOffsetX:5,shadowOffsetY:5,gradientStart:\"#ffffff\",gradientEnd:\"#000000\",gradientDirection:45,smoothing:3,taperAmount:.15,velocitySensitivity:.5},toolStyles:{},theme:localStorage.getItem(\"theme\")||\"light\",globalSettings:{animationEnabled:!0,reducedMotion:!1,renderStyle:\"sketch\",showMindmapToolbar:!0},showCanvasProperties:!1,undoStackLength:0,redoStackLength:0,showPropertyPanel:!1,showLayerPanel:!1,isPropertyPanelMinimized:!1,isLayerPanelMinimized:!1,minimapVisible:!1,zenMode:!1,appMode:\"design\",showCommandPalette:!1,selectedPenType:\"fineliner\",selectedShapeType:\"triangle\",selectedInfraType:\"server\",selectedMathType:\"trapezoid\",selectedSketchnoteType:\"starPerson\",selectedWireframeType:\"browserWindow\",layerGroupingModeEnabled:!1,maxLayers:20,selectedTechnicalType:\"dfdProcess\",states:[],showStatePanel:!1,showSlideNavigator:!0,showSlideToolbar:!0,showMainToolbar:!0,slideToolbarPosition:{x:window.innerWidth/2-150,y:window.innerHeight-80},showExportDialog:!1,showUtilityToolbar:!0,pathEditState:{isActive:!1,elementId:null,animationId:null}},[L,Kt]=c5(go),ha=[],_n=()=>{const t={elements:JSON.parse(JSON.stringify(L.elements)),layers:JSON.parse(JSON.stringify(L.layers))};ha.push(t),ha.length>50&&ha.shift(),Kt(\"undoStackLength\",ha.length),Kt(\"redoStackLength\",0)},ol=t=>{_n(),Kt(\"elements\",e=>[...e,t])},Nm=t=>{const e=L.elements.find(l=>l.id===t);if(!e)return;_n();const n=gi(e.type),r=150,s={...L.defaultElementStyles,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,renderStyle:e.renderStyle,opacity:e.opacity,strokeStyle:e.strokeStyle||\"solid\",id:n,type:e.type===\"image\"||e.type===\"line\"||e.type===\"arrow\"?\"rectangle\":e.type,x:e.x+e.width+r,y:e.y+0,width:e.width>0?e.width:100,height:e.height>0?e.height:60,layerId:L.activeLayerId,parentId:e.id,text:\"\",isCollapsed:!1,angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null},a={...L.defaultElementStyles,id:gi(\"arrow\"),type:\"arrow\",x:e.x+e.width,y:e.y+e.height/2,width:r,height:0,layerId:L.activeLayerId,startBinding:{elementId:e.id,gap:5,position:\"right\",focus:0},endBinding:{elementId:n,gap:5,position:\"left\",focus:0},curveType:\"bezier\",angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null,opacity:100,renderStyle:e.renderStyle,strokeColor:e.strokeColor,backgroundColor:\"transparent\",fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,points:[0,0,r,0]},o=a.id;return Kt(\"elements\",l=>[...l,s,a]),Kt(\"elements\",l=>l.id===t,\"boundElements\",l=>[...l||[],{id:o,type:\"arrow\"}]),Kt(\"elements\",l=>l.id===n,\"boundElements\",l=>[...l||[],{id:o,type:\"arrow\"}]),Kt(\"selection\",[n]),n},Mm=t=>{const e=L.elements.find(l=>l.id===t);if(!e)return;const n=e.parentId;if(!n)return;_n();const r=gi(e.type),i=e.height+40,s={...L.defaultElementStyles,strokeColor:e.strokeColor,backgroundColor:\"transparent\",fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,renderStyle:e.renderStyle,opacity:e.opacity,strokeStyle:e.strokeStyle||\"solid\",id:r,type:e.type,x:e.x,y:e.y+i,width:e.width,height:e.height,layerId:L.activeLayerId,parentId:n,text:\"\",isCollapsed:!1,angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null},a={...L.defaultElementStyles,id:gi(\"arrow\"),type:\"arrow\",x:e.x-150,y:e.y+i+e.height/2,width:150,height:0,layerId:L.activeLayerId,startBinding:{elementId:n,gap:5,position:\"right\",focus:0},endBinding:{elementId:r,gap:5,position:\"left\",focus:0},curveType:\"bezier\",angle:0,seed:Math.floor(Math.random()*2**31),roundness:null,locked:!1,link:null,opacity:100,renderStyle:e.renderStyle,strokeColor:e.strokeColor,backgroundColor:\"transparent\",fillStyle:e.fillStyle,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,points:[0,0,150,0]},o=a.id;return Kt(\"elements\",l=>[...l,s,a]),Kt(\"elements\",l=>l.id===n,\"boundElements\",l=>[...l||[],{id:o,type:\"arrow\"}]),Kt(\"elements\",l=>l.id===r,\"boundElements\",l=>[...l||[],{id:o,type:\"arrow\"}]),Kt(\"selection\",[r]),r},Sf=t=>{Kt(\"showCanvasProperties\",t),t&&(Kt(\"showPropertyPanel\",!0),Kt(\"isPropertyPanelMinimized\",!1))},ua=t=>{t.length!==0&&(_n(),Kt(\"elements\",e=>e.filter(n=>!t.includes(n.id))),Kt(\"selection\",[]))},Im=t=>{t.length!==0&&(_n(),Kt(\"elements\",e=>{const n=e.filter(i=>t.includes(i.id));return[...e.filter(i=>!t.includes(i.id)),...n]}))},Om=t=>{t.length!==0&&(_n(),Kt(\"elements\",e=>{const n=e.filter(i=>t.includes(i.id)),r=e.filter(i=>!t.includes(i.id));return[...n,...r]}))},Pm=()=>{const t=L.elements.some(e=>e.flowAnimation);Bn.setForceTicker(t)},fe=(t,e,n=!1)=>{n&&_n(),Kt(\"elements\",r=>r.id===t,e),\"flowAnimation\"in e&&Pm()},Af=(t,e,n,r=!1)=>{r&&_n(),Kt(\"elements\",i=>i.id===t,\"animations\",i=>i.id===e,n)},Nr=t=>{Kt(\"viewState\",e=>({...e,...t}))},mo=t=>{const e=L.selectedTool;if(e!==\"selection\"){const n=JSON.parse(JSON.stringify(L.defaultElementStyles));Kt(\"toolStyles\",e,n)}if(Kt(\"selectedTool\",t),t!==\"selection\"&&t!==\"pan\"&&t!==\"eraser\"&&Kt(\"selection\",[]),t!==\"selection\"){const n=L.toolStyles[t];n&&ea(n)}t===\"arrow\"?ea({endArrowhead:\"arrow\"}):t===\"line\"&&ea({endArrowhead:null}),ea(t===\"starPerson\"||t===\"scroll\"||t===\"wavyDivider\"||t===\"doubleBanner\"||t===\"lightbulb\"||t===\"signpost\"||t===\"burstBlob\"||t===\"browserWindow\"||t===\"mobilePhone\"||t===\"ghostButton\"||t===\"inputField\"?{autoResize:!1}:{autoResize:!1})},ea=t=>{Kt(\"defaultElementStyles\",e=>({...e,...t}))},Rm=(t,e=null,n=null)=>{Kt(\"pathEditState\",{isActive:t,elementId:e,animationId:n})},Em=(t,e)=>{Kt(\"slides\",t,\"thumbnail\",e)},M1=async(t,e)=>{if(t<0||t>=L.slides.length||t===L.activeSlideIndex&&!Zc.transitioning)return;Kt(\"selection\",[]),L.appMode===\"presentation\"&&!0?await Zc.transitionTo(t):await Zc.transitionTo(t,{skipAnimation:!0});const r=L.slides[t];r&&(r.backgroundColor&&Kt(\"canvasBackgroundColor\",r.backgroundColor),Kt(\"dimensions\",JSON.parse(JSON.stringify(r.dimensions))),L.appMode===\"presentation\"&&(Zl.init(t),Zl.playInitial())),pi(`Slide ${t+1}`,\"info\")},I1=async()=>{if(L.states.findIndex(e=>e.id===L.activeStateId)<L.states.length-1){Fm();return}if(Zl.hasMoreSteps()){await Zl.playNext();return}L.activeSlideIndex<L.slides.length-1&&await M1(L.activeSlideIndex+1)},Tm=async()=>{if(L.states.findIndex(e=>e.id===L.activeStateId)>0){Dm();return}L.activeSlideIndex>0&&await M1(L.activeSlideIndex-1)},al=(t,e)=>{t<0||t>=L.slides.length||(typeof e==\"string\"?(e.startsWith(\"#\")||e.startsWith(\"rgb\")||e.startsWith(\"hsl\")||e.startsWith(\"color(\")||e.includes(\"display-p3\"))&&(Kt(\"slides\",t,{backgroundColor:e,fillStyle:\"solid\"}),t===L.activeSlideIndex&&Kt(\"canvasBackgroundColor\",e)):(Kt(\"slides\",t,e),t===L.activeSlideIndex&&e.backgroundColor&&Kt(\"canvasBackgroundColor\",e.backgroundColor)))},Bm=t=>{ka(()=>{let e=[],n=[],r=[],i=t.gridSettings||go.gridSettings,s=t.states||[];if(t.version===4)e=t.elements,n=t.slides,r=t.layers,s=t.states||[],i=t.gridSettings||i;else if(t.version===3){r=t.slides[0]?.layers||go.layers;const o=2e3;t.slides.forEach((l,c)=>{const h=c*o,d=0,g=l.elements.map(u=>({...u,x:u.x+h,y:u.y+d}));e.push(...g),n.push({id:l.id,name:l.name,spatialPosition:{x:h,y:d},dimensions:l.dimensions||{width:1920,height:1080},order:c,backgroundColor:l.backgroundColor,thumbnail:l.thumbnail}),l.states&&s.push(...l.states)})}else e=t.elements||[],r=t.layers||go.layers,n=[Gp()];n.forEach(o=>{o.transition||(o.transition={...Yl})}),Kt(\"elements\",JSON.parse(JSON.stringify(e))),Kt(\"slides\",JSON.parse(JSON.stringify(n))),Kt(\"layers\",JSON.parse(JSON.stringify(r))),Kt(\"states\",JSON.parse(JSON.stringify(s))),Kt(\"gridSettings\",JSON.parse(JSON.stringify(i))),Kt(\"globalSettings\",t.globalSettings||go.globalSettings);const a=t.metadata?.docType||(t.version>=3?\"slides\":\"infinite\");Kt(\"docType\",a),Kt(\"showSlideNavigator\",a===\"slides\"),Kt(\"showSlideToolbar\",!0),Kt(\"showUtilityToolbar\",!0),Kt(\"activeSlideIndex\",0),Kt(\"selection\",[]),r.some(o=>o.id===L.activeLayerId)||Kt(\"activeLayerId\",r[0]?.id||\"default-layer\"),setTimeout(()=>Uh(),100)}),zm()},O1=async(t,e=!0)=>{const n=L.states.find(r=>r.id===t);if(n)if(Kt(\"activeStateId\",t),e){const{MorphAnimator:r}=await Ml(async()=>{const{MorphAnimator:i}=await import(\"./morph-animator.js\");return{MorphAnimator:i}},[]);r.morphTo(n)}else ka(()=>{Object.entries(n.overrides).forEach(([r,i])=>{fe(r,i,!1)})})},Fm=async()=>{if(L.states.length===0)return;const e=(L.states.findIndex(n=>n.id===L.activeStateId)+1)%L.states.length;await O1(L.states[e].id)},Dm=async()=>{if(L.states.length===0)return;let e=L.states.findIndex(n=>n.id===L.activeStateId)-1;e<0&&(e=L.states.length-1),await O1(L.states[e].id)},zm=()=>{ha.length=0,Kt(\"undoStackLength\",0),Kt(\"redoStackLength\",0)},jm=t=>{const e=L.elements.find(s=>s.id===t);if(!e)return;_n();const n=gi(e.type),r=10/L.viewState.scale,i={...e,id:n,x:e.x+r,y:e.y+r,points:e.points?e.pointsEncoding===\"flat\"?[...e.points]:e.points.map(s=>({...s})):void 0,roundness:e.roundness?{...e.roundness}:null,crop:e.crop?{...e.crop}:null,boundElements:null,groupIds:e.groupIds?[...e.groupIds]:void 0,seed:Math.floor(Math.random()*2147483647)};Kt(\"elements\",s=>[...s,i]),Kt(\"selection\",[n])},Um=()=>{if(L.selection.length<2)return;_n();const t=gi(\"group\");Kt(\"elements\",e=>L.selection.includes(e.id),\"groupIds\",e=>[...e||[],t])},$m=()=>{if(L.selection.length===0)return;const t=new Set;L.elements.forEach(e=>{L.selection.includes(e.id)&&e.groupIds&&e.groupIds.length>0&&t.add(e.groupIds[e.groupIds.length-1])}),t.size!==0&&(_n(),Kt(\"elements\",e=>{if(!e.groupIds||e.groupIds.length===0)return!1;const n=e.groupIds[e.groupIds.length-1];return t.has(n)},\"groupIds\",e=>e&&e.slice(0,-1)))},Lf=(t,e)=>{const n=L.elements.findIndex(r=>r.id===t);n!==-1&&(_n(),Kt(\"elements\",r=>{const i=[...r],s=i.splice(n,1)[0];if(e===\"front\")i.push(s);else if(e===\"back\")i.unshift(s);else if(e===\"forward\"){const a=Math.min(i.length,n+1);i.splice(a,0,s)}else if(e===\"backward\"){const a=Math.max(0,n-1);i.splice(a,0,s)}return i}))},qm=()=>{if(L.elements.length===0){Kt(\"viewState\",{scale:1,panX:0,panY:0});return}let t=1/0,e=1/0,n=-1/0,r=-1/0;L.elements.forEach(v=>{t=Math.min(t,v.x),n=Math.max(n,v.x+v.width),e=Math.min(e,v.y),r=Math.max(r,v.y+v.height)});const i=n-t,s=r-e;if(i===0&&s===0){const v=t,y=e,k=window.innerWidth/2,A=window.innerHeight/2;Kt(\"viewState\",{scale:1,panX:-v+k,panY:-y+A});return}const a=50,o=window.innerWidth,l=window.innerHeight,c=(o-a*2)/i,h=(l-a*2)/s;let d=Math.min(c,h);d=Math.min(Math.max(d,.1),2);const g=t+i/2,u=e+s/2,b=o/2,m=l/2;Kt(\"viewState\",{scale:d,panX:-g*d+b,panY:-u*d+m})},Wm=t=>{L.layers.find(n=>n.id===t)&&Kt(\"activeLayerId\",t)},Vi=t=>{const e=L.layers.find(n=>n.id===t);return!e||e.visible===!1?!1:L.layerGroupingModeEnabled&&e.parentId?Vi(e.parentId):!0},P1=t=>{const e=L.layers.find(n=>n.id===t);return e?e.locked?!0:L.layerGroupingModeEnabled&&e.parentId?P1(e.parentId):e.locked||!1:!1},Xm=()=>{Kt(\"gridSettings\",\"enabled\",!L.gridSettings.enabled)},Gm=()=>{Kt(\"gridSettings\",\"snapToGrid\",!L.gridSettings.snapToGrid)},ll=t=>Kt(\"isPreviewing\",t),Hm=t=>{L.isPropertyPanelMinimized&&t===!0?(Kt(\"isPropertyPanelMinimized\",!1),Kt(\"showPropertyPanel\",!0)):Kt(\"showPropertyPanel\",t)},Vm=t=>{Kt(\"minimapVisible\",e=>t)},Ym=t=>{Kt(\"zenMode\",e=>t??!e)},Uh=()=>{const t=L.slides[L.activeSlideIndex];if(!t)return;const{width:e,height:n}=t.dimensions,{x:r,y:i}=t.spatialPosition,s=40,a=window.innerWidth-s*2,o=window.innerHeight-s*2,l=a/e,c=o/n,h=Math.min(l,c),d=(window.innerWidth-e*h)/2-r*h,g=(window.innerHeight-n*h)/2-i*h;Kt(\"viewState\",{scale:h,panX:d,panY:g})},Zm=t=>{L.appMode,ka(()=>{Kt(\"appMode\",\"design\")}),document.fullscreenElement&&document.exitFullscreen?.()};document.documentElement.setAttribute(\"data-theme\",go.theme);const Cf=t=>{const e=L.elements.find(n=>n.id===t);e&&fe(t,{isCollapsed:!e.isCollapsed},!0)},Km=(t,e)=>{fe(t,{parentId:e},!0)},Jm=t=>{fe(t,{parentId:null},!0)},na=(t,e)=>{const n=new Hp,r=n.buildTree(t,L.elements);if(!r)return;_n(),e.startsWith(\"horizontal\")?n.layoutHorizontal(r,e===\"horizontal-right\"?\"right\":\"left\"):e.startsWith(\"vertical\")?n.layoutVertical(r,e===\"vertical-down\"?\"down\":\"up\"):e===\"radial\"&&n.layoutRadial(r);const i=n.getUpdates(r,L.elements),s=L.elements.map(a=>{const o=i.get(a.id);return o?{...a,...o}:a});Kt(\"elements\",s),pi(`Mindmap layout updated (${e})`,\"success\")},Qm=t=>{const e=new Hp,n=e.buildTree(t,L.elements);if(!n)return;_n(),e.applySemanticStyling(n,L.elements);const r=e.getUpdates(n,L.elements),i=L.elements.map(s=>{const a=r.get(s.id);return a?{...s,...a}:s});Kt(\"elements\",i),pi(\"Semantic styling applied to branch\",\"success\")};typeof window<\"u\"&&setInterval(()=>{const t=Date.now(),e=L.elements.filter(n=>n.ttl&&t>n.ttl).map(n=>n.id);e.length>0&&Kt(\"elements\",n=>n.filter(r=>!e.includes(r.id)))},500);const[Xx,ty]=En(0),[Kc,ey]=En(0),[Gx,Nf]=En(!1),[Hx,Jc]=En(!1),[ny,Qc]=En(!1);class ry{animations=new Map;rafId=null;isRunning=!1;forceTicker=!1;lastTickTime=0;setForceTicker(e){this.forceTicker=e,e&&this.ensureLoopRunning()}create(e,n,r){const i={id:e,state:\"idle\",startTime:0,pauseTime:null,duration:r.duration??0,delay:r.delay??0,easing:Dh(r.easing),onUpdate:n,onComplete:r.onComplete,onStart:r.onStart,loop:r.loop??!1,loopCount:r.loopCount??1/0,currentLoop:0,alternate:r.alternate??!1,direction:1};return this.animations.set(e,i),e}start(e){const n=this.animations.get(e);if(n){if(n.state===\"paused\"&&n.pauseTime!==null){const r=n.pauseTime-n.startTime;n.startTime=performance.now()-r,n.pauseTime=null}else n.startTime=performance.now(),n.currentLoop=0,n.direction=1;n.state=\"running\",n.onStart?.(),this.ensureLoopRunning()}}pause(e){const n=this.animations.get(e);!n||n.state!==\"running\"||(n.state=\"paused\",n.pauseTime=performance.now())}stop(e){const n=this.animations.get(e);n&&(n.state=\"completed\",this.animations.delete(e),this.animations.size===0&&!this.forceTicker&&this.stopLoop())}reset(e){const n=this.animations.get(e);n&&(n.state=\"idle\",n.startTime=0,n.pauseTime=null,n.currentLoop=0,n.direction=1,n.onUpdate(0))}getState(e){return this.animations.get(e)?.state??null}has(e){return this.animations.has(e)}stopAll(){this.animations.clear(),Jc(!1),Qc(!1),this.stopLoop()}pauseAll(){for(const e of this.animations.values())e.state===\"running\"&&(e.state=\"paused\",e.pauseTime=performance.now())}resumeAll(){const e=performance.now();for(const n of this.animations.values())if(n.state===\"paused\"&&n.pauseTime!==null){const r=n.pauseTime-n.startTime;n.startTime=e-r,n.pauseTime=null,n.state=\"running\"}this.ensureLoopRunning()}tick=e=>{if(!this.isRunning){this.lastTickTime=0;return}this.lastTickTime===0&&(this.lastTickTime=e);const n=e-this.lastTickTime;this.lastTickTime=e;const r=L.globalSettings?.animationEnabled??!0;let i=!1;ka(()=>{ty(e),ny()||ey(a=>a+n);for(const a of this.animations.values()){if(a.state!==\"running\")continue;if(i=!0,!r){a.onUpdate(1),a.state=\"completed\",a.onComplete?.(),this.animations.delete(a.id);continue}const o=e-a.startTime-a.delay;if(o<0)continue;let l=Math.min(o/a.duration,1);a.direction===-1&&(l=1-l);const c=a.easing(l);a.onUpdate(c),o>=a.duration&&(a.loop&&a.currentLoop<a.loopCount-1?(a.currentLoop++,a.startTime=e,a.alternate&&(a.direction=a.direction===1?-1:1)):(a.state=\"completed\",a.onComplete?.(),this.animations.delete(a.id)))}});let s=!1;if(!i){for(const a of this.animations.values())if(a.state===\"paused\"){s=!0;break}}Jc(i),Qc(s),i||this.animations.size>0||this.forceTicker?this.rafId=requestAnimationFrame(this.tick):this.stopLoop()};ensureLoopRunning(){this.isRunning||(this.isRunning=!0,Nf(!0),this.rafId=requestAnimationFrame(this.tick))}stopLoop(){this.isRunning=!1,Nf(!1),Jc(!1),Qc(!1),this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}}const Bn=new ry;let iy=0;function Ao(t=\"anim\"){return`${t}-${Date.now()}-${++iy}`}function th(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,a=Math.cos(s),o=Math.sin(s);for(const l of t){const[c,h]=l;l[0]=(c-r)*a-(h-i)*o+r,l[1]=(c-r)*o+(h-i)*a+i}}}function sy(t,e){return t[0]===e[0]&&t[1]===e[1]}function oy(t,e,n,r=1){const i=n,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]==\"number\"?[t]:t,o=[0,0];if(i)for(const c of a)th(c,o,i);const l=(function(c,h,d){const g=[];for(const k of c){const A=[...k];sy(A[0],A[A.length-1])||A.push([A[0][0],A[0][1]]),A.length>2&&g.push(A)}const u=[];h=Math.max(h,.1);const b=[];for(const k of g)for(let A=0;A<k.length-1;A++){const M=k[A],z=k[A+1];if(M[1]!==z[1]){const Z=Math.min(M[1],z[1]);b.push({ymin:Z,ymax:Math.max(M[1],z[1]),x:Z===M[1]?M[0]:z[0],islope:(z[0]-M[0])/(z[1]-M[1])})}}if(b.sort(((k,A)=>k.ymin<A.ymin?-1:k.ymin>A.ymin?1:k.x<A.x?-1:k.x>A.x?1:k.ymax===A.ymax?0:(k.ymax-A.ymax)/Math.abs(k.ymax-A.ymax))),!b.length)return u;let m=[],v=b[0].ymin,y=0;for(;m.length||b.length;){if(b.length){let k=-1;for(let A=0;A<b.length&&!(b[A].ymin>v);A++)k=A;b.splice(0,k+1).forEach((A=>{m.push({s:v,edge:A})}))}if(m=m.filter((k=>!(k.edge.ymax<=v))),m.sort(((k,A)=>k.edge.x===A.edge.x?0:(k.edge.x-A.edge.x)/Math.abs(k.edge.x-A.edge.x))),(d!==1||y%h==0)&&m.length>1)for(let k=0;k<m.length;k+=2){const A=k+1;if(A>=m.length)break;const M=m[k].edge,z=m[A].edge;u.push([[Math.round(M.x),v],[Math.round(z.x),v]])}v+=d,m.forEach((k=>{k.edge.x=k.edge.x+d*k.edge.islope})),y++}return u})(a,s,r);if(i){for(const c of a)th(c,o,-i);(function(c,h,d){const g=[];c.forEach((u=>g.push(...u))),th(g,h,d)})(l,o,-i)}return l}function Oa(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),oy(t,i,r,s||1)}let ku=class{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=Oa(e,n);return{type:\"fillSketch\",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}};function gc(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}let ay=class extends ku{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=Oa(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,a=[],o=.5*r*Math.cos(s),l=.5*r*Math.sin(s);for(const[c,h]of i)gc([c,h])&&a.push([[c[0]-o,c[1]+l],[...h]],[[c[0]+o,c[1]-l],[...h]]);return{type:\"fillSketch\",ops:this.renderLines(a,n)}}};class ly extends ku{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}let cy=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=Oa(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=i/4;for(const o of e){const l=gc(o),c=l/i,h=Math.ceil(c)-1,d=l-h*i,g=(o[0][0]+o[1][0])/2-i/4,u=Math.min(o[0][1],o[1][1]);for(let b=0;b<h;b++){const m=u+d+b*i,v=g-a+2*Math.random()*a,y=m-a+2*Math.random()*a,k=this.helper.ellipse(v,y,s,s,n);r.push(...k.ops)}}return{type:\"fillSketch\",ops:r}}},hy=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=Oa(e,n);return{type:\"fillSketch\",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((a=>{const o=gc(a),l=Math.floor(o/(r+i)),c=(o+i-l*(r+i))/2;let h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);const g=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let u=0;u<l;u++){const b=u*(r+i),m=b+r,v=[h[0]+b*Math.cos(g)+c*Math.cos(g),h[1]+b*Math.sin(g)+c*Math.sin(g)],y=[h[0]+m*Math.cos(g)+c*Math.cos(g),h[1]+m*Math.sin(g)+c*Math.sin(g)];s.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n))}})),s}},uy=class{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=Oa(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:\"fillSketch\",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const a=gc(s),o=Math.round(a/(2*n));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<o;d++){const g=2*d*n,u=2*(d+1)*n,b=Math.sqrt(2*Math.pow(n,2)),m=[l[0]+g*Math.cos(h),l[1]+g*Math.sin(h)],v=[l[0]+u*Math.cos(h),l[1]+u*Math.sin(h)],y=[m[0]+b*Math.cos(h+Math.PI/4),m[1]+b*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],r))}})),i}};const Or={};let fy=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const dy=0,eh=1,Mf=2,cl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function nh(t,e){return t.type===e}function _u(t){const e=[],n=(function(a){const o=new Array;for(;a!==\"\";)if(a.match(/^([ \\t\\r\\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:dy,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:eh,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:Mf,text:\"\"},o})(t);let r=\"BOD\",i=0,s=n[i];for(;!nh(s,Mf);){let a=0;const o=[];if(r===\"BOD\"){if(s.text!==\"M\"&&s.text!==\"m\")return _u(\"M0,0\"+t);i++,a=cl[s.text],r=s.text}else nh(s,eh)?a=cl[r]:(i++,a=cl[s.text],r=s.text);if(!(i+a<n.length))throw new Error(\"Path data ended short\");for(let l=i;l<i+a;l++){const c=n[l];if(!nh(c,eh))throw new Error(\"Param not a number: \"+r+\",\"+c.text);o[o.length]=+c.text}if(typeof cl[r]!=\"number\")throw new Error(\"Bad segment: \"+r);{const l={key:r,data:o};e.push(l),i+=a,s=n[i],r===\"M\"&&(r=\"L\"),r===\"m\"&&(r=\"l\")}}return e}function R1(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case\"M\":s.push({key:\"M\",data:[...o]}),[e,n]=o,[r,i]=o;break;case\"m\":e+=o[0],n+=o[1],s.push({key:\"M\",data:[e,n]}),r=e,i=n;break;case\"L\":s.push({key:\"L\",data:[...o]}),[e,n]=o;break;case\"l\":e+=o[0],n+=o[1],s.push({key:\"L\",data:[e,n]});break;case\"C\":s.push({key:\"C\",data:[...o]}),e=o[4],n=o[5];break;case\"c\":{const l=o.map(((c,h)=>h%2?c+n:c+e));s.push({key:\"C\",data:l}),e=l[4],n=l[5];break}case\"Q\":s.push({key:\"Q\",data:[...o]}),e=o[2],n=o[3];break;case\"q\":{const l=o.map(((c,h)=>h%2?c+n:c+e));s.push({key:\"Q\",data:l}),e=l[2],n=l[3];break}case\"A\":s.push({key:\"A\",data:[...o]}),e=o[5],n=o[6];break;case\"a\":e+=o[5],n+=o[6],s.push({key:\"A\",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case\"H\":s.push({key:\"H\",data:[...o]}),e=o[0];break;case\"h\":e+=o[0],s.push({key:\"H\",data:[e]});break;case\"V\":s.push({key:\"V\",data:[...o]}),n=o[0];break;case\"v\":n+=o[0],s.push({key:\"V\",data:[n]});break;case\"S\":s.push({key:\"S\",data:[...o]}),e=o[2],n=o[3];break;case\"s\":{const l=o.map(((c,h)=>h%2?c+n:c+e));s.push({key:\"S\",data:l}),e=l[2],n=l[3];break}case\"T\":s.push({key:\"T\",data:[...o]}),e=o[0],n=o[1];break;case\"t\":e+=o[0],n+=o[1],s.push({key:\"T\",data:[e,n]});break;case\"Z\":case\"z\":s.push({key:\"Z\",data:[]}),e=r,n=i}return s}function E1(t){const e=[];let n=\"\",r=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:h}of t){switch(c){case\"M\":e.push({key:\"M\",data:[...h]}),[r,i]=h,[s,a]=h;break;case\"C\":e.push({key:\"C\",data:[...h]}),r=h[4],i=h[5],o=h[2],l=h[3];break;case\"L\":e.push({key:\"L\",data:[...h]}),[r,i]=h;break;case\"H\":r=h[0],e.push({key:\"L\",data:[r,i]});break;case\"V\":i=h[0],e.push({key:\"L\",data:[r,i]});break;case\"S\":{let d=0,g=0;n===\"C\"||n===\"S\"?(d=r+(r-o),g=i+(i-l)):(d=r,g=i),e.push({key:\"C\",data:[d,g,...h]}),o=h[0],l=h[1],r=h[2],i=h[3];break}case\"T\":{const[d,g]=h;let u=0,b=0;n===\"Q\"||n===\"T\"?(u=r+(r-o),b=i+(i-l)):(u=r,b=i);const m=r+2*(u-r)/3,v=i+2*(b-i)/3,y=d+2*(u-d)/3,k=g+2*(b-g)/3;e.push({key:\"C\",data:[m,v,y,k,d,g]}),o=u,l=b,r=d,i=g;break}case\"Q\":{const[d,g,u,b]=h,m=r+2*(d-r)/3,v=i+2*(g-i)/3,y=u+2*(d-u)/3,k=b+2*(g-b)/3;e.push({key:\"C\",data:[m,v,y,k,u,b]}),o=d,l=g,r=u,i=b;break}case\"A\":{const d=Math.abs(h[0]),g=Math.abs(h[1]),u=h[2],b=h[3],m=h[4],v=h[5],y=h[6];d===0||g===0?(e.push({key:\"C\",data:[r,i,v,y,v,y]}),r=v,i=y):(r!==v||i!==y)&&(T1(r,i,v,y,d,g,u,b,m).forEach((function(k){e.push({key:\"C\",data:k})})),r=v,i=y);break}case\"Z\":e.push({key:\"Z\",data:[]}),r=s,i=a}n=c}return e}function ra(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function T1(t,e,n,r,i,s,a,o,l,c){const h=(d=a,Math.PI*d/180);var d;let g=[],u=0,b=0,m=0,v=0;if(c)[u,b,m,v]=c;else{[t,e]=ra(t,e,-h),[n,r]=ra(n,r,-h);const D=(t-n)/2,_=(e-r)/2;let Q=D*D/(i*i)+_*_/(s*s);Q>1&&(Q=Math.sqrt(Q),i*=Q,s*=Q);const yt=i*i,ot=s*s,ft=yt*ot-yt*_*_-ot*D*D,ct=yt*_*_+ot*D*D,Tt=(o===l?-1:1)*Math.sqrt(Math.abs(ft/ct));m=Tt*i*_/s+(t+n)/2,v=Tt*-s*D/i+(e+r)/2,u=Math.asin(parseFloat(((e-v)/s).toFixed(9))),b=Math.asin(parseFloat(((r-v)/s).toFixed(9))),t<m&&(u=Math.PI-u),n<m&&(b=Math.PI-b),u<0&&(u=2*Math.PI+u),b<0&&(b=2*Math.PI+b),l&&u>b&&(u-=2*Math.PI),!l&&b>u&&(b-=2*Math.PI)}let y=b-u;if(Math.abs(y)>120*Math.PI/180){const D=b,_=n,Q=r;b=l&&b>u?u+120*Math.PI/180*1:u+120*Math.PI/180*-1,g=T1(n=m+i*Math.cos(b),r=v+s*Math.sin(b),_,Q,i,s,a,0,l,[b,D,m,v])}y=b-u;const k=Math.cos(u),A=Math.sin(u),M=Math.cos(b),z=Math.sin(b),Z=Math.tan(y/4),H=4/3*i*Z,F=4/3*s*Z,P=[t,e],G=[t+H*A,e-F*k],R=[n+H*z,r-F*M],C=[n,r];if(G[0]=2*P[0]-G[0],G[1]=2*P[1]-G[1],c)return[G,R,C].concat(g);{g=[G,R,C].concat(g);const D=[];for(let _=0;_<g.length;_+=3){const Q=ra(g[_][0],g[_][1],h),yt=ra(g[_+1][0],g[_+1][1],h),ot=ra(g[_+2][0],g[_+2][1],h);D.push([Q[0],Q[1],yt[0],yt[1],ot[0],ot[1]])}return D}}const py={randOffset:function(t,e){return Ue(t,e)},randOffsetWithRange:function(t,e,n){return Kl(t,e,n)},ellipse:function(t,e,n,r,i){const s=F1(n,r,i);return $h(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return bs(t,e,n,r,i,!0)}};function B1(t,e,n,r,i){return{type:\"path\",ops:bs(t,e,n,r,i)}}function Il(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...bs(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...bs(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:\"path\",ops:i}}return r===2?B1(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:\"path\",ops:[]}}function gy(t,e,n,r,i){return(function(s,a){return Il(s,!0,a)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function If(t,e){if(t.length){const n=typeof t[0][0]==\"number\"?[t]:t,r=hl(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:hl(n[0],1.5*(1+.22*e.roughness),Rf(e));for(let s=1;s<n.length;s++){const a=n[s];if(a.length){const o=hl(a,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:hl(a,1.5*(1+.22*e.roughness),Rf(e));for(const c of o)c.op!==\"move\"&&r.push(c);for(const c of l)c.op!==\"move\"&&i.push(c)}}return{type:\"path\",ops:r.concat(i)}}return{type:\"path\",ops:[]}}function F1(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const l=1-n.curveFitting;return a+=Ue(a*l,n),o+=Ue(o*l,n),{increment:s,rx:a,ry:o}}function $h(t,e,n,r){const[i,s]=Ef(r.increment,t,e,r.rx,r.ry,1,r.increment*Kl(.1,Kl(.4,1,n),n),n);let a=Jl(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=Ef(r.increment,t,e,r.rx,r.ry,1.5,0,n),l=Jl(o,null,n);a=a.concat(l)}return{estimatedPoints:s,opset:{type:\"path\",ops:a}}}function Of(t,e,n,r,i,s,a,o,l){const c=t,h=e;let d=Math.abs(n/2),g=Math.abs(r/2);d+=Ue(.01*d,l),g+=Ue(.01*g,l);let u=i,b=s;for(;u<0;)u+=2*Math.PI,b+=2*Math.PI;b-u>2*Math.PI&&(u=0,b=2*Math.PI);const m=2*Math.PI/l.curveStepCount,v=Math.min(m/2,(b-u)/2),y=Tf(v,c,h,d,g,u,b,1,l);if(!l.disableMultiStroke){const k=Tf(v,c,h,d,g,u,b,1.5,l);y.push(...k)}return a&&(o?y.push(...bs(c,h,c+d*Math.cos(u),h+g*Math.sin(u),l),...bs(c,h,c+d*Math.cos(b),h+g*Math.sin(b),l)):y.push({op:\"lineTo\",data:[c,h]},{op:\"lineTo\",data:[c+d*Math.cos(u),h+g*Math.sin(u)]})),{type:\"path\",ops:y}}function Pf(t,e){const n=E1(R1(_u(t))),r=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of n)switch(a){case\"M\":s=[o[0],o[1]],i=[o[0],o[1]];break;case\"L\":r.push(...bs(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case\"C\":{const[l,c,h,d,g,u]=o;r.push(...my(l,c,h,d,g,u,s,e)),s=[g,u];break}case\"Z\":r.push(...bs(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:\"path\",ops:r}}function rh(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:\"move\",data:[r[0][0]+Ue(i,e),r[0][1]+Ue(i,e)]});for(let a=1;a<s;a++)n.push({op:\"lineTo\",data:[r[a][0]+Ue(i,e),r[a][1]+Ue(i,e)]})}}return{type:\"fillPath\",ops:n}}function so(t,e){return(function(n,r){let i=n.fillStyle||\"hachure\";if(!Or[i])switch(i){case\"zigzag\":Or[i]||(Or[i]=new ay(r));break;case\"cross-hatch\":Or[i]||(Or[i]=new ly(r));break;case\"dots\":Or[i]||(Or[i]=new cy(r));break;case\"dashed\":Or[i]||(Or[i]=new hy(r));break;case\"zigzag-line\":Or[i]||(Or[i]=new uy(r));break;default:i=\"hachure\",Or[i]||(Or[i]=new ku(r))}return Or[i]})(e,py).fillPolygons(t,e)}function Rf(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function D1(t){return t.randomizer||(t.randomizer=new fy(t.seed||0)),t.randomizer.next()}function Kl(t,e,n,r=1){return n.roughness*r*(D1(n)*(e-t)+t)}function Ue(t,e,n=1){return Kl(-t,t,e,n)}function bs(t,e,n,r,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=qh(t,e,n,r,i,!0,!1);if(a)return o;const l=qh(t,e,n,r,i,!0,!0);return o.concat(l)}function qh(t,e,n,r,i,s,a){const o=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const d=h/2,g=.2+.2*D1(i);let u=i.bowing*i.maxRandomnessOffset*(r-e)/200,b=i.bowing*i.maxRandomnessOffset*(t-n)/200;u=Ue(u,i,c),b=Ue(b,i,c);const m=[],v=()=>Ue(d,i,c),y=()=>Ue(h,i,c),k=i.preserveVertices;return a?m.push({op:\"move\",data:[t+(k?0:v()),e+(k?0:v())]}):m.push({op:\"move\",data:[t+(k?0:Ue(h,i,c)),e+(k?0:Ue(h,i,c))]}),a?m.push({op:\"bcurveTo\",data:[u+t+(n-t)*g+v(),b+e+(r-e)*g+v(),u+t+2*(n-t)*g+v(),b+e+2*(r-e)*g+v(),n+(k?0:v()),r+(k?0:v())]}):m.push({op:\"bcurveTo\",data:[u+t+(n-t)*g+y(),b+e+(r-e)*g+y(),u+t+2*(n-t)*g+y(),b+e+2*(r-e)*g+y(),n+(k?0:y()),r+(k?0:y())]}),m}function hl(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Ue(e,n),t[0][1]+Ue(e,n)]),r.push([t[0][0]+Ue(e,n),t[0][1]+Ue(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Ue(e,n),t[i][1]+Ue(e,n)]),i===t.length-1&&r.push([t[i][0]+Ue(e,n),t[i][1]+Ue(e,n)]);return Jl(r,null,n)}function Jl(t,e,n){const r=t.length,i=[];if(r>3){const s=[],a=1-n.curveTightness;i.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const l=t[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*t[o+1][0]-a*t[o-1][0])/6,l[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:\"bcurveTo\",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:\"move\",data:[t[1][0],t[1][1]]}),i.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...qh(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function Ef(t,e,n,r,i,s,a,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const d=[e+r*Math.cos(h),n+i*Math.sin(h)];l.push(d),c.push(d)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const h=Ue(.5,o)-Math.PI/2;c.push([Ue(s,o)+e+.9*r*Math.cos(h-t),Ue(s,o)+n+.9*i*Math.sin(h-t)]);const d=2*Math.PI+h-.01;for(let g=h;g<d;g+=t){const u=[Ue(s,o)+e+r*Math.cos(g),Ue(s,o)+n+i*Math.sin(g)];l.push(u),c.push(u)}c.push([Ue(s,o)+e+r*Math.cos(h+2*Math.PI+.5*a),Ue(s,o)+n+i*Math.sin(h+2*Math.PI+.5*a)]),c.push([Ue(s,o)+e+.98*r*Math.cos(h+a),Ue(s,o)+n+.98*i*Math.sin(h+a)]),c.push([Ue(s,o)+e+.9*r*Math.cos(h+.5*a),Ue(s,o)+n+.9*i*Math.sin(h+.5*a)])}return[c,l]}function Tf(t,e,n,r,i,s,a,o,l){const c=s+Ue(.1,l),h=[];h.push([Ue(o,l)+e+.9*r*Math.cos(c-t),Ue(o,l)+n+.9*i*Math.sin(c-t)]);for(let d=c;d<=a;d+=t)h.push([Ue(o,l)+e+r*Math.cos(d),Ue(o,l)+n+i*Math.sin(d)]);return h.push([e+r*Math.cos(a),n+i*Math.sin(a)]),h.push([e+r*Math.cos(a),n+i*Math.sin(a)]),Jl(h,null,l)}function my(t,e,n,r,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const d=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let u=0;u<d;u++)u===0?l.push({op:\"move\",data:[a[0],a[1]]}):l.push({op:\"move\",data:[a[0]+(g?0:Ue(c[0],o)),a[1]+(g?0:Ue(c[0],o))]}),h=g?[i,s]:[i+Ue(c[u],o),s+Ue(c[u],o)],l.push({op:\"bcurveTo\",data:[t+Ue(c[u],o),e+Ue(c[u],o),n+Ue(c[u],o),r+Ue(c[u],o),h[0],h[1]]});return l}function ia(t){return[...t]}function Bf(t,e=0){const n=t.length;if(n<3)throw new Error(\"A curve must have at least three points.\");const r=[];if(n===3)r.push(ia(t[0]),ia(t[1]),ia(t[2]),ia(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;r.push(ia(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],r.push(s[1],s[2],s[3])}}return r}function Ol(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function yy(t,e,n){const r=Ol(e,n);if(r===0)return Ol(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Ol(t,Bs(e,n,i))}function Bs(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Wh(t,e,n,r){const i=r||[];if((function(o,l){const c=o[l+0],h=o[l+1],d=o[l+2],g=o[l+3];let u=3*h[0]-2*c[0]-g[0];u*=u;let b=3*h[1]-2*c[1]-g[1];b*=b;let m=3*d[0]-2*g[0]-c[0];m*=m;let v=3*d[1]-2*g[1]-c[1];return v*=v,u<m&&(u=m),b<v&&(b=v),u+b})(t,e)<n){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(Ol(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],h=t[e+2],d=t[e+3],g=Bs(l,c,.5),u=Bs(c,h,.5),b=Bs(h,d,.5),m=Bs(g,u,.5),v=Bs(u,b,.5),y=Bs(m,v,.5);Wh([l,g,m,y],0,n,i),Wh([y,v,b,d],0,n,i)}var s,a;return i}function by(t,e){return Ql(t,0,t.length,e)}function Ql(t,e,n,r,i){const s=i||[],a=t[e],o=t[n-1];let l=0,c=1;for(let h=e+1;h<n-1;++h){const d=yy(t[h],a,o);d>l&&(l=d,c=h)}return Math.sqrt(l)>r?(Ql(t,e,c+1,r,s),Ql(t,c,n,r,s)):(s.length||s.push(a),s.push(o)),s}function ih(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Wh(t,3*s,e,r);return n&&n>0?Ql(r,0,r.length,n):r}const Gr=\"none\";let tc=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:\"#000\",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const a=this._o(s);return this._d(\"line\",[B1(e,n,r,i,a)],a)}rectangle(e,n,r,i,s){const a=this._o(s),o=[],l=gy(e,n,r,i,a);if(a.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];a.fillStyle===\"solid\"?o.push(rh([c],a)):o.push(so([c],a))}return a.stroke!==Gr&&o.push(l),this._d(\"rectangle\",o,a)}ellipse(e,n,r,i,s){const a=this._o(s),o=[],l=F1(r,i,a),c=$h(e,n,a,l);if(a.fill)if(a.fillStyle===\"solid\"){const h=$h(e,n,a,l).opset;h.type=\"fillPath\",o.push(h)}else o.push(so([c.estimatedPoints],a));return a.stroke!==Gr&&o.push(c.opset),this._d(\"ellipse\",o,a)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape=\"circle\",s}linearPath(e,n){const r=this._o(n);return this._d(\"linearPath\",[Il(e,!1,r)],r)}arc(e,n,r,i,s,a,o=!1,l){const c=this._o(l),h=[],d=Of(e,n,r,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle===\"solid\"){const g=Object.assign({},c);g.disableMultiStroke=!0;const u=Of(e,n,r,i,s,a,!0,!1,g);u.type=\"fillPath\",h.push(u)}else h.push((function(g,u,b,m,v,y,k){const A=g,M=u;let z=Math.abs(b/2),Z=Math.abs(m/2);z+=Ue(.01*z,k),Z+=Ue(.01*Z,k);let H=v,F=y;for(;H<0;)H+=2*Math.PI,F+=2*Math.PI;F-H>2*Math.PI&&(H=0,F=2*Math.PI);const P=(F-H)/k.curveStepCount,G=[];for(let R=H;R<=F;R+=P)G.push([A+z*Math.cos(R),M+Z*Math.sin(R)]);return G.push([A+z*Math.cos(F),M+Z*Math.sin(F)]),G.push([A,M]),so([G],k)})(e,n,r,i,s,a,c));return c.stroke!==Gr&&h.push(d),this._d(\"arc\",h,c)}curve(e,n){const r=this._o(n),i=[],s=If(e,r);if(r.fill&&r.fill!==Gr)if(r.fillStyle===\"solid\"){const a=If(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:\"fillPath\",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const l=typeof o[0][0]==\"number\"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...ih(Bf([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):a.push(...ih(Bf(c),10,(1+r.roughness)/2))}a.length&&i.push(so([a],r))}return r.stroke!==Gr&&i.push(s),this._d(\"curve\",i,r)}polygon(e,n){const r=this._o(n),i=[],s=Il(e,!0,r);return r.fill&&(r.fillStyle===\"solid\"?i.push(rh([e],r)):i.push(so([e],r))),r.stroke!==Gr&&i.push(s),this._d(\"polygon\",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d(\"path\",i,r);e=(e||\"\").replace(/\\n/g,\" \").replace(/(-\\s)/g,\"-\").replace(\"/(ss)/g\",\" \");const s=r.fill&&r.fill!==\"transparent\"&&r.fill!==Gr,a=r.stroke!==Gr,o=!!(r.simplification&&r.simplification<1),l=(function(h,d,g){const u=E1(R1(_u(h))),b=[];let m=[],v=[0,0],y=[];const k=()=>{y.length>=4&&m.push(...ih(y,d)),y=[]},A=()=>{k(),m.length&&(b.push(m),m=[])};for(const{key:z,data:Z}of u)switch(z){case\"M\":A(),v=[Z[0],Z[1]],m.push(v);break;case\"L\":k(),m.push([Z[0],Z[1]]);break;case\"C\":if(!y.length){const H=m.length?m[m.length-1]:v;y.push([H[0],H[1]])}y.push([Z[0],Z[1]]),y.push([Z[2],Z[3]]),y.push([Z[4],Z[5]]);break;case\"Z\":k(),m.push([v[0],v[1]])}if(A(),!g)return b;const M=[];for(const z of b){const Z=by(z,g);Z.length&&M.push(Z)}return M})(e,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),c=Pf(e,r);if(s)if(r.fillStyle===\"solid\")if(l.length===1){const h=Pf(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:\"fillPath\",ops:this._mergedShape(h.ops)})}else i.push(rh(l,r));else i.push(so(l,r));return a&&(o?l.forEach((h=>{i.push(Il(h,!1,r))})):i.push(c)),this._d(\"path\",i,r)}opsToPath(e,n){let r=\"\";for(const i of e.ops){const s=typeof n==\"number\"&&n>=0?i.data.map((a=>+a.toFixed(n))):i.data;switch(i.op){case\"move\":r+=`M${s[0]} ${s[1]} `;break;case\"bcurveTo\":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case\"lineTo\":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let a=null;switch(s.type){case\"path\":a={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Gr};break;case\"fillPath\":a={d:this.opsToPath(s),stroke:Gr,strokeWidth:0,fill:r.fill||Gr};break;case\"fillSketch\":a=this.fillSketch(s,r)}a&&i.push(a)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Gr,strokeWidth:r,fill:Gr}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!==\"move\"))}},wy=class{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext(\"2d\"),this.gen=new tc(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case\"path\":i.save(),i.strokeStyle=r.stroke===\"none\"?\"transparent\":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case\"fillPath\":{i.save(),i.fillStyle=r.fill||\"\";const o=e.shape===\"curve\"||e.shape===\"polygon\"||e.shape===\"path\"?\"evenodd\":\"nonzero\";this._drawToContext(i,a,s,o),i.restore();break}case\"fillSketch\":this.fillSketch(i,a,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||\"\",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i=\"nonzero\"){e.beginPath();for(const s of n.ops){const a=typeof r==\"number\"&&r>=0?s.data.map((o=>+o.toFixed(r))):s.data;switch(s.op){case\"move\":e.moveTo(a[0],a[1]);break;case\"bcurveTo\":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case\"lineTo\":e.lineTo(a[0],a[1])}}n.type===\"fillPath\"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a),a}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a),a}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a),a}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,a,o=!1,l){const c=this.gen.arc(e,n,r,i,s,a,o,l);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}};const ul=\"http://www.w3.org/2000/svg\";let vy=class{constructor(e,n){this.svg=e,this.gen=new tc(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(ul,\"g\"),a=e.options.fixedDecimalPlaceDigits;for(const o of n){let l=null;switch(o.type){case\"path\":l=i.createElementNS(ul,\"path\"),l.setAttribute(\"d\",this.opsToPath(o,a)),l.setAttribute(\"stroke\",r.stroke),l.setAttribute(\"stroke-width\",r.strokeWidth+\"\"),l.setAttribute(\"fill\",\"none\"),r.strokeLineDash&&l.setAttribute(\"stroke-dasharray\",r.strokeLineDash.join(\" \").trim()),r.strokeLineDashOffset&&l.setAttribute(\"stroke-dashoffset\",`${r.strokeLineDashOffset}`);break;case\"fillPath\":l=i.createElementNS(ul,\"path\"),l.setAttribute(\"d\",this.opsToPath(o,a)),l.setAttribute(\"stroke\",\"none\"),l.setAttribute(\"stroke-width\",\"0\"),l.setAttribute(\"fill\",r.fill||\"\"),e.shape!==\"curve\"&&e.shape!==\"polygon\"||l.setAttribute(\"fill-rule\",\"evenodd\");break;case\"fillSketch\":l=this.fillSketch(i,o,r)}l&&s.appendChild(l)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(ul,\"path\");return s.setAttribute(\"d\",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute(\"stroke\",r.fill||\"\"),s.setAttribute(\"stroke-width\",i+\"\"),s.setAttribute(\"fill\",\"none\"),r.fillLineDash&&s.setAttribute(\"stroke-dasharray\",r.fillLineDash.join(\" \").trim()),r.fillLineDashOffset&&s.setAttribute(\"stroke-dashoffset\",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a)}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a)}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,a,o=!1,l){const c=this.gen.arc(e,n,r,i,s,a,o,l);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}};var ec={canvas:(t,e)=>new wy(t,e),svg:(t,e)=>new vy(t,e),generator:t=>new tc(t),newSeed:()=>tc.newSeed()};const co=(t,e,n)=>{if((t.type===\"line\"||t.type===\"arrow\")&&t.endBinding){const s=t.endBinding.elementId,a=n?n.get(s):e.find(o=>o.id===s);if(a&&co(a,e,n))return!0}if(!t.parentId)return!1;let r=t.parentId;const i=new Set;for(;r&&!i.has(r);){i.add(r);const s=r,a=n?n.get(s):e.find(o=>o.id===s);if(!a)break;if(a.isCollapsed)return!0;r=a.parentId||null}return!1},sh=(t,e)=>{const n=[],r=[t],i=new Set;for(;r.length>0;){const s=r.shift();if(i.has(s))continue;i.add(s);const a=e.filter(o=>o.parentId===s);n.push(...a),r.push(...a.map(o=>o.id))}return n};class xy{renderers=new Map;register(e,n){this.renderers.set(e,n)}getRenderer(e){return this.renderers.get(e)}}const ky=new xy,Rr=t=>{if(!t||t.length===0)return[];if(typeof t[0]==\"number\"){const e=[];for(let n=0;n<t.length-1;n+=2)e.push({x:t[n],y:t[n+1]});return e}return t},nc=(t,e,n,r=!1,i=1)=>{const s=ky.getRenderer(n.type);if(s){s.render({rc:t,ctx:e,element:n,isDarkMode:r,layerOpacity:i});return}console.warn(`No renderer registered for element type: ${n.type}`)},_y=(t,e)=>{let n=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const s=e[r].x,a=e[r].y,o=e[i].x,l=e[i].y;a>t.y!=l>t.y&&t.x<(o-s)*(t.y-a)/(l-a)+s&&(n=!n)}return n},Xh=(t,e,n)=>{const r=t.x,i=t.y,s=e.x,a=e.y,o=n.x,l=n.y,c=r-s,h=i-a,d=o-s,g=l-a,u=c*d+h*g,b=d*d+g*g;let m=-1;b!==0&&(m=u/b);let v,y;m<0?(v=s,y=a):m>1?(v=o,y=l):(v=s+m*d,y=a+m*g);const k=r-v,A=i-y;return Math.sqrt(k*k+A*A)},rc=(t,e,n,r,i)=>{const s=1-i;return s*s*s*t+3*s*s*i*e+3*s*i*i*n+i*i*i*r},Sy=(t,e,n,r,i)=>{const s=3*(1-i)*(1-i)*(e.x-t.x)+6*(1-i)*i*(n.x-e.x)+3*i*i*(r.x-n.x),a=3*(1-i)*(1-i)*(e.y-t.y)+6*(1-i)*i*(n.y-e.y)+3*i*i*(r.y-n.y);return Math.atan2(a,s)},Ff=(t,e,n,r,i)=>{const a=Math.max(i*8,4),o=Math.max(i*2,2),l=[],c=[];for(let h=0;h<=20;h++){const d=h/20,g=rc(t.x,n.x,r.x,e.x,d),u=rc(t.y,n.y,r.y,e.y,d),b=Sy(t,n,r,e,d),v=(a+(o-a)*d)/2,y=Math.cos(b+Math.PI/2)*v,k=Math.sin(b+Math.PI/2)*v;l.push({x:g+y,y:u+k}),c.push({x:g-y,y:u-k})}return[...l,...c.reverse()]},Ay=(t,e,n,r,i=20)=>{const s=[];for(let a=0;a<=i;a++){const o=a/i;s.push({x:rc(t.x,e.x,n.x,r.x,o),y:rc(t.y,e.y,n.y,r.y,o)})}return s},fl=(t,e,n,r,i,s)=>{const a=Ay(e,n,r,i,20);return Pl(t,a,s)},Pl=(t,e,n)=>{if(e.length<2)return!1;for(let r=0;r<e.length-1;r++)if(Xh(t,e[r],e[r+1])<=n)return!0;return!1},Ly=(t,e,n,r,i,s=0)=>{const a=Math.abs(r/2)+s,o=Math.abs(i/2)+s,l=e+r/2,c=n+i/2;return a<=0||o<=0?!1:Math.pow(t.x-l,2)/Math.pow(a,2)+Math.pow(t.y-c,2)/Math.pow(o,2)<=1},Er=(t,e,n,r,i)=>{const s=Math.cos(i),a=Math.sin(i);return{x:s*(t-n)-a*(e-r)+n,y:a*(t-n)+s*(e-r)+r}},oh=(t,e,n=0)=>{const r=t.x+t.width/2,i=t.y+t.height/2;if(t.type===\"rectangle\"||t.type===\"image\"||t.type===\"text\"){let s={x:e.x,y:e.y};t.angle&&(s=Er(e.x,e.y,r,i,-t.angle));const a=t.width,o=t.height,l=r-a/2-n,c=r+a/2+n,h=i-o/2-n,d=i+o/2+n,g=s.x-r,u=s.y-i;if(g===0&&u===0)return{x:r,y:i};let b=1/0;if(g!==0){const y=(l-r)/g;y>0&&(b=Math.min(b,y));const k=(c-r)/g;k>0&&(b=Math.min(b,k))}if(u!==0){const y=(h-i)/u;y>0&&(b=Math.min(b,y));const k=(d-i)/u;k>0&&(b=Math.min(b,k))}if(b===1/0)return null;const m=r+g*b,v=i+u*b;return t.angle?Er(m,v,r,i,t.angle):{x:m,y:v}}else if(t.type===\"circle\"){const s=t.width/2+n,a=t.height/2+n;let o={x:e.x,y:e.y};t.angle&&(o=Er(e.x,e.y,r,i,-t.angle));const l=o.x-r,c=o.y-i;if(l===0&&c===0)return null;const h=l*l/(s*s)+c*c/(a*a),d=1/Math.sqrt(h),g=r+l*d,u=i+c*d;return t.angle?Er(g,u,r,i,t.angle):{x:g,y:u}}else if(t.type===\"diamond\"){let s={x:e.x,y:e.y};t.angle&&(s=Er(e.x,e.y,r,i,-t.angle));const a=t.width/2+n,o=t.height/2+n,l=s.x-r,c=s.y-i;if(l===0&&c===0)return{x:r,y:i};const h=Math.atan2(c,l),d=Math.abs(Math.tan(h)),g=1/(1/a+d/o),u=r+(l>0?1:-1)*g,b=i+(l>0?1:-1)*g*Math.tan(h);return t.angle?Er(u,b,r,i,t.angle):{x:u,y:b}}else if(t.type===\"triangle\"||t.type===\"hexagon\"||t.type===\"octagon\"||t.type===\"parallelogram\"||t.type===\"star\"||t.type===\"cloud\"||t.type===\"heart\"||t.type===\"arrowLeft\"||t.type===\"arrowRight\"||t.type===\"arrowUp\"||t.type===\"arrowDown\"||t.type===\"capsule\"||t.type===\"stickyNote\"||t.type===\"callout\"||t.type===\"burst\"||t.type===\"speechBubble\"||t.type===\"ribbon\"||t.type===\"bracketLeft\"||t.type===\"bracketRight\"||t.type===\"database\"||t.type===\"document\"||t.type===\"predefinedProcess\"||t.type===\"internalStorage\"||t.type===\"server\"||t.type===\"loadBalancer\"||t.type===\"firewall\"||t.type===\"user\"||t.type===\"messageQueue\"||t.type===\"lambda\"||t.type===\"router\"||t.type===\"browser\"||t.type===\"trapezoid\"||t.type===\"rightTriangle\"||t.type===\"pentagon\"||t.type===\"septagon\"||t.type===\"starPerson\"||t.type===\"scroll\"||t.type===\"wavyDivider\"||t.type===\"doubleBanner\"||t.type===\"lightbulb\"||t.type===\"signpost\"||t.type===\"burstBlob\"||t.type===\"browserWindow\"||t.type===\"mobilePhone\"||t.type===\"ghostButton\"||t.type===\"inputField\"||t.type===\"fineliner\"||t.type===\"inkbrush\"||t.type===\"marker\"){let s={x:e.x,y:e.y};t.angle&&(s=Er(e.x,e.y,r,i,-t.angle));const a=t.width,o=t.height,l=r-a/2-n,c=r+a/2+n,h=i-o/2-n,d=i+o/2+n,g=s.x-r,u=s.y-i;if(g===0&&u===0)return{x:r,y:i};let b=1/0;if(g!==0){const y=(l-r)/g;y>0&&(b=Math.min(b,y));const k=(c-r)/g;k>0&&(b=Math.min(b,k))}if(u!==0){const y=(h-i)/u;y>0&&(b=Math.min(b,y));const k=(d-i)/u;k>0&&(b=Math.min(b,k))}if(b===1/0)return null;const m=r+g*b,v=i+u*b;return t.angle?Er(m,v,r,i,t.angle):{x:m,y:v}}return null};function Rl(t){const e=t.x+t.width/2,n=t.y+t.height/2,r=t.width,i=t.height;let s=[];if(t.type===\"rectangle\"||t.type===\"image\"||t.type===\"text\"){const a=[{x:e-r/2,y:n-i/2,position:\"top-left\"},{x:e+r/2,y:n-i/2,position:\"top-right\"},{x:e-r/2,y:n+i/2,position:\"bottom-left\"},{x:e+r/2,y:n+i/2,position:\"bottom-right\"},{x:e,y:n-i/2,position:\"top\"},{x:e+r/2,y:n,position:\"right\"},{x:e,y:n+i/2,position:\"bottom\"},{x:e-r/2,y:n,position:\"left\"}];t.angle?s=a.map(o=>({...Er(o.x,o.y,e,n,t.angle),position:o.position})):s=a}else if(t.type===\"circle\"){const a=r/2,o=i/2,l=[{x:e,y:n-o,position:\"top\"},{x:e+a,y:n,position:\"right\"},{x:e,y:n+o,position:\"bottom\"},{x:e-a,y:n,position:\"left\"}];t.angle?s=l.map(c=>({...Er(c.x,c.y,e,n,t.angle),position:c.position})):s=l}else if(t.type===\"diamond\"){const a=[{x:e,y:n-i/2,position:\"top\"},{x:e+r/2,y:n,position:\"right\"},{x:e,y:n+i/2,position:\"bottom\"},{x:e-r/2,y:n,position:\"left\"}];t.angle?s=a.map(o=>({...Er(o.x,o.y,e,n,t.angle),position:o.position})):s=a}else if(t.type===\"triangle\"||t.type===\"hexagon\"||t.type===\"octagon\"||t.type===\"parallelogram\"||t.type===\"star\"){const a=[{x:e,y:n-i/2,position:\"top\"},{x:e+r/2,y:n,position:\"right\"},{x:e,y:n+i/2,position:\"bottom\"},{x:e-r/2,y:n,position:\"left\"}];t.angle?s=a.map(o=>({...Er(o.x,o.y,e,n,t.angle),position:o.position})):s=a}else if(t.type===\"cloud\"||t.type===\"heart\"||t.type===\"checkmark\"||t.type===\"cross\"||t.type===\"arrowLeft\"||t.type===\"arrowRight\"||t.type===\"arrowUp\"||t.type===\"arrowDown\"||t.type===\"capsule\"||t.type===\"stickyNote\"||t.type===\"callout\"||t.type===\"burst\"||t.type===\"speechBubble\"||t.type===\"ribbon\"||t.type===\"server\"||t.type===\"loadBalancer\"||t.type===\"firewall\"||t.type===\"user\"||t.type===\"messageQueue\"||t.type===\"lambda\"||t.type===\"router\"||t.type===\"browser\"||t.type===\"trapezoid\"||t.type===\"rightTriangle\"||t.type===\"pentagon\"||t.type===\"septagon\"||t.type===\"starPerson\"||t.type===\"scroll\"||t.type===\"wavyDivider\"||t.type===\"doubleBanner\"||t.type===\"lightbulb\"||t.type===\"signpost\"||t.type===\"burstBlob\"||t.type===\"browserWindow\"||t.type===\"mobilePhone\"||t.type===\"ghostButton\"||t.type===\"inputField\"||t.type===\"bracketLeft\"||t.type===\"bracketRight\"||t.type===\"database\"||t.type===\"document\"||t.type===\"predefinedProcess\"||t.type===\"internalStorage\"){const a=[{x:e,y:n-i/2,position:\"top\"},{x:e+r/2,y:n,position:\"right\"},{x:e,y:n+i/2,position:\"bottom\"},{x:e-r/2,y:n,position:\"left\"}];t.angle?s=a.map(o=>({...Er(o.x,o.y,e,n,t.angle),position:o.position})):s=a}else{const a=[{x:e,y:n-i/2,position:\"top\"},{x:e+r/2,y:n,position:\"right\"},{x:e,y:n+i/2,position:\"bottom\"},{x:e-r/2,y:n,position:\"left\"}];t.angle?s=a.map(o=>({...Er(o.x,o.y,e,n,t.angle),position:o.position})):s=a}return s}function Cy(t,e,n=15){const r=Rl(t);let i=null,s=n;for(const a of r){const o=a.x-e.x,l=a.y-e.y,c=Math.sqrt(o*o+l*l);c<s&&(s=c,i=a)}return i}const ah=(t,e,n,r)=>{const i=[{x:t.x,y:t.y}],s=20;if(!n&&!r){const d=(t.x+e.x)/2;return i.push({x:d,y:t.y}),i.push({x:d,y:e.y}),i.push({x:e.x,y:e.y}),Gh(i)}const a=(d,g)=>g===\"top\"?{x:d.x,y:d.y-s}:g===\"bottom\"?{x:d.x,y:d.y+s}:g===\"left\"?{x:d.x-s,y:d.y}:g===\"right\"?{x:d.x+s,y:d.y}:d;let o=t;n&&(o=a(t,n),i.push(o));let l=e;r&&(l=a(e,r));const c=d=>d===\"top\"||d===\"bottom\",h=d=>d===\"left\"||d===\"right\";return c(r)?i.push({x:l.x,y:o.y}):h(r)?i.push({x:o.x,y:l.y}):c(n)?i.push({x:e.x,y:o.y}):h(n)?i.push({x:o.x,y:e.y}):Math.abs(e.y-t.y)>Math.abs(e.x-t.x)?i.push({x:o.x,y:e.y}):i.push({x:e.x,y:o.y}),r&&i.push(l),i.push({x:e.x,y:e.y}),Gh(i)},Gh=t=>{if(t.length<2)return t;const e=[t[0]];for(let n=1;n<t.length;n++){const r=e[e.length-1],i=t[n];if(!(Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1)){if(e.length>=2){const s=e[e.length-2];if(Math.abs(s.x-r.x)<.1&&Math.abs(r.x-i.x)<.1||Math.abs(s.y-r.y)<.1&&Math.abs(r.y-i.y)<.1){e[e.length-1]=i;continue}}e.push(i)}}return e},Ny=(t,e,n,r,i,s,a)=>{const c=n.filter(F=>{if(F.type===\"line\"||F.type===\"arrow\"||F.type===\"text\")return!1;const P=Math.min(t.x,e.x)-100,G=Math.max(t.x,e.x)+100,R=Math.min(t.y,e.y)-100,C=Math.max(t.y,e.y)+100;return!(F.x>G||F.x+F.width<P||F.y>C||F.y+F.height<R)});if(c.length===0)return ah(t,e,s,a);const h=new Set([t.x,e.x]),d=new Set([t.y,e.y]);c.forEach(F=>{const P=F.x-15,G=F.x+F.width+15,R=F.y-15,C=F.y+F.height+15;h.add(P),h.add(G),d.add(R),d.add(C),h.add(F.x+F.width/2),d.add(F.y+F.height/2)});const g=(F,P)=>{P&&(P===\"top\"&&(h.add(F.x),d.add(F.y-20)),P===\"bottom\"&&(h.add(F.x),d.add(F.y+20)),P===\"left\"&&(h.add(F.x-20),d.add(F.y)),P===\"right\"&&(h.add(F.x+20),d.add(F.y)))};g(t,s),g(e,a);const u=Array.from(h).sort((F,P)=>F-P),b=Array.from(d).sort((F,P)=>F-P),m=u.findIndex(F=>Math.abs(F-t.x)<.1),v=b.findIndex(F=>Math.abs(F-t.y)<.1),y=u.findIndex(F=>Math.abs(F-e.x)<.1),k=b.findIndex(F=>Math.abs(F-e.y)<.1);if(m===-1||v===-1||y===-1||k===-1)return ah(t,e,s,a);const A=[{gx:m,gy:v,g:0,h:Math.abs(t.x-e.x)+Math.abs(t.y-e.y),parent:null,dir:null}],M=new Set,z=(F,P,G)=>c.some(R=>R.id===G?!1:F>R.x+1&&F<R.x+R.width-1&&P>R.y+1&&P<R.y+R.height-1),Z=(F,P,G,R)=>{const C=(F+G)/2,D=(P+R)/2;return c.some(_=>{const yt=_.id===r?.id||_.id===i?.id?3:1;return C>_.x+yt&&C<_.x+_.width-yt&&D>_.y+yt&&D<_.y+_.height-yt})};let H=0;for(;A.length>0&&H<800;){H++,A.sort((G,R)=>G.g+G.h-(R.g+R.h));const F=A.shift();if(F.gx===y&&F.gy===k){const G=[];let R=F;for(;R;)G.push({x:u[R.gx],y:b[R.gy]}),R=R.parent;return Gh(G.reverse())}M.add(`${F.gx},${F.gy}`);const P=[{dx:-1,dy:0,dir:\"h\",name:\"left\"},{dx:1,dy:0,dir:\"h\",name:\"right\"},{dx:0,dy:-1,dir:\"v\",name:\"top\"},{dx:0,dy:1,dir:\"v\",name:\"bottom\"}];for(const G of P){const R=F.gx+G.dx,C=F.gy+G.dy;if(R<0||R>=u.length||C<0||C>=b.length||M.has(`${R},${C}`))continue;const D=X=>[\"top\",\"bottom\",\"left\",\"right\"].includes(X||\"\");if(F.gx===m&&F.gy===v&&D(s)&&G.name!==s)continue;if(R===y&&C===k&&D(a)){const X={top:\"bottom\",bottom:\"top\",left:\"right\",right:\"left\"}[a];if(G.name!==X)continue}const _=u[F.gx],Q=b[F.gy],yt=u[R],ot=b[C];if(Z(_,Q,yt,ot))continue;const ft=Math.abs(yt-_)+Math.abs(ot-Q),ct=F.dir&&F.dir!==G.dir?100:0,Tt=z(yt,ot)?500:0,at=F.g+ft+ct+Tt,I=A.find(X=>X.gx===R&&X.gy===C);I?at<I.g&&(I.g=at,I.parent=F,I.dir=G.dir):A.push({gx:R,gy:C,g:at,h:Math.abs(yt-e.x)+Math.abs(ot-e.y),parent:F,dir:G.dir})}}return ah(t,e,s,a)};var My=qn(\"<div class=context-menu>\"),Iy=qn(\"<span class=menu-item-icon style=font-size:20px;line-height:1>\"),Oy=qn(\"<span class=menu-item-shortcut>\"),Py=qn(\"<span class=menu-item-arrow>\"),Ry=qn(\"<button><span class=menu-item-check>\"),Ey=qn(\"<div class=menu-item-wrapper style=position:relative>\"),Ty=qn(\"<div class=context-menu-separator>\"),By=qn(\"<span class=menu-item-label>\");const z1=t=>{let e;const[n,r]=En({x:t.x,y:t.y}),[i,s]=En(null);Lo(()=>{if(!t.parent){if(e){const h=e.getBoundingClientRect(),d=window.innerWidth,g=window.innerHeight;let u=t.x,b=t.y;t.x+h.width>d&&(u=d-h.width-10),t.y+h.height>g&&(b=g-h.height-10),r({x:u,y:b})}const l=h=>{h.target.closest(\".context-menu\")||t.onClose()},c=h=>{h.key===\"Escape\"&&t.onClose()};document.addEventListener(\"mousedown\",l),document.addEventListener(\"keydown\",c),qs(()=>{document.removeEventListener(\"mousedown\",l),document.removeEventListener(\"keydown\",c)})}});const a=(l,c)=>{l.disabled||l.separator||(l.submenu?s(i()===c?null:c):(l.onClick?.(),t.onClose()))},o=l=>{t.items[l].submenu?s(l):s(null)};return(()=>{var l=My(),c=e;return typeof c==\"function\"?So(c,l):e=l,gn(l,Pe(du,{get each(){return t.items},children:(h,d)=>(()=>{var g=Ey();return g.addEventListener(\"mouseenter\",()=>o(d())),gn(g,Pe(tr,{get when(){return!h.separator},get fallback(){return Ty()},get children(){return[(()=>{var u=Ry(),b=u.firstChild;return u.$$click=()=>a(h,d()),gn(b,()=>h.checked?\"\":\"\"),gn(u,Pe(tr,{get when(){return h.icon},get fallback(){return(()=>{var m=By();return gn(m,()=>h.label),m})()},get children(){var m=Iy();return gn(m,()=>h.icon),m}}),null),gn(u,Pe(tr,{get when(){return h.shortcut},get children(){var m=Oy();return gn(m,()=>h.shortcut),m}}),null),gn(u,Pe(tr,{get when(){return h.submenu},get children(){return Py()}}),null),xr(m=>{var v=`context-menu-item ${h.disabled?\"disabled\":\"\"} ${i()===d()?\"active\":\"\"}`,y=h.disabled,k=h.tooltip||h.label;return v!==m.e&&pu(u,m.e=v),y!==m.t&&(u.disabled=m.t=y),k!==m.a&&js(u,\"title\",m.a=k),m},{e:void 0,t:void 0,a:void 0}),u})(),Pe(tr,{get when(){return ma(()=>!!h.submenu)()&&i()===d()},get children(){return Pe(z1,{get x(){const u=e?.querySelector(`.menu-item-wrapper:nth-child(${d()+1}) button`)?.getBoundingClientRect();return u?u.right:0},get y(){const u=e?.querySelector(`.menu-item-wrapper:nth-child(${d()+1}) button`)?.getBoundingClientRect();return u?u.top:0},get items(){return h.submenu},get onClose(){return t.onClose},parent:!1,get gridColumns(){return h.gridColumns}})}})]}})),g})()})),xr(h=>{var d=t.parent?\"100%\":`${n().x}px`,g=t.parent?\"0\":`${n().y}px`,u=t.parent?\"absolute\":\"fixed\",b=t.parent?\"-4px\":\"0\",m=t.gridColumns?\"grid\":\"block\",v=t.gridColumns?`repeat(${t.gridColumns}, 1fr)`:void 0,y=t.gridColumns?\"4px\":void 0,k=t.gridColumns?\"8px\":void 0;return d!==h.e&&Ln(l,\"left\",h.e=d),g!==h.t&&Ln(l,\"top\",h.t=g),u!==h.a&&Ln(l,\"position\",h.a=u),b!==h.o&&Ln(l,\"margin-left\",h.o=b),m!==h.i&&Ln(l,\"display\",h.i=m),v!==h.n&&Ln(l,\"grid-template-columns\",h.n=v),y!==h.s&&Ln(l,\"gap\",h.s=y),k!==h.h&&Ln(l,\"padding\",h.h=k),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),l})()};Gs([\"click\"]);const Df=(t,e)=>Math.round(t/e)*e,lh=(t,e,n)=>({x:Df(t,n),y:Df(e,n)}),ch=new Map,dl=new Set;let Hh=null;const Fy=t=>{Hh=t},Dy=t=>{if(ch.has(t))return ch.get(t);if(!dl.has(t)){dl.add(t);const e=new Image;e.src=t,e.onload=()=>{ch.set(t,e),dl.delete(t),Hh&&Hh()},e.onerror=()=>{dl.delete(t)}}return null},zy=(t,e,n,r,i)=>{const s=e.filter(M=>t.includes(M.id));if(s.length===0)return{dx:n,dy:r,guides:[]};const a=Math.min(...s.map(M=>M.x))+n,o=Math.max(...s.map(M=>M.x+M.width))+n,l=Math.min(...s.map(M=>M.y))+r,c=Math.max(...s.map(M=>M.y+M.height))+r,h=(a+o)/2,d=(l+c)/2,g=[a,h,o],u=[l,d,c],b=[];let m=0,v=0,y=i+1,k=i+1;const A=e.filter(M=>!t.includes(M.id)&&M.layerId===s[0].layerId);for(const M of A){const z=M.x,Z=M.x+M.width,H=(z+Z)/2,F=[z,H,Z],P=M.y,G=M.y+M.height,R=(P+G)/2,C=[P,R,G];for(const D of g)for(const _ of F){const Q=Math.abs(D-_);Q<y&&(y=Q,m=_-D)}for(const D of u)for(const _ of C){const Q=Math.abs(D-_);Q<k&&(k=Q,v=_-D)}}if(y<=i)for(const M of A){const z=M.x,Z=M.x+M.width,H=(z+Z)/2,F=[z,H,Z];for(const P of g)for(const G of F)Math.abs(P+m-G)<.1&&b.push({type:\"vertical\",coordinate:G,elementIds:[M.id]})}if(k<=i)for(const M of A){const z=M.y,Z=M.y+M.height,H=(z+Z)/2,F=[z,H,Z];for(const P of u)for(const G of F)Math.abs(P+v-G)<.1&&b.push({type:\"horizontal\",coordinate:G,elementIds:[M.id]})}return{dx:n+(y<=i?m:0),dy:r+(k<=i?v:0),guides:b}},jy=(t,e,n,r,i)=>{const s=e.filter(k=>t.includes(k.id));if(s.length===0)return{dx:n,dy:r,guides:[]};let a={minX:Math.min(...s.map(k=>k.x))+n,maxX:Math.max(...s.map(k=>k.x+k.width))+n,minY:Math.min(...s.map(k=>k.y))+r,maxY:Math.max(...s.map(k=>k.y+k.height))+r,centerX:0,centerY:0};a.centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2;const o=e.filter(k=>!t.includes(k.id)&&k.layerId===s[0].layerId).map(k=>({...k,minX:k.x,maxX:k.x+k.width,minY:k.y,maxY:k.y+k.height,centerX:k.x+k.width/2,centerY:k.y+k.height/2}));if(o.length<2)return{dx:n,dy:r,guides:[]};let l=0,c=0,h=i+1,d=i+1;const g=[],u=(k,A)=>Math.max(0,Math.min(k.maxY,A.maxY)-Math.max(k.minY,A.minY))>0;for(let k=0;k<o.length;k++){const A=o[k];if(u(a,A))for(let M=k+1;M<o.length;M++){const z=o[M];if(!u(a,z)||!u(A,z))continue;const Z=[{id:\"active\",...a},A,z];Z.sort((D,_)=>D.minX-_.minX);const[H,F,P]=Z,G=F.minX-H.maxX,R=P.minX-F.maxX;let C=0;H.id===\"active\"?C=F.minX-R-H.maxX:F.id===\"active\"?C=(H.maxX+P.minX)/2-F.centerX:P.id===\"active\"&&(C=F.maxX+G-P.minX),Math.abs(C)<h&&(h=Math.abs(C),l=C),g.push({type:\"gap\",orientation:\"horizontal\",gap:(G+R)/2,start:H.maxX,variableCoordinate:(H.centerY+F.centerY+P.centerY)/3,elements:[H.id,F.id,P.id],segments:[{from:H.maxX,to:F.minX},{from:F.maxX,to:P.minX}],_correction:C})}}const b=(k,A)=>Math.max(0,Math.min(k.maxX,A.maxX)-Math.max(k.minX,A.minX))>0;for(let k=0;k<o.length;k++){const A=o[k];if(b(a,A))for(let M=k+1;M<o.length;M++){const z=o[M];if(!b(a,z)||!b(A,z))continue;const Z=[{id:\"active\",...a},A,z];Z.sort((D,_)=>D.minY-_.minY);const[H,F,P]=Z,G=F.minY-H.maxY,R=P.minY-F.maxY;let C=0;H.id===\"active\"?C=F.minY-R-H.maxY:F.id===\"active\"?C=(H.maxY+P.minY)/2-F.centerY:P.id===\"active\"&&(C=F.maxY+G-P.minY),Math.abs(C)<d&&(d=Math.abs(C),c=C),g.push({type:\"gap\",orientation:\"vertical\",gap:(G+R)/2,start:H.maxY,variableCoordinate:(H.centerX+F.centerX+P.centerX)/3,elements:[H.id,F.id,P.id],segments:[{from:H.maxY,to:F.minY},{from:F.maxY,to:P.minY}],_correction:C})}}const m=h<=i?l:0,v=d<=i?c:0,y=g.filter(k=>k.orientation===\"horizontal\"?m!==0&&Math.abs(k._correction-m)<.1:v!==0&&Math.abs(k._correction-v)<.1);return y.forEach(k=>delete k._correction),{dx:n+m,dy:r+v,guides:y}};var Uy=qn('<div class=minimap-container><div class=minimap-header><span class=minimap-title>Navigator</span><button class=minimap-close title=\"Close minimap (Alt+M)\"></button></div><canvas width=200 height=150 class=minimap-canvas>');const $y=t=>{let e,n,r=!1;const i=200,s=150,a=10,o=()=>{if(L.elements.length===0)return{minX:0,minY:0,maxX:1e3,maxY:800,width:1e3,height:800};let b=1/0,m=1/0,v=-1/0,y=-1/0;L.elements.forEach(A=>{b=Math.min(b,A.x),v=Math.max(v,A.x+A.width),m=Math.min(m,A.y),y=Math.max(y,A.y+A.height)});const k=50;return b-=k,m-=k,v+=k,y+=k,{minX:b,minY:m,maxX:v,maxY:y,width:v-b,height:y-m}},l=b=>{const m=(i-a*2)/b.width,v=(s-a*2)/b.height;return Math.min(m,v)},c=b=>{if(!e)return;const m=e.getContext(\"2d\");if(!m)return;const v=o(),y=l(v);m.clearRect(0,0,i,s);const k=L.theme===\"dark\";let A=L.canvasBackgroundColor;A||(A=k?\"#121212\":\"#fafafa\"),m.fillStyle=A,m.fillRect(0,0,i,s),m.save(),m.translate(a,a),m.scale(y,y),m.translate(-v.minX,-v.minY),L.elements.forEach(C=>{const D=L.layers.find(_=>_.id===C.layerId);D?.visible&&nc(b,m,C,L.theme===\"dark\",D?.opacity??1)}),m.restore();const M=-L.viewState.panX/L.viewState.scale,z=-L.viewState.panY/L.viewState.scale,Z=t.canvasWidth/L.viewState.scale,H=t.canvasHeight/L.viewState.scale,F=(M-v.minX)*y+a,P=(z-v.minY)*y+a,G=Z*y,R=H*y;m.save(),m.strokeStyle=L.theme===\"dark\"?\"#60a5fa\":\"#3b82f6\",m.lineWidth=2,m.fillStyle=L.theme===\"dark\"?\"rgba(96, 165, 250, 0.1)\":\"rgba(59, 130, 246, 0.1)\",m.fillRect(F,P,G,R),m.strokeRect(F,P,G,R),m.restore()},h=b=>{if(r)return;const m=e?.getBoundingClientRect();if(!m)return;const v=b.clientX-m.left,y=b.clientY-m.top,k=o(),A=l(k),M=(v-a)/A+k.minX,z=(y-a)/A+k.minY;Nr({panX:-M*L.viewState.scale+t.canvasWidth/2,panY:-z*L.viewState.scale+t.canvasHeight/2})},d=b=>{if(!e)return;const m=e.getBoundingClientRect(),v=b.clientX-m.left,y=b.clientY-m.top,k=o(),A=l(k),M=-L.viewState.panX/L.viewState.scale,z=-L.viewState.panY/L.viewState.scale,Z=t.canvasWidth/L.viewState.scale,H=t.canvasHeight/L.viewState.scale,F=(M-k.minX)*A+a,P=(z-k.minY)*A+a,G=Z*A,R=H*A;v>=F&&v<=F+G&&y>=P&&y<=P+R&&(r=!0,e.setPointerCapture(b.pointerId))},g=b=>{if(!r||!e)return;const m=e.getBoundingClientRect(),v=b.clientX-m.left,y=b.clientY-m.top,k=o(),A=l(k),M=(v-a)/A+k.minX,z=(y-a)/A+k.minY;Nr({panX:-M*L.viewState.scale+t.canvasWidth/2,panY:-z*L.viewState.scale+t.canvasHeight/2})},u=b=>{r&&e&&(e.releasePointerCapture(b.pointerId),r=!1)};return di(()=>{if(!e)return;const b=ec.canvas(e);L.elements.forEach(y=>{if(y.points?.length,y.x,y.y,y.width,y.height,y.opacity,y.layerId,y.strokeColor,y.backgroundColor,y.renderStyle,y.points){const k=Rr(y.points);if(k.length>0){const A=k[k.length-1];A.x,A.y}}}),L.viewState.panX,L.viewState.panY,L.viewState.scale,L.theme,L.layers.forEach(y=>{y.visible,y.opacity});const v=requestAnimationFrame(()=>c(b));qs(()=>cancelAnimationFrame(v))}),Lo(()=>{if(e&&(e.addEventListener(\"click\",h),e.addEventListener(\"pointerdown\",d),e.addEventListener(\"pointermove\",g),e.addEventListener(\"pointerup\",u),e.addEventListener(\"pointercancel\",u)),qs(()=>{e&&(e.removeEventListener(\"click\",h),e.removeEventListener(\"pointerdown\",d),e.removeEventListener(\"pointermove\",g),e.removeEventListener(\"pointerup\",u),e.removeEventListener(\"pointercancel\",u))}),e){const b=ec.canvas(e);c(b)}}),(()=>{var b=Uy(),m=b.firstChild,v=m.firstChild,y=v.nextSibling,k=m.nextSibling,A=n;typeof A==\"function\"?So(A,b):n=b,y.$$click=()=>Vm(!1),gn(y,Pe(gu,{size:14}));var M=e;return typeof M==\"function\"?So(M,k):e=k,b})()};Gs([\"click\"]);const j1=async()=>{if(L.selection.length===0)return;const e={type:\"yappy-elements\",elements:L.elements.filter(n=>L.selection.includes(n.id))};try{await navigator.clipboard.writeText(JSON.stringify(e))}catch(n){console.error(\"Failed to copy: \",n)}},qy=async()=>{await j1(),ua(L.selection)},zf=async()=>{try{const t=await navigator.clipboard.readText();if(!t)return;const e=JSON.parse(t);if(e.type===\"yappy-elements\"&&Array.isArray(e.elements)){_n();const n=[],r=-L.viewState.panX/L.viewState.scale+window.innerWidth/2/L.viewState.scale,i=-L.viewState.panY/L.viewState.scale+window.innerHeight/2/L.viewState.scale;let s=1/0,a=1/0,o=-1/0,l=-1/0;e.elements.forEach(u=>{s=Math.min(s,u.x),a=Math.min(a,u.y),o=Math.max(o,u.x+u.width),l=Math.max(l,u.y+u.height)});const c=s+(o-s)/2,h=a+(l-a)/2,d=r-c,g=i-h;e.elements.forEach(u=>{const b=gi(u.type),m={...u,id:b,x:u.x+d,y:u.y+g,layerId:L.activeLayerId,groupIds:[]};Kt(\"elements\",v=>[...v,m]),n.push(b)}),Kt(\"selection\",n)}}catch(t){console.error(\"Failed to paste: \",t)}},jf=t=>{if(L.selection.length===0)return;_n();let e=1/0,n=-1/0;L.elements.forEach(i=>{L.selection.includes(i.id)&&(t===\"horizontal\"?(e=Math.min(e,i.x),n=Math.max(n,i.x+i.width)):(e=Math.min(e,i.y),n=Math.max(n,i.y+i.height)))});const r=e+(n-e)/2;L.selection.forEach(i=>{const s=L.elements.find(a=>a.id===i);if(s)if(t===\"horizontal\"){const o=s.x+s.width/2-r,l=r-o-s.width/2;if(s.points){const c=Rr(s.points);if(c.length>0){const h=c.map(d=>({x:s.width-d.x,y:d.y}));fe(i,{x:l,points:h,pointsEncoding:void 0,seed:s.seed+1},!1)}else(!s.points||s.points.length===0)&&fe(i,{x:l,seed:s.seed+1},!1)}else fe(i,{x:l,seed:s.seed+1},!1)}else{const o=s.y+s.height/2-r,l=r-o-s.height/2;if(s.points){const c=Rr(s.points);if(c.length>0){const h=c.map(d=>({x:d.x,y:s.height-d.y}));fe(i,{y:l,points:h,pointsEncoding:void 0,seed:s.seed+1},!1)}else fe(i,{y:l,seed:s.seed+1},!1)}else fe(i,{y:l,seed:s.seed+1},!1)}})},Wy=t=>{L.selection.forEach(e=>{fe(e,{locked:t})})};let Vh=null;const Xy=()=>{if(L.selection.length!==1)return;const t=L.elements.find(e=>e.id===L.selection[0]);t&&(Vh={strokeColor:t.strokeColor,backgroundColor:t.backgroundColor,fillStyle:t.fillStyle,strokeWidth:t.strokeWidth,strokeStyle:t.strokeStyle,roughness:t.roughness,opacity:t.opacity,fontFamily:t.fontFamily,fontSize:t.fontSize,textAlign:t.textAlign,roundness:t.roundness,gradientStart:t.gradientStart,gradientEnd:t.gradientEnd,gradientDirection:t.gradientDirection,gradientStops:t.gradientStops?JSON.parse(JSON.stringify(t.gradientStops)):void 0,gradientType:t.gradientType,gradientHandlePositions:t.gradientHandlePositions?JSON.parse(JSON.stringify(t.gradientHandlePositions)):void 0,shadowEnabled:t.shadowEnabled,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY,drawInnerBorder:t.drawInnerBorder,innerBorderColor:t.innerBorderColor,innerBorderDistance:t.innerBorderDistance,strokeLineJoin:t.strokeLineJoin,fillDensity:t.fillDensity,renderStyle:t.renderStyle,flowAnimation:t.flowAnimation,flowSpeed:t.flowSpeed,flowStyle:t.flowStyle})},Gy=()=>{!Vh||L.selection.length===0||(_n(),L.selection.forEach(t=>{fe(t,Vh)}))};class Hy{frameCount=0;lastReportTime=0;slowFrames=0;totalDrawTime=0;enabled;constructor(e=!0){this.enabled=e,this.lastReportTime=performance.now()}measureFrame(e,n,r){if(!this.enabled)return;this.frameCount++,this.totalDrawTime+=e,e>16.67&&this.slowFrames++;const i=performance.now();if(i-this.lastReportTime>=1e3){const s=i-this.lastReportTime,a=this.frameCount/s*1e3,o=this.totalDrawTime/this.frameCount,l=r!==void 0?` | ${r} visible`:\"\";console.log(`[Perf] ${a.toFixed(1)} FPS | ${o.toFixed(2)}ms avg | ${n} elements${l} | ${this.slowFrames} slow frames`),this.frameCount=0,this.slowFrames=0,this.totalDrawTime=0,this.lastReportTime=i}}setEnabled(e){this.enabled=e}}const Vy=new Hy(!1),Yy=t=>{const e=t.fontSize||20,n=t.fontFamily===\"sans-serif\"?\"Inter, sans-serif\":t.fontFamily===\"monospace\"?\"Source Code Pro, monospace\":\"Handlee, cursive\",r=t.fontWeight?typeof t.fontWeight==\"string\"?t.fontWeight+\" \":\"bold \":\"\";return`${t.fontStyle?typeof t.fontStyle==\"string\"?t.fontStyle+\" \":\"italic \":\"\"}${r}${e}px ${n}`},Zy=(t,e,n)=>{const r=e.split(/\\s+/),i=[];let s=\"\";for(const a of r){if(!a)continue;const o=s?`${s} ${a}`:a;t.measureText(o).width>n&&s?(i.push(s),s=a):s=o}return s&&i.push(s),i},ho=(t,e,n,r)=>{const i=e.fontSize||20;t.save(),t.font=Yy(e);let s=r;e.type===\"circle\"||e.type===\"diamond\"?s=r*.707:e.type===\"doubleBanner\"?s=r*.65:e.type===\"lightbulb\"?s=r*.7:e.type===\"signpost\"?s=r*.8:e.type===\"burstBlob\"&&(s=r*.6);const a=n.split(`\n`),o=[];a.forEach(h=>{if(h===\"\")o.push(\"\");else{const d=Zy(t,h,s);o.push(...d)}});const l=i*1.2;let c=0;return o.forEach(h=>{c=Math.max(c,t.measureText(h).width)}),t.restore(),{textWidth:c,textHeight:o.length*l,lines:o,lineHeight:l}},Uf=(t,e,n)=>{if(!n||n.trim()===\"\")return{width:e.width||100,height:e.height||60};const r=32,i=e.fontSize||20,s=n.length,a=Math.sqrt(s*i*i*1.5);let o=Math.max(60,Math.min(500,a)),l=ho(t,e,n,o);const c=e.type===\"circle\"||e.type===\"diamond\"?.707:e.type===\"doubleBanner\"?.65:e.type===\"lightbulb\"?.7:e.type===\"signpost\"?.8:e.type===\"burstBlob\"?.6:1;let h=l.textWidth/c+r,d=l.textHeight/c+r;if(e.type===\"circle\"||e.type===\"diamond\"){const g=Math.max(h,d);return{width:g,height:g}}return(e.type===\"parallelogram\"||e.type===\"trapezoid\")&&(h+=40),{width:h,height:d}},$f=(t,e,n=!0)=>{const r=L.elements.find(l=>l.id===t);if(!r||r.type===e)return;const i=l=>[\"line\",\"arrow\",\"bezier\",\"organicBranch\"].includes(l),s=i(r.type),a=i(e);if(s!==a){console.warn(`Cannot transform ${r.type} to ${e}: Incompatible families.`);return}const o={type:e};if(a)if(e===\"bezier\"||e===\"organicBranch\"){if(o.curveType=\"bezier\",!r.controlPoints||r.controlPoints.length!==2){const l=r.x,c=r.y,h=r.x+r.width,d=r.y+r.height,g=h-l,u=d-c,b={x:l+g*.25,y:c+u*.1},m={x:h-g*.25,y:d-u*.1};o.controlPoints=[b,m]}}else(r.type===\"bezier\"||r.type===\"organicBranch\")&&(o.curveType=\"straight\",o.controlPoints=void 0);fe(t,o,n)},qf=t=>{const e=[\"line\",\"arrow\",\"bezier\",\"organicBranch\"],n=[\"rectangle\",\"circle\",\"diamond\",\"triangle\",\"hexagon\",\"octagon\",\"parallelogram\",\"star\",\"cloud\",\"heart\",\"cross\",\"checkmark\",\"capsule\",\"stickyNote\",\"callout\",\"speechBubble\",\"burst\",\"database\",\"document\",\"predefinedProcess\",\"internalStorage\",\"server\",\"loadBalancer\",\"firewall\",\"user\",\"messageQueue\",\"lambda\",\"router\",\"browser\",\"trapezoid\",\"rightTriangle\",\"pentagon\",\"septagon\",\"mobilePhone\",\"browserWindow\"];return e.includes(t)?e.filter(r=>r!==t):n.includes(t)?n.filter(r=>r!==t):[]},Wf=t=>({line:\"\",arrow:\"\",bezier:\"\",organicBranch:\"\",straight:\"\",elbow:\"\",rectangle:\"\",circle:\"\",diamond:\"\",triangle:\"\",hexagon:\"\",octagon:\"\",parallelogram:\"\",star:\"\",cloud:\"\",heart:\"\",cross:\"\",checkmark:\"\",database:\"\",document:\"\",predefinedProcess:\"\",internalStorage:\"\",server:\"\",loadBalancer:\"\",firewall:\"\",user:\"\",messageQueue:\"\",lambda:\"\",router:\"\",browser:\"\",capsule:\"\",stickyNote:\"\",callout:\"\",speechBubble:\"\",burst:\"\",trapezoid:\"\",rightTriangle:\"\",pentagon:\"\",septagon:\"\",browserWindow:\"\",mobilePhone:\"\"})[t]||\"\",Xf=t=>t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g,\" $1\"),Ky=t=>[\"straight\",\"bezier\",\"elbow\"].filter(e=>e!==t),Jy=t=>({straight:\"\",bezier:\"\",elbow:\"\"})[t]||\"\",Qy=t=>t.charAt(0).toUpperCase()+t.slice(1);function tb(t,e){const n=e.filter(o=>o.groupIds&&o.groupIds.includes(t));if(n.length===0)return null;let r=1/0,i=1/0,s=-1/0,a=-1/0;return n.forEach(o=>{const l=o.x,c=o.y,h=o.x+o.width,d=o.y+o.height;r=Math.min(r,l),i=Math.min(i,c),s=Math.max(s,h),a=Math.max(a,d)}),{x:r,y:i,width:s-r,height:a-i}}function eb(t,e,n,r){const i=tb(n,r);return i?t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height:!1}function nb(t,e){const n=new Map;return t.forEach((r,i)=>{if(r.groupIds&&r.groupIds.length>0){const s=r.groupIds[r.groupIds.length-1];if(!n.has(s)){const a=e.find(o=>o.id===r.layerId);n.set(s,{layerOrder:a?.order??999,elementIndex:i})}}}),Array.from(n.entries()).map(([r,{layerOrder:i,elementIndex:s}])=>({groupId:r,layerOrder:i,elementIndex:s})).sort((r,i)=>r.layerOrder!==i.layerOrder?i.layerOrder-r.layerOrder:i.elementIndex-r.elementIndex)}function Yh(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,a=Math.cos(s),o=Math.sin(s);for(const l of t){const[c,h]=l;l[0]=(c-r)*a-(h-i)*o+r,l[1]=(c-r)*o+(h-i)*a+i}}}function rb(t,e,n){const r=[];t.forEach(i=>r.push(...i)),Yh(r,e,n)}function ib(t,e){return t[0]===e[0]&&t[1]===e[1]}function sb(t,e,n,r=1){const i=n,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]==\"number\"?[t]:t,o=[0,0];if(i)for(const c of a)Yh(c,o,i);const l=ob(a,s,r);if(i){for(const c of a)Yh(c,o,-i);rb(l,o,-i)}return l}function ob(t,e,n){const r=[];for(const c of t){const h=[...c];ib(h[0],h[h.length-1])||h.push([h[0][0],h[0][1]]),h.length>2&&r.push(h)}const i=[];e=Math.max(e,.1);const s=[];for(const c of r)for(let h=0;h<c.length-1;h++){const d=c[h],g=c[h+1];if(d[1]!==g[1]){const u=Math.min(d[1],g[1]);s.push({ymin:u,ymax:Math.max(d[1],g[1]),x:u===d[1]?d[0]:g[0],islope:(g[0]-d[0])/(g[1]-d[1])})}}if(s.sort((c,h)=>c.ymin<h.ymin?-1:c.ymin>h.ymin?1:c.x<h.x?-1:c.x>h.x?1:c.ymax===h.ymax?0:(c.ymax-h.ymax)/Math.abs(c.ymax-h.ymax)),!s.length)return i;let a=[],o=s[0].ymin,l=0;for(;a.length||s.length;){if(s.length){let c=-1;for(let d=0;d<s.length&&!(s[d].ymin>o);d++)c=d;s.splice(0,c+1).forEach(d=>{a.push({s:o,edge:d})})}if(a=a.filter(c=>!(c.edge.ymax<=o)),a.sort((c,h)=>c.edge.x===h.edge.x?0:(c.edge.x-h.edge.x)/Math.abs(c.edge.x-h.edge.x)),(n!==1||l%e===0)&&a.length>1)for(let c=0;c<a.length;c=c+2){const h=c+1;if(h>=a.length)break;const d=a[c].edge,g=a[h].edge;i.push([[Math.round(d.x),o],[Math.round(g.x),o]])}o+=n,a.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return i}function Pa(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=e.strokeWidth*4),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),sb(t,i,r,s||1)}class Su{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=Pa(e,n);return{type:\"fillSketch\",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function mc(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class ab extends Su{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=n.strokeWidth*4),r=Math.max(r,.1);const i=Object.assign({},n,{hachureGap:r}),s=Pa(e,i),a=Math.PI/180*n.hachureAngle,o=[],l=r*.5*Math.cos(a),c=r*.5*Math.sin(a);for(const[d,g]of s)mc([d,g])&&o.push([[d[0]-l,d[1]+c],[...g]],[[d[0]+l,d[1]-c],[...g]]);return{type:\"fillSketch\",ops:this.renderLines(o,n)}}}class lb extends Su{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class cb{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const r=Pa(e,n);return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=n.strokeWidth*4),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=i/4;for(const o of e){const l=mc(o),c=l/i,h=Math.ceil(c)-1,d=l-h*i,g=(o[0][0]+o[1][0])/2-i/4,u=Math.min(o[0][1],o[1][1]);for(let b=0;b<h;b++){const m=u+d+b*i,v=g-a+Math.random()*2*a,y=m-a+Math.random()*2*a,k=this.helper.ellipse(v,y,s,s,n);r.push(...k.ops)}}return{type:\"fillSketch\",ops:r}}}class hb{constructor(e){this.helper=e}fillPolygons(e,n){const r=Pa(e,n);return{type:\"fillSketch\",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,s=[];return e.forEach(a=>{const o=mc(a),l=Math.floor(o/(r+i)),c=(o+i-l*(r+i))/2;let h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);const g=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let u=0;u<l;u++){const b=u*(r+i),m=b+r,v=[h[0]+b*Math.cos(g)+c*Math.cos(g),h[1]+b*Math.sin(g)+c*Math.sin(g)],y=[h[0]+m*Math.cos(g)+c*Math.cos(g),h[1]+m*Math.sin(g)+c*Math.sin(g)];s.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n))}}),s}}class ub{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset;n=Object.assign({},n,{hachureGap:r+i});const s=Pa(e,n);return{type:\"fillSketch\",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach(s=>{const a=mc(s),o=Math.round(a/(2*n));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<o;d++){const g=d*2*n,u=(d+1)*2*n,b=Math.sqrt(2*Math.pow(n,2)),m=[l[0]+g*Math.cos(h),l[1]+g*Math.sin(h)],v=[l[0]+u*Math.cos(h),l[1]+u*Math.sin(h)],y=[m[0]+b*Math.cos(h+Math.PI/4),m[1]+b*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],r))}}),i}}const Pr={};function fb(t,e){let n=t.fillStyle||\"hachure\";if(!Pr[n])switch(n){case\"zigzag\":Pr[n]||(Pr[n]=new ab(e));break;case\"cross-hatch\":Pr[n]||(Pr[n]=new lb(e));break;case\"dots\":Pr[n]||(Pr[n]=new cb(e));break;case\"dashed\":Pr[n]||(Pr[n]=new hb(e));break;case\"zigzag-line\":Pr[n]||(Pr[n]=new ub(e));break;default:n=\"hachure\",Pr[n]||(Pr[n]=new Su(e));break}return Pr[n]}function db(){return Math.floor(Math.random()*2**31)}class pb{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const gb=0,Zh=1,U1=2,pl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function mb(t){const e=new Array;for(;t!==\"\";)if(t.match(/^([ \\t\\r\\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:gb,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:Zh,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:U1,text:\"\"},e}function hh(t,e){return t.type===e}function Au(t){const e=[],n=mb(t);let r=\"BOD\",i=0,s=n[i];for(;!hh(s,U1);){let a=0;const o=[];if(r===\"BOD\")if(s.text===\"M\"||s.text===\"m\")i++,a=pl[s.text],r=s.text;else return Au(\"M0,0\"+t);else hh(s,Zh)?a=pl[r]:(i++,a=pl[s.text],r=s.text);if(i+a<n.length){for(let l=i;l<i+a;l++){const c=n[l];if(hh(c,Zh))o[o.length]=+c.text;else throw new Error(\"Param not a number: \"+r+\",\"+c.text)}if(typeof pl[r]==\"number\"){const l={key:r,data:o};e.push(l),i+=a,s=n[i],r===\"M\"&&(r=\"L\"),r===\"m\"&&(r=\"l\")}else throw new Error(\"Bad segment: \"+r)}else throw new Error(\"Path data ended short\")}return e}function $1(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case\"M\":s.push({key:\"M\",data:[...o]}),[e,n]=o,[r,i]=o;break;case\"m\":e+=o[0],n+=o[1],s.push({key:\"M\",data:[e,n]}),r=e,i=n;break;case\"L\":s.push({key:\"L\",data:[...o]}),[e,n]=o;break;case\"l\":e+=o[0],n+=o[1],s.push({key:\"L\",data:[e,n]});break;case\"C\":s.push({key:\"C\",data:[...o]}),e=o[4],n=o[5];break;case\"c\":{const l=o.map((c,h)=>h%2?c+n:c+e);s.push({key:\"C\",data:l}),e=l[4],n=l[5];break}case\"Q\":s.push({key:\"Q\",data:[...o]}),e=o[2],n=o[3];break;case\"q\":{const l=o.map((c,h)=>h%2?c+n:c+e);s.push({key:\"Q\",data:l}),e=l[2],n=l[3];break}case\"A\":s.push({key:\"A\",data:[...o]}),e=o[5],n=o[6];break;case\"a\":e+=o[5],n+=o[6],s.push({key:\"A\",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case\"H\":s.push({key:\"H\",data:[...o]}),e=o[0];break;case\"h\":e+=o[0],s.push({key:\"H\",data:[e]});break;case\"V\":s.push({key:\"V\",data:[...o]}),n=o[0];break;case\"v\":n+=o[0],s.push({key:\"V\",data:[n]});break;case\"S\":s.push({key:\"S\",data:[...o]}),e=o[2],n=o[3];break;case\"s\":{const l=o.map((c,h)=>h%2?c+n:c+e);s.push({key:\"S\",data:l}),e=l[2],n=l[3];break}case\"T\":s.push({key:\"T\",data:[...o]}),e=o[0],n=o[1];break;case\"t\":e+=o[0],n+=o[1],s.push({key:\"T\",data:[e,n]});break;case\"Z\":case\"z\":s.push({key:\"Z\",data:[]}),e=r,n=i;break}return s}function q1(t){const e=[];let n=\"\",r=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:h}of t){switch(c){case\"M\":e.push({key:\"M\",data:[...h]}),[r,i]=h,[s,a]=h;break;case\"C\":e.push({key:\"C\",data:[...h]}),r=h[4],i=h[5],o=h[2],l=h[3];break;case\"L\":e.push({key:\"L\",data:[...h]}),[r,i]=h;break;case\"H\":r=h[0],e.push({key:\"L\",data:[r,i]});break;case\"V\":i=h[0],e.push({key:\"L\",data:[r,i]});break;case\"S\":{let d=0,g=0;n===\"C\"||n===\"S\"?(d=r+(r-o),g=i+(i-l)):(d=r,g=i),e.push({key:\"C\",data:[d,g,...h]}),o=h[0],l=h[1],r=h[2],i=h[3];break}case\"T\":{const[d,g]=h;let u=0,b=0;n===\"Q\"||n===\"T\"?(u=r+(r-o),b=i+(i-l)):(u=r,b=i);const m=r+2*(u-r)/3,v=i+2*(b-i)/3,y=d+2*(u-d)/3,k=g+2*(b-g)/3;e.push({key:\"C\",data:[m,v,y,k,d,g]}),o=u,l=b,r=d,i=g;break}case\"Q\":{const[d,g,u,b]=h,m=r+2*(d-r)/3,v=i+2*(g-i)/3,y=u+2*(d-u)/3,k=b+2*(g-b)/3;e.push({key:\"C\",data:[m,v,y,k,u,b]}),o=d,l=g,r=u,i=b;break}case\"A\":{const d=Math.abs(h[0]),g=Math.abs(h[1]),u=h[2],b=h[3],m=h[4],v=h[5],y=h[6];d===0||g===0?(e.push({key:\"C\",data:[r,i,v,y,v,y]}),r=v,i=y):(r!==v||i!==y)&&(W1(r,i,v,y,d,g,u,b,m).forEach(function(A){e.push({key:\"C\",data:A})}),r=v,i=y);break}case\"Z\":e.push({key:\"Z\",data:[]}),r=s,i=a;break}n=c}return e}function yb(t){return Math.PI*t/180}function sa(t,e,n){const r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return[r,i]}function W1(t,e,n,r,i,s,a,o,l,c){const h=yb(a);let d=[],g=0,u=0,b=0,m=0;if(c)[g,u,b,m]=c;else{[t,e]=sa(t,e,-h),[n,r]=sa(n,r,-h);const C=(t-n)/2,D=(e-r)/2;let _=C*C/(i*i)+D*D/(s*s);_>1&&(_=Math.sqrt(_),i=_*i,s=_*s);const Q=o===l?-1:1,yt=i*i,ot=s*s,ft=yt*ot-yt*D*D-ot*C*C,ct=yt*D*D+ot*C*C,Tt=Q*Math.sqrt(Math.abs(ft/ct));b=Tt*i*D/s+(t+n)/2,m=Tt*-s*C/i+(e+r)/2,g=Math.asin(parseFloat(((e-m)/s).toFixed(9))),u=Math.asin(parseFloat(((r-m)/s).toFixed(9))),t<b&&(g=Math.PI-g),n<b&&(u=Math.PI-u),g<0&&(g=Math.PI*2+g),u<0&&(u=Math.PI*2+u),l&&g>u&&(g=g-Math.PI*2),!l&&u>g&&(u=u-Math.PI*2)}let v=u-g;if(Math.abs(v)>Math.PI*120/180){const C=u,D=n,_=r;l&&u>g?u=g+Math.PI*120/180*1:u=g+Math.PI*120/180*-1,n=b+i*Math.cos(u),r=m+s*Math.sin(u),d=W1(n,r,D,_,i,s,a,0,l,[u,C,b,m])}v=u-g;const y=Math.cos(g),k=Math.sin(g),A=Math.cos(u),M=Math.sin(u),z=Math.tan(v/4),Z=4/3*i*z,H=4/3*s*z,F=[t,e],P=[t+Z*k,e-H*y],G=[n+Z*M,r-H*A],R=[n,r];if(P[0]=2*F[0]-P[0],P[1]=2*F[1]-P[1],c)return[P,G,R].concat(d);{d=[P,G,R].concat(d);const C=[];for(let D=0;D<d.length;D+=3){const _=sa(d[D][0],d[D][1],h),Q=sa(d[D+1][0],d[D+1][1],h),yt=sa(d[D+2][0],d[D+2][1],h);C.push([_[0],_[1],Q[0],Q[1],yt[0],yt[1]])}return C}}const bb={randOffset:_b,randOffsetWithRange:Sb,ellipse:xb,doubleLineOps:Ab};function X1(t,e,n,r,i){return{type:\"path\",ops:ws(t,e,n,r,i)}}function El(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...ws(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...ws(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:\"path\",ops:i}}else if(r===2)return X1(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:\"path\",ops:[]}}function wb(t,e){return El(t,!0,e)}function vb(t,e,n,r,i){const s=[[t,e],[t+n,e],[t+n,e+r],[t,e+r]];return wb(s,i)}function Gf(t,e){if(t.length){const r=typeof t[0][0]==\"number\"?[t]:t,i=gl(r[0],1*(1+e.roughness*.2),e),s=e.disableMultiStroke?[]:gl(r[0],1.5*(1+e.roughness*.22),Yf(e));for(let a=1;a<r.length;a++){const o=r[a];if(o.length){const l=gl(o,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:gl(o,1.5*(1+e.roughness*.22),Yf(e));for(const h of l)h.op!==\"move\"&&i.push(h);for(const h of c)h.op!==\"move\"&&s.push(h)}}return{type:\"path\",ops:i.concat(s)}}return{type:\"path\",ops:[]}}function xb(t,e,n,r,i){const s=G1(n,r,i);return Kh(t,e,i,s).opset}function G1(t,e,n){const r=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=Math.PI*2/i;let a=Math.abs(t/2),o=Math.abs(e/2);const l=1-n.curveFitting;return a+=$e(a*l,n),o+=$e(o*l,n),{increment:s,rx:a,ry:o}}function Kh(t,e,n,r){const[i,s]=Zf(r.increment,t,e,r.rx,r.ry,1,r.increment*ic(.1,ic(.4,1,n),n),n);let a=sc(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=Zf(r.increment,t,e,r.rx,r.ry,1.5,0,n),l=sc(o,null,n);a=a.concat(l)}return{estimatedPoints:s,opset:{type:\"path\",ops:a}}}function Hf(t,e,n,r,i,s,a,o,l){const c=t,h=e;let d=Math.abs(n/2),g=Math.abs(r/2);d+=$e(d*.01,l),g+=$e(g*.01,l);let u=i,b=s;for(;u<0;)u+=Math.PI*2,b+=Math.PI*2;b-u>Math.PI*2&&(u=0,b=Math.PI*2);const m=Math.PI*2/l.curveStepCount,v=Math.min(m/2,(b-u)/2),y=Kf(v,c,h,d,g,u,b,1,l);if(!l.disableMultiStroke){const k=Kf(v,c,h,d,g,u,b,1.5,l);y.push(...k)}return a&&(o?y.push(...ws(c,h,c+d*Math.cos(u),h+g*Math.sin(u),l),...ws(c,h,c+d*Math.cos(b),h+g*Math.sin(b),l)):y.push({op:\"lineTo\",data:[c,h]},{op:\"lineTo\",data:[c+d*Math.cos(u),h+g*Math.sin(u)]})),{type:\"path\",ops:y}}function Vf(t,e){const n=q1($1(Au(t))),r=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of n)switch(a){case\"M\":{s=[o[0],o[1]],i=[o[0],o[1]];break}case\"L\":r.push(...ws(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case\"C\":{const[l,c,h,d,g,u]=o;r.push(...Lb(l,c,h,d,g,u,s,e)),s=[g,u];break}case\"Z\":r.push(...ws(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]];break}return{type:\"path\",ops:r}}function uh(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:\"move\",data:[r[0][0]+$e(i,e),r[0][1]+$e(i,e)]});for(let a=1;a<s;a++)n.push({op:\"lineTo\",data:[r[a][0]+$e(i,e),r[a][1]+$e(i,e)]})}}return{type:\"fillPath\",ops:n}}function uo(t,e){return fb(e,bb).fillPolygons(t,e)}function kb(t,e,n,r,i,s,a){const o=t,l=e;let c=Math.abs(n/2),h=Math.abs(r/2);c+=$e(c*.01,a),h+=$e(h*.01,a);let d=i,g=s;for(;d<0;)d+=Math.PI*2,g+=Math.PI*2;g-d>Math.PI*2&&(d=0,g=Math.PI*2);const u=(g-d)/a.curveStepCount,b=[];for(let m=d;m<=g;m=m+u)b.push([o+c*Math.cos(m),l+h*Math.sin(m)]);return b.push([o+c*Math.cos(g),l+h*Math.sin(g)]),b.push([o,l]),uo([b],a)}function _b(t,e){return $e(t,e)}function Sb(t,e,n){return ic(t,e,n)}function Ab(t,e,n,r,i){return ws(t,e,n,r,i,!0)}function Yf(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function H1(t){return t.randomizer||(t.randomizer=new pb(t.seed||0)),t.randomizer.next()}function ic(t,e,n,r=1){return n.roughness*r*(H1(n)*(e-t)+t)}function $e(t,e,n=1){return ic(-t,t,e,n)}function ws(t,e,n,r,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=Jh(t,e,n,r,i,!0,!1);if(a)return o;const l=Jh(t,e,n,r,i,!0,!0);return o.concat(l)}function Jh(t,e,n,r,i,s,a){const o=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(o);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const d=h/2,g=.2+H1(i)*.2;let u=i.bowing*i.maxRandomnessOffset*(r-e)/200,b=i.bowing*i.maxRandomnessOffset*(t-n)/200;u=$e(u,i,c),b=$e(b,i,c);const m=[],v=()=>$e(d,i,c),y=()=>$e(h,i,c),k=i.preserveVertices;return a?m.push({op:\"move\",data:[t+(k?0:v()),e+(k?0:v())]}):m.push({op:\"move\",data:[t+(k?0:$e(h,i,c)),e+(k?0:$e(h,i,c))]}),a?m.push({op:\"bcurveTo\",data:[u+t+(n-t)*g+v(),b+e+(r-e)*g+v(),u+t+2*(n-t)*g+v(),b+e+2*(r-e)*g+v(),n+(k?0:v()),r+(k?0:v())]}):m.push({op:\"bcurveTo\",data:[u+t+(n-t)*g+y(),b+e+(r-e)*g+y(),u+t+2*(n-t)*g+y(),b+e+2*(r-e)*g+y(),n+(k?0:y()),r+(k?0:y())]}),m}function gl(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+$e(e,n),t[0][1]+$e(e,n)]),r.push([t[0][0]+$e(e,n),t[0][1]+$e(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+$e(e,n),t[i][1]+$e(e,n)]),i===t.length-1&&r.push([t[i][0]+$e(e,n),t[i][1]+$e(e,n)]);return sc(r,null,n)}function sc(t,e,n){const r=t.length,i=[];if(r>3){const s=[],a=1-n.curveTightness;i.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const l=t[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*t[o+1][0]-a*t[o-1][0])/6,l[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:\"bcurveTo\",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:\"move\",data:[t[1][0],t[1][1]]}),i.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...Jh(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function Zf(t,e,n,r,i,s,a,o){const l=o.roughness===0,c=[],h=[];if(l){t=t/4,h.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let d=0;d<=Math.PI*2;d=d+t){const g=[e+r*Math.cos(d),n+i*Math.sin(d)];c.push(g),h.push(g)}h.push([e+r*Math.cos(0),n+i*Math.sin(0)]),h.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const d=$e(.5,o)-Math.PI/2;h.push([$e(s,o)+e+.9*r*Math.cos(d-t),$e(s,o)+n+.9*i*Math.sin(d-t)]);const g=Math.PI*2+d-.01;for(let u=d;u<g;u=u+t){const b=[$e(s,o)+e+r*Math.cos(u),$e(s,o)+n+i*Math.sin(u)];c.push(b),h.push(b)}h.push([$e(s,o)+e+r*Math.cos(d+Math.PI*2+a*.5),$e(s,o)+n+i*Math.sin(d+Math.PI*2+a*.5)]),h.push([$e(s,o)+e+.98*r*Math.cos(d+a),$e(s,o)+n+.98*i*Math.sin(d+a)]),h.push([$e(s,o)+e+.9*r*Math.cos(d+a*.5),$e(s,o)+n+.9*i*Math.sin(d+a*.5)])}return[h,c]}function Kf(t,e,n,r,i,s,a,o,l){const c=s+$e(.1,l),h=[];h.push([$e(o,l)+e+.9*r*Math.cos(c-t),$e(o,l)+n+.9*i*Math.sin(c-t)]);for(let d=c;d<=a;d=d+t)h.push([$e(o,l)+e+r*Math.cos(d),$e(o,l)+n+i*Math.sin(d)]);return h.push([e+r*Math.cos(a),n+i*Math.sin(a)]),h.push([e+r*Math.cos(a),n+i*Math.sin(a)]),sc(h,null,l)}function Lb(t,e,n,r,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const d=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let u=0;u<d;u++)u===0?l.push({op:\"move\",data:[a[0],a[1]]}):l.push({op:\"move\",data:[a[0]+(g?0:$e(c[0],o)),a[1]+(g?0:$e(c[0],o))]}),h=g?[i,s]:[i+$e(c[u],o),s+$e(c[u],o)],l.push({op:\"bcurveTo\",data:[t+$e(c[u],o),e+$e(c[u],o),n+$e(c[u],o),r+$e(c[u],o),h[0],h[1]]});return l}function oa(t){return[...t]}function Jf(t,e=0){const n=t.length;if(n<3)throw new Error(\"A curve must have at least three points.\");const r=[];if(n===3)r.push(oa(t[0]),oa(t[1]),oa(t[2]),oa(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;r.push(oa(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],r.push(s[1],s[2],s[3])}}return r}function Cb(t,e){return Math.sqrt(Tl(t,e))}function Tl(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Nb(t,e,n){const r=Tl(e,n);if(r===0)return Tl(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Tl(t,Fs(e,n,i))}function Fs(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Mb(t,e){const n=t[e+0],r=t[e+1],i=t[e+2],s=t[e+3];let a=3*r[0]-2*n[0]-s[0];a*=a;let o=3*r[1]-2*n[1]-s[1];o*=o;let l=3*i[0]-2*s[0]-n[0];l*=l;let c=3*i[1]-2*s[1]-n[1];return c*=c,a<l&&(a=l),o<c&&(o=c),a+o}function Qh(t,e,n,r){const i=r||[];if(Mb(t,e)<n){const s=t[e+0];i.length?Cb(i[i.length-1],s)>1&&i.push(s):i.push(s),i.push(t[e+3])}else{const a=t[e+0],o=t[e+1],l=t[e+2],c=t[e+3],h=Fs(a,o,.5),d=Fs(o,l,.5),g=Fs(l,c,.5),u=Fs(h,d,.5),b=Fs(d,g,.5),m=Fs(u,b,.5);Qh([a,h,u,m],0,n,i),Qh([m,b,g,c],0,n,i)}return i}function Ib(t,e){return oc(t,0,t.length,e)}function oc(t,e,n,r,i){const s=i||[],a=t[e],o=t[n-1];let l=0,c=1;for(let h=e+1;h<n-1;++h){const d=Nb(t[h],a,o);d>l&&(l=d,c=h)}return Math.sqrt(l)>r?(oc(t,e,c+1,r,s),oc(t,c,n,r,s)):(s.length||s.push(a),s.push(o)),s}function tu(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++){const a=s*3;Qh(t,a,e,r)}return n&&n>0?oc(r,0,r.length,n):r}function Ob(t,e,n){const r=Au(t),i=q1($1(r)),s=[];let a=[],o=[0,0],l=[];const c=()=>{l.length>=4&&a.push(...tu(l,e)),l=[]},h=()=>{c(),a.length&&(s.push(a),a=[])};for(const{key:g,data:u}of i)switch(g){case\"M\":h(),o=[u[0],u[1]],a.push(o);break;case\"L\":c(),a.push([u[0],u[1]]);break;case\"C\":if(!l.length){const b=a.length?a[a.length-1]:o;l.push([b[0],b[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case\"Z\":c(),a.push([o[0],o[1]]);break}if(h(),!n)return s;const d=[];for(const g of s){const u=Ib(g,n);u.length&&d.push(u)}return d}const Hr=\"none\";class ac{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:\"#000\",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return db()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const a=this._o(s);return this._d(\"line\",[X1(e,n,r,i,a)],a)}rectangle(e,n,r,i,s){const a=this._o(s),o=[],l=vb(e,n,r,i,a);if(a.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];a.fillStyle===\"solid\"?o.push(uh([c],a)):o.push(uo([c],a))}return a.stroke!==Hr&&o.push(l),this._d(\"rectangle\",o,a)}ellipse(e,n,r,i,s){const a=this._o(s),o=[],l=G1(r,i,a),c=Kh(e,n,a,l);if(a.fill)if(a.fillStyle===\"solid\"){const h=Kh(e,n,a,l).opset;h.type=\"fillPath\",o.push(h)}else o.push(uo([c.estimatedPoints],a));return a.stroke!==Hr&&o.push(c.opset),this._d(\"ellipse\",o,a)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape=\"circle\",s}linearPath(e,n){const r=this._o(n);return this._d(\"linearPath\",[El(e,!1,r)],r)}arc(e,n,r,i,s,a,o=!1,l){const c=this._o(l),h=[],d=Hf(e,n,r,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle===\"solid\"){const g=Object.assign({},c);g.disableMultiStroke=!0;const u=Hf(e,n,r,i,s,a,!0,!1,g);u.type=\"fillPath\",h.push(u)}else h.push(kb(e,n,r,i,s,a,c));return c.stroke!==Hr&&h.push(d),this._d(\"arc\",h,c)}curve(e,n){const r=this._o(n),i=[],s=Gf(e,r);if(r.fill&&r.fill!==Hr)if(r.fillStyle===\"solid\"){const a=Gf(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:\"fillPath\",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const c=typeof o[0][0]==\"number\"?[o]:o;for(const h of c)h.length<3?a.push(...h):h.length===3?a.push(...tu(Jf([h[0],h[0],h[1],h[2]]),10,(1+r.roughness)/2)):a.push(...tu(Jf(h),10,(1+r.roughness)/2))}a.length&&i.push(uo([a],r))}return r.stroke!==Hr&&i.push(s),this._d(\"curve\",i,r)}polygon(e,n){const r=this._o(n),i=[],s=El(e,!0,r);return r.fill&&(r.fillStyle===\"solid\"?i.push(uh([e],r)):i.push(uo([e],r))),r.stroke!==Hr&&i.push(s),this._d(\"polygon\",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d(\"path\",i,r);e=(e||\"\").replace(/\\n/g,\" \").replace(/(-\\s)/g,\"-\").replace(\"/(ss)/g\",\" \");const s=r.fill&&r.fill!==\"transparent\"&&r.fill!==Hr,a=r.stroke!==Hr,o=!!(r.simplification&&r.simplification<1),l=o?4-4*(r.simplification||1):(1+r.roughness)/2,c=Ob(e,1,l),h=Vf(e,r);if(s)if(r.fillStyle===\"solid\")if(c.length===1){const d=Vf(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:\"fillPath\",ops:this._mergedShape(d.ops)})}else i.push(uh(c,r));else i.push(uo(c,r));return a&&(o?c.forEach(d=>{i.push(El(d,!1,r))}):i.push(h)),this._d(\"path\",i,r)}opsToPath(e,n){let r=\"\";for(const i of e.ops){const s=typeof n==\"number\"&&n>=0?i.data.map(a=>+a.toFixed(n)):i.data;switch(i.op){case\"move\":r+=`M${s[0]} ${s[1]} `;break;case\"bcurveTo\":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case\"lineTo\":r+=`L${s[0]} ${s[1]} `;break}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let a=null;switch(s.type){case\"path\":a={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Hr};break;case\"fillPath\":a={d:this.opsToPath(s),stroke:Hr,strokeWidth:0,fill:r.fill||Hr};break;case\"fillSketch\":a=this.fillSketch(s,r);break}a&&i.push(a)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Hr,strokeWidth:r,fill:Hr}}_mergedShape(e){return e.filter((n,r)=>r===0?!0:n.op!==\"move\")}}class Pb{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext(\"2d\"),this.gen=new ac(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case\"path\":i.save(),i.strokeStyle=r.stroke===\"none\"?\"transparent\":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case\"fillPath\":{i.save(),i.fillStyle=r.fill||\"\";const o=e.shape===\"curve\"||e.shape===\"polygon\"||e.shape===\"path\"?\"evenodd\":\"nonzero\";this._drawToContext(i,a,s,o),i.restore();break}case\"fillSketch\":this.fillSketch(i,a,r);break}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||\"\",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i=\"nonzero\"){e.beginPath();for(const s of n.ops){const a=typeof r==\"number\"&&r>=0?s.data.map(o=>+o.toFixed(r)):s.data;switch(s.op){case\"move\":e.moveTo(a[0],a[1]);break;case\"bcurveTo\":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case\"lineTo\":e.lineTo(a[0],a[1]);break}}n.type===\"fillPath\"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a),a}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a),a}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a),a}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,a,o=!1,l){const c=this.gen.arc(e,n,r,i,s,a,o,l);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const ml=\"http://www.w3.org/2000/svg\";class Rb{constructor(e,n){this.svg=e,this.gen=new ac(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(ml,\"g\"),a=e.options.fixedDecimalPlaceDigits;for(const o of n){let l=null;switch(o.type){case\"path\":{l=i.createElementNS(ml,\"path\"),l.setAttribute(\"d\",this.opsToPath(o,a)),l.setAttribute(\"stroke\",r.stroke),l.setAttribute(\"stroke-width\",r.strokeWidth+\"\"),l.setAttribute(\"fill\",\"none\"),r.strokeLineDash&&l.setAttribute(\"stroke-dasharray\",r.strokeLineDash.join(\" \").trim()),r.strokeLineDashOffset&&l.setAttribute(\"stroke-dashoffset\",`${r.strokeLineDashOffset}`);break}case\"fillPath\":{l=i.createElementNS(ml,\"path\"),l.setAttribute(\"d\",this.opsToPath(o,a)),l.setAttribute(\"stroke\",\"none\"),l.setAttribute(\"stroke-width\",\"0\"),l.setAttribute(\"fill\",r.fill||\"\"),(e.shape===\"curve\"||e.shape===\"polygon\")&&l.setAttribute(\"fill-rule\",\"evenodd\");break}case\"fillSketch\":{l=this.fillSketch(i,o,r);break}}l&&s.appendChild(l)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(ml,\"path\");return s.setAttribute(\"d\",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute(\"stroke\",r.fill||\"\"),s.setAttribute(\"stroke-width\",i+\"\"),s.setAttribute(\"fill\",\"none\"),r.fillLineDash&&s.setAttribute(\"stroke-dasharray\",r.fillLineDash.join(\" \").trim()),r.fillLineDashOffset&&s.setAttribute(\"stroke-dashoffset\",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const a=this.gen.line(e,n,r,i,s);return this.draw(a)}rectangle(e,n,r,i,s){const a=this.gen.rectangle(e,n,r,i,s);return this.draw(a)}ellipse(e,n,r,i,s){const a=this.gen.ellipse(e,n,r,i,s);return this.draw(a)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,a,o=!1,l){const c=this.gen.arc(e,n,r,i,s,a,o,l);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}const V1={canvas(t,e){return new Pb(t,e)},svg(t,e){return new Rb(t,e)},generator(t){return new ac(t)},newSeed(){return ac.newSeed()}};function Sn(t){\"@babel/helpers - typeof\";return Sn=typeof Symbol==\"function\"&&typeof Symbol.iterator==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Symbol==\"function\"&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Sn(t)}var yi=Uint8Array,Zr=Uint16Array,Lu=Int32Array,Cu=new yi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nu=new yi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qf=new yi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y1=function(t,e){for(var n=new Zr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Lu(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Z1=Y1(Cu,2),Eb=Z1.b,eu=Z1.r;Eb[28]=258,eu[258]=28;var Tb=Y1(Nu,0),td=Tb.r,nu=new Zr(32768);for(var Fn=0;Fn<32768;++Fn){var gs=(Fn&43690)>>1|(Fn&21845)<<1;gs=(gs&52428)>>2|(gs&13107)<<2,gs=(gs&61680)>>4|(gs&3855)<<4,nu[Fn]=((gs&65280)>>8|(gs&255)<<8)>>1}var da=(function(t,e,n){for(var r=t.length,i=0,s=new Zr(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Zr(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Zr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],d=a[t[i]-1]++<<h,g=d|(1<<h)-1;d<=g;++d)o[nu[d]>>l]=c}else for(o=new Zr(r),i=0;i<r;++i)t[i]&&(o[i]=nu[a[t[i]-1]++]>>15-t[i]);return o}),Ws=new yi(288);for(var Fn=0;Fn<144;++Fn)Ws[Fn]=8;for(var Fn=144;Fn<256;++Fn)Ws[Fn]=9;for(var Fn=256;Fn<280;++Fn)Ws[Fn]=7;for(var Fn=280;Fn<288;++Fn)Ws[Fn]=8;var lc=new yi(32);for(var Fn=0;Fn<32;++Fn)lc[Fn]=5;var Bb=da(Ws,9,0),Fb=da(lc,5,0),K1=function(t){return(t+7)/8|0},Db=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new yi(t.subarray(e,n))},Gi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},aa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},fh=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Q1,l:0};if(i==1){var a=new yi(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(z,Z){return z.f-Z.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,h=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=h&&n[c].f<n[d].f?c++:d++],n[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var u=new Zr(g+1),b=ru(n[h-1],u,0);if(b>e){var r=0,m=0,v=b-e,y=1<<v;for(s.sort(function(Z,H){return u[H.s]-u[Z.s]||Z.f-H.f});r<i;++r){var k=s[r].s;if(u[k]>e)m+=y-(1<<b-u[k]),u[k]=e;else break}for(m>>=v;m>0;){var A=s[r].s;u[A]<e?m-=1<<e-u[A]++-1:++r}for(;r>=0&&m;--r){var M=s[r].s;u[M]==e&&(--u[M],++m)}b=e}return{t:new yi(u),l:b}},ru=function(t,e,n){return t.s==-1?Math.max(ru(t.l,e,n+1),ru(t.r,e,n+1)):e[t.s]=n},ed=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Zr(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},la=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},J1=function(t,e,n){var r=n.length,i=K1(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},nd=function(t,e,n,r,i,s,a,o,l,c,h){Gi(e,h++,n),++i[256];for(var d=fh(i,15),g=d.t,u=d.l,b=fh(s,15),m=b.t,v=b.l,y=ed(g),k=y.c,A=y.n,M=ed(m),z=M.c,Z=M.n,H=new Zr(19),F=0;F<k.length;++F)++H[k[F]&31];for(var F=0;F<z.length;++F)++H[z[F]&31];for(var P=fh(H,7),G=P.t,R=P.l,C=19;C>4&&!G[Qf[C-1]];--C);var D=c+5<<3,_=la(i,Ws)+la(s,lc)+a,Q=la(i,g)+la(s,m)+a+14+3*C+la(H,G)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&D<=_&&D<=Q)return J1(e,h,t.subarray(l,l+c));var yt,ot,ft,ct;if(Gi(e,h,1+(Q<_)),h+=2,Q<_){yt=da(g,u,0),ot=g,ft=da(m,v,0),ct=m;var Tt=da(G,R,0);Gi(e,h,A-257),Gi(e,h+5,Z-1),Gi(e,h+10,C-4),h+=14;for(var F=0;F<C;++F)Gi(e,h+3*F,G[Qf[F]]);h+=3*C;for(var at=[k,z],I=0;I<2;++I)for(var X=at[I],F=0;F<X.length;++F){var K=X[F]&31;Gi(e,h,Tt[K]),h+=G[K],K>15&&(Gi(e,h,X[F]>>5&127),h+=X[F]>>12)}}else yt=Bb,ot=Ws,ft=Fb,ct=lc;for(var F=0;F<o;++F){var et=r[F];if(et>255){var K=et>>18&31;aa(e,h,yt[K+257]),h+=ot[K+257],K>7&&(Gi(e,h,et>>23&31),h+=Cu[K]);var gt=et&31;aa(e,h,ft[gt]),h+=ct[gt],gt>3&&(aa(e,h,et>>5&8191),h+=Nu[gt])}else aa(e,h,yt[et]),h+=ot[et]}return aa(e,h,yt[256]),h+ot[256]},zb=new Lu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Q1=new yi(0),jb=function(t,e,n,r,i,s){var a=s.z||t.length,o=new yi(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var d=zb[e-1],g=d>>13,u=d&8191,b=(1<<n)-1,m=s.p||new Zr(32768),v=s.h||new Zr(b+1),y=Math.ceil(n/3),k=2*y,A=function(O){return(t[O]^t[O+1]<<y^t[O+2]<<k)&b},M=new Lu(25e3),z=new Zr(288),Z=new Zr(32),H=0,F=0,P=s.i||0,G=0,R=s.w||0,C=0;P+2<a;++P){var D=A(P),_=P&32767,Q=v[D];if(m[_]=Q,v[D]=_,R<=P){var yt=a-P;if((H>7e3||G>24576)&&(yt>423||!c)){h=nd(t,l,0,M,z,Z,F,G,C,P-C,h),G=H=F=0,C=P;for(var ot=0;ot<286;++ot)z[ot]=0;for(var ot=0;ot<30;++ot)Z[ot]=0}var ft=2,ct=0,Tt=u,at=_-Q&32767;if(yt>2&&D==A(P-at))for(var I=Math.min(g,yt)-1,X=Math.min(32767,P),K=Math.min(258,yt);at<=X&&--Tt&&_!=Q;){if(t[P+ft]==t[P+ft-at]){for(var et=0;et<K&&t[P+et]==t[P+et-at];++et);if(et>ft){if(ft=et,ct=at,et>I)break;for(var gt=Math.min(at,et-2),kt=0,ot=0;ot<gt;++ot){var _t=P-at+ot&32767,It=m[_t],Ut=_t-It&32767;Ut>kt&&(kt=Ut,Q=_t)}}}_=Q,Q=m[_],at+=_-Q&32767}if(ct){M[G++]=268435456|eu[ft]<<18|td[ct];var Zt=eu[ft]&31,de=td[ct]&31;F+=Cu[Zt]+Nu[de],++z[257+Zt],++Z[de],R=P+ft,++H}else M[G++]=t[P],++z[t[P]]}}for(P=Math.max(P,R);P<a;++P)M[G++]=t[P],++z[t[P]];h=nd(t,l,c,M,z,Z,F,G,C,P-C,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=v,s.p=m,s.i=P,s.w=R)}else{for(var P=s.w||0;P<a+c;P+=65535){var ce=P+65535;ce>=a&&(l[h/8|0]=c,ce=a),h=J1(l,h+1,t.subarray(P,ce))}s.i=a}return Db(o,0,r+K1(h)+i)},t2=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ub=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new yi(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return jb(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},e2=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},$b=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=t2();i.p(e.dictionary),e2(t,2,i.d())}};function iu(t,e){e||(e={});var n=t2();n.p(t);var r=Ub(t,e,e.dictionary?6:2,4);return $b(r,e),e2(r,r.length-4,n.d()),r}var qb=typeof TextDecoder<\"u\"&&new TextDecoder,Wb=0;try{qb.decode(Q1,{stream:!0}),Wb=1}catch{}function Xb(t){if(Array.isArray(t))return t}function Gb(t,e){var n=t==null?null:typeof Symbol<\"u\"&&t[Symbol.iterator]||t[\"@@iterator\"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hb(t,e){if(t){if(typeof t==\"string\")return rd(t,e);var n={}.toString.call(t).slice(8,-1);return n===\"Object\"&&t.constructor&&(n=t.constructor.name),n===\"Map\"||n===\"Set\"?Array.from(t):n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rd(t,e):void 0}}function Vb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function id(t,e){return Xb(t)||Gb(t,e)||Hb(t,e)||Vb()}function sd(t,e=\"utf8\"){return new TextDecoder(e).decode(t)}const Yb=new TextEncoder;function Zb(t){return Yb.encode(t)}const Kb=1024*8,Jb=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),dh={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Mu{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Kb,n={}){let r=!1;typeof e==\"number\"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Mu)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error(\"Mark stack empty\");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,\"uint8\")}readArray(e,n){const r=dh[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Jb&&n!==\"uint8\"&&n!==\"int8\"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new dh[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new dh[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n=\"\";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return sd(this.readBytes(e))}decodeText(e=1,n=\"utf8\"){return sd(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Zb(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function No(t){let e=t.length;for(;--e>=0;)t[e]=0}const Qb=3,tw=258,n2=29,ew=256,nw=ew+1+n2,r2=30,rw=512,iw=new Array((nw+2)*2);No(iw);const sw=new Array(r2*2);No(sw);const ow=new Array(rw);No(ow);const aw=new Array(tw-Qb+1);No(aw);const lw=new Array(n2);No(lw);const cw=new Array(r2);No(cw);const hw=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var su=hw;const uw=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},fw=new Uint32Array(uw()),dw=(t,e,n,r)=>{const i=fw,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var _i=dw,ou={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},i2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pw=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gw=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!=\"object\")throw new TypeError(n+\"must be non-object\");for(const r in n)pw(n,r)&&(t[r]=n[r])}}return t},mw=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},s2={assign:gw,flattenChunks:mw};let o2=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o2=!1}const va=new Uint8Array(256);for(let t=0;t<256;t++)va[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;va[254]=va[254]=1;var yw=t=>{if(typeof TextEncoder==\"function\"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const bw=(t,e)=>{if(e<65534&&t.subarray&&o2)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n=\"\";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var ww=(t,e)=>{const n=e||t.length;if(typeof TextDecoder==\"function\"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=va[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return bw(s,i)},vw=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+va[t[n]]>e?n:e},au={string2buf:yw,buf2string:ww,utf8border:vw};function xw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}var kw=xw;const yl=16209,_w=16191;var Sw=function(e,n){let r,i,s,a,o,l,c,h,d,g,u,b,m,v,y,k,A,M,z,Z,H,F,P,G;const R=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,G=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=R.dmax,c=R.wsize,h=R.whave,d=R.wnext,g=R.window,u=R.hold,b=R.bits,m=R.lencode,v=R.distcode,y=(1<<R.lenbits)-1,k=(1<<R.distbits)-1;t:do{b<15&&(u+=P[r++]<<b,b+=8,u+=P[r++]<<b,b+=8),A=m[u&y];e:for(;;){if(M=A>>>24,u>>>=M,b-=M,M=A>>>16&255,M===0)G[s++]=A&65535;else if(M&16){z=A&65535,M&=15,M&&(b<M&&(u+=P[r++]<<b,b+=8),z+=u&(1<<M)-1,u>>>=M,b-=M),b<15&&(u+=P[r++]<<b,b+=8,u+=P[r++]<<b,b+=8),A=v[u&k];n:for(;;){if(M=A>>>24,u>>>=M,b-=M,M=A>>>16&255,M&16){if(Z=A&65535,M&=15,b<M&&(u+=P[r++]<<b,b+=8,b<M&&(u+=P[r++]<<b,b+=8)),Z+=u&(1<<M)-1,Z>l){e.msg=\"invalid distance too far back\",R.mode=yl;break t}if(u>>>=M,b-=M,M=s-a,Z>M){if(M=Z-M,M>h&&R.sane){e.msg=\"invalid distance too far back\",R.mode=yl;break t}if(H=0,F=g,d===0){if(H+=c-M,M<z){z-=M;do G[s++]=g[H++];while(--M);H=s-Z,F=G}}else if(d<M){if(H+=c+d-M,M-=d,M<z){z-=M;do G[s++]=g[H++];while(--M);if(H=0,d<z){M=d,z-=M;do G[s++]=g[H++];while(--M);H=s-Z,F=G}}}else if(H+=d-M,M<z){z-=M;do G[s++]=g[H++];while(--M);H=s-Z,F=G}for(;z>2;)G[s++]=F[H++],G[s++]=F[H++],G[s++]=F[H++],z-=3;z&&(G[s++]=F[H++],z>1&&(G[s++]=F[H++]))}else{H=s-Z;do G[s++]=G[H++],G[s++]=G[H++],G[s++]=G[H++],z-=3;while(z>2);z&&(G[s++]=G[H++],z>1&&(G[s++]=G[H++]))}}else if((M&64)===0){A=v[(A&65535)+(u&(1<<M)-1)];continue n}else{e.msg=\"invalid distance code\",R.mode=yl;break t}break}}else if((M&64)===0){A=m[(A&65535)+(u&(1<<M)-1)];continue e}else if(M&32){R.mode=_w;break t}else{e.msg=\"invalid literal/length code\",R.mode=yl;break t}break}}while(r<i&&s<o);z=b>>3,r-=z,b-=z<<3,u&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),R.hold=u,R.bits=b};const oo=15,od=852,ad=592,ld=0,ph=1,cd=2,Aw=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lw=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Cw=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Nw=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Mw=(t,e,n,r,i,s,a,o)=>{const l=o.bits;let c=0,h=0,d=0,g=0,u=0,b=0,m=0,v=0,y=0,k=0,A,M,z,Z,H,F=null,P;const G=new Uint16Array(oo+1),R=new Uint16Array(oo+1);let C=null,D,_,Q;for(c=0;c<=oo;c++)G[c]=0;for(h=0;h<r;h++)G[e[n+h]]++;for(u=l,g=oo;g>=1&&G[g]===0;g--);if(u>g&&(u=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<g&&G[d]===0;d++);for(u<d&&(u=d),v=1,c=1;c<=oo;c++)if(v<<=1,v-=G[c],v<0)return-1;if(v>0&&(t===ld||g!==1))return-1;for(R[1]=0,c=1;c<oo;c++)R[c+1]=R[c]+G[c];for(h=0;h<r;h++)e[n+h]!==0&&(a[R[e[n+h]]++]=h);if(t===ld?(F=C=a,P=20):t===ph?(F=Aw,C=Lw,P=257):(F=Cw,C=Nw,P=0),k=0,h=0,c=d,H=s,b=u,m=0,z=-1,y=1<<u,Z=y-1,t===ph&&y>od||t===cd&&y>ad)return 1;for(;;){D=c-m,a[h]+1<P?(_=0,Q=a[h]):a[h]>=P?(_=C[a[h]-P],Q=F[a[h]-P]):(_=96,Q=0),A=1<<c-m,M=1<<b,d=M;do M-=A,i[H+(k>>m)+M]=D<<24|_<<16|Q|0;while(M!==0);for(A=1<<c-1;k&A;)A>>=1;if(A!==0?(k&=A-1,k+=A):k=0,h++,--G[c]===0){if(c===g)break;c=e[n+a[h]]}if(c>u&&(k&Z)!==z){for(m===0&&(m=u),H+=d,b=c-m,v=1<<b;b+m<g&&(v-=G[b+m],!(v<=0));)b++,v<<=1;if(y+=1<<b,t===ph&&y>od||t===cd&&y>ad)return 1;z=k&Z,i[z]=u<<24|b<<16|H-s|0}}return k!==0&&(i[H+k]=c-m<<24|64<<16|0),o.bits=u,0};var pa=Mw;const Iw=0,a2=1,l2=2,{Z_FINISH:hd,Z_BLOCK:Ow,Z_TREES:bl,Z_OK:Xs,Z_STREAM_END:Pw,Z_NEED_DICT:Rw,Z_STREAM_ERROR:ni,Z_DATA_ERROR:c2,Z_MEM_ERROR:h2,Z_BUF_ERROR:Ew,Z_DEFLATED:ud}=i2,yc=16180,fd=16181,dd=16182,pd=16183,gd=16184,md=16185,yd=16186,bd=16187,wd=16188,vd=16189,cc=16190,Hi=16191,gh=16192,xd=16193,mh=16194,kd=16195,_d=16196,Sd=16197,Ad=16198,wl=16199,vl=16200,Ld=16201,Cd=16202,Nd=16203,Md=16204,Id=16205,yh=16206,Od=16207,Pd=16208,Dn=16209,u2=16210,f2=16211,Tw=852,Bw=592,Fw=15,Dw=Fw,Rd=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zw(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hs=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<yc||e.mode>f2?1:0},d2=t=>{if(Hs(t))return ni;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=e.wrap&1),e.mode=yc,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Tw),e.distcode=e.distdyn=new Int32Array(Bw),e.sane=1,e.back=-1,Xs},p2=t=>{if(Hs(t))return ni;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,d2(t)},g2=(t,e)=>{let n;if(Hs(t))return ni;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ni:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p2(t))},m2=(t,e)=>{if(!t)return ni;const n=new zw;t.state=n,n.strm=t,n.window=null,n.mode=yc;const r=g2(t,e);return r!==Xs&&(t.state=null),r},jw=t=>m2(t,Dw);let Ed=!0,bh,wh;const Uw=t=>{if(Ed){bh=new Int32Array(512),wh=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pa(a2,t.lens,0,288,bh,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pa(l2,t.lens,0,32,wh,0,t.work,{bits:5}),Ed=!1}t.lencode=bh,t.lenbits=9,t.distcode=wh,t.distbits=5},y2=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},$w=(t,e)=>{let n,r,i,s,a,o,l,c,h,d,g,u,b,m,v=0,y,k,A,M,z,Z,H,F;const P=new Uint8Array(4);let G,R;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hs(t)||!t.output||!t.input&&t.avail_in!==0)return ni;n=t.state,n.mode===Hi&&(n.mode=gh),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,h=n.bits,d=o,g=l,F=Xs;t:for(;;)switch(n.mode){case yc:if(n.wrap===0){n.mode=gh;break}for(;h<16;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=c&255,P[1]=c>>>8&255,n.check=_i(n.check,P,2,0),c=0,h=0,n.mode=fd;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg=\"incorrect header check\",n.mode=Dn;break}if((c&15)!==ud){t.msg=\"unknown compression method\",n.mode=Dn;break}if(c>>>=4,h-=4,H=(c&15)+8,n.wbits===0&&(n.wbits=H),H>15||H>n.wbits){t.msg=\"invalid window size\",n.mode=Dn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?vd:Hi,c=0,h=0;break;case fd:for(;h<16;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(n.flags=c,(n.flags&255)!==ud){t.msg=\"unknown compression method\",n.mode=Dn;break}if(n.flags&57344){t.msg=\"unknown header flags set\",n.mode=Dn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=_i(n.check,P,2,0)),c=0,h=0,n.mode=dd;case dd:for(;h<32;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,n.check=_i(n.check,P,4,0)),c=0,h=0,n.mode=pd;case pd:for(;h<16;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=_i(n.check,P,2,0)),c=0,h=0,n.mode=gd;case gd:if(n.flags&1024){for(;h<16;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=_i(n.check,P,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=md;case md:if(n.flags&1024&&(u=n.length,u>o&&(u=o),u&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+u),H)),n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,u,s)),o-=u,s+=u,n.length-=u),n.length))break t;n.length=0,n.mode=yd;case yd:if(n.flags&2048){if(o===0)break t;u=0;do H=r[s+u++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H));while(H&&u<o);if(n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,u,s)),o-=u,s+=u,H)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=bd;case bd:if(n.flags&4096){if(o===0)break t;u=0;do H=r[s+u++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H));while(H&&u<o);if(n.flags&512&&n.wrap&4&&(n.check=_i(n.check,r,u,s)),o-=u,s+=u,H)break t}else n.head&&(n.head.comment=null);n.mode=wd;case wd:if(n.flags&512){for(;h<16;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg=\"header crc mismatch\",n.mode=Dn;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Hi;break;case vd:for(;h<32;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}t.adler=n.check=Rd(c),c=0,h=0,n.mode=cc;case cc:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,Rw;t.adler=n.check=1,n.mode=Hi;case Hi:if(e===Ow||e===bl)break t;case gh:if(n.last){c>>>=h&7,h-=h&7,n.mode=yh;break}for(;h<3;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}switch(n.last=c&1,c>>>=1,h-=1,c&3){case 0:n.mode=xd;break;case 1:if(Uw(n),n.mode=wl,e===bl){c>>>=2,h-=2;break t}break;case 2:n.mode=_d;break;case 3:t.msg=\"invalid block type\",n.mode=Dn}c>>>=2,h-=2;break;case xd:for(c>>>=h&7,h-=h&7;h<32;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){t.msg=\"invalid stored block lengths\",n.mode=Dn;break}if(n.length=c&65535,c=0,h=0,n.mode=mh,e===bl)break t;case mh:n.mode=kd;case kd:if(u=n.length,u){if(u>o&&(u=o),u>l&&(u=l),u===0)break t;i.set(r.subarray(s,s+u),a),o-=u,s+=u,l-=u,a+=u,n.length-=u;break}n.mode=Hi;break;case _d:for(;h<14;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(n.nlen=(c&31)+257,c>>>=5,h-=5,n.ndist=(c&31)+1,c>>>=5,h-=5,n.ncode=(c&15)+4,c>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg=\"too many length or distance symbols\",n.mode=Dn;break}n.have=0,n.mode=Sd;case Sd:for(;n.have<n.ncode;){for(;h<3;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.lens[C[n.have++]]=c&7,c>>>=3,h-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},F=pa(Iw,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,F){t.msg=\"invalid code lengths set\",n.mode=Dn;break}n.have=0,n.mode=Ad;case Ad:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,k=v>>>16&255,A=v&65535,!(y<=h);){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(A<16)c>>>=y,h-=y,n.lens[n.have++]=A;else{if(A===16){for(R=y+2;h<R;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(c>>>=y,h-=y,n.have===0){t.msg=\"invalid bit length repeat\",n.mode=Dn;break}H=n.lens[n.have-1],u=3+(c&3),c>>>=2,h-=2}else if(A===17){for(R=y+3;h<R;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}c>>>=y,h-=y,H=0,u=3+(c&7),c>>>=3,h-=3}else{for(R=y+7;h<R;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}c>>>=y,h-=y,H=0,u=11+(c&127),c>>>=7,h-=7}if(n.have+u>n.nlen+n.ndist){t.msg=\"invalid bit length repeat\",n.mode=Dn;break}for(;u--;)n.lens[n.have++]=H}}if(n.mode===Dn)break;if(n.lens[256]===0){t.msg=\"invalid code -- missing end-of-block\",n.mode=Dn;break}if(n.lenbits=9,G={bits:n.lenbits},F=pa(a2,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,F){t.msg=\"invalid literal/lengths set\",n.mode=Dn;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},F=pa(l2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,F){t.msg=\"invalid distances set\",n.mode=Dn;break}if(n.mode=wl,e===bl)break t;case wl:n.mode=vl;case vl:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,Sw(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,c=n.hold,h=n.bits,n.mode===Hi&&(n.back=-1);break}for(n.back=0;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,k=v>>>16&255,A=v&65535,!(y<=h);){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(k&&(k&240)===0){for(M=y,z=k,Z=A;v=n.lencode[Z+((c&(1<<M+z)-1)>>M)],y=v>>>24,k=v>>>16&255,A=v&65535,!(M+y<=h);){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}c>>>=M,h-=M,n.back+=M}if(c>>>=y,h-=y,n.back+=y,n.length=A,k===0){n.mode=Id;break}if(k&32){n.back=-1,n.mode=Hi;break}if(k&64){t.msg=\"invalid literal/length code\",n.mode=Dn;break}n.extra=k&15,n.mode=Ld;case Ld:if(n.extra){for(R=n.extra;h<R;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Cd;case Cd:for(;v=n.distcode[c&(1<<n.distbits)-1],y=v>>>24,k=v>>>16&255,A=v&65535,!(y<=h);){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if((k&240)===0){for(M=y,z=k,Z=A;v=n.distcode[Z+((c&(1<<M+z)-1)>>M)],y=v>>>24,k=v>>>16&255,A=v&65535,!(M+y<=h);){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}c>>>=M,h-=M,n.back+=M}if(c>>>=y,h-=y,n.back+=y,k&64){t.msg=\"invalid distance code\",n.mode=Dn;break}n.offset=A,n.extra=k&15,n.mode=Nd;case Nd:if(n.extra){for(R=n.extra;h<R;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg=\"invalid distance too far back\",n.mode=Dn;break}n.mode=Md;case Md:if(l===0)break t;if(u=g-l,n.offset>u){if(u=n.offset-u,u>n.whave&&n.sane){t.msg=\"invalid distance too far back\",n.mode=Dn;break}u>n.wnext?(u-=n.wnext,b=n.wsize-u):b=n.wnext-u,u>n.length&&(u=n.length),m=n.window}else m=i,b=a-n.offset,u=n.length;u>l&&(u=l),l-=u,n.length-=u;do i[a++]=m[b++];while(--u);n.length===0&&(n.mode=vl);break;case Id:if(l===0)break t;i[a++]=n.length,l--,n.mode=vl;break;case yh:if(n.wrap){for(;h<32;){if(o===0)break t;o--,c|=r[s++]<<h,h+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_i(n.check,i,g,a-g):su(n.check,i,g,a-g)),g=l,n.wrap&4&&(n.flags?c:Rd(c))!==n.check){t.msg=\"incorrect data check\",n.mode=Dn;break}c=0,h=0}n.mode=Od;case Od:if(n.wrap&&n.flags){for(;h<32;){if(o===0)break t;o--,c+=r[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg=\"incorrect length check\",n.mode=Dn;break}c=0,h=0}n.mode=Pd;case Pd:F=Pw;break t;case Dn:F=c2;break t;case u2:return h2;case f2:default:return ni}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,(n.wsize||g!==t.avail_out&&n.mode<Dn&&(n.mode<yh||e!==hd))&&y2(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_i(n.check,i,g,t.next_out-g):su(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Hi?128:0)+(n.mode===wl||n.mode===mh?256:0),(d===0&&g===0||e===hd)&&F===Xs&&(F=Ew),F},qw=t=>{if(Hs(t))return ni;let e=t.state;return e.window&&(e.window=null),t.state=null,Xs},Ww=(t,e)=>{if(Hs(t))return ni;const n=t.state;return(n.wrap&2)===0?ni:(n.head=e,e.done=!1,Xs)},Xw=(t,e)=>{const n=e.length;let r,i,s;return Hs(t)||(r=t.state,r.wrap!==0&&r.mode!==cc)?ni:r.mode===cc&&(i=1,i=su(i,e,n,0),i!==r.check)?c2:(s=y2(t,e,n,n),s?(r.mode=u2,h2):(r.havedict=1,Xs))};var Gw=p2,Hw=g2,Vw=d2,Yw=jw,Zw=m2,Kw=$w,Jw=qw,Qw=Ww,tv=Xw,ev=\"pako inflate (from Nodeca project)\",Zi={inflateReset:Gw,inflateReset2:Hw,inflateResetKeep:Vw,inflateInit:Yw,inflateInit2:Zw,inflate:Kw,inflateEnd:Jw,inflateGetHeader:Qw,inflateSetDictionary:tv,inflateInfo:ev};function nv(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}var rv=nv;const b2=Object.prototype.toString,{Z_NO_FLUSH:iv,Z_FINISH:sv,Z_OK:xa,Z_STREAM_END:vh,Z_NEED_DICT:xh,Z_STREAM_ERROR:ov,Z_DATA_ERROR:Td,Z_MEM_ERROR:av}=i2;function Ra(t){this.options=s2.assign({chunkSize:1024*64,windowBits:15,to:\"\"},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new kw,this.strm.avail_out=0;let n=Zi.inflateInit2(this.strm,e.windowBits);if(n!==xa)throw new Error(ou[n]);if(this.header=new rv,Zi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary==\"string\"?e.dictionary=au.string2buf(e.dictionary):b2.call(e.dictionary)===\"[object ArrayBuffer]\"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Zi.inflateSetDictionary(this.strm,e.dictionary),n!==xa)))throw new Error(ou[n])}Ra.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?sv:iv,b2.call(t)===\"[object ArrayBuffer]\"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Zi.inflate(n,a),s===xh&&i&&(s=Zi.inflateSetDictionary(n,i),s===xa?s=Zi.inflate(n,a):s===Td&&(s=xh));n.avail_in>0&&s===vh&&n.state.wrap>0&&t[n.next_in]!==0;)Zi.inflateReset(n),s=Zi.inflate(n,a);switch(s){case ov:case Td:case xh:case av:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===vh))if(this.options.to===\"string\"){let l=au.utf8border(n.output,n.next_out),c=n.next_out-l,h=au.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===xa&&o===0)){if(s===vh)return s=Zi.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ra.prototype.onData=function(t){this.chunks.push(t)};Ra.prototype.onEnd=function(t){t===xa&&(this.options.to===\"string\"?this.result=this.chunks.join(\"\"):this.result=s2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lv(t,e){const n=new Ra(e);if(n.push(t),n.err)throw n.msg||ou[n.err];return n.result}var cv=Ra,hv=lv,uv={Inflate:cv,inflate:hv};const{Inflate:fv,inflate:dv}=uv;var Bd=fv,pv=dv;const w2=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;w2[t]=e}const Fd=4294967295;function gv(t,e,n){let r=t;for(let i=0;i<n;i++)r=w2[(r^e[i])&255]^r>>>8;return r}function mv(t,e){return(gv(Fd,t,e)^Fd)>>>0}function Dd(t,e,n){const r=t.readUint32(),i=mv(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function v2(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function x2(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function k2(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function _2(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function S2(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+yv(e[s-i],n[s],n[s-i])&255}}function yv(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function bv(t,e,n,r,i,s){switch(t){case 0:v2(e,n,i);break;case 1:x2(e,n,i,s);break;case 2:k2(e,n,r,i);break;case 3:_2(e,n,r,i,s);break;case 4:S2(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wv=new Uint16Array([255]),vv=new Uint8Array(wv.buffer),xv=vv[0]===255;function kv(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let h=0;h<7;h++){const d=a[h],g=Math.ceil((n-d.x)/d.xStep),u=Math.ceil((r-d.y)/d.yStep);if(g<=0||u<=0)continue;const b=g*o,m=new Uint8Array(b);for(let v=0;v<u;v++){const y=e[c++],k=e.subarray(c,c+b);c+=b;const A=new Uint8Array(b);bv(y,k,A,m,b,o),m.set(A);for(let M=0;M<g;M++){const z=d.x+M*d.xStep,Z=d.y+v*d.yStep;if(!(z>=n||Z>=r))for(let H=0;H<o;H++)l[(Z*n+z)*o+H]=A[M*o+H]}}}if(s===16){const h=new Uint16Array(l.buffer);if(xv)for(let d=0;d<h.length;d++)h[d]=_v(h[d]);return h}else return l}function _v(t){return(t&255)<<8|t>>8&255}const Sv=new Uint16Array([255]),Av=new Uint8Array(Sv.buffer),Lv=Av[0]===255,Cv=new Uint8Array(0);function zd(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c=Cv,h=0,d,g;for(let u=0;u<r;u++){switch(d=e.subarray(h+1,h+1+o),g=l.subarray(u*o,(u+1)*o),e[h]){case 0:v2(d,g,o);break;case 1:x2(d,g,o,a);break;case 2:k2(d,g,c,o);break;case 3:_2(d,g,c,o,a);break;case 4:S2(d,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=g,h+=o+1}if(s===16){const u=new Uint16Array(l.buffer);if(Lv)for(let b=0;b<u.length;b++)u[b]=Nv(u[b]);return u}else return l}function Nv(t){return(t&255)<<8|t>>8&255}const Bl=Uint8Array.of(137,80,78,71,13,10,26,10);function jd(t){if(!Mv(t.readBytes(Bl.length)))throw new Error(\"wrong PNG signature\")}function Mv(t){if(t.length<Bl.length)return!1;for(let e=0;e<Bl.length;e++)if(t[e]!==Bl[e])return!1;return!0}const Iv=\"tEXt\",Ov=0,A2=new TextDecoder(\"latin1\");function Pv(t){if(Ev(t),t.length===0||t.length>79)throw new Error(\"keyword length must be between 1 and 79\")}const Rv=/^[\\u0000-\\u00FF]*$/;function Ev(t){if(!Rv.test(t))throw new Error(\"invalid latin1 text\")}function Tv(t,e,n){const r=L2(e);t[r]=Bv(e,n-r.length-1)}function L2(t){for(t.mark();t.readByte()!==Ov;);const e=t.offset;t.reset();const n=A2.decode(t.readBytes(e-t.offset-1));return t.skip(1),Pv(n),n}function Bv(t,e){return A2.decode(t.readBytes(e))}const Vr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kh={UNKNOWN:-1,DEFLATE:0},Ud={UNKNOWN:-1,ADAPTIVE:0},_h={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},xl={NONE:0,BACKGROUND:1,PREVIOUS:2},Sh={SOURCE:0,OVER:1};class Fv extends Mu{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Bd,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kh.UNKNOWN,this._filterMethod=Ud.UNKNOWN,this._interlaceMethod=_h.UNKNOWN,this._colorType=Vr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jd(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(jd(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case\"IHDR\":this.decodeIHDR();break;case\"PLTE\":this.decodePLTE(e);break;case\"IDAT\":this.decodeIDAT(e);break;case\"IEND\":this._end=!0;break;case\"tRNS\":this.decodetRNS(e);break;case\"iCCP\":this.decodeiCCP(e);break;case Iv:Tv(this._png.text,this,e);break;case\"pHYs\":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Dd(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!==\"fdAT\"&&n!==\"IDAT\"&&this._writingDataChunks&&this.pushDataToFrame(),n){case\"acTL\":this.decodeACTL();break;case\"fcTL\":this.decodeFCTL();break;case\"fdAT\":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Dd(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Dv(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Vr.GREYSCALE:r=1;break;case Vr.TRUECOLOUR:r=3;break;case Vr.INDEXED_COLOUR:r=1;break;case Vr.GREYSCALE_ALPHA:r=2;break;case Vr.TRUECOLOUR_ALPHA:r=4;break;case Vr.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==kh.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vr.GREYSCALE:case Vr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Vr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Vr.UNKNOWN:case Vr.GREYSCALE_ALPHA:case Vr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=L2(this),r=this.readUint8();if(r!==kh.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:pv(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=zd({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case xl.NONE:break;case xl.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case xl.PREVIOUS:r.data.set(n.data);break;default:throw new Error(\"Unknown disposeOp\")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,l=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(n.blendOp){case Sh.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=n.data[l+c]}break;case Sh.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const h=n.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:n.data[l+c],g=Math.floor(h*d+(1-h)*e.data[o+c]);e.data[o+c]+=g}}break;default:throw new Error(\"Unknown blendOp\")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Ud.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_h.NO_INTERLACE)this._png.data=zd({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_h.ADAM7)this._png.data=kv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:xl.NONE,blendOp:Sh.SOURCE,data:e}),this._inflator=new Bd,this._writingDataChunks=!1}}function Dv(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var $d;(function(t){t[t.UNKNOWN=0]=\"UNKNOWN\",t[t.METRE=1]=\"METRE\"})($d||($d={}));function zv(t,e){return new Fv(t,e).decode()}var He=(function(){return typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:this})();function Ah(){He.console&&typeof He.console.log==\"function\"&&He.console.log.apply(He.console,arguments)}var Mn={log:Ah,warn:function(t){He.console&&(typeof He.console.warn==\"function\"?He.console.warn.apply(He.console,arguments):Ah.call(null,arguments))},error:function(t){He.console&&(typeof He.console.error==\"function\"?He.console.error.apply(He.console,arguments):Ah(t))}};function Lh(t,e,n){var r=new XMLHttpRequest;r.open(\"GET\",t),r.responseType=\"blob\",r.onload=function(){Ds(r.response,e,n)},r.onerror=function(){Mn.error(\"could not download file\")},r.send()}function qd(t){var e=new XMLHttpRequest;e.open(\"HEAD\",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function kl(t){try{t.dispatchEvent(new MouseEvent(\"click\"))}catch{var e=document.createEvent(\"MouseEvents\");e.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ds=He.saveAs||((typeof window>\"u\"?\"undefined\":Sn(window))!==\"object\"||window!==He?function(){}:typeof HTMLAnchorElement<\"u\"&&\"download\"in HTMLAnchorElement.prototype?function(t,e,n){var r=He.URL||He.webkitURL,i=document.createElement(\"a\");e=e||t.name||\"download\",i.download=e,i.rel=\"noopener\",typeof t==\"string\"?(i.href=t,i.origin!==location.origin?qd(i.href)?Lh(t,e,n):kl(i,i.target=\"_blank\"):kl(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){kl(i)},0))}:\"msSaveOrOpenBlob\"in navigator?function(t,e,n){if(e=e||t.name||\"download\",typeof t==\"string\")if(qd(t))Lh(t,e,n);else{var r=document.createElement(\"a\");r.href=t,r.target=\"_blank\",setTimeout(function(){kl(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Sn(s)!==\"object\"&&(Mn.warn(\"Deprecated: Expected third argument to be a object\"),s={autoBom:!s}),s.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(i.type)?new Blob([\"\\uFEFF\",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open(\"\",\"_blank\"))&&(r.document.title=r.document.body.innerText=\"downloading...\"),typeof t==\"string\")return Lh(t,e,n);var i=t.type===\"application/octet-stream\",s=/constructor/i.test(He.HTMLElement)||He.safari,a=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>\"u\"?\"undefined\":Sn(FileReader))===\"object\"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,\"data:attachment/file;\"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(t)}else{var l=He.URL||He.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function C2(t){var e;t=t||\"\",this.ok=!1,t.charAt(0)==\"#\"&&(t=t.substr(1,6)),t={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"00ffff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000000\",blanchedalmond:\"ffebcd\",blue:\"0000ff\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"00ffff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dodgerblue:\"1e90ff\",feldspar:\"d19275\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"ff00ff\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgrey:\"d3d3d3\",lightgreen:\"90ee90\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslateblue:\"8470ff\",lightslategray:\"778899\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"00ff00\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"ff00ff\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370d8\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"d87093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",red:\"ff0000\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",violetred:\"d02090\",wheat:\"f5deb3\",white:\"ffffff\",whitesmoke:\"f5f5f5\",yellow:\"ffff00\",yellowgreen:\"9acd32\"}[t=(t=t.replace(/ /g,\"\")).toLowerCase()]||t;for(var n=[{re:/^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,example:[\"rgb(123, 234, 45)\",\"rgb(255,234,245)\"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\\w{2})(\\w{2})(\\w{2})$/,example:[\"#00ff00\",\"336699\"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\\w{1})(\\w{1})(\\w{1})$/,example:[\"#fb0\",\"f0f\"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return\"rgb(\"+this.r+\", \"+this.g+\", \"+this.b+\")\"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o=\"0\"+o),l.length==1&&(l=\"0\"+l),c.length==1&&(c=\"0\"+c),\"#\"+o+l+c}}var Fl=He.atob.bind(He),Wd=He.btoa.bind(He);function Ch(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=yr(n,r,i,s,e[0],7,-680876936),s=yr(s,n,r,i,e[1],12,-389564586),i=yr(i,s,n,r,e[2],17,606105819),r=yr(r,i,s,n,e[3],22,-1044525330),n=yr(n,r,i,s,e[4],7,-176418897),s=yr(s,n,r,i,e[5],12,1200080426),i=yr(i,s,n,r,e[6],17,-1473231341),r=yr(r,i,s,n,e[7],22,-45705983),n=yr(n,r,i,s,e[8],7,1770035416),s=yr(s,n,r,i,e[9],12,-1958414417),i=yr(i,s,n,r,e[10],17,-42063),r=yr(r,i,s,n,e[11],22,-1990404162),n=yr(n,r,i,s,e[12],7,1804603682),s=yr(s,n,r,i,e[13],12,-40341101),i=yr(i,s,n,r,e[14],17,-1502002290),n=br(n,r=yr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=br(s,n,r,i,e[6],9,-1069501632),i=br(i,s,n,r,e[11],14,643717713),r=br(r,i,s,n,e[0],20,-373897302),n=br(n,r,i,s,e[5],5,-701558691),s=br(s,n,r,i,e[10],9,38016083),i=br(i,s,n,r,e[15],14,-660478335),r=br(r,i,s,n,e[4],20,-405537848),n=br(n,r,i,s,e[9],5,568446438),s=br(s,n,r,i,e[14],9,-1019803690),i=br(i,s,n,r,e[3],14,-187363961),r=br(r,i,s,n,e[8],20,1163531501),n=br(n,r,i,s,e[13],5,-1444681467),s=br(s,n,r,i,e[2],9,-51403784),i=br(i,s,n,r,e[7],14,1735328473),n=wr(n,r=br(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=wr(s,n,r,i,e[8],11,-2022574463),i=wr(i,s,n,r,e[11],16,1839030562),r=wr(r,i,s,n,e[14],23,-35309556),n=wr(n,r,i,s,e[1],4,-1530992060),s=wr(s,n,r,i,e[4],11,1272893353),i=wr(i,s,n,r,e[7],16,-155497632),r=wr(r,i,s,n,e[10],23,-1094730640),n=wr(n,r,i,s,e[13],4,681279174),s=wr(s,n,r,i,e[0],11,-358537222),i=wr(i,s,n,r,e[3],16,-722521979),r=wr(r,i,s,n,e[6],23,76029189),n=wr(n,r,i,s,e[9],4,-640364487),s=wr(s,n,r,i,e[12],11,-421815835),i=wr(i,s,n,r,e[15],16,530742520),n=vr(n,r=wr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vr(s,n,r,i,e[7],10,1126891415),i=vr(i,s,n,r,e[14],15,-1416354905),r=vr(r,i,s,n,e[5],21,-57434055),n=vr(n,r,i,s,e[12],6,1700485571),s=vr(s,n,r,i,e[3],10,-1894986606),i=vr(i,s,n,r,e[10],15,-1051523),r=vr(r,i,s,n,e[1],21,-2054922799),n=vr(n,r,i,s,e[8],6,1873313359),s=vr(s,n,r,i,e[15],10,-30611744),i=vr(i,s,n,r,e[6],15,-1560198380),r=vr(r,i,s,n,e[13],21,1309151649),n=vr(n,r,i,s,e[4],6,-145523070),s=vr(s,n,r,i,e[11],10,-1120210379),i=vr(i,s,n,r,e[2],15,718787259),r=vr(r,i,s,n,e[9],21,-343485551),t[0]=ys(n,t[0]),t[1]=ys(r,t[1]),t[2]=ys(i,t[2]),t[3]=ys(s,t[3])}function bc(t,e,n,r,i,s){return e=ys(ys(e,t),ys(r,s)),ys(e<<i|e>>>32-i,n)}function yr(t,e,n,r,i,s,a){return bc(e&n|~e&r,t,e,i,s,a)}function br(t,e,n,r,i,s,a){return bc(e&r|n&~r,t,e,i,s,a)}function wr(t,e,n,r,i,s,a){return bc(e^n^r,t,e,i,s,a)}function vr(t,e,n,r,i,s,a){return bc(n^(e|~r),t,e,i,s,a)}function N2(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ch(r,jv(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ch(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Ch(r,i),r}function jv(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Xd=\"0123456789abcdef\".split(\"\");function Uv(t){for(var e=\"\",n=0;n<4;n++)e+=Xd[t>>8*n+4&15]+Xd[t>>8*n&15];return e}function $v(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lu(t){return N2(t).map($v).join(\"\")}var qv=(function(t){for(var e=0;e<t.length;e++)t[e]=Uv(t[e]);return t.join(\"\")})(N2(\"hello\"))!=\"5d41402abc4b2a76b9719d911017c592\";function ys(t,e){if(qv){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function cu(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+a.charCodeAt(l))%256,o[l]=o[c],o[c]=h}n=t,r=o}else o=r;var d=e.length,g=0,u=0,b=\"\";for(l=0;l<d;l++)u=(u+(h=o[g=(g+1)%256]))%256,o[g]=o[u],o[u]=h,a=o[(o[g]+o[u])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}var Gd={print:4,modify:8,copy:16,\"annot-forms\":32};function fo(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Gd.perm!==void 0)throw new Error(\"Invalid permission: \"+o);i+=Gd[o]}),this.padding=\"(N^NuAd\\0NV\u0001\\b..\\0h>/\\fdSiz\";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=lu(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cu(this.encryptionKey,this.padding)}function po(t){if(/[^\\u0000-\\u00ff]/.test(t))throw new Error(\"Invalid PDF Name Object: \"+t+\", Only accept ASCII characters.\");for(var e=\"\",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?\"#\"+(\"0\"+i.toString(16)).slice(-2):t[r]}return e}function Hd(t){if(Sn(t)!==\"object\")throw new Error(\"Invalid Context passed to initialize PubSub (jsPDF-module)\");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!=\"string\"||typeof r!=\"function\"||typeof i!=\"boolean\")throw new Error(\"Invalid arguments passed to PubSub.subscribe (jsPDF-module)\");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){He.console&&Mn.error(\"jsPDF PubSub Error\",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hc(t){if(!(this instanceof hc))return new hc(t);var e=\"opacity,stroke-opacity\".split(\",\");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id=\"\",this.objectNumber=-1}function M2(t,e){this.gState=t,this.matrix=e,this.id=\"\",this.objectNumber=-1}function zs(t,e,n,r,i){if(!(this instanceof zs))return new zs(t,e,n,r,i);this.type=t===\"axial\"?2:3,this.coords=e,this.colors=n,M2.call(this,r,i)}function yo(t,e,n,r,i){if(!(this instanceof yo))return new yo(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream=\"\",this.cloneIndex=0,M2.call(this,r,i)}function Be(t){var e,n=typeof arguments[0]==\"string\"?arguments[0]:\"p\",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c=\"S\",h=null;Sn(t=t||{})===\"object\"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||\"\",h.ownerPassword=h.ownerPassword||\"\",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit==\"number\"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||\"S\"),a=t.filters||(s===!0?[\"FlateEncode\"]:a),r=r||\"mm\",n=(\"\"+(n||\"P\")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},u={internal:{},__private__:{}};u.__private__.PubSub=Hd;var b=\"1.3\",m=u.__private__.getPdfVersion=function(){return b};u.__private__.setPdfVersion=function(x){b=x};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]};u.__private__.getPageFormats=function(){return v};var y=u.__private__.getPageFormat=function(x){return v[x]};i=i||\"a4\";var k=\"compat\",A=\"advanced\",M=k;function z(){this.saveGraphicsState(),T(new lt(ze,0,0,-ze,0,As()*ze).toString()+\" cm\"),this.setFontSize(this.getFontSize()/ze),c=\"n\",M=A}function Z(){this.restoreGraphicsState(),c=\"S\",M=k}var H=u.__private__.combineFontStyleAndFontWeight=function(x,E){if(x==\"bold\"&&E==\"normal\"||x==\"bold\"&&E==400||x==\"normal\"&&E==\"italic\"||x==\"bold\"&&E==\"italic\")throw new Error(\"Invalid Combination of fontweight and fontstyle\");return E&&(x=E==400||E===\"normal\"?x===\"italic\"?\"italic\":\"normal\":E!=700&&E!==\"bold\"||x!==\"normal\"?(E==700?\"bold\":E)+\"\"+x:\"bold\"),x};u.advancedAPI=function(x){var E=M===k;return E&&z.call(this),typeof x!=\"function\"||(x(this),E&&Z.call(this)),this},u.compatAPI=function(x){var E=M===A;return E&&Z.call(this),typeof x!=\"function\"||(x(this),E&&z.call(this)),this},u.isAdvancedAPI=function(){return M===A};var F,P=function(x){if(M!==A)throw new Error(x+\" is only available in 'advanced' API mode. You need to call advancedAPI() first.\")},G=u.roundToPrecision=u.__private__.roundToPrecision=function(x,E){var st=e||E;if(isNaN(x)||isNaN(st))throw new Error(\"Invalid argument passed to jsPDF.roundToPrecision\");return x.toFixed(st).replace(/0+$/,\"\")};F=u.hpf=u.__private__.hpf=typeof l==\"number\"?function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.hpf\");return G(x,l)}:l===\"smart\"?function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.hpf\");return G(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.hpf\");return G(x,16)};var R=u.f2=u.__private__.f2=function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.f2\");return G(x,2)},C=u.__private__.f3=function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.f3\");return G(x,3)},D=u.scale=u.__private__.scale=function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.scale\");return M===k?x*ze:M===A?x:void 0},_=function(x){return D((function(E){return M===k?As()-E:M===A?E:void 0})(x))};u.__private__.setPrecision=u.setPrecision=function(x){typeof parseInt(x,10)==\"number\"&&(e=parseInt(x,10))};var Q,yt=\"00000000000000000000000000000000\",ot=u.__private__.getFileId=function(){return yt},ft=u.__private__.setFileId=function(x){return yt=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():yt.split(\"\").map(function(){return\"ABCDEF0123456789\".charAt(Math.floor(16*Math.random()))}).join(\"\"),h!==null&&(nn=new fo(h.userPermissions,h.userPassword,h.ownerPassword,yt)),yt};u.setFileId=function(x){return ft(x),this},u.getFileId=function(){return ot()};var ct=u.__private__.convertDateToPDFDate=function(x){var E=x.getTimezoneOffset(),st=E<0?\"+\":\"-\",ut=Math.floor(Math.abs(E/60)),St=Math.abs(E%60),Ht=[st,K(ut),\"'\",K(St),\"'\"].join(\"\");return[\"D:\",x.getFullYear(),K(x.getMonth()+1),K(x.getDate()),K(x.getHours()),K(x.getMinutes()),K(x.getSeconds()),Ht].join(\"\")},Tt=u.__private__.convertPDFDateToDate=function(x){var E=parseInt(x.substr(2,4),10),st=parseInt(x.substr(6,2),10)-1,ut=parseInt(x.substr(8,2),10),St=parseInt(x.substr(10,2),10),Ht=parseInt(x.substr(12,2),10),Jt=parseInt(x.substr(14,2),10);return new Date(E,st,ut,St,Ht,Jt,0)},at=u.__private__.setCreationDate=function(x){var E;if(x===void 0&&(x=new Date),x instanceof Date)E=ct(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\\+0[0-9]|\\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error(\"Invalid argument passed to jsPDF.setCreationDate\");E=x}return Q=E},I=u.__private__.getCreationDate=function(x){var E=Q;return x===\"jsDate\"&&(E=Tt(Q)),E};u.setCreationDate=function(x){return at(x),this},u.getCreationDate=function(x){return I(x)};var X,K=u.__private__.padd2=function(x){return(\"0\"+parseInt(x)).slice(-2)},et=u.__private__.padd2Hex=function(x){return(\"00\"+(x=x.toString())).substr(x.length)},gt=0,kt=[],_t=[],It=0,Ut=[],Zt=[],de=!1,ce=_t;u.__private__.setCustomOutputDestination=function(x){de=!0,ce=x};var O=function(x){de||(ce=x)};u.__private__.resetCustomOutputDestination=function(){de=!1,ce=_t};var T=u.__private__.out=function(x){return x=x.toString(),It+=x.length+1,ce.push(x),ce},pt=u.__private__.write=function(x){return T(arguments.length===1?x.toString():Array.prototype.join.call(arguments,\" \"))},tt=u.__private__.getArrayBuffer=function(x){for(var E=x.length,st=new ArrayBuffer(E),ut=new Uint8Array(st);E--;)ut[E]=x.charCodeAt(E);return st},W=[[\"Helvetica\",\"helvetica\",\"normal\",\"WinAnsiEncoding\"],[\"Helvetica-Bold\",\"helvetica\",\"bold\",\"WinAnsiEncoding\"],[\"Helvetica-Oblique\",\"helvetica\",\"italic\",\"WinAnsiEncoding\"],[\"Helvetica-BoldOblique\",\"helvetica\",\"bolditalic\",\"WinAnsiEncoding\"],[\"Courier\",\"courier\",\"normal\",\"WinAnsiEncoding\"],[\"Courier-Bold\",\"courier\",\"bold\",\"WinAnsiEncoding\"],[\"Courier-Oblique\",\"courier\",\"italic\",\"WinAnsiEncoding\"],[\"Courier-BoldOblique\",\"courier\",\"bolditalic\",\"WinAnsiEncoding\"],[\"Times-Roman\",\"times\",\"normal\",\"WinAnsiEncoding\"],[\"Times-Bold\",\"times\",\"bold\",\"WinAnsiEncoding\"],[\"Times-Italic\",\"times\",\"italic\",\"WinAnsiEncoding\"],[\"Times-BoldItalic\",\"times\",\"bolditalic\",\"WinAnsiEncoding\"],[\"ZapfDingbats\",\"zapfdingbats\",\"normal\",null],[\"Symbol\",\"symbol\",\"normal\",null]];u.__private__.getStandardFonts=function(){return W};var nt=t.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(x){return nt=M===A?x/ze:x,this};var Lt,Ot=u.__private__.getFontSize=u.getFontSize=function(){return M===k?nt:nt*ze},dt=t.R2L||!1;u.__private__.setR2L=u.setR2L=function(x){return dt=x,this},u.__private__.getR2L=u.getR2L=function(){return dt};var Bt,ee=u.__private__.setZoomMode=function(x){if(/^(?:\\d+\\.\\d*|\\d*\\.\\d+|\\d+)%$/.test(x))Lt=x;else if(isNaN(x)){if([void 0,null,\"fullwidth\",\"fullheight\",\"fullpage\",\"original\"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. \"'+x+'\" is not recognized.');Lt=x}else Lt=parseInt(x,10)};u.__private__.getZoomMode=function(){return Lt};var Gt,ne=u.__private__.setPageMode=function(x){if([void 0,null,\"UseNone\",\"UseOutlines\",\"UseThumbs\",\"FullScreen\"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. \"'+x+'\" is not recognized.');Bt=x};u.__private__.getPageMode=function(){return Bt};var xe=u.__private__.setLayoutMode=function(x){if([void 0,null,\"continuous\",\"single\",\"twoleft\",\"tworight\",\"two\"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. \"'+x+'\" is not recognized.');Gt=x};u.__private__.getLayoutMode=function(){return Gt},u.__private__.setDisplayMode=u.setDisplayMode=function(x,E,st){return ee(x),xe(E),ne(st),this};var me={title:\"\",subject:\"\",author:\"\",keywords:\"\",creator:\"\"};u.__private__.getDocumentProperty=function(x){if(Object.keys(me).indexOf(x)===-1)throw new Error(\"Invalid argument passed to jsPDF.getDocumentProperty\");return me[x]},u.__private__.getDocumentProperties=function(){return me},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(x){for(var E in me)me.hasOwnProperty(E)&&x[E]&&(me[E]=x[E]);return this},u.__private__.setDocumentProperty=function(x,E){if(Object.keys(me).indexOf(x)===-1)throw new Error(\"Invalid arguments passed to jsPDF.setDocumentProperty\");return me[x]=E};var ye,ze,we,on,Ie,qe={},We={},ln=[],Re={},mn={},De={},Xe={},wn=null,Ge=0,Te=[],fn=new Hd(u),Ci=t.hotfixes||[],ar={},w={},Y=[],lt=function x(E,st,ut,St,Ht,Jt){if(!(this instanceof x))return new x(E,st,ut,St,Ht,Jt);isNaN(E)&&(E=1),isNaN(st)&&(st=0),isNaN(ut)&&(ut=0),isNaN(St)&&(St=1),isNaN(Ht)&&(Ht=0),isNaN(Jt)&&(Jt=0),this._matrix=[E,st,ut,St,Ht,Jt]};Object.defineProperty(lt.prototype,\"sx\",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(lt.prototype,\"shy\",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(lt.prototype,\"shx\",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(lt.prototype,\"sy\",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(lt.prototype,\"tx\",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(lt.prototype,\"ty\",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(lt.prototype,\"a\",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(lt.prototype,\"b\",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(lt.prototype,\"c\",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(lt.prototype,\"d\",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(lt.prototype,\"e\",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(lt.prototype,\"f\",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(lt.prototype,\"rotation\",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,\"scaleX\",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,\"scaleY\",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,\"isIdentity\",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(x)},lt.prototype.multiply=function(x){var E=x.sx*this.sx+x.shy*this.shx,st=x.sx*this.shy+x.shy*this.sy,ut=x.shx*this.sx+x.sy*this.shx,St=x.shx*this.shy+x.sy*this.sy,Ht=x.tx*this.sx+x.ty*this.shx+this.tx,Jt=x.tx*this.shy+x.ty*this.sy+this.ty;return new lt(E,st,ut,St,Ht,Jt)},lt.prototype.decompose=function(){var x=this.sx,E=this.shy,st=this.shx,ut=this.sy,St=this.tx,Ht=this.ty,Jt=Math.sqrt(x*x+E*E),Le=(x/=Jt)*st+(E/=Jt)*ut;st-=x*Le,ut-=E*Le;var Oe=Math.sqrt(st*st+ut*ut);return Le/=Oe,x*(ut/=Oe)<E*(st/=Oe)&&(x=-x,E=-E,Le=-Le,Jt=-Jt),{scale:new lt(Jt,0,0,Oe,0,0),translate:new lt(1,0,0,1,St,Ht),rotate:new lt(x,E,-E,x,0,0),skew:new lt(1,0,Le,1,0,0)}},lt.prototype.toString=function(x){return this.join(\" \")},lt.prototype.inversed=function(){var x=this.sx,E=this.shy,st=this.shx,ut=this.sy,St=this.tx,Ht=this.ty,Jt=1/(x*ut-E*st),Le=ut*Jt,Oe=-E*Jt,Ve=-st*Jt,tn=x*Jt;return new lt(Le,Oe,Ve,tn,-Le*St-Ve*Ht,-Oe*St-tn*Ht)},lt.prototype.applyToPoint=function(x){var E=x.x*this.sx+x.y*this.shx+this.tx,st=x.x*this.shy+x.y*this.sy+this.ty;return new Ti(E,st)},lt.prototype.applyToRectangle=function(x){var E=this.applyToPoint(x),st=this.applyToPoint(new Ti(x.x+x.w,x.y+x.h));return new Eo(E.x,E.y,st.x-E.x,st.y-E.y)},lt.prototype.clone=function(){var x=this.sx,E=this.shy,st=this.shx,ut=this.sy,St=this.tx,Ht=this.ty;return new lt(x,E,st,ut,St,Ht)},u.Matrix=lt;var ht=u.matrixMult=function(x,E){return E.multiply(x)},Mt=new lt(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=Mt;var vt=function(x,E){if(!mn[x]){var st=(E instanceof zs?\"Sh\":\"P\")+(Object.keys(Re).length+1).toString(10);E.id=st,mn[x]=st,Re[st]=E,fn.publish(\"addPattern\",E)}};u.ShadingPattern=zs,u.TilingPattern=yo,u.addShadingPattern=function(x,E){return P(\"addShadingPattern()\"),vt(x,E),this},u.beginTilingPattern=function(x){P(\"beginTilingPattern()\"),To(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},u.endTilingPattern=function(x,E){P(\"endTilingPattern()\"),E.stream=Zt[X].join(`\n`),vt(x,E),fn.publish(\"endTilingPattern\",E),Y.pop().restore()};var j,Ct=u.__private__.newObject=function(){var x=$t();return wt(x,!0),x},$t=u.__private__.newObjectDeferred=function(){return gt++,kt[gt]=function(){return It},gt},wt=function(x,E){return E=typeof E==\"boolean\"&&E,kt[x]=It,E&&T(x+\" 0 obj\"),x},Pt=u.__private__.newAdditionalObject=function(){var x={objId:$t(),content:\"\"};return Ut.push(x),x},jt=$t(),Ft=$t(),At=u.__private__.decodeColorString=function(x){var E=x.split(\" \");if(E.length!==2||E[1]!==\"g\"&&E[1]!==\"G\")E.length!==5||E[4]!==\"k\"&&E[4]!==\"K\"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),\"r\"]);else{var st=parseFloat(E[0]);E=[st,st,st,\"r\"]}for(var ut=\"#\",St=0;St<3;St++)ut+=(\"0\"+Math.floor(255*parseFloat(E[St])).toString(16)).slice(-2);return ut},Dt=u.__private__.encodeColorString=function(x){var E;typeof x==\"string\"&&(x={ch1:x});var st=x.ch1,ut=x.ch2,St=x.ch3,Ht=x.ch4,Jt=x.pdfColorType===\"draw\"?[\"G\",\"RG\",\"K\"]:[\"g\",\"rg\",\"k\"];if(typeof st==\"string\"&&st.charAt(0)!==\"#\"){var Le=new C2(st);if(Le.ok)st=Le.toHex();else if(!/^\\d*\\.?\\d*$/.test(st))throw new Error('Invalid color \"'+st+'\" passed to jsPDF.encodeColorString.')}if(typeof st==\"string\"&&/^#[0-9A-Fa-f]{3}$/.test(st)&&(st=\"#\"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3]),typeof st==\"string\"&&/^#[0-9A-Fa-f]{6}$/.test(st)){var Oe=parseInt(st.substr(1),16);st=Oe>>16&255,ut=Oe>>8&255,St=255&Oe}if(ut===void 0||Ht===void 0&&st===ut&&ut===St)E=typeof st==\"string\"?st+\" \"+Jt[0]:x.precision===2?R(st/255)+\" \"+Jt[0]:C(st/255)+\" \"+Jt[0];else if(Ht===void 0||Sn(Ht)===\"object\"){if(Ht&&!isNaN(Ht.a)&&Ht.a===0)return[\"1.\",\"1.\",\"1.\",Jt[1]].join(\" \");E=typeof st==\"string\"?[st,ut,St,Jt[1]].join(\" \"):x.precision===2?[R(st/255),R(ut/255),R(St/255),Jt[1]].join(\" \"):[C(st/255),C(ut/255),C(St/255),Jt[1]].join(\" \")}else E=typeof st==\"string\"?[st,ut,St,Ht,Jt[2]].join(\" \"):x.precision===2?[R(st),R(ut),R(St),R(Ht),Jt[2]].join(\" \"):[C(st),C(ut),C(St),C(Ht),Jt[2]].join(\" \");return E},ie=u.__private__.getFilters=function(){return a},te=u.__private__.putStream=function(x){var E=(x=x||{}).data||\"\",st=x.filters||ie(),ut=x.alreadyAppliedFilters||[],St=x.addLength1||!1,Ht=E.length,Jt=x.objectId,Le=function(er){return er};if(h!==null&&Jt===void 0)throw new Error(\"ObjectId must be passed to putStream for file encryption\");h!==null&&(Le=nn.encryptor(Jt,0));var Oe={};st===!0&&(st=[\"FlateEncode\"]);var Ve=x.additionalKeyValues||[],tn=(Oe=Be.API.processDataByFilters!==void 0?Be.API.processDataByFilters(E,st):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(ut)?ut.join(\" \"):ut.toString());if(Oe.data.length!==0&&(Ve.push({key:\"Length\",value:Oe.data.length}),St===!0&&Ve.push({key:\"Length1\",value:Ht})),tn.length!=0)if(tn.split(\"/\").length-1==1)Ve.push({key:\"Filter\",value:tn});else{Ve.push({key:\"Filter\",value:\"[\"+tn+\"]\"});for(var dn=0;dn<Ve.length;dn+=1)if(Ve[dn].key===\"DecodeParms\"){for(var zn=[],Jn=0;Jn<Oe.reverseChain.split(\"/\").length-1;Jn+=1)zn.push(\"null\");zn.push(Ve[dn].value),Ve[dn].value=\"[\"+zn.join(\" \")+\"]\"}}T(\"<<\");for(var On=0;On<Ve.length;On++)T(\"/\"+Ve[On].key+\" \"+Ve[On].value);T(\">>\"),Oe.data.length!==0&&(T(\"stream\"),T(Le(Oe.data)),T(\"endstream\"))},oe=u.__private__.putPage=function(x){var E=x.number,st=x.data,ut=x.objId,St=x.contentsObjId;wt(ut,!0),T(\"<</Type /Page\"),T(\"/Parent \"+x.rootDictionaryObjId+\" 0 R\"),T(\"/Resources \"+x.resourceDictionaryObjId+\" 0 R\"),T(\"/MediaBox [\"+parseFloat(F(x.mediaBox.bottomLeftX))+\" \"+parseFloat(F(x.mediaBox.bottomLeftY))+\" \"+F(x.mediaBox.topRightX)+\" \"+F(x.mediaBox.topRightY)+\"]\"),x.cropBox!==null&&T(\"/CropBox [\"+F(x.cropBox.bottomLeftX)+\" \"+F(x.cropBox.bottomLeftY)+\" \"+F(x.cropBox.topRightX)+\" \"+F(x.cropBox.topRightY)+\"]\"),x.bleedBox!==null&&T(\"/BleedBox [\"+F(x.bleedBox.bottomLeftX)+\" \"+F(x.bleedBox.bottomLeftY)+\" \"+F(x.bleedBox.topRightX)+\" \"+F(x.bleedBox.topRightY)+\"]\"),x.trimBox!==null&&T(\"/TrimBox [\"+F(x.trimBox.bottomLeftX)+\" \"+F(x.trimBox.bottomLeftY)+\" \"+F(x.trimBox.topRightX)+\" \"+F(x.trimBox.topRightY)+\"]\"),x.artBox!==null&&T(\"/ArtBox [\"+F(x.artBox.bottomLeftX)+\" \"+F(x.artBox.bottomLeftY)+\" \"+F(x.artBox.topRightX)+\" \"+F(x.artBox.topRightY)+\"]\"),typeof x.userUnit==\"number\"&&x.userUnit!==1&&T(\"/UserUnit \"+x.userUnit),fn.publish(\"putPage\",{objId:ut,pageContext:Te[E],pageNumber:E,page:st}),T(\"/Contents \"+St+\" 0 R\"),T(\">>\"),T(\"endobj\");var Ht=st.join(`\n`);return M===A&&(Ht+=`\nQ`),wt(St,!0),te({data:Ht,filters:ie(),objectId:St}),T(\"endobj\"),ut},zt=u.__private__.putPages=function(){var x,E,st=[];for(x=1;x<=Ge;x++)Te[x].objId=$t(),Te[x].contentsObjId=$t();for(x=1;x<=Ge;x++)st.push(oe({number:x,data:Zt[x],objId:Te[x].objId,contentsObjId:Te[x].contentsObjId,mediaBox:Te[x].mediaBox,cropBox:Te[x].cropBox,bleedBox:Te[x].bleedBox,trimBox:Te[x].trimBox,artBox:Te[x].artBox,userUnit:Te[x].userUnit,rootDictionaryObjId:jt,resourceDictionaryObjId:Ft}));wt(jt,!0),T(\"<</Type /Pages\");var ut=\"/Kids [\";for(E=0;E<Ge;E++)ut+=st[E]+\" 0 R \";T(ut+\"]\"),T(\"/Count \"+Ge),T(\">>\"),T(\"endobj\"),fn.publish(\"postPutPages\")},ae=function(x){fn.publish(\"putFont\",{font:x,out:T,newObject:Ct,putStream:te}),x.isAlreadyPutted!==!0&&(x.objectNumber=Ct(),T(\"<<\"),T(\"/Type /Font\"),T(\"/BaseFont /\"+po(x.postScriptName)),T(\"/Subtype /Type1\"),typeof x.encoding==\"string\"&&T(\"/Encoding /\"+x.encoding),T(\"/FirstChar 32\"),T(\"/LastChar 255\"),T(\">>\"),T(\"endobj\"))},Me=function(x){x.objectNumber=Ct();var E=[];E.push({key:\"Type\",value:\"/XObject\"}),E.push({key:\"Subtype\",value:\"/Form\"}),E.push({key:\"BBox\",value:\"[\"+[F(x.x),F(x.y),F(x.x+x.width),F(x.y+x.height)].join(\" \")+\"]\"}),E.push({key:\"Matrix\",value:\"[\"+x.matrix.toString()+\"]\"});var st=x.pages[1].join(`\n`);te({data:st,additionalKeyValues:E,objectId:x.objectNumber}),T(\"endobj\")},Fe=function(x,E){E||(E=21);var st=Ct(),ut=(function(Jt,Le){var Oe,Ve=[],tn=1/(Le-1);for(Oe=0;Oe<1;Oe+=tn)Ve.push(Oe);if(Ve.push(1),Jt[0].offset!=0){var dn={offset:0,color:Jt[0].color};Jt.unshift(dn)}if(Jt[Jt.length-1].offset!=1){var zn={offset:1,color:Jt[Jt.length-1].color};Jt.push(zn)}for(var Jn=\"\",On=0,er=0;er<Ve.length;er++){for(Oe=Ve[er];Oe>Jt[On+1].offset;)On++;var Qn=Jt[On].offset,ur=(Oe-Qn)/(Jt[On+1].offset-Qn),Di=Jt[On].color,li=Jt[On+1].color;Jn+=et(Math.round((1-ur)*Di[0]+ur*li[0]).toString(16))+et(Math.round((1-ur)*Di[1]+ur*li[1]).toString(16))+et(Math.round((1-ur)*Di[2]+ur*li[2]).toString(16))}return Jn.trim()})(x.colors,E),St=[];St.push({key:\"FunctionType\",value:\"0\"}),St.push({key:\"Domain\",value:\"[0.0 1.0]\"}),St.push({key:\"Size\",value:\"[\"+E+\"]\"}),St.push({key:\"BitsPerSample\",value:\"8\"}),St.push({key:\"Range\",value:\"[0.0 1.0 0.0 1.0 0.0 1.0]\"}),St.push({key:\"Decode\",value:\"[0.0 1.0 0.0 1.0 0.0 1.0]\"}),te({data:ut,additionalKeyValues:St,alreadyAppliedFilters:[\"/ASCIIHexDecode\"],objectId:st}),T(\"endobj\"),x.objectNumber=Ct(),T(\"<< /ShadingType \"+x.type),T(\"/ColorSpace /DeviceRGB\");var Ht=\"/Coords [\"+F(parseFloat(x.coords[0]))+\" \"+F(parseFloat(x.coords[1]))+\" \";x.type===2?Ht+=F(parseFloat(x.coords[2]))+\" \"+F(parseFloat(x.coords[3])):Ht+=F(parseFloat(x.coords[2]))+\" \"+F(parseFloat(x.coords[3]))+\" \"+F(parseFloat(x.coords[4]))+\" \"+F(parseFloat(x.coords[5])),T(Ht+=\"]\"),x.matrix&&T(\"/Matrix [\"+x.matrix.toString()+\"]\"),T(\"/Function \"+st+\" 0 R\"),T(\"/Extend [true true]\"),T(\">>\"),T(\"endobj\")},Vt=function(x,E){var st=$t(),ut=Ct();E.push({resourcesOid:st,objectOid:ut}),x.objectNumber=ut;var St=[];St.push({key:\"Type\",value:\"/Pattern\"}),St.push({key:\"PatternType\",value:\"1\"}),St.push({key:\"PaintType\",value:\"1\"}),St.push({key:\"TilingType\",value:\"1\"}),St.push({key:\"BBox\",value:\"[\"+x.boundingBox.map(F).join(\" \")+\"]\"}),St.push({key:\"XStep\",value:F(x.xStep)}),St.push({key:\"YStep\",value:F(x.yStep)}),St.push({key:\"Resources\",value:st+\" 0 R\"}),x.matrix&&St.push({key:\"Matrix\",value:\"[\"+x.matrix.toString()+\"]\"}),te({data:x.stream,additionalKeyValues:St,objectId:x.objectNumber}),T(\"endobj\")},be=function(x){for(var E in x.objectNumber=Ct(),T(\"<<\"),x)switch(E){case\"opacity\":T(\"/ca \"+R(x[E]));break;case\"stroke-opacity\":T(\"/CA \"+R(x[E]))}T(\">>\"),T(\"endobj\")},mt=function(x){wt(x.resourcesOid,!0),T(\"<<\"),T(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\"),(function(){for(var E in T(\"/Font <<\"),qe)qe.hasOwnProperty(E)&&(d===!1||d===!0&&g.hasOwnProperty(E))&&T(\"/\"+E+\" \"+qe[E].objectNumber+\" 0 R\");T(\">>\")})(),(function(){if(Object.keys(Re).length>0){for(var E in T(\"/Shading <<\"),Re)Re.hasOwnProperty(E)&&Re[E]instanceof zs&&Re[E].objectNumber>=0&&T(\"/\"+E+\" \"+Re[E].objectNumber+\" 0 R\");fn.publish(\"putShadingPatternDict\"),T(\">>\")}})(),(function(E){if(Object.keys(Re).length>0){for(var st in T(\"/Pattern <<\"),Re)Re.hasOwnProperty(st)&&Re[st]instanceof u.TilingPattern&&Re[st].objectNumber>=0&&Re[st].objectNumber<E&&T(\"/\"+st+\" \"+Re[st].objectNumber+\" 0 R\");fn.publish(\"putTilingPatternDict\"),T(\">>\")}})(x.objectOid),(function(){if(Object.keys(De).length>0){var E;for(E in T(\"/ExtGState <<\"),De)De.hasOwnProperty(E)&&De[E].objectNumber>=0&&T(\"/\"+E+\" \"+De[E].objectNumber+\" 0 R\");fn.publish(\"putGStateDict\"),T(\">>\")}})(),(function(){for(var E in T(\"/XObject <<\"),ar)ar.hasOwnProperty(E)&&ar[E].objectNumber>=0&&T(\"/\"+E+\" \"+ar[E].objectNumber+\" 0 R\");fn.publish(\"putXobjectDict\"),T(\">>\")})(),T(\">>\"),T(\"endobj\")},qt=function(x){We[x.fontName]=We[x.fontName]||{},We[x.fontName][x.fontStyle]=x.id},J=function(x,E,st,ut,St){var Ht={id:\"F\"+(Object.keys(qe).length+1).toString(10),postScriptName:x,fontName:E,fontStyle:st,encoding:ut,isStandardFont:St||!1,metadata:{}};return fn.publish(\"addFont\",{font:Ht,instance:this}),qe[Ht.id]=Ht,qt(Ht),Ht.id},he=u.__private__.pdfEscape=u.pdfEscape=function(x,E){return(function(st,ut){var St,Ht,Jt,Le,Oe,Ve,tn,dn,zn;if(Jt=(ut=ut||{}).sourceEncoding||\"Unicode\",Oe=ut.outputEncoding,(ut.autoencode||Oe)&&qe[ye].metadata&&qe[ye].metadata[Jt]&&qe[ye].metadata[Jt].encoding&&(Le=qe[ye].metadata[Jt].encoding,!Oe&&qe[ye].encoding&&(Oe=qe[ye].encoding),!Oe&&Le.codePages&&(Oe=Le.codePages[0]),typeof Oe==\"string\"&&(Oe=Le[Oe]),Oe)){for(tn=!1,Ve=[],St=0,Ht=st.length;St<Ht;St++)(dn=Oe[st.charCodeAt(St)])?Ve.push(String.fromCharCode(dn)):Ve.push(st[St]),Ve[St].charCodeAt(0)>>8&&(tn=!0);st=Ve.join(\"\")}for(St=st.length;tn===void 0&&St!==0;)st.charCodeAt(St-1)>>8&&(tn=!0),St--;if(!tn)return st;for(Ve=ut.noBOM?[]:[254,255],St=0,Ht=st.length;St<Ht;St++){if((zn=(dn=st.charCodeAt(St))>>8)>>8)throw new Error(\"Character at position \"+St+\" of string '\"+st+\"' exceeds 16bits. Cannot be encoded into UCS-2 BE\");Ve.push(zn),Ve.push(dn-(zn<<8))}return String.fromCharCode.apply(void 0,Ve)})(x,E).replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},ue=u.__private__.beginPage=function(x){Zt[++Ge]=[],Te[Ge]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Ke(Ge),O(Zt[X])},ve=function(x,E){var st,ut,St;switch(n=E||n,typeof x==\"string\"&&(st=y(x.toLowerCase()),Array.isArray(st)&&(ut=st[0],St=st[1])),Array.isArray(x)&&(ut=x[0]*ze,St=x[1]*ze),isNaN(ut)&&(ut=i[0],St=i[1]),(ut>14400||St>14400)&&(Mn.warn(\"A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400\"),ut=Math.min(14400,ut),St=Math.min(14400,St)),i=[ut,St],n.substr(0,1)){case\"l\":St>ut&&(i=[St,ut]);break;case\"p\":ut>St&&(i=[St,ut])}ue(i),Ze(Io),T(Ys),Po!==0&&T(Po+\" J\"),Ro!==0&&T(Ro+\" j\"),fn.publish(\"addPage\",{pageNumber:Ge})},Ye=function(x){x>0&&x<=Ge&&(Zt.splice(x,1),Te.splice(x,1),Ge--,X>Ge&&(X=Ge),this.setPage(X))},Ke=function(x){x>0&&x<=Ge&&(X=x)},re=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return Zt.length-1},_e=function(x,E,st){var ut,St=void 0;return st=st||{},x=x!==void 0?x:qe[ye].fontName,E=E!==void 0?E:qe[ye].fontStyle,ut=x.toLowerCase(),We[ut]!==void 0&&We[ut][E]!==void 0?St=We[ut][E]:We[x]!==void 0&&We[x][E]!==void 0?St=We[x][E]:st.disableWarning===!1&&Mn.warn(\"Unable to look up font label for font '\"+x+\"', '\"+E+\"'. Refer to getFontList() for available fonts.\"),St||st.noFallback||(St=We.times[E])==null&&(St=We.times.normal),St},Se=u.__private__.putInfo=function(){var x=Ct(),E=function(ut){return ut};for(var st in h!==null&&(E=nn.encryptor(x,0)),T(\"<<\"),T(\"/Producer (\"+he(E(\"jsPDF \"+Be.version))+\")\"),me)me.hasOwnProperty(st)&&me[st]&&T(\"/\"+st.substr(0,1).toUpperCase()+st.substr(1)+\" (\"+he(E(me[st]))+\")\");T(\"/CreationDate (\"+he(E(Q))+\")\"),T(\">>\"),T(\"endobj\")},je=u.__private__.putCatalog=function(x){var E=(x=x||{}).rootDictionaryObjId||jt;switch(Ct(),T(\"<<\"),T(\"/Type /Catalog\"),T(\"/Pages \"+E+\" 0 R\"),Lt||(Lt=\"fullwidth\"),Lt){case\"fullwidth\":T(\"/OpenAction [3 0 R /FitH null]\");break;case\"fullheight\":T(\"/OpenAction [3 0 R /FitV null]\");break;case\"fullpage\":T(\"/OpenAction [3 0 R /Fit]\");break;case\"original\":T(\"/OpenAction [3 0 R /XYZ null null 1]\");break;default:var st=\"\"+Lt;st.substr(st.length-1)===\"%\"&&(Lt=parseInt(Lt)/100),typeof Lt==\"number\"&&T(\"/OpenAction [3 0 R /XYZ null null \"+R(Lt)+\"]\")}switch(Gt||(Gt=\"continuous\"),Gt){case\"continuous\":T(\"/PageLayout /OneColumn\");break;case\"single\":T(\"/PageLayout /SinglePage\");break;case\"two\":case\"twoleft\":T(\"/PageLayout /TwoColumnLeft\");break;case\"tworight\":T(\"/PageLayout /TwoColumnRight\")}Bt&&T(\"/PageMode /\"+Bt),fn.publish(\"putCatalog\"),T(\">>\"),T(\"endobj\")},vn=u.__private__.putTrailer=function(){T(\"trailer\"),T(\"<<\"),T(\"/Size \"+(gt+1)),T(\"/Root \"+gt+\" 0 R\"),T(\"/Info \"+(gt-1)+\" 0 R\"),h!==null&&T(\"/Encrypt \"+nn.oid+\" 0 R\"),T(\"/ID [ <\"+yt+\"> <\"+yt+\"> ]\"),T(\">>\")},pe=u.__private__.putHeader=function(){T(\"%PDF-\"+b),T(\"%\")},An=u.__private__.putXRef=function(){var x=\"0000000000\";T(\"xref\"),T(\"0 \"+(gt+1)),T(\"0000000000 65535 f \");for(var E=1;E<=gt;E++)typeof kt[E]==\"function\"?T((x+kt[E]()).slice(-10)+\" 00000 n \"):kt[E]!==void 0?T((x+kt[E]).slice(-10)+\" 00000 n \"):T(\"0000000000 00000 n \")},cn=u.__private__.buildDocument=function(){var x;gt=0,It=0,_t=[],kt=[],Ut=[],jt=$t(),Ft=$t(),O(_t),fn.publish(\"buildDocument\"),pe(),zt(),(function(){fn.publish(\"putAdditionalObjects\");for(var st=0;st<Ut.length;st++){var ut=Ut[st];wt(ut.objId,!0),T(ut.content),T(\"endobj\")}fn.publish(\"postPutAdditionalObjects\")})(),x=[],(function(){for(var st in qe)qe.hasOwnProperty(st)&&(d===!1||d===!0&&g.hasOwnProperty(st))&&ae(qe[st])})(),(function(){var st;for(st in De)De.hasOwnProperty(st)&&be(De[st])})(),(function(){for(var st in ar)ar.hasOwnProperty(st)&&Me(ar[st])})(),(function(st){var ut;for(ut in Re)Re.hasOwnProperty(ut)&&(Re[ut]instanceof zs?Fe(Re[ut]):Re[ut]instanceof yo&&Vt(Re[ut],st))})(x),fn.publish(\"putResources\"),x.forEach(mt),mt({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish(\"postPutResources\"),h!==null&&(nn.oid=Ct(),T(\"<<\"),T(\"/Filter /Standard\"),T(\"/V \"+nn.v),T(\"/R \"+nn.r),T(\"/U <\"+nn.toHexString(nn.U)+\">\"),T(\"/O <\"+nn.toHexString(nn.O)+\">\"),T(\"/P \"+nn.P),T(\">>\"),T(\"endobj\")),Se(),je();var E=It;return An(),vn(),T(\"startxref\"),T(\"\"+E),T(\"%%EOF\"),O(Zt[X]),_t.join(`\n`)},an=u.__private__.getBlob=function(x){return new Blob([tt(x)],{type:\"application/pdf\"})},en=u.output=u.__private__.output=(j=function(x,E){switch(typeof(E=E||{})==\"string\"?E={filename:E}:E.filename=E.filename||\"generated.pdf\",x){case void 0:return cn();case\"save\":u.save(E.filename);break;case\"arraybuffer\":return tt(cn());case\"blob\":return an(cn());case\"bloburi\":case\"bloburl\":if(He.URL!==void 0&&typeof He.URL.createObjectURL==\"function\")return He.URL&&He.URL.createObjectURL(an(cn()))||void 0;Mn.warn(\"bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.\");break;case\"datauristring\":case\"dataurlstring\":var st=\"\",ut=cn();try{st=Wd(ut)}catch{st=Wd(unescape(encodeURIComponent(ut)))}return\"data:application/pdf;filename=\"+E.filename+\";base64,\"+st;case\"pdfobjectnewwindow\":if(Object.prototype.toString.call(He)===\"[object Window]\"){var St=\"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js\",Ht=' integrity=\"sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==\" crossorigin=\"anonymous\"';E.pdfObjectUrl&&(St=E.pdfObjectUrl,Ht=\"\");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src=\"'+St+'\"'+Ht+'><\\/script><script >PDFObject.embed(\"'+this.output(\"dataurlstring\")+'\", '+JSON.stringify(E)+\");<\\/script></body></html>\",Le=He.open();return Le!==null&&Le.document.write(Jt),Le}throw new Error(\"The option pdfobjectnewwindow just works in a browser-environment.\");case\"pdfjsnewwindow\":if(Object.prototype.toString.call(He)===\"[object Window]\"){var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id=\"pdfViewer\" src=\"'+(E.pdfJsUrl||\"examples/PDF.js/web/viewer.html\")+\"?file=&downloadName=\"+E.filename+'\" width=\"500px\" height=\"400px\" /></body></html>',Ve=He.open();if(Ve!==null){Ve.document.write(Oe);var tn=this;Ve.document.documentElement.querySelector(\"#pdfViewer\").onload=function(){Ve.document.title=E.filename,Ve.document.documentElement.querySelector(\"#pdfViewer\").contentWindow.PDFViewerApplication.open(tn.output(\"bloburl\"))}}return Ve}throw new Error(\"The option pdfjsnewwindow just works in a browser-environment.\");case\"dataurlnewwindow\":if(Object.prototype.toString.call(He)!==\"[object Window]\")throw new Error(\"The option dataurlnewwindow just works in a browser-environment.\");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src=\"'+this.output(\"datauristring\",E)+'\"></iframe></body></html>',zn=He.open();if(zn!==null&&(zn.document.write(dn),zn.document.title=E.filename),zn||typeof safari>\"u\")return zn;break;case\"datauri\":case\"dataurl\":return He.document.location.href=this.output(\"datauristring\",E);default:return null}},j.foo=function(){try{return j.apply(this,arguments)}catch(st){var x=st.stack||\"\";~x.indexOf(\" at \")&&(x=x.split(\" at \")[1]);var E=\"Error in function \"+x.split(`\n`)[0].split(\"<\")[0]+\": \"+st.message;if(!He.console)throw new Error(E);He.console.error(E,st),He.alert&&alert(E)}},j.foo.bar=j,j.foo),yn=function(x){return Array.isArray(Ci)===!0&&Ci.indexOf(x)>-1};switch(r){case\"pt\":ze=1;break;case\"mm\":ze=72/25.4;break;case\"cm\":ze=72/2.54;break;case\"in\":ze=72;break;case\"px\":ze=yn(\"px_scaling\")==1?.75:96/72;break;case\"pc\":case\"em\":ze=12;break;case\"ex\":ze=6;break;default:if(typeof r!=\"number\")throw new Error(\"Invalid unit: \"+r);ze=r}var nn=null;at(),ft();var In=u.__private__.getPageInfo=u.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error(\"Invalid argument passed to jsPDF.getPageInfo\");return{objId:Te[x].objId,pageNumber:x,pageContext:Te[x]}},cr=u.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error(\"Invalid argument passed to jsPDF.getPageInfoByObjId\");for(var E in Te)if(Te[E].objId===x)break;return In(E)},Ni=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:Te[X].objId,pageNumber:X,pageContext:Te[X]}};u.addPage=function(){return ve.apply(this,arguments),this},u.setPage=function(){return Ke.apply(this,arguments),O.call(this,Zt[X]),this},u.insertPage=function(x){return this.addPage(),this.movePage(X,x),this},u.movePage=function(x,E){var st,ut;if(x>E){st=Zt[x],ut=Te[x];for(var St=x;St>E;St--)Zt[St]=Zt[St-1],Te[St]=Te[St-1];Zt[E]=st,Te[E]=ut,this.setPage(E)}else if(x<E){st=Zt[x],ut=Te[x];for(var Ht=x;Ht<E;Ht++)Zt[Ht]=Zt[Ht+1],Te[Ht]=Te[Ht+1];Zt[E]=st,Te[E]=ut,this.setPage(E)}return this},u.deletePage=function(){return Ye.apply(this,arguments),this},u.__private__.text=u.text=function(x,E,st,ut,St){var Ht,Jt,Le,Oe,Ve,tn,dn,zn,Jn,On=(ut=ut||{}).scope||this;if(typeof x==\"number\"&&typeof E==\"number\"&&(typeof st==\"string\"||Array.isArray(st))){var er=st;st=E,E=x,x=er}if(arguments[3]instanceof lt==0?(Le=arguments[4],Oe=arguments[5],Sn(dn=arguments[3])===\"object\"&&dn!==null||(typeof Le==\"string\"&&(Oe=Le,Le=null),typeof dn==\"string\"&&(Oe=dn,dn=null),typeof dn==\"number\"&&(Le=dn,dn=null),ut={flags:dn,angle:Le,align:Oe})):(P(\"The transform parameter of text() with a Matrix value\"),Jn=St),isNaN(E)||isNaN(st)||x==null)throw new Error(\"Invalid arguments passed to jsPDF.text\");if(x.length===0)return On;var Qn,ur=\"\",Di=typeof ut.lineHeightFactor==\"number\"?ut.lineHeightFactor:ks,li=On.internal.scaleFactor;function zi(bn){return bn=bn.split(\"\t\").join(Array(ut.TabLen||9).join(\" \")),he(bn,dn)}function Fo(bn){for(var Cn,Xn=bn.concat(),nr=[],$i=Xn.length;$i--;)typeof(Cn=Xn.shift())==\"string\"?nr.push(Cn):Array.isArray(bn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?nr.push(Cn[0]):nr.push([Cn[0],Cn[1],Cn[2]]);return nr}function Ks(bn,Cn){var Xn;if(typeof bn==\"string\")Xn=Cn(bn)[0];else if(Array.isArray(bn)){for(var nr,$i,Ho=bn.concat(),to=[],$a=Ho.length;$a--;)typeof(nr=Ho.shift())==\"string\"?to.push(Cn(nr)[0]):Array.isArray(nr)&&typeof nr[0]==\"string\"&&($i=Cn(nr[0],nr[1],nr[2]),to.push([$i[0],$i[1],$i[2]]));Xn=to}return Xn}var ts=!1,Ls=!0;if(typeof x==\"string\")ts=!0;else if(Array.isArray(x)){var Cs=x.concat();Jt=[];for(var es,fr=Cs.length;fr--;)(typeof(es=Cs.shift())!=\"string\"||Array.isArray(es)&&typeof es[0]!=\"string\")&&(Ls=!1);ts=Ls}if(ts===!1)throw new Error('Type of text must be string or Array. \"'+x+'\" is not recognized.');typeof x==\"string\"&&(x=x.match(/[\\r?\\n]/)?x.split(/\\r\\n|\\r|\\n/g):[x]);var Ns=nt/On.internal.scaleFactor,Ms=Ns*(Di-1);switch(ut.baseline){case\"bottom\":st-=Ms;break;case\"top\":st+=Ns-Ms;break;case\"hanging\":st+=Ns-2*Ms;break;case\"middle\":st+=Ns/2-Ms}if((tn=ut.maxWidth||0)>0&&(typeof x==\"string\"?x=On.splitTextToSize(x,tn):Object.prototype.toString.call(x)===\"[object Array]\"&&(x=x.reduce(function(bn,Cn){return bn.concat(On.splitTextToSize(Cn,tn))},[]))),Ht={text:x,x:E,y:st,options:ut,mutex:{pdfEscape:he,activeFontKey:ye,fonts:qe,activeFontSize:nt}},fn.publish(\"preProcessText\",Ht),x=Ht.text,Le=(ut=Ht.options).angle,Jn instanceof lt==0&&Le&&typeof Le==\"number\"){Le*=Math.PI/180,ut.rotationDirection===0&&(Le=-Le),M===A&&(Le=-Le);var Do=Math.cos(Le),zo=Math.sin(Le);Jn=new lt(Do,zo,-zo,Do,0,0)}else Le&&Le instanceof lt&&(Jn=Le);M!==A||Jn||(Jn=Mt),(Ve=ut.charSpace||Ei)!==void 0&&(ur+=F(D(Ve))+` Tc\n`,this.setCharSpace(this.getCharSpace()||0)),(zn=ut.horizontalScale)!==void 0&&(ur+=F(100*zn)+` Tz\n`),ut.lang;var Sr=-1,ji=ut.renderingMode!==void 0?ut.renderingMode:ut.stroke,Js=On.internal.getCurrentPageInfo().pageContext;switch(ji){case 0:case!1:case\"fill\":Sr=0;break;case 1:case!0:case\"stroke\":Sr=1;break;case 2:case\"fillThenStroke\":Sr=2;break;case 3:case\"invisible\":Sr=3;break;case 4:case\"fillAndAddForClipping\":Sr=4;break;case 5:case\"strokeAndAddPathForClipping\":Sr=5;break;case 6:case\"fillThenStrokeAndAddToPathForClipping\":Sr=6;break;case 7:case\"addToPathForClipping\":Sr=7}var ja=Js.usedRenderingMode!==void 0?Js.usedRenderingMode:-1;Sr!==-1?ur+=Sr+` Tr\n`:ja!==-1&&(ur+=`0 Tr\n`),Sr!==-1&&(Js.usedRenderingMode=Sr),Oe=ut.align||\"left\";var Kr,Is=nt*Di,jo=On.internal.pageSize.getWidth(),Uo=qe[ye];Ve=ut.charSpace||Ei,tn=ut.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ut.flags);var ns=[],Os=function(bn){return On.getStringUnitWidth(bn,{font:Uo,charSpace:Ve,fontSize:nt,doKerning:!1})*nt/li};if(Object.prototype.toString.call(x)===\"[object Array]\"){var Dr;Jt=Fo(x),Oe!==\"left\"&&(Kr=Jt.map(Os));var zr,rs=0;if(Oe===\"right\"){E-=Kr[0],x=[],fr=Jt.length;for(var Ui=0;Ui<fr;Ui++)Ui===0?(zr=Pi(E),Dr=Ri(st)):(zr=D(rs-Kr[Ui]),Dr=-Is),x.push([Jt[Ui],zr,Dr]),rs=Kr[Ui]}else if(Oe===\"center\"){E-=Kr[0]/2,x=[],fr=Jt.length;for(var is=0;is<fr;is++)is===0?(zr=Pi(E),Dr=Ri(st)):(zr=D((rs-Kr[is])/2),Dr=-Is),x.push([Jt[is],zr,Dr]),rs=Kr[is]}else if(Oe===\"left\"){x=[],fr=Jt.length;for(var $o=0;$o<fr;$o++)x.push(Jt[$o])}else if(Oe===\"justify\"&&Uo.encoding===\"Identity-H\"){x=[],fr=Jt.length,tn=tn!==0?tn:jo;for(var Qs=0,Wn=0;Wn<fr;Wn++)if(Dr=Wn===0?Ri(st):-Is,zr=Wn===0?Pi(E):Qs,Wn<fr-1){var Ua=D((tn-Kr[Wn])/(Jt[Wn].split(\" \").length-1)),vi=Jt[Wn].split(\" \");x.push([vi[0]+\" \",zr,Dr]),Qs=0;for(var xi=1;xi<vi.length;xi++){var qo=(Os(vi[xi-1]+\" \"+vi[xi])-Os(vi[xi]))*li+Ua;xi==vi.length-1?x.push([vi[xi],qo,0]):x.push([vi[xi]+\" \",qo,0]),Qs-=qo}}else x.push([Jt[Wn],zr,Dr]);x.push([\"\",Qs,0])}else{if(Oe!==\"justify\")throw new Error('Unrecognized alignment option, use \"left\", \"center\", \"right\" or \"justify\".');for(x=[],fr=Jt.length,tn=tn!==0?tn:jo,Wn=0;Wn<fr;Wn++){Dr=Wn===0?Ri(st):-Is,zr=Wn===0?Pi(E):0;var Wo=Jt[Wn].split(\" \").length-1,Xo=Wo>0?(tn-Kr[Wn])/Wo:0;Wn<fr-1?ns.push(F(D(Xo))):ns.push(0),x.push([Jt[Wn],zr,Dr])}}}(typeof ut.R2L==\"boolean\"?ut.R2L:dt)===!0&&(x=Ks(x,function(bn,Cn,Xn){return[bn.split(\"\").reverse().join(\"\"),Cn,Xn]})),Ht={text:x,x:E,y:st,options:ut,mutex:{pdfEscape:he,activeFontKey:ye,fonts:qe,activeFontSize:nt}},fn.publish(\"postProcessText\",Ht),x=Ht.text,Qn=Ht.mutex.isHex||!1;var Go=qe[ye].encoding;Go!==\"WinAnsiEncoding\"&&Go!==\"StandardEncoding\"||(x=Ks(x,function(bn,Cn,Xn){return[zi(bn),Cn,Xn]})),Jt=Fo(x),x=[];for(var ss,os,as,Ps=Array.isArray(Jt[0])?1:0,ls=\"\",Rs=function(bn,Cn,Xn){var nr=\"\";return Xn instanceof lt?(Xn=typeof ut.angle==\"number\"?ht(Xn,new lt(1,0,0,1,bn,Cn)):ht(new lt(1,0,0,1,bn,Cn),Xn),M===A&&(Xn=ht(new lt(1,0,0,-1,0,0),Xn)),nr=Xn.join(\" \")+` Tm\n`):nr=F(bn)+\" \"+F(Cn)+` Td\n`,nr},Jr=0;Jr<Jt.length;Jr++){switch(ls=\"\",Ps){case 1:as=(Qn?\"<\":\"(\")+Jt[Jr][0]+(Qn?\">\":\")\"),ss=parseFloat(Jt[Jr][1]),os=parseFloat(Jt[Jr][2]);break;case 0:as=(Qn?\"<\":\"(\")+Jt[Jr]+(Qn?\">\":\")\"),ss=Pi(E),os=Ri(st)}ns!==void 0&&ns[Jr]!==void 0&&(ls=ns[Jr]+` Tw\n`),Jr===0?x.push(ls+Rs(ss,os,Jn)+as):Ps===0?x.push(ls+as):Ps===1&&x.push(ls+Rs(ss,os,Jn)+as)}x=Ps===0?x.join(` Tj\nT* `):x.join(` Tj\n`),x+=` Tj\n`;var ki=`BT\n/`;return ki+=ye+\" \"+nt+` Tf\n`,ki+=F(nt*Di)+` TL\n`,ki+=_s+`\n`,ki+=ur,ki+=x,T(ki+=\"ET\"),g[ye]=!0,On};var hr=u.__private__.clip=u.clip=function(x){return T(x===\"evenodd\"?\"W*\":\"W\"),this};u.clipEvenOdd=function(){return hr(\"evenodd\")},u.__private__.discardPath=u.discardPath=function(){return T(\"n\"),this};var _r=u.__private__.isValidStyle=function(x){var E=!1;return[void 0,null,\"S\",\"D\",\"F\",\"DF\",\"FD\",\"f\",\"f*\",\"B\",\"B*\",\"n\"].indexOf(x)!==-1&&(E=!0),E};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(x){return _r(x)&&(c=x),this};var Mi=u.__private__.getStyle=u.getStyle=function(x){var E=c;switch(x){case\"D\":case\"S\":E=\"S\";break;case\"F\":E=\"f\";break;case\"FD\":case\"DF\":E=\"B\";break;case\"f\":case\"f*\":case\"B\":case\"B*\":E=x}return E},Ii=u.close=function(){return T(\"h\"),this};u.stroke=function(){return T(\"S\"),this},u.fill=function(x){return oi(\"f\",x),this},u.fillEvenOdd=function(x){return oi(\"f*\",x),this},u.fillStroke=function(x){return oi(\"B\",x),this},u.fillStrokeEvenOdd=function(x){return oi(\"B*\",x),this};var oi=function(x,E){Sn(E)===\"object\"?wc(E,x):T(x)},Oi=function(x){x===null||M===A&&x===void 0||(x=Mi(x),T(x))};function Qi(x,E,st,ut,St){var Ht=new yo(E||this.boundingBox,st||this.xStep,ut||this.yStep,this.gState,St||this.matrix);Ht.stream=this.stream;var Jt=x+\"$$\"+this.cloneIndex+++\"$$\";return vt(Jt,Ht),Ht}var wc=function(x,E){var st=mn[x.key],ut=Re[st];if(ut instanceof zs)T(\"q\"),T(vc(E)),ut.gState&&u.setGState(ut.gState),T(x.matrix.toString()+\" cm\"),T(\"/\"+st+\" sh\"),T(\"Q\");else if(ut instanceof yo){var St=new lt(1,0,0,-1,0,As());x.matrix&&(St=St.multiply(x.matrix||Mt),st=Qi.call(ut,x.key,x.boundingBox,x.xStep,x.yStep,St).id),T(\"q\"),T(\"/Pattern cs\"),T(\"/\"+st+\" scn\"),ut.gState&&u.setGState(ut.gState),T(E),T(\"Q\")}},vc=function(x){switch(x){case\"f\":case\"F\":case\"n\":return\"W n\";case\"f*\":return\"W* n\";case\"B\":case\"S\":return\"W S\";case\"B*\":return\"W* S\"}},Mo=u.moveTo=function(x,E){return T(F(D(x))+\" \"+F(_(E))+\" m\"),this},Ea=u.lineTo=function(x,E){return T(F(D(x))+\" \"+F(_(E))+\" l\"),this},ai=u.curveTo=function(x,E,st,ut,St,Ht){return T([F(D(x)),F(_(E)),F(D(st)),F(_(ut)),F(D(St)),F(_(Ht)),\"c\"].join(\" \")),this};u.__private__.line=u.line=function(x,E,st,ut,St){if(isNaN(x)||isNaN(E)||isNaN(st)||isNaN(ut)||!_r(St))throw new Error(\"Invalid arguments passed to jsPDF.line\");return M===k?this.lines([[st-x,ut-E]],x,E,[1,1],St||\"S\"):this.lines([[st-x,ut-E]],x,E,[1,1]).stroke()},u.__private__.lines=u.lines=function(x,E,st,ut,St,Ht){var Jt,Le,Oe,Ve,tn,dn,zn,Jn,On,er,Qn,ur;if(typeof x==\"number\"&&(ur=st,st=E,E=x,x=ur),ut=ut||[1,1],Ht=Ht||!1,isNaN(E)||isNaN(st)||!Array.isArray(x)||!Array.isArray(ut)||!_r(St)||typeof Ht!=\"boolean\")throw new Error(\"Invalid arguments passed to jsPDF.lines\");for(Mo(E,st),Jt=ut[0],Le=ut[1],Ve=x.length,er=E,Qn=st,Oe=0;Oe<Ve;Oe++)(tn=x[Oe]).length===2?(er=tn[0]*Jt+er,Qn=tn[1]*Le+Qn,Ea(er,Qn)):(dn=tn[0]*Jt+er,zn=tn[1]*Le+Qn,Jn=tn[2]*Jt+er,On=tn[3]*Le+Qn,er=tn[4]*Jt+er,Qn=tn[5]*Le+Qn,ai(dn,zn,Jn,On,er,Qn));return Ht&&Ii(),Oi(St),this},u.path=function(x){for(var E=0;E<x.length;E++){var st=x[E],ut=st.c;switch(st.op){case\"m\":Mo(ut[0],ut[1]);break;case\"l\":Ea(ut[0],ut[1]);break;case\"c\":ai.apply(this,ut);break;case\"h\":Ii()}}return this},u.__private__.rect=u.rect=function(x,E,st,ut,St){if(isNaN(x)||isNaN(E)||isNaN(st)||isNaN(ut)||!_r(St))throw new Error(\"Invalid arguments passed to jsPDF.rect\");return M===k&&(ut=-ut),T([F(D(x)),F(_(E)),F(D(st)),F(D(ut)),\"re\"].join(\" \")),Oi(St),this},u.__private__.triangle=u.triangle=function(x,E,st,ut,St,Ht,Jt){if(isNaN(x)||isNaN(E)||isNaN(st)||isNaN(ut)||isNaN(St)||isNaN(Ht)||!_r(Jt))throw new Error(\"Invalid arguments passed to jsPDF.triangle\");return this.lines([[st-x,ut-E],[St-st,Ht-ut],[x-St,E-Ht]],x,E,[1,1],Jt,!0),this},u.__private__.roundedRect=u.roundedRect=function(x,E,st,ut,St,Ht,Jt){if(isNaN(x)||isNaN(E)||isNaN(st)||isNaN(ut)||isNaN(St)||isNaN(Ht)||!_r(Jt))throw new Error(\"Invalid arguments passed to jsPDF.roundedRect\");var Le=4/3*(Math.SQRT2-1);return St=Math.min(St,.5*st),Ht=Math.min(Ht,.5*ut),this.lines([[st-2*St,0],[St*Le,0,St,Ht-Ht*Le,St,Ht],[0,ut-2*Ht],[0,Ht*Le,-St*Le,Ht,-St,Ht],[2*St-st,0],[-St*Le,0,-St,-Ht*Le,-St,-Ht],[0,2*Ht-ut],[0,-Ht*Le,St*Le,-Ht,St,-Ht]],x+St,E,[1,1],Jt,!0),this},u.__private__.ellipse=u.ellipse=function(x,E,st,ut,St){if(isNaN(x)||isNaN(E)||isNaN(st)||isNaN(ut)||!_r(St))throw new Error(\"Invalid arguments passed to jsPDF.ellipse\");var Ht=4/3*(Math.SQRT2-1)*st,Jt=4/3*(Math.SQRT2-1)*ut;return Mo(x+st,E),ai(x+st,E-Jt,x+Ht,E-ut,x,E-ut),ai(x-Ht,E-ut,x-st,E-Jt,x-st,E),ai(x-st,E+Jt,x-Ht,E+ut,x,E+ut),ai(x+Ht,E+ut,x+st,E+Jt,x+st,E),Oi(St),this},u.__private__.circle=u.circle=function(x,E,st,ut){if(isNaN(x)||isNaN(E)||isNaN(st)||!_r(ut))throw new Error(\"Invalid arguments passed to jsPDF.circle\");return this.ellipse(x,E,st,st,ut)},u.setFont=function(x,E,st){return st&&(E=H(E,st)),ye=_e(x,E,{disableWarning:!1}),this};var xc=u.__private__.getFont=u.getFont=function(){return qe[_e.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var x,E,st={};for(x in We)if(We.hasOwnProperty(x))for(E in st[x]=[],We[x])We[x].hasOwnProperty(E)&&st[x].push(E);return st},u.addFont=function(x,E,st,ut,St){var Ht=[\"StandardEncoding\",\"MacRomanEncoding\",\"Identity-H\",\"WinAnsiEncoding\"];return arguments[3]&&Ht.indexOf(arguments[3])!==-1?St=arguments[3]:arguments[3]&&Ht.indexOf(arguments[3])==-1&&(st=H(st,ut)),J.call(this,x,E,st,St=St||\"Identity-H\")};var ks,Io=t.lineWidth||.200025,kc=u.__private__.getLineWidth=u.getLineWidth=function(){return Io},Ze=u.__private__.setLineWidth=u.setLineWidth=function(x){return Io=x,T(F(D(x))+\" w\"),this};u.__private__.setLineDash=Be.API.setLineDash=Be.API.setLineDashPattern=function(x,E){if(x=x||[],E=E||0,isNaN(E)||!Array.isArray(x))throw new Error(\"Invalid arguments passed to jsPDF.setLineDash\");return x=x.map(function(st){return F(D(st))}).join(\" \"),E=F(D(E)),T(\"[\"+x+\"] \"+E+\" d\"),this};var _c=u.__private__.getLineHeight=u.getLineHeight=function(){return nt*ks};u.__private__.getLineHeight=u.getLineHeight=function(){return nt*ks};var Sc=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(x){return typeof(x=x||1.15)==\"number\"&&(ks=x),this},Ac=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return ks};Sc(t.lineHeight);var Pi=u.__private__.getHorizontalCoordinate=function(x){return D(x)},Ri=u.__private__.getVerticalCoordinate=function(x){return M===A?x:Te[X].mediaBox.topRightY-Te[X].mediaBox.bottomLeftY-D(x)},Lc=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(x){return F(Pi(x))},Cc=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(x){return F(Ri(x))},Ys=t.strokeColor||\"0 G\";u.__private__.getStrokeColor=u.getDrawColor=function(){return At(Ys)},u.__private__.setStrokeColor=u.setDrawColor=function(x,E,st,ut){return Ys=Dt({ch1:x,ch2:E,ch3:st,ch4:ut,pdfColorType:\"draw\",precision:2}),T(Ys),this};var Oo=t.fillColor||\"0 g\";u.__private__.getFillColor=u.getFillColor=function(){return At(Oo)},u.__private__.setFillColor=u.setFillColor=function(x,E,st,ut){return Oo=Dt({ch1:x,ch2:E,ch3:st,ch4:ut,pdfColorType:\"fill\",precision:2}),T(Oo),this};var _s=t.textColor||\"0 g\",Nc=u.__private__.getTextColor=u.getTextColor=function(){return At(_s)};u.__private__.setTextColor=u.setTextColor=function(x,E,st,ut){return _s=Dt({ch1:x,ch2:E,ch3:st,ch4:ut,pdfColorType:\"text\",precision:3}),this};var Ei=t.charSpace,Mc=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(Ei||0)};u.__private__.setCharSpace=u.setCharSpace=function(x){if(isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.setCharSpace\");return Ei=x,this};var Po=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(x){var E=u.CapJoinStyles[x];if(E===void 0)throw new Error(\"Line cap style of '\"+x+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return Po=E,T(E+\" J\"),this};var Ro=0;u.__private__.setLineJoin=u.setLineJoin=function(x){var E=u.CapJoinStyles[x];if(E===void 0)throw new Error(\"Line join style of '\"+x+\"' is not recognized. See or extend .CapJoinStyles property for valid styles\");return Ro=E,T(E+\" j\"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error(\"Invalid argument passed to jsPDF.setLineMiterLimit\");return T(F(D(x))+\" M\"),this},u.GState=hc,u.setGState=function(x){(x=typeof x==\"string\"?De[Xe[x]]:Ta(null,x)).equals(wn)||(T(\"/\"+x.id+\" gs\"),wn=x)};var Ta=function(x,E){if(!x||!Xe[x]){var st=!1;for(var ut in De)if(De.hasOwnProperty(ut)&&De[ut].equals(E)){st=!0;break}if(st)E=De[ut];else{var St=\"GS\"+(Object.keys(De).length+1).toString(10);De[St]=E,E.id=St}return x&&(Xe[x]=E.id),fn.publish(\"addGState\",E),E}};u.addGState=function(x,E){return Ta(x,E),this},u.saveGraphicsState=function(){return T(\"q\"),ln.push({key:ye,size:nt,color:_s}),this},u.restoreGraphicsState=function(){T(\"Q\");var x=ln.pop();return ye=x.key,nt=x.size,_s=x.color,wn=null,this},u.setCurrentTransformationMatrix=function(x){return T(x.toString()+\" cm\"),this},u.comment=function(x){return T(\"#\"+x),this};var Ti=function(x,E){var st=x||0;Object.defineProperty(this,\"x\",{enumerable:!0,get:function(){return st},set:function(Ht){isNaN(Ht)||(st=parseFloat(Ht))}});var ut=E||0;Object.defineProperty(this,\"y\",{enumerable:!0,get:function(){return ut},set:function(Ht){isNaN(Ht)||(ut=parseFloat(Ht))}});var St=\"pt\";return Object.defineProperty(this,\"type\",{enumerable:!0,get:function(){return St},set:function(Ht){St=Ht.toString()}}),this},Eo=function(x,E,st,ut){Ti.call(this,x,E),this.type=\"rect\";var St=st||0;Object.defineProperty(this,\"w\",{enumerable:!0,get:function(){return St},set:function(Jt){isNaN(Jt)||(St=parseFloat(Jt))}});var Ht=ut||0;return Object.defineProperty(this,\"h\",{enumerable:!0,get:function(){return Ht},set:function(Jt){isNaN(Jt)||(Ht=parseFloat(Jt))}}),this},Zs=function(){this.page=Ge,this.currentPage=X,this.pages=Zt.slice(0),this.pagesContext=Te.slice(0),this.x=we,this.y=on,this.matrix=Ie,this.width=Bo(X),this.height=Fa(X),this.outputDestination=ce,this.id=\"\",this.objectNumber=-1};Zs.prototype.restore=function(){Ge=this.page,X=this.currentPage,Te=this.pagesContext,Zt=this.pages,we=this.x,on=this.y,Ie=this.matrix,Ba(X,this.width),Bi(X,this.height),ce=this.outputDestination};var To=function(x,E,st,ut,St){Y.push(new Zs),Ge=X=0,Zt=[],we=x,on=E,Ie=St,ue([st,ut])};for(var Ss in u.beginFormObject=function(x,E,st,ut,St){return To(x,E,st,ut,St),this},u.endFormObject=function(x){return(function(E){if(w[E])Y.pop().restore();else{var st=new Zs,ut=\"Xo\"+(Object.keys(ar).length+1).toString(10);st.id=ut,w[E]=ut,ar[ut]=st,fn.publish(\"addFormObject\",st),Y.pop().restore()}})(x),this},u.doFormObject=function(x,E){var st=ar[w[x]];return T(\"q\"),T(E.toString()+\" cm\"),T(\"/\"+st.id+\" Do\"),T(\"Q\"),this},u.getFormObject=function(x){var E=ar[w[x]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},u.save=function(x,E){return x=x||\"generated.pdf\",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(Ds(an(cn()),x),typeof Ds.unload==\"function\"&&He.setTimeout&&setTimeout(Ds.unload,911),this):new Promise(function(st,ut){try{var St=Ds(an(cn()),x);typeof Ds.unload==\"function\"&&He.setTimeout&&setTimeout(Ds.unload,911),st(St)}catch(Ht){ut(Ht.message)}})},Be.API)Be.API.hasOwnProperty(Ss)&&(Ss===\"events\"&&Be.API.events.length?(function(x,E){var st,ut,St;for(St=E.length-1;St!==-1;St--)st=E[St][0],ut=E[St][1],x.subscribe.apply(x,[st].concat(typeof ut==\"function\"?[ut]:ut))})(fn,Be.API.events):u[Ss]=Be.API[Ss]);function Bo(x){return Te[x].mediaBox.topRightX-Te[x].mediaBox.bottomLeftX}function Ba(x,E){Te[x].mediaBox.topRightX=E+Te[x].mediaBox.bottomLeftX}function Fa(x){return Te[x].mediaBox.topRightY-Te[x].mediaBox.bottomLeftY}function Bi(x,E){Te[x].mediaBox.topRightY=E+Te[x].mediaBox.bottomLeftY}var Fi=u.getPageWidth=function(x){return Bo(x=x||X)/ze},Da=u.setPageWidth=function(x,E){Ba(x,E*ze)},As=u.getPageHeight=function(x){return Fa(x=x||X)/ze},za=u.setPageHeight=function(x,E){Bi(x,E*ze)};return u.internal={pdfEscape:he,getStyle:Mi,getFont:xc,getFontSize:Ot,getCharSpace:Mc,getTextColor:Nc,getLineHeight:_c,getLineHeightFactor:Ac,getLineWidth:kc,write:pt,getHorizontalCoordinate:Pi,getVerticalCoordinate:Ri,getCoordinateString:Lc,getVerticalCoordinateString:Cc,collections:{},newObject:Ct,newAdditionalObject:Pt,newObjectDeferred:$t,newObjectDeferredBegin:wt,getFilters:ie,putStream:te,events:fn,scaleFactor:ze,pageSize:{getWidth:function(){return Fi(X)},setWidth:function(x){Da(X,x)},getHeight:function(){return As(X)},setHeight:function(x){za(X,x)}},encryptionOptions:h,encryption:nn,getEncryptor:function(x){return h!==null?nn.encryptor(x,0):function(E){return E}},output:en,getNumberOfPages:re,get pages(){return Zt},out:T,f2:R,f3:C,getPageInfo:In,getPageInfoByObjId:cr,getCurrentPageInfo:Ni,getPDFVersion:m,Point:Ti,Rectangle:Eo,Matrix:lt,hasHotfix:yn},Object.defineProperty(u.internal.pageSize,\"width\",{get:function(){return Fi(X)},set:function(x){Da(X,x)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,\"height\",{get:function(){return As(X)},set:function(x){za(X,x)},enumerable:!0,configurable:!0}),(function(x){for(var E=0,st=W.length;E<st;E++){var ut=J.call(this,x[E][0],x[E][1],x[E][2],W[E][3],!0);d===!1&&(g[ut]=!0);var St=x[E][0].split(\"-\");qt({id:ut,fontName:St[0],fontStyle:St[1]||\"\"})}fn.publish(\"addFonts\",{fonts:qe,dictionary:We})}).call(u,W),ye=\"F1\",ve(i,n),fn.publish(\"initialized\"),u}fo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},fo.prototype.toHexString=function(t){return t.split(\"\").map(function(e){return(\"0\"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join(\"\")},fo.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join(\"\")},fo.prototype.processOwnerPassword=function(t,e){return cu(lu(e).substr(0,5),t)},fo.prototype.encryptor=function(t,e){var n=lu(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cu(n,r)}},hc.prototype.equals=function(t){var e,n=\"id,objectNumber,equals\";if(!t||Sn(t)!==Sn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Be.API={events:[]},Be.version=\"4.0.0\";var $n=Be.API,Iu=1,Vs=function(t){return t.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\(/g,\"\\\\(\").replace(/\\)/g,\"\\\\)\")},ao=function(t){return t.replace(/\\\\\\\\/g,\"\\\\\").replace(/\\\\\\(/g,\"(\").replace(/\\\\\\)/g,\")\")},Je=function(t){return t.toFixed(2)},ms=function(t){return t.toFixed(5)};$n.__acroform__={};var Fr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Vd=function(t){return t*Iu},Si=function(t){var e=new O2,n=Ae.internal.getHeight(t)||0,r=Ae.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Je(r)),Number(Je(n))],e},Wv=$n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBit\");return t|1<<e},Xv=$n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBit\");return t&~(1<<e)},Gv=$n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBit\");return t&1<<e?1:0},Yn=$n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf\");return Gv(t,e-1)},Zn=$n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf\");return Wv(t,e-1)},Kn=$n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf\");return Xv(t,e-1)},Hv=$n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Je(l.lowerLeft_X)),Number(Je(l.lowerLeft_Y)),Number(Je(l.upperRight_X)),Number(Je(l.upperRight_Y))]},Vv=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=hu(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push(\"/Tx BMC\"),e.push(\"q\"),e.push(\"BT\"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push(\"/\"+i+\" \"+Je(r.fontSize)+\" Tf\"),e.push(\"1 0 0 1 0 0 Tm\"),e.push(r.text),e.push(\"ET\"),e.push(\"Q\"),e.push(\"EMC\");var s=Si(t);return s.scope=t.scope,s.stream=e.join(`\n`),s}},hu=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:\"\",fontSize:\"\"},i=(e=(e=e.substr(0,1)==\"(\"?e.substr(1):e).substr(e.length-1)==\")\"?e.substr(0,e.length-1):e).split(\" \");i=t.multiline?i.map(function(R){return R.split(`\n`)}):i.map(function(R){return[R]});var s=n,a=Ae.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ae.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(R,C,D){if(R+1<i.length){var _=C+\" \"+i[R+1][0];return _l(_,t,D).width<=o-4}return!1};s++;t:for(;s>0;){e=\"\",s--;var c,h,d=_l(\"3\",t,s).height,g=t.multiline?a-s:(a-d)/2,u=g+=2,b=0,m=0,v=0;if(s<=0){e=`(...) Tj\n`,e+=\"% Width of Text: \"+_l(e,t,s=12).width+\", FieldWidth:\"+o+`\n`;break}for(var y=\"\",k=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var M=!1;if(i[A].length!==1&&v!==i[A].length-1){if((d+2)*(k+2)+2>a)continue t;y+=i[A][v],M=!0,m=A,A--}else{y=(y+=i[A][v]+\" \").substr(y.length-1)==\" \"?y.substr(0,y.length-1):y;var z=parseInt(A),Z=l(z,y,s),H=A>=i.length-1;if(Z&&!H){y+=\" \",v=0;continue}if(Z||H){if(H)m=z;else if(t.multiline&&(d+2)*(k+2)+2>a)continue t}else{if(!t.multiline||(d+2)*(k+2)+2>a)continue t;m=z}}for(var F=\"\",P=b;P<=m;P++){var G=i[P];if(t.multiline){if(P===m){F+=G[v]+\" \",v=(v+1)%G.length;continue}if(P===b){F+=G[G.length-1]+\" \";continue}}F+=G[0]+\" \"}switch(F=F.substr(F.length-1)==\" \"?F.substr(0,F.length-1):F,h=_l(F,t,s).width,t.textAlign){case\"right\":c=o-h-2;break;case\"center\":c=(o-h)/2;break;default:c=2}e+=Je(c)+\" \"+Je(u)+` Td\n`,e+=\"(\"+Vs(F)+`) Tj\n`,e+=-Je(c)+` 0 Td\n`,u=-(s+2),h=0,b=M?m:m+1,k++,y=\"\"}break}return r.text=e,r.fontSize=s,r},_l=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth(\"3\",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Yv={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Zv=function(t,e){var n={type:\"reference\",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Kv=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Yv)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error(\"Exception while creating AcroformDictionary\");Iu=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new P2,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe(\"postPutResources\",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe(\"buildDocument\",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Zv(s,n)}})(t)}),t.internal.events.subscribe(\"putCatalog\",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error(\"putCatalogCallback: Root missing.\");n.internal.write(\"/AcroForm \"+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+\" 0 R\")})(t)}),t.internal.events.subscribe(\"postPutPages\",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Hv(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ae.createDefaultAppearanceStream(o),Sn(o)===\"object\"&&typeof o.getKeyValueListForStream==\"function\"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Vv(o);l.push({key:\"AP\",value:\"<</N \"+h+\">>\"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var d=\"\";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var u=o.appearanceStreamContent[g];if(d+=\"/\"+g+\" \",d+=\"<<\",Object.keys(u).length>=1||Array.isArray(u)){for(var a in u)if(u.hasOwnProperty(a)){var b=u[a];typeof b==\"function\"&&(b=b.call(i,o)),d+=\"/\"+a+\" \"+b+\" \",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=u)==\"function\"&&(b=b.call(i,o)),d+=\"/\"+a+\" \"+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=\">>\"}l.push({key:\"AP\",value:`<<\n`+d+\">>\"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out(\"endobj\")}s&&(function(m,v){for(var y in m)if(m.hasOwnProperty(y)){var k=y,A=m[y];v.internal.newObjectDeferredBegin(A.objId,!0),Sn(A)===\"object\"&&typeof A.putStream==\"function\"&&A.putStream(),delete m[k]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},I2=$n.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i=\"[\",s=0;s<t.length;s++)switch(s!==0&&(i+=\" \"),Sn(t[s])){case\"boolean\":case\"number\":case\"object\":i+=t[s].toString();break;case\"string\":t[s].substr(0,1)!==\"/\"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+=\"(\"+Vs(r(t[s].toString()))+\")\"):i+=t[s].toString()}return i+\"]\"}throw new Error(\"Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray\")},Nh=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||\"\").toString(),\"(\"+Vs(r(t))+\")\"},Ai=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,\"objId\",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,\"scope\",{value:this._scope,writable:!0})};Ai.prototype.toString=function(){return this.objId+\" 0 R\"},Ai.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out(\"endobj\")},Ai.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!=\"content\"&&s!=\"appearanceStreamContent\"&&s!=\"scope\"&&s!=\"objId\"&&s.substring(0,1)!=\"_\"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:I2(i,this.objId,this.scope)}):i instanceof Ai?(i.scope=this.scope,t.push({key:r,value:i.objId+\" 0 R\"})):typeof i!=\"function\"&&t.push({key:r,value:i}))}return t};var O2=function(){Ai.call(this),Object.defineProperty(this,\"Type\",{value:\"/XObject\",configurable:!1,writable:!0}),Object.defineProperty(this,\"Subtype\",{value:\"/Form\",configurable:!1,writable:!0}),Object.defineProperty(this,\"FormType\",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,\"BBox\",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,\"Resources\",{value:\"2 0 R\",configurable:!1,writable:!0}),Object.defineProperty(this,\"stream\",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Fr(O2,Ai);var P2=function(){Ai.call(this);var t,e=[];Object.defineProperty(this,\"Kids\",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,\"Fields\",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,\"DA\",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),\"(\"+Vs(n(t))+\")\"}},set:function(n){t=n}})};Fr(P2,Ai);var bi=function t(){Ai.call(this);var e=4;Object.defineProperty(this,\"F\",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value \"'+y+'\" for attribute F supplied.');e=y}}),Object.defineProperty(this,\"showWhenPrinted\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(y){y?this.F=Zn(e,3):this.F=Kn(e,3)}});var n=0;Object.defineProperty(this,\"Ff\",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value \"'+y+'\" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,\"Rect\",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,\"x\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,\"y\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,\"width\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,\"height\",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i=\"\";Object.defineProperty(this,\"FT\",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case\"/Btn\":case\"/Tx\":case\"/Ch\":case\"/Sig\":i=y;break;default:throw new Error('Invalid value \"'+y+'\" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,\"T\",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof uc)return;s=\"FieldObject\"+t.FieldNum++}var y=function(k){return k};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),\"(\"+Vs(y(s))+\")\"},set:function(y){s=y.toString()}}),Object.defineProperty(this,\"fieldName\",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a=\"helvetica\";Object.defineProperty(this,\"fontName\",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o=\"normal\";Object.defineProperty(this,\"fontStyle\",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,\"fontSize\",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,\"maxFontSize\",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Iu:c},set:function(y){c=y}});var h=\"black\";Object.defineProperty(this,\"color\",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var d=\"/F1 0 Tf 0 g\";Object.defineProperty(this,\"DA\",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof uc||this instanceof $s))return Nh(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,\"DV\",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof lr==0?Nh(g,this.objId,this.scope):g},set:function(y){y=y.toString(),g=this instanceof lr==0?y.substr(0,1)===\"(\"?ao(y.substr(1,y.length-2)):ao(y):y}}),Object.defineProperty(this,\"defaultValue\",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?ao(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof lr==1?\"/\"+y:y}});var u=null;Object.defineProperty(this,\"_V\",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(y){this.V=y}}),Object.defineProperty(this,\"V\",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof lr==0?Nh(u,this.objId,this.scope):u},set:function(y){y=y.toString(),u=this instanceof lr==0?y.substr(0,1)===\"(\"?ao(y.substr(1,y.length-2)):ao(y):y}}),Object.defineProperty(this,\"value\",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?ao(u.substr(1,u.length-1)):u},set:function(y){y=y.toString(),u=this instanceof lr==1?\"/\"+y:y}}),Object.defineProperty(this,\"hasAnnotation\",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,\"Type\",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?\"/Annot\":null}}),Object.defineProperty(this,\"Subtype\",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?\"/Widget\":null}});var b,m=!1;Object.defineProperty(this,\"hasAppearanceStream\",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,\"page\",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,\"readOnly\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(y){y?this.Ff=Zn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,\"required\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(y){y?this.Ff=Zn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,\"noExport\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(y){y?this.Ff=Zn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var v=null;Object.defineProperty(this,\"Q\",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value \"'+y+'\" for attribute Q supplied.');v=y}}),Object.defineProperty(this,\"textAlign\",{get:function(){var y;switch(v){case 0:default:y=\"left\";break;case 1:y=\"center\";break;case 2:y=\"right\"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case\"right\":case 2:v=2;break;case\"center\":case 1:v=1;break;default:v=0}}})};Fr(bi,Ai);var vo=function(){bi.call(this),this.FT=\"/Ch\",this.V=\"()\",this.fontName=\"zapfdingbats\";var t=0;Object.defineProperty(this,\"TI\",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,\"topIndex\",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,\"Opt\",{enumerable:!0,configurable:!1,get:function(){return I2(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)==\"string\"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(r,/\\((.*?)\\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||\"\").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||\"\").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,\"combo\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Zn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,\"edit\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Zn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,\"sort\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Zn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,\"multiSelect\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Zn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,\"doNotSpellCheck\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Zn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,\"commitOnSelChange\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Zn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Fr(vo,bi);var xo=function(){vo.call(this),this.fontName=\"helvetica\",this.combo=!1};Fr(xo,vo);var ko=function(){xo.call(this),this.combo=!0};Fr(ko,xo);var Dl=function(){ko.call(this),this.edit=!0};Fr(Dl,ko);var lr=function(){bi.call(this),this.FT=\"/Btn\",Object.defineProperty(this,\"noToggleToOff\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Zn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,\"radio\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Zn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,\"pushButton\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Zn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,\"radioIsUnison\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Zn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,\"MK\",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push(\"<<\"),e)i.push(\"/\"+r+\" (\"+Vs(n(e[r]))+\")\");return i.push(\">>\"),i.join(`\n`)}},set:function(n){Sn(n)===\"object\"&&(e=n)}}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,get:function(){return e.CA||\"\"},set:function(n){typeof n==\"string\"&&(e.CA=n)}}),Object.defineProperty(this,\"AS\",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,\"appearanceState\",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t=\"/\"+n}})};Fr(lr,bi);var zl=function(){lr.call(this),this.pushButton=!0};Fr(zl,lr);var _o=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,\"Kids\",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Fr(_o,lr);var uc=function(){var t,e;bi.call(this),Object.defineProperty(this,\"Parent\",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,\"optionName\",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,\"MK\",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push(\"<<\"),r)a.push(\"/\"+s+\" (\"+Vs(i(r[s]))+\")\");return a.push(\">>\"),a.join(`\n`)},set:function(i){Sn(i)===\"object\"&&(r=i)}}),Object.defineProperty(this,\"caption\",{enumerable:!0,configurable:!0,get:function(){return r.CA||\"\"},set:function(i){typeof i==\"string\"&&(r.CA=i)}}),Object.defineProperty(this,\"AS\",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,\"appearanceState\",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n=\"/\"+i}}),this.caption=\"l\",this.appearanceState=\"Off\",this._AppearanceType=Ae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fr(uc,bi),_o.prototype.setAppearance=function(t){if(!(\"createAppearanceStream\"in t)||!(\"getCA\"in t))throw new Error(\"Couldn't assign Appearance to RadioButton. Appearance was Invalid!\");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},_o.prototype.createOption=function(t){var e=new uc;return e.Parent=this,e.optionName=t,this.Kids.push(e),Jv.call(this.scope,e),e};var jl=function(){lr.call(this),this.fontName=\"zapfdingbats\",this.caption=\"3\",this.appearanceState=\"On\",this.value=\"On\",this.textAlign=\"center\",this.appearanceStreamContent=Ae.CheckBox.createAppearanceStream()};Fr(jl,lr);var $s=function(){bi.call(this),this.FT=\"/Tx\",Object.defineProperty(this,\"multiline\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Zn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,\"fileSelect\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Zn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,\"doNotSpellCheck\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Zn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,\"doNotScroll\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Zn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,\"comb\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Zn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,\"richText\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Zn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t=null;Object.defineProperty(this,\"MaxLen\",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,\"maxLength\",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,\"hasAppearanceStream\",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fr($s,bi);var Ul=function(){$s.call(this),Object.defineProperty(this,\"password\",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Zn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};Fr(Ul,$s);var Ae={CheckBox:{createAppearanceStream:function(){return{N:{On:Ae.CheckBox.YesNormal},D:{On:Ae.CheckBox.YesPushDown,Off:Ae.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=hu(t,t.caption);return n.push(\"0.749023 g\"),n.push(\"0 0 \"+Je(Ae.internal.getWidth(t))+\" \"+Je(Ae.internal.getHeight(t))+\" re\"),n.push(\"f\"),n.push(\"BMC\"),n.push(\"q\"),n.push(\"0 0 1 rg\"),n.push(\"/\"+r+\" \"+Je(s.fontSize)+\" Tf \"+i),n.push(\"BT\"),n.push(s.text),n.push(\"ET\"),n.push(\"Q\"),n.push(\"EMC\"),e.stream=n.join(`\n`),e},YesNormal:function(t){var e=Si(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ae.internal.getHeight(t),a=Ae.internal.getWidth(t),o=hu(t,t.caption);return i.push(\"1 g\"),i.push(\"0 0 \"+Je(a)+\" \"+Je(s)+\" re\"),i.push(\"f\"),i.push(\"q\"),i.push(\"0 0 1 rg\"),i.push(\"0 0 \"+Je(a-1)+\" \"+Je(s-1)+\" re\"),i.push(\"W\"),i.push(\"n\"),i.push(\"0 g\"),i.push(\"BT\"),i.push(\"/\"+n+\" \"+Je(o.fontSize)+\" Tf \"+r),i.push(o.text),i.push(\"ET\"),i.push(\"Q\"),e.stream=i.join(`\n`),e},OffPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=[];return n.push(\"0.749023 g\"),n.push(\"0 0 \"+Je(Ae.internal.getWidth(t))+\" \"+Je(Ae.internal.getHeight(t))+\" re\"),n.push(\"f\"),e.stream=n.join(`\n`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ae.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ae.RadioButton.Circle.YesNormal,e.D[t]=Ae.RadioButton.Circle.YesPushDown,e},getCA:function(){return\"l\"},YesNormal:function(t){var e=Si(t);e.scope=t.scope;var n=[],r=Ae.internal.getWidth(t)<=Ae.internal.getHeight(t)?Ae.internal.getWidth(t)/4:Ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ae.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push(\"q\"),n.push(\"1 0 0 1 \"+ms(Ae.internal.getWidth(t)/2)+\" \"+ms(Ae.internal.getHeight(t)/2)+\" cm\"),n.push(r+\" 0 m\"),n.push(r+\" \"+s+\" \"+s+\" \"+r+\" 0 \"+r+\" c\"),n.push(\"-\"+s+\" \"+r+\" -\"+r+\" \"+s+\" -\"+r+\" 0 c\"),n.push(\"-\"+r+\" -\"+s+\" -\"+s+\" -\"+r+\" 0 -\"+r+\" c\"),n.push(s+\" -\"+r+\" \"+r+\" -\"+s+\" \"+r+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(`\n`),e},YesPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=[],r=Ae.internal.getWidth(t)<=Ae.internal.getHeight(t)?Ae.internal.getWidth(t)/4:Ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ae.internal.Bezier_C).toFixed(5)),a=Number((r*Ae.internal.Bezier_C).toFixed(5));return n.push(\"0.749023 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+ms(Ae.internal.getWidth(t)/2)+\" \"+ms(Ae.internal.getHeight(t)/2)+\" cm\"),n.push(i+\" 0 m\"),n.push(i+\" \"+s+\" \"+s+\" \"+i+\" 0 \"+i+\" c\"),n.push(\"-\"+s+\" \"+i+\" -\"+i+\" \"+s+\" -\"+i+\" 0 c\"),n.push(\"-\"+i+\" -\"+s+\" -\"+s+\" -\"+i+\" 0 -\"+i+\" c\"),n.push(s+\" -\"+i+\" \"+i+\" -\"+s+\" \"+i+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),n.push(\"0 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+ms(Ae.internal.getWidth(t)/2)+\" \"+ms(Ae.internal.getHeight(t)/2)+\" cm\"),n.push(r+\" 0 m\"),n.push(r+\" \"+a+\" \"+a+\" \"+r+\" 0 \"+r+\" c\"),n.push(\"-\"+a+\" \"+r+\" -\"+r+\" \"+a+\" -\"+r+\" 0 c\"),n.push(\"-\"+r+\" -\"+a+\" -\"+a+\" -\"+r+\" 0 -\"+r+\" c\"),n.push(a+\" -\"+r+\" \"+r+\" -\"+a+\" \"+r+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(`\n`),e},OffPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=[],r=Ae.internal.getWidth(t)<=Ae.internal.getHeight(t)?Ae.internal.getWidth(t)/4:Ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ae.internal.Bezier_C).toFixed(5));return n.push(\"0.749023 g\"),n.push(\"q\"),n.push(\"1 0 0 1 \"+ms(Ae.internal.getWidth(t)/2)+\" \"+ms(Ae.internal.getHeight(t)/2)+\" cm\"),n.push(i+\" 0 m\"),n.push(i+\" \"+s+\" \"+s+\" \"+i+\" 0 \"+i+\" c\"),n.push(\"-\"+s+\" \"+i+\" -\"+i+\" \"+s+\" -\"+i+\" 0 c\"),n.push(\"-\"+i+\" -\"+s+\" -\"+s+\" -\"+i+\" 0 -\"+i+\" c\"),n.push(s+\" -\"+i+\" \"+i+\" -\"+s+\" \"+i+\" 0 c\"),n.push(\"f\"),n.push(\"Q\"),e.stream=n.join(`\n`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ae.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ae.RadioButton.Cross.YesNormal,e.D[t]=Ae.RadioButton.Cross.YesPushDown,e},getCA:function(){return\"8\"},YesNormal:function(t){var e=Si(t);e.scope=t.scope;var n=[],r=Ae.internal.calculateCross(t);return n.push(\"q\"),n.push(\"1 1 \"+Je(Ae.internal.getWidth(t)-2)+\" \"+Je(Ae.internal.getHeight(t)-2)+\" re\"),n.push(\"W\"),n.push(\"n\"),n.push(Je(r.x1.x)+\" \"+Je(r.x1.y)+\" m\"),n.push(Je(r.x2.x)+\" \"+Je(r.x2.y)+\" l\"),n.push(Je(r.x4.x)+\" \"+Je(r.x4.y)+\" m\"),n.push(Je(r.x3.x)+\" \"+Je(r.x3.y)+\" l\"),n.push(\"s\"),n.push(\"Q\"),e.stream=n.join(`\n`),e},YesPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=Ae.internal.calculateCross(t),r=[];return r.push(\"0.749023 g\"),r.push(\"0 0 \"+Je(Ae.internal.getWidth(t))+\" \"+Je(Ae.internal.getHeight(t))+\" re\"),r.push(\"f\"),r.push(\"q\"),r.push(\"1 1 \"+Je(Ae.internal.getWidth(t)-2)+\" \"+Je(Ae.internal.getHeight(t)-2)+\" re\"),r.push(\"W\"),r.push(\"n\"),r.push(Je(n.x1.x)+\" \"+Je(n.x1.y)+\" m\"),r.push(Je(n.x2.x)+\" \"+Je(n.x2.y)+\" l\"),r.push(Je(n.x4.x)+\" \"+Je(n.x4.y)+\" m\"),r.push(Je(n.x3.x)+\" \"+Je(n.x3.y)+\" l\"),r.push(\"s\"),r.push(\"Q\"),e.stream=r.join(`\n`),e},OffPushDown:function(t){var e=Si(t);e.scope=t.scope;var n=[];return n.push(\"0.749023 g\"),n.push(\"0 0 \"+Je(Ae.internal.getWidth(t))+\" \"+Je(Ae.internal.getHeight(t))+\" re\"),n.push(\"f\"),e.stream=n.join(`\n`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return\"/\"+e+\" \"+t.fontSize+\" Tf \"+n}};Ae.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ae.internal.getWidth(t),n=Ae.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ae.internal.getWidth=function(t){var e=0;return Sn(t)===\"object\"&&(e=Vd(t.Rect[2])),e},Ae.internal.getHeight=function(t){var e=0;return Sn(t)===\"object\"&&(e=Vd(t.Rect[3])),e};var Jv=$n.addField=function(t){if(Kv(this,t),!(t instanceof bi))throw new Error(\"Invalid argument passed to jsPDF.addField.\");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$n.AcroFormChoiceField=vo,$n.AcroFormListBox=xo,$n.AcroFormComboBox=ko,$n.AcroFormEditBox=Dl,$n.AcroFormButton=lr,$n.AcroFormPushButton=zl,$n.AcroFormRadioButton=_o,$n.AcroFormCheckBox=jl,$n.AcroFormTextField=$s,$n.AcroFormPasswordField=Ul,$n.AcroFormAppearance=Ae,$n.AcroForm={ChoiceField:vo,ListBox:xo,ComboBox:ko,EditBox:Dl,Button:lr,PushButton:zl,RadioButton:_o,CheckBox:jl,TextField:$s,PasswordField:Ul,Appearance:Ae},Be.AcroForm={ChoiceField:vo,ListBox:xo,ComboBox:ko,EditBox:Dl,Button:lr,PushButton:zl,RadioButton:_o,CheckBox:jl,TextField:$s,PasswordField:Ul,Appearance:Ae};Be.AcroForm;function R2(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e=\"addImage_\";t.__addimage__={};var n=\"UNKNOWN\",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(R,C){var D,_,Q,yt,ot,ft=n;if((C=C||n)===\"RGBA\"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&\"height\"in R&&\"width\"in R)return\"RGBA\";if(Z(R))for(ot in r)for(Q=r[ot],D=0;D<Q.length;D+=1){for(yt=!0,_=0;_<Q[D].length;_+=1)if(Q[D][_]!==void 0&&Q[D][_]!==R[_]){yt=!1;break}if(yt===!0){ft=ot;break}}else for(ot in r)for(Q=r[ot],D=0;D<Q.length;D+=1){for(yt=!0,_=0;_<Q[D].length;_+=1)if(Q[D][_]!==void 0&&Q[D][_]!==R.charCodeAt(_)){yt=!1;break}if(yt===!0){ft=ot;break}}return ft===n&&C!==n&&(ft=C),ft},s=function R(C){for(var D=this.internal.write,_=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf(\"FlateEncode\")!==-1;)Q.splice(Q.indexOf(\"FlateEncode\"),1);C.objectId=this.internal.newObject();var yt=[];if(yt.push({key:\"Type\",value:\"/XObject\"}),yt.push({key:\"Subtype\",value:\"/Image\"}),yt.push({key:\"Width\",value:C.width}),yt.push({key:\"Height\",value:C.height}),C.colorSpace===y.INDEXED?yt.push({key:\"ColorSpace\",value:\"[/Indexed /DeviceRGB \"+(C.palette.length/3-1)+\" \"+(\"sMask\"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+\" 0 R]\"}):(yt.push({key:\"ColorSpace\",value:\"/\"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&yt.push({key:\"Decode\",value:\"[1 0 1 0 1 0 1 0]\"})),yt.push({key:\"BitsPerComponent\",value:C.bitsPerComponent}),\"decodeParameters\"in C&&C.decodeParameters!==void 0&&yt.push({key:\"DecodeParms\",value:\"<<\"+C.decodeParameters+\">>\"}),\"transparency\"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var ot=\"\",ft=0,ct=C.transparency.length;ft<ct;ft++)ot+=C.transparency[ft]+\" \"+C.transparency[ft]+\" \";yt.push({key:\"Mask\",value:\"[\"+ot+\"]\"})}C.sMask!==void 0&&yt.push({key:\"SMask\",value:C.objectId+1+\" 0 R\"});var Tt=C.filter!==void 0?[\"/\"+C.filter]:void 0;if(_({data:C.data,additionalKeyValues:yt,alreadyAppliedFilters:Tt,objectId:C.objectId}),D(\"endobj\"),\"sMask\"in C&&C.sMask!==void 0){var at,I=(at=C.sMaskBitsPerComponent)!==null&&at!==void 0?at:C.bitsPerComponent,X={width:C.width,height:C.height,colorSpace:\"DeviceGray\",bitsPerComponent:I,data:C.sMask};\"filter\"in C&&(X.decodeParameters=\"/Predictor \".concat(C.predictor,\" /Colors 1 /BitsPerComponent \").concat(I,\" /Columns \").concat(C.width),X.filter=C.filter),R.call(this,X)}if(C.colorSpace===y.INDEXED){var K=this.internal.newObject();_({data:F(new Uint8Array(C.palette)),objectId:K}),D(\"endobj\")}},a=function(){var R=this.internal.collections[e+\"images\"];for(var C in R)s.call(this,R[C])},o=function(){var R,C=this.internal.collections[e+\"images\"],D=this.internal.write;for(var _ in C)D(\"/I\"+(R=C[_]).index,R.objectId,\"0\",\"R\")},l=function(){this.internal.collections[e+\"images\"]||(this.internal.collections[e+\"images\"]={},this.internal.events.subscribe(\"putResources\",a),this.internal.events.subscribe(\"putXobjectDict\",o))},c=function(){var R=this.internal.collections[e+\"images\"];return l.call(this),R},h=function(){return Object.keys(this.internal.collections[e+\"images\"]).length},d=function(R){return typeof t[\"process\"+R.toUpperCase()]==\"function\"},g=function(R){return Sn(R)===\"object\"&&R.nodeType===1},u=function(R,C){if(R.nodeName===\"IMG\"&&R.hasAttribute(\"src\")){var D=\"\"+R.getAttribute(\"src\");if(D.indexOf(\"data:image/\")===0)return Fl(unescape(D).split(\"base64,\").pop());var _=t.loadFile(D,!0);if(_!==void 0)return _}if(R.nodeName===\"CANVAS\"){if(R.width===0||R.height===0)throw new Error(\"Given canvas must have data. Canvas width: \"+R.width+\", height: \"+R.height);var Q;switch(C){case\"PNG\":Q=\"image/png\";break;case\"WEBP\":Q=\"image/webp\";break;default:Q=\"image/jpeg\"}return Fl(R.toDataURL(Q,1).split(\"base64,\").pop())}},b=function(R){var C=this.internal.collections[e+\"images\"];if(C){for(var D in C)if(R===C[D].alias)return C[D]}},m=function(R,C,D){return R||C||(R=-96,C=-96),R<0&&(R=-1*D.width*72/R/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),R===0&&(R=C*D.width/D.height),C===0&&(C=R*D.height/D.width),[R,C]},v=function(R,C,D,_,Q,yt){var ot=m.call(this,D,_,Q),ft=this.internal.getCoordinateString,ct=this.internal.getVerticalCoordinateString,Tt=c.call(this);if(D=ot[0],_=ot[1],Tt[Q.index]=Q,yt){yt*=Math.PI/180;var at=Math.cos(yt),I=Math.sin(yt),X=function(et){return et.toFixed(4)},K=[X(at),X(I),X(-1*I),X(at),0,0,\"cm\"]}this.internal.write(\"q\"),yt?(this.internal.write([1,\"0\",\"0\",1,ft(R),ct(C+_),\"cm\"].join(\" \")),this.internal.write(K.join(\" \")),this.internal.write([ft(D),\"0\",\"0\",ft(_),\"0\",\"0\",\"cm\"].join(\" \"))):this.internal.write([ft(D),\"0\",\"0\",ft(_),ft(R),ct(C+_),\"cm\"].join(\" \")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,\"cm\"].join(\" \")),this.internal.write(\"/I\"+Q.index+\" Do\"),this.internal.write(\"Q\")},y=t.color_spaces={DEVICE_RGB:\"DeviceRGB\",DEVICE_GRAY:\"DeviceGray\",DEVICE_CMYK:\"DeviceCMYK\",CAL_GREY:\"CalGray\",CAL_RGB:\"CalRGB\",LAB:\"Lab\",ICC_BASED:\"ICCBased\",INDEXED:\"Indexed\",PATTERN:\"Pattern\",SEPARATION:\"Separation\",DEVICE_N:\"DeviceN\"};t.decode={DCT_DECODE:\"DCTDecode\",FLATE_DECODE:\"FlateDecode\",LZW_DECODE:\"LZWDecode\",JPX_DECODE:\"JPXDecode\",JBIG2_DECODE:\"JBIG2Decode\",ASCII85_DECODE:\"ASCII85Decode\",ASCII_HEX_DECODE:\"ASCIIHexDecode\",RUN_LENGTH_DECODE:\"RunLengthDecode\",CCITT_FAX_DECODE:\"CCITTFaxDecode\"};var k=t.image_compression={NONE:\"NONE\",FAST:\"FAST\",MEDIUM:\"MEDIUM\",SLOW:\"SLOW\"},A=t.__addimage__.sHashCode=function(R){var C,D,_=0;if(typeof R==\"string\")for(D=R.length,C=0;C<D;C++)_=(_<<5)-_+R.charCodeAt(C),_|=0;else if(Z(R))for(D=R.byteLength/2,C=0;C<D;C++)_=(_<<5)-_+R[C],_|=0;return _},M=t.__addimage__.validateStringAsBase64=function(R){(R=R||\"\").toString().trim();var C=!0;return R.length===0&&(C=!1),R.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(C=!1),C},z=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith(\"data:\"))return null;var C=R.indexOf(\",\");return C<0?null:R.substring(0,C).trim().endsWith(\"base64\")?R.substring(C+1):null};t.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var Z=t.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},H=t.__addimage__.binaryStringToUint8Array=function(R){for(var C=R.length,D=new Uint8Array(C),_=0;_<C;_++)D[_]=R.charCodeAt(_);return D},F=t.__addimage__.arrayBufferToBinaryString=function(R){for(var C=\"\",D=Z(R)?R:new Uint8Array(R),_=0;_<D.length;_+=8192)C+=String.fromCharCode.apply(null,D.subarray(_,_+8192));return C};t.addImage=function(){var R,C,D,_,Q,yt,ot,ft,ct;if(typeof arguments[1]==\"number\"?(C=n,D=arguments[1],_=arguments[2],Q=arguments[3],yt=arguments[4],ot=arguments[5],ft=arguments[6],ct=arguments[7]):(C=arguments[1],D=arguments[2],_=arguments[3],Q=arguments[4],yt=arguments[5],ot=arguments[6],ft=arguments[7],ct=arguments[8]),Sn(R=arguments[0])===\"object\"&&!g(R)&&\"imageData\"in R){var Tt=R;R=Tt.imageData,C=Tt.format||C||n,D=Tt.x||D||0,_=Tt.y||_||0,Q=Tt.w||Tt.width||Q,yt=Tt.h||Tt.height||yt,ot=Tt.alias||ot,ft=Tt.compression||ft,ct=Tt.rotation||Tt.angle||ct}var at=this.internal.getFilters();if(ft===void 0&&at.indexOf(\"FlateEncode\")!==-1&&(ft=\"SLOW\"),isNaN(D)||isNaN(_))throw new Error(\"Invalid coordinates passed to jsPDF.addImage\");l.call(this);var I=P.call(this,R,C,ot,ft);return v.call(this,D,_,Q,yt,I,ct),this};var P=function(R,C,D,_){var Q,yt,ot;if(typeof R==\"string\"&&i(R)===n){R=unescape(R);var ft=G(R,!1);(ft!==\"\"||(ft=t.loadFile(R,!0))!==void 0)&&(R=ft)}if(g(R)&&(R=u(R,C)),C=i(R,C),!d(C))throw new Error(\"addImage does not support files of type '\"+C+\"', please ensure that a plugin for '\"+C+\"' support is added.\");if(((ot=D)==null||ot.length===0)&&(D=(function(ct){return typeof ct==\"string\"||Z(ct)?A(ct):Z(ct.data)?A(ct.data):null})(R)),(Q=b.call(this,D))||(R instanceof Uint8Array||C===\"RGBA\"||(yt=R,R=H(R)),Q=this[\"process\"+C.toUpperCase()](R,h.call(this),D,(function(ct){return ct&&typeof ct==\"string\"&&(ct=ct.toUpperCase()),ct in t.image_compression?ct:k.NONE})(_),yt)),!Q)throw new Error(\"An unknown error occurred whilst processing the image.\");return Q},G=t.__addimage__.convertBase64ToBinaryString=function(R,C){C=typeof C!=\"boolean\"||C;var D,_=\"\";if(typeof R==\"string\"){var Q;D=(Q=z(R))!==null&&Q!==void 0?Q:R;try{_=Fl(D)}catch(yt){if(C)throw M(D)?new Error(\"atob-Error in jsPDF.convertBase64ToBinaryString \"+yt.message):new Error(\"Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString \")}}return _};t.getImageProperties=function(R){var C,D,_=\"\";if(g(R)&&(R=u(R)),typeof R==\"string\"&&i(R)===n&&((_=G(R,!1))===\"\"&&(_=t.loadFile(R)||\"\"),R=_),D=i(R),!d(D))throw new Error(\"addImage does not support files of type '\"+D+\"', please ensure that a plugin for '\"+D+\"' support is added.\");if(R instanceof Uint8Array||(R=H(R)),!(C=this[\"process\"+D.toUpperCase()](R)))throw new Error(\"An unknown error occurred whilst processing the image\");return C.fileType=D,C}})(Be.API),(function(t){var e=function(n){if(n!==void 0&&n!=\"\")return!0};Be.API.events.push([\"addPage\",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push([\"putPage\",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,d=0;d<c.length&&!h;d++)switch((r=c[d]).type){case\"link\":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case\"reference\":case\"text\":case\"freetext\":h=!0}if(h!=0){this.internal.write(\"/Annots [\");for(var g=0;g<c.length;g++){r=c[g];var u=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case\"reference\":this.internal.write(\" \"+r.object.objId+\" 0 R \");break;case\"text\":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),k=r.title||\"Note\";s=\"<</Type /Annot /Subtype /Text \"+(i=\"/Rect [\"+a(r.bounds.x)+\" \"+o(r.bounds.y+r.bounds.h)+\" \"+a(r.bounds.x+r.bounds.w)+\" \"+o(r.bounds.y)+\"] \")+\"/Contents (\"+u(y(r.contents))+\")\",s+=\" /Popup \"+v.objId+\" 0 R\",s+=\" /P \"+l.objId+\" 0 R\",s+=\" /T (\"+u(y(k))+\") >>\",m.content=s;var A=m.objId+\" 0 R\";s=\"<</Type /Annot /Subtype /Popup \"+(i=\"/Rect [\"+a(r.bounds.x+30)+\" \"+o(r.bounds.y+r.bounds.h)+\" \"+a(r.bounds.x+r.bounds.w+30)+\" \"+o(r.bounds.y)+\"] \")+\" /Parent \"+A,r.open&&(s+=\" /Open true\"),s+=\" >>\",v.content=s,this.internal.write(m.objId,\"0 R\",v.objId,\"0 R\");break;case\"freetext\":i=\"/Rect [\"+a(r.bounds.x)+\" \"+o(r.bounds.y)+\" \"+a(r.bounds.x+r.bounds.w)+\" \"+o(r.bounds.y+r.bounds.h)+\"] \";var M=r.color||\"#000000\";s=\"<</Type /Annot /Subtype /FreeText \"+i+\"/Contents (\"+u(b(r.contents))+\")\",s+=\" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#\"+M+\")\",s+=\" /Border [0 0 0]\",s+=\" >>\",this.internal.write(s);break;case\"link\":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i=\"/Rect [\"+r.finalBounds.x+\" \"+r.finalBounds.y+\" \"+r.finalBounds.w+\" \"+r.finalBounds.h+\"] \",s=\"\",r.options.url)s=\"<</Type /Annot /Subtype /Link \"+i+\"/Border [0 0 0] /A <</S /URI /URI (\"+u(b(r.options.url))+\") >>\";else if(r.options.pageNumber)switch(s=\"<</Type /Annot /Subtype /Link \"+i+\"/Border [0 0 0] /Dest [\"+this.internal.getPageInfo(r.options.pageNumber).objId+\" 0 R\",r.options.magFactor=r.options.magFactor||\"XYZ\",r.options.magFactor){case\"Fit\":s+=\" /Fit]\";break;case\"FitH\":s+=\" /FitH \"+r.options.top+\"]\";break;case\"FitV\":r.options.left=r.options.left||0,s+=\" /FitV \"+r.options.left+\"]\";break;default:var Z=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=\" /XYZ \"+r.options.left+\" \"+Z+\" \"+r.options.zoom+\"]\"}s!=\"\"&&(s+=\" >>\",this.internal.write(s))}}this.internal.write(\"]\")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case\"link\":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case\"text\":case\"freetext\":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:\"link\"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(n,o).length;a=Math.ceil(c*h)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align===\"center\"&&(r-=l/2),s.align===\"right\"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Be.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m==\"string\"&&/^[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var v=0,y=n,k=\"\",A=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(A++,typeof(y=y[m.charCodeAt(v)])==\"number\"&&(k+=String.fromCharCode(y),y=n,A=0),v===m.length-1&&(y=n,k+=m.charAt(v-(A-1)),v-=A-1,A=0)):(y=n,k+=m.charAt(v-A),v-=A,A=0);return k};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&r[m.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(m,v,y){return a(m)?s(m)===!1?-1:!c(m)||!a(v)&&!a(y)||!a(y)&&o(v)||o(m)&&!a(v)||o(m)&&l(v)||o(m)&&o(v)?0:h(m)&&a(v)&&!o(v)&&a(y)&&c(y)?3:o(m)||!a(y)?1:2:-1},u=function(m){var v=0,y=0,k=0,A=\"\",M=\"\",z=\"\",Z=(m=m||\"\").split(\"\\\\s+\"),H=[];for(v=0;v<Z.length;v+=1){for(H.push(\"\"),y=0;y<Z[v].length;y+=1)A=Z[v][y],M=Z[v][y-1],z=Z[v][y+1],a(A)?(k=g(A,M,z),H[v]+=k!==-1?String.fromCharCode(e[A.charCodeAt(0)][k]):A):H[v]+=A;H[v]=d(H[v])}return H.join(\" \")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]==\"string\"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var k=0;for(y=[],k=0;k<v.length;k+=1)Array.isArray(v[k])?y.push([u(v[k][0]),v[k][1],v[k][2]]):y.push([u(v[k])]);m=y}else m=u(v);return typeof arguments[0]==\"string\"?m:(arguments[0].text=m,arguments[0])};t.events.push([\"preProcessText\",b])})(Be.API),Be.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||\"non-conform\",t.variant===\"javascript\"?this.addJS(\"print({});\"):(this.internal.events.subscribe(\"postPutResources\",function(){e=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/S /Named\"),this.internal.out(\"/Type /Action\"),this.internal.out(\"/N /Print\"),this.internal.out(\">>\"),this.internal.out(\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){this.internal.out(\"/OpenAction \"+e+\" 0 R\")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,\"pdf\",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,\"width\",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext(\"2d\").pageWrapXEnabled&&(this.getContext(\"2d\").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,\"height\",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext(\"2d\").pageWrapYEnabled&&(this.getContext(\"2d\").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,\"childNodes\",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,\"style\",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,\"parentNode\",{})};e.prototype.getContext=function(n,r){var i;if((n=n||\"2d\")!==\"2d\")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error(\"toDataURL is not implemented.\")},t.events.push([\"initialized\",function(){this.canvas=new e,this.canvas.pdf=this}])})(Be.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,\"x\",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,\"y\",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var h=arguments[2];Object.defineProperty(this,\"width\",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[3];Object.defineProperty(this,\"height\",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var g=arguments[4];Object.defineProperty(this,\"text\",{enumerable:!0,get:function(){return g},set:function(m){g=m}});var u=arguments[5];Object.defineProperty(this,\"lineNumber\",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var b=arguments[6];return Object.defineProperty(this,\"align\",{enumerable:!0,get:function(){return b},set:function(m){b=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l==\"function\"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,u=0,b=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!=\"string\"){if(typeof l!=\"number\")throw new Error(\"getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.\");l=String(l)}var y=c.maxWidth;y>0?typeof l==\"string\"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)===\"[object Array]\"&&(l=l.reduce(function(A,M){return A.concat(v.splitTextToSize(M,y))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)u<(m=this.getStringUnitWidth(l[k],{font:d})*h)&&(u=m);return u!==0&&(b=l.length),{w:u/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,u&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?\"FD\":void 0),l.align===\"right\"?this.text(l.text,l.x+l.width-h,l.y+h,{align:\"right\",baseline:\"top\"}):l.align===\"center\"?this.text(l.text,l.x+l.width/2,l.y+h,{align:\"center\",baseline:\"top\",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:\"left\",baseline:\"top\",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,d,g){if(r.call(this),!h)throw new Error(\"No data for PDF table.\");var u,b,m,v,y=[],k=[],A=[],M={},z={},Z=[],H=[],F=(g=g||{}).autoSize||!1,P=g.printHeaders!==!1,G=g.css&&g.css[\"font-size\"]!==void 0?16*g.css[\"font-size\"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},e),C=typeof g.padding==\"number\"?g.padding:3,D=g.headerBackgroundColor||\"#c8c8c8\",_=g.headerTextColor||\"#000\";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=_,this.setFontSize(G),d==null)k=y=Object.keys(h[0]),A=y.map(function(){return\"left\"});else if(Array.isArray(d)&&Sn(d[0])===\"object\")for(y=d.map(function(Tt){return Tt.name}),k=d.map(function(Tt){return Tt.prompt||Tt.name||\"\"}),A=d.map(function(Tt){return Tt.align||\"left\"}),u=0;u<d.length;u+=1)z[d[u].name]=.7499990551181103*d[u].width;else Array.isArray(d)&&typeof d[0]==\"string\"&&(k=y=d,A=y.map(function(){return\"left\"}));if(F||Array.isArray(d)&&typeof d[0]==\"string\")for(u=0;u<y.length;u+=1){for(M[v=y[u]]=h.map(function(Tt){return Tt[v]}),this.setFont(void 0,\"bold\"),Z.push(this.getTextDimensions(k[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=M[v],this.setFont(void 0,\"normal\"),m=0;m<b.length;m+=1)Z.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[v]=Math.max.apply(null,Z)+C+C,Z=[]}if(P){var Q={};for(u=0;u<y.length;u+=1)Q[y[u]]={},Q[y[u]].text=k[u],Q[y[u]].align=A[u];var yt=o.call(this,Q,z);H=y.map(function(Tt){return new s(l,c,z[Tt],yt,Q[Tt].text,void 0,Q[Tt].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ot=d.reduce(function(Tt,at){return Tt[at.name]=at.align,Tt},{});for(u=0;u<h.length;u+=1){\"rowStart\"in g&&g.rowStart instanceof Function&&g.rowStart({row:u,data:h[u]},this);var ft=o.call(this,h[u],z);for(m=0;m<y.length;m+=1){var ct=h[u][y[m]];\"cellStart\"in g&&g.cellStart instanceof Function&&g.cellStart({row:u,col:m,data:ct},this),a.call(this,new s(l,c,z[y[m]],ft,ct,u+2,ot[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(u){var b=l[u];return this.splitTextToSize(b.hasOwnProperty(\"text\")?b.text:b,c[u]-h-h)},this).map(function(u){return this.getLineHeightFactor()*u.length*d/g+h+h},this).reduce(function(u,b){return Math.max(u,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error(\"Property tableHeaderRow does not exist.\");var h;if(n=!0,typeof this.internal.__cell__.headerFunction==\"function\"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,\"bold\");for(var g=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){h=this.internal.__cell__.tableHeaderRow[u].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,\"normal\"),n=!1}})(Be.API);var E2={italic:[\"italic\",\"oblique\",\"normal\"],oblique:[\"oblique\",\"italic\",\"normal\"],normal:[\"normal\",\"oblique\",\"italic\"]},T2=[\"ultra-condensed\",\"extra-condensed\",\"condensed\",\"semi-condensed\",\"normal\",\"semi-expanded\",\"expanded\",\"extra-expanded\",\"ultra-expanded\"],uu=R2(T2),B2=[100,200,300,400,500,600,700,800,900],Qv=R2(B2);function Mh(t){var e=t.family.replace(/\"|'/g,\"\").toLowerCase(),n=(function(s){return E2[s=s||\"normal\"]?s:\"normal\"})(t.style),r=(function(s){return s?typeof s==\"number\"?s>=100&&s<=900&&s%100==0?s:400:/^\\d00$/.test(s)?parseInt(s):s===\"bold\"?700:400:400})(t.weight),i=(function(s){return typeof uu[s=s||\"normal\"]==\"number\"?s:\"normal\"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(\" \")}}}function Yd(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var tx={\"sans-serif\":\"helvetica\",fixed:\"courier\",monospace:\"courier\",terminal:\"courier\",cursive:\"times\",fantasy:\"times\",serif:\"times\"},Zd={caption:\"times\",icon:\"times\",menu:\"times\",\"message-box\":\"times\",\"small-caption\":\"times\",\"status-bar\":\"times\"};function Kd(t){return[t.stretch,t.style,t.weight,t.family].join(\" \")}function Jd(t){return t.trimLeft()}function ex(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function nx(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Sl,Qd,tp,lo,Al,ep,np,rp,Ih=[\"times\"];function ip(t,e,n,r,i){var s=4,a=op;switch(i){case Be.API.image_compression.FAST:s=1,a=sp;break;case Be.API.image_compression.MEDIUM:s=6,a=ap;break;case Be.API.image_compression.SLOW:s=9,a=lp}t=(function(l,c,h,d){for(var g,u=l.length/c,b=new Uint8Array(l.length+u),m=[rx,sp,op,ap,lp],v=0;v<u;v+=1){var y=v*c,k=l.subarray(y,y+c);if(d)b.set(d(k,h,g),y+v);else{for(var A=m.length,M=[],z=0;z<A;z+=1)M[z]=m[z](k,h,g);var Z=sx(M.concat());b.set(M[Z],y+v)}g=k}return b})(t,e,Math.ceil(n*r/8),a);var o=iu(t,{level:s});return Be.API.__addimage__.arrayBufferToBinaryString(o)}function rx(t){var e=Array.apply([],t);return e.unshift(0),e}function sp(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function op(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function ap(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function lp(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=ix(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function ix(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function sx(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Oh(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return F2(t,i)>>s&a}function cp(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(e&o)<<a;(function(c,h,d){if(h+1<c.byteLength)c.setUint16(h,d,!1);else{var g=d>>8&255;c.setUint8(h,g)}})(t,s,F2(t,s)&~(o<<a)&65535|l)}function F2(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function ox(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error(\"Invalid GIF 87a/89a header.\");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,h=[],d=0,g=null,u=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error(\"Invalid block size\");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error(\"Invalid graphics extension block.\");var m=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&m||(g=null),u=m>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error(\"Invalid block size\");if(R===0)break;e+=R}break;default:throw new Error(\"Unknown graphic control label: 0x\"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,M=t[e++],z=M>>6&1,Z=1<<1+(7&M),H=o,F=l,P=!1;M>>7&&(P=!0,H=e,F=Z,e+=3*Z);var G=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error(\"Invalid block size\");if(R===0)break;e+=R}h.push({x:v,y,width:k,height:A,has_local_palette:P,palette_offset:H,palette_size:F,data_offset:G,data_length:e-G,transparent_index:g,interlaced:!!z,delay:d,disposal:u});break;case 59:c=!1;break;default:throw new Error(\"Unknown gif block: 0x\"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(C){if(C<0||C>=h.length)throw new Error(\"Frame index out of range.\");return h[C]},this.decodeAndBlitFrameBGRA=function(C,D){var _=this.frameInfo(C),Q=_.width*_.height,yt=new Uint8Array(Q);hp(t,_.data_offset,yt,Q);var ot=_.palette_offset,ft=_.transparent_index;ft===null&&(ft=256);var ct=_.width,Tt=n-ct,at=ct,I=4*(_.y*n+_.x),X=4*((_.y+_.height)*n+_.x),K=I,et=4*Tt;_.interlaced===!0&&(et+=4*n*7);for(var gt=8,kt=0,_t=yt.length;kt<_t;++kt){var It=yt[kt];if(at===0&&(at=ct,(K+=et)>=X&&(et=4*Tt+4*n*(gt-1),K=I+(ct+Tt)*(gt<<1),gt>>=1)),It===ft)K+=4;else{var Ut=t[ot+3*It],Zt=t[ot+3*It+1],de=t[ot+3*It+2];D[K++]=de,D[K++]=Zt,D[K++]=Ut,D[K++]=255}--at}},this.decodeAndBlitFrameRGBA=function(C,D){var _=this.frameInfo(C),Q=_.width*_.height,yt=new Uint8Array(Q);hp(t,_.data_offset,yt,Q);var ot=_.palette_offset,ft=_.transparent_index;ft===null&&(ft=256);var ct=_.width,Tt=n-ct,at=ct,I=4*(_.y*n+_.x),X=4*((_.y+_.height)*n+_.x),K=I,et=4*Tt;_.interlaced===!0&&(et+=4*n*7);for(var gt=8,kt=0,_t=yt.length;kt<_t;++kt){var It=yt[kt];if(at===0&&(at=ct,(K+=et)>=X&&(et=4*Tt+4*n*(gt-1),K=I+(ct+Tt)*(gt<<1),gt>>=1)),It===ft)K+=4;else{var Ut=t[ot+3*It],Zt=t[ot+3*It+1],de=t[ot+3*It+2];D[K++]=Ut,D[K++]=Zt,D[K++]=de,D[K++]=255}--at}}}function hp(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,h=0,d=0,g=0,u=t[e++],b=new Int32Array(4096),m=null;;){for(;h<16&&u!==0;)d|=t[e++]<<h,h+=8,u===1?u=t[e++]:--u;if(h<l)break;var v=d&c;if(d>>=l,h-=l,v!==s){if(v===a)break;for(var y=v<o?v:m,k=0,A=y;A>s;)A=b[A]>>8,++k;var M=A;if(g+k+(y!==v?1:0)>r)return void Mn.log(\"Warning, gif stream longer than expected.\");n[g++]=M;var z=g+=k;for(y!==v&&(n[g++]=M),A=y;k--;)A=b[A],n[--z]=255&A,A>>=8;m!==null&&o<4096&&(b[o++]=m<<8|M,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=a+1,c=(1<<(l=i+1))-1,m=null}return g!==r&&Mn.log(\"Warning, gif stream shorter than expected.\"),n}function Ph(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),g=new Array(65535),u=new Array(64),b=new Array(64),m=[],v=0,y=7,k=new Array(64),A=new Array(64),M=new Array(64),z=new Array(256),Z=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function yt(I,X){for(var K=0,et=0,gt=new Array,kt=1;kt<=16;kt++){for(var _t=1;_t<=I[kt];_t++)gt[X[et]]=[],gt[X[et]][0]=K,gt[X[et]][1]=kt,et++,K++;K*=2}return gt}function ot(I){for(var X=I[0],K=I[1]-1;K>=0;)X&1<<K&&(v|=1<<y),K--,--y<0&&(v==255?(ft(255),ft(0)):ft(v),y=7,v=0)}function ft(I){m.push(I)}function ct(I){ft(I>>8&255),ft(255&I)}function Tt(I,X,K,et,gt){for(var kt,_t=gt[0],It=gt[240],Ut=(function(nt,Lt){var Ot,dt,Bt,ee,Gt,ne,xe,me,ye,ze,we=0;for(ye=0;ye<8;++ye){Ot=nt[we],dt=nt[we+1],Bt=nt[we+2],ee=nt[we+3],Gt=nt[we+4],ne=nt[we+5],xe=nt[we+6];var on=Ot+(me=nt[we+7]),Ie=Ot-me,qe=dt+xe,We=dt-xe,ln=Bt+ne,Re=Bt-ne,mn=ee+Gt,De=ee-Gt,Xe=on+mn,wn=on-mn,Ge=qe+ln,Te=qe-ln;nt[we]=Xe+Ge,nt[we+4]=Xe-Ge;var fn=.707106781*(Te+wn);nt[we+2]=wn+fn,nt[we+6]=wn-fn;var Ci=.382683433*((Xe=De+Re)-(Te=We+Ie)),ar=.5411961*Xe+Ci,w=1.306562965*Te+Ci,Y=.707106781*(Ge=Re+We),lt=Ie+Y,ht=Ie-Y;nt[we+5]=ht+ar,nt[we+3]=ht-ar,nt[we+1]=lt+w,nt[we+7]=lt-w,we+=8}for(we=0,ye=0;ye<8;++ye){Ot=nt[we],dt=nt[we+8],Bt=nt[we+16],ee=nt[we+24],Gt=nt[we+32],ne=nt[we+40],xe=nt[we+48];var Mt=Ot+(me=nt[we+56]),vt=Ot-me,j=dt+xe,Ct=dt-xe,$t=Bt+ne,wt=Bt-ne,Pt=ee+Gt,jt=ee-Gt,Ft=Mt+Pt,At=Mt-Pt,Dt=j+$t,ie=j-$t;nt[we]=Ft+Dt,nt[we+32]=Ft-Dt;var te=.707106781*(ie+At);nt[we+16]=At+te,nt[we+48]=At-te;var oe=.382683433*((Ft=jt+wt)-(ie=Ct+vt)),zt=.5411961*Ft+oe,ae=1.306562965*ie+oe,Me=.707106781*(Dt=wt+Ct),Fe=vt+Me,Vt=vt-Me;nt[we+40]=Vt+zt,nt[we+24]=Vt-zt,nt[we+8]=Fe+ae,nt[we+56]=Fe-ae,we++}for(ye=0;ye<64;++ye)ze=nt[ye]*Lt[ye],u[ye]=ze>0?ze+.5|0:ze-.5|0;return u})(I,X),Zt=0;Zt<64;++Zt)b[H[Zt]]=Ut[Zt];var de=b[0]-K;K=b[0],de==0?ot(et[0]):(ot(et[g[kt=32767+de]]),ot(d[kt]));for(var ce=63;ce>0&&b[ce]==0;)ce--;if(ce==0)return ot(_t),K;for(var O,T=1;T<=ce;){for(var pt=T;b[T]==0&&T<=ce;)++T;var tt=T-pt;if(tt>=16){O=tt>>4;for(var W=1;W<=O;++W)ot(It);tt&=15}kt=32767+b[T],ot(gt[(tt<<4)+g[kt]]),ot(d[kt]),T++}return ce!=63&&ot(_t),K}function at(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(X){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],et=0;et<64;et++){var gt=a((K[et]*X+50)/100);gt=Math.min(Math.max(gt,1),255),o[H[et]]=gt}for(var kt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_t=0;_t<64;_t++){var It=a((kt[_t]*X+50)/100);It=Math.min(Math.max(It,1),255),l[H[_t]]=It}for(var Ut=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Zt=0,de=0;de<8;de++)for(var ce=0;ce<8;ce++)c[Zt]=1/(o[H[Zt]]*Ut[de]*Ut[ce]*8),h[Zt]=1/(l[H[Zt]]*Ut[de]*Ut[ce]*8),Zt++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,X){X&&at(X),m=new Array,v=0,y=7,ct(65496),ct(65504),ct(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),ct(1),ct(1),ft(0),ft(0),(function(){ct(65499),ct(132),ft(0);for(var dt=0;dt<64;dt++)ft(o[dt]);ft(1);for(var Bt=0;Bt<64;Bt++)ft(l[Bt])})(),(function(dt,Bt){ct(65472),ct(17),ft(8),ct(Bt),ct(dt),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)})(I.width,I.height),(function(){ct(65476),ct(418),ft(0);for(var dt=0;dt<16;dt++)ft(F[dt+1]);for(var Bt=0;Bt<=11;Bt++)ft(P[Bt]);ft(16);for(var ee=0;ee<16;ee++)ft(G[ee+1]);for(var Gt=0;Gt<=161;Gt++)ft(R[Gt]);ft(1);for(var ne=0;ne<16;ne++)ft(C[ne+1]);for(var xe=0;xe<=11;xe++)ft(D[xe]);ft(17);for(var me=0;me<16;me++)ft(_[me+1]);for(var ye=0;ye<=161;ye++)ft(Q[ye])})(),ct(65498),ct(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var K=0,et=0,gt=0;v=0,y=7,this.encode.displayName=\"_encode_\";for(var kt,_t,It,Ut,Zt,de,ce,O,T,pt=I.data,tt=I.width,W=I.height,nt=4*tt,Lt=0;Lt<W;){for(kt=0;kt<nt;){for(Zt=nt*Lt+kt,ce=-1,O=0,T=0;T<64;T++)de=Zt+(O=T>>3)*nt+(ce=4*(7&T)),Lt+O>=W&&(de-=nt*(Lt+1+O-W)),kt+ce>=nt&&(de-=kt+ce-nt+4),_t=pt[de++],It=pt[de++],Ut=pt[de++],k[T]=(Z[_t]+Z[It+256|0]+Z[Ut+512|0]>>16)-128,A[T]=(Z[_t+768|0]+Z[It+1024|0]+Z[Ut+1280|0]>>16)-128,M[T]=(Z[_t+1280|0]+Z[It+1536|0]+Z[Ut+1792|0]>>16)-128;K=Tt(k,c,K,e,r),et=Tt(A,h,et,n,i),gt=Tt(M,h,gt,n,i),kt+=32}Lt+=8}if(y>=0){var Ot=[];Ot[1]=y+1,Ot[0]=(1<<y+1)-1,ot(Ot)}return ct(65497),new Uint8Array(m)},t=t||50,(function(){for(var I=String.fromCharCode,X=0;X<256;X++)z[X]=I(X)})(),e=yt(F,P),n=yt(C,D),r=yt(G,R),i=yt(_,Q),(function(){for(var I=1,X=2,K=1;K<=15;K++){for(var et=I;et<X;et++)g[32767+et]=K,d[32767+et]=[],d[32767+et][1]=K,d[32767+et][0]=et;for(var gt=-(X-1);gt<=-I;gt++)g[32767+gt]=K,d[32767+gt]=[],d[32767+gt][1]=K,d[32767+gt][0]=X-1+gt;I<<=1,X<<=1}})(),(function(){for(var I=0;I<256;I++)Z[I]=19595*I,Z[I+256|0]=38470*I,Z[I+512|0]=7471*I+32768,Z[I+768|0]=-11059*I,Z[I+1024|0]=-21709*I,Z[I+1280|0]=32768*I+8421375,Z[I+1536|0]=-27439*I,Z[I+1792|0]=-5329*I})(),at(t)}function fi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,[\"BM\",\"BA\",\"CI\",\"CP\",\"IC\",\"PT\"].indexOf(this.flag)===-1)throw new Error(\"Invalid BMP File\");this.parseHeader(),this.parseBGR()}function up(t){function e(P){if(!P)throw Error(\"assert :P\")}function n(P,G,R){for(var C=0;4>C;C++)if(P[G+C]!=R.charCodeAt(C))return!0;return!1}function r(P,G,R,C,D){for(var _=0;_<D;_++)P[G+_]=R[C+_]}function i(P,G,R,C){for(var D=0;D<C;D++)P[G+D]=R}function s(P){return new Int32Array(P)}function a(P,G){for(var R=[],C=0;C<P;C++)R.push(new G);return R}function o(P,G){var R=[];return(function C(D,_,Q){for(var yt=Q[_],ot=0;ot<yt&&(D.push(Q.length>_+1?[]:new G),!(Q.length<_+1));ot++)C(D[ot],_+1,Q)})(R,0,P),R}var l=function(){var P=this;function G(f,p){for(var S=1<<p-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function R(f,p,S,N,B){e(!(N%S));do f[p+(N-=S)]=B;while(0<N)}function C(f,p,S,N,B){if(e(2328>=B),512>=B)var U=s(512);else if((U=s(B))==null)return 0;return(function($,q,V,rt,bt,Et){var it,xt,Nt=q,Wt=1<<V,Rt=s(16),Xt=s(16);for(e(bt!=0),e(rt!=null),e($!=null),e(0<V),xt=0;xt<bt;++xt){if(15<rt[xt])return 0;++Rt[rt[xt]]}if(Rt[0]==bt)return 0;for(Xt[1]=0,it=1;15>it;++it){if(Rt[it]>1<<it)return 0;Xt[it+1]=Xt[it]+Rt[it]}for(xt=0;xt<bt;++xt)it=rt[xt],0<rt[xt]&&(Et[Xt[it]++]=xt);if(Xt[15]==1)return(rt=new D).g=0,rt.value=Et[0],R($,Nt,1,Wt,rt),Wt;var Yt,se=-1,Qt=Wt-1,Ee=0,ke=1,rn=1,Ce=1<<V;for(xt=0,it=1,bt=2;it<=V;++it,bt<<=1){if(ke+=rn<<=1,0>(rn-=Rt[it]))return 0;for(;0<Rt[it];--Rt[it])(rt=new D).g=it,rt.value=Et[xt++],R($,Nt+Ee,bt,Ce,rt),Ee=G(Ee,it)}for(it=V+1,bt=2;15>=it;++it,bt<<=1){if(ke+=rn<<=1,0>(rn-=Rt[it]))return 0;for(;0<Rt[it];--Rt[it]){if(rt=new D,(Ee&Qt)!=se){for(Nt+=Ce,Yt=1<<(se=it)-V;15>se&&!(0>=(Yt-=Rt[se]));)++se,Yt<<=1;Wt+=Ce=1<<(Yt=se-V),$[q+(se=Ee&Qt)].g=Yt+V,$[q+se].value=Nt-q-se}rt.g=it-V,rt.value=Et[xt++],R($,Nt+(Ee>>V),bt,Ce,rt),Ee=G(Ee,it)}}return ke!=2*Xt[15]-1?0:Wt})(f,p,S,N,B,U)}function D(){this.value=this.g=0}function _(){this.value=this.g=0}function Q(){this.G=a(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Os,_)}function yt(f,p,S,N){e(f!=null),e(p!=null),e(2147483648>N),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=p,f.pa=S,f.Jd=p,f.Yc=S+N,f.Zc=4<=N?S+N-4+1:S,_t(f)}function ot(f,p){for(var S=0;0<p--;)S|=Ut(f,128)<<p;return S}function ft(f,p){var S=ot(f,p);return It(f)?-S:S}function ct(f,p,S,N){var B,U=0;for(e(f!=null),e(p!=null),e(4294967288>N),f.Sb=N,f.Ra=0,f.u=0,f.h=0,4<N&&(N=4),B=0;B<N;++B)U+=p[S+B]<<8*B;f.Ra=U,f.bb=N,f.oa=p,f.pa=S}function Tt(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<rs-8>>>0,++f.bb,f.u-=8;et(f)&&(f.h=1,f.u=0)}function at(f,p){if(e(0<=p),!f.h&&p<=zr){var S=K(f)&Dr[p];return f.u+=p,Tt(f),S}return f.h=1,f.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(f){return f.Ra>>>(f.u&rs-1)>>>0}function et(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>rs}function gt(f,p){f.u=p,f.h=et(f)}function kt(f){f.u>=Ui&&(e(f.u>=Ui),Tt(f))}function _t(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function It(f){return ot(f,1)}function Ut(f,p){var S=f.Ca;0>f.b&&_t(f);var N=f.b,B=S*p>>>8,U=(f.I>>>N>B)+0;for(U?(S-=B,f.I-=B+1<<N>>>0):S=B+1,N=S,B=0;256<=N;)B+=8,N>>=8;return N=7^B+is[N],f.b-=N,f.Ca=(S<<N)-1,U}function Zt(f,p,S){f[p+0]=S>>24&255,f[p+1]=S>>16&255,f[p+2]=S>>8&255,f[p+3]=255&S}function de(f,p){return f[p+0]|f[p+1]<<8}function ce(f,p){return de(f,p)|f[p+2]<<16}function O(f,p){return de(f,p)|de(f,p+2)<<16}function T(f,p){var S=1<<p;return e(f!=null),e(0<p),f.X=s(S),f.X==null?0:(f.Mb=32-p,f.Xa=p,1)}function pt(f,p){e(f!=null),e(p!=null),e(f.Xa==p.Xa),r(p.X,0,f.X,0,1<<p.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function W(f,p,S,N){e(S!=null),e(N!=null);var B=S[0],U=N[0];return B==0&&(B=(f*U+p/2)/p),U==0&&(U=(p*B+f/2)/f),0>=B||0>=U?0:(S[0]=B,N[0]=U,1)}function nt(f,p){return f+(1<<p)-1>>>p}function Lt(f,p){return((4278255360&f)+(4278255360&p)>>>0&4278255360)+((16711935&f)+(16711935&p)>>>0&16711935)>>>0}function Ot(f,p){P[p]=function(S,N,B,U,$,q,V){var rt;for(rt=0;rt<$;++rt){var bt=P[f](q[V+rt-1],B,U+rt);q[V+rt]=Lt(S[N+rt],bt)}}}function dt(){this.ud=this.hd=this.jd=0}function Bt(f,p){return((4278124286&(f^p))>>>1)+(f&p)>>>0}function ee(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Gt(f,p){return ee(f+(f-p+.5>>1))}function ne(f,p,S){return Math.abs(p-S)-Math.abs(f-S)}function xe(f,p,S,N,B,U,$){for(N=U[$-1],S=0;S<B;++S)U[$+S]=N=Lt(f[p+S],N)}function me(f,p,S,N,B){var U;for(U=0;U<S;++U){var $=f[p+U],q=$>>8&255,V=16711935&(V=(V=16711935&$)+((q<<16)+q));N[B+U]=(4278255360&$)+V>>>0}}function ye(f,p){p.jd=255&f,p.hd=f>>8&255,p.ud=f>>16&255}function ze(f,p,S,N,B,U){var $;for($=0;$<N;++$){var q=p[S+$],V=q>>>8,rt=q,bt=255&(bt=(bt=q>>>16)+((f.jd<<24>>24)*(V<<24>>24)>>>5));rt=255&(rt=(rt+=(f.hd<<24>>24)*(V<<24>>24)>>>5)+((f.ud<<24>>24)*(bt<<24>>24)>>>5)),B[U+$]=(4278255360&q)+(bt<<16)+rt}}function we(f,p,S,N,B){P[p]=function(U,$,q,V,rt,bt,Et,it,xt){for(V=Et;V<it;++V)for(Et=0;Et<xt;++Et)rt[bt++]=B(q[N(U[$++])])},P[f]=function(U,$,q,V,rt,bt,Et){var it=8>>U.b,xt=U.Ea,Nt=U.K[0],Wt=U.w;if(8>it)for(U=(1<<U.b)-1,Wt=(1<<it)-1;$<q;++$){var Rt,Xt=0;for(Rt=0;Rt<xt;++Rt)Rt&U||(Xt=N(V[rt++])),bt[Et++]=B(Nt[Xt&Wt]),Xt>>=it}else P[\"VP8LMapColor\"+S](V,rt,Nt,Wt,bt,Et,$,q,xt)}}function on(f,p,S,N,B){for(S=p+S;p<S;){var U=f[p++];N[B++]=U>>16&255,N[B++]=U>>8&255,N[B++]=255&U}}function Ie(f,p,S,N,B){for(S=p+S;p<S;){var U=f[p++];N[B++]=U>>16&255,N[B++]=U>>8&255,N[B++]=255&U,N[B++]=U>>24&255}}function qe(f,p,S,N,B){for(S=p+S;p<S;){var U=($=f[p++])>>16&240|$>>12&15,$=240&$|$>>28&15;N[B++]=U,N[B++]=$}}function We(f,p,S,N,B){for(S=p+S;p<S;){var U=($=f[p++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;N[B++]=U,N[B++]=$}}function ln(f,p,S,N,B){for(S=p+S;p<S;){var U=f[p++];N[B++]=255&U,N[B++]=U>>8&255,N[B++]=U>>16&255}}function Re(f,p,S,N,B,U){if(U==0)for(S=p+S;p<S;)Zt(N,((U=f[p++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),B+=32;else r(N,B,f,p,S)}function mn(f,p){P[p][0]=P[f+\"0\"],P[p][1]=P[f+\"1\"],P[p][2]=P[f+\"2\"],P[p][3]=P[f+\"3\"],P[p][4]=P[f+\"4\"],P[p][5]=P[f+\"5\"],P[p][6]=P[f+\"6\"],P[p][7]=P[f+\"7\"],P[p][8]=P[f+\"8\"],P[p][9]=P[f+\"9\"],P[p][10]=P[f+\"10\"],P[p][11]=P[f+\"11\"],P[p][12]=P[f+\"12\"],P[p][13]=P[f+\"13\"],P[p][14]=P[f+\"0\"],P[p][15]=P[f+\"0\"]}function De(f){return f==Pc||f==Rc||f==Va||f==Ec}function Xe(){this.eb=[],this.size=this.A=this.fb=0}function wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ge(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xe,this.f.kb=new wn,this.sd=null}function Te(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ci(f){return alert(\"todo:WebPSamplerProcessPlane\"),f.T}function ar(f,p){var S=f.T,N=p.ba.f.RGBA,B=N.eb,U=N.fb+f.ka*N.A,$=ti[p.ba.S],q=f.y,V=f.O,rt=f.f,bt=f.N,Et=f.ea,it=f.W,xt=p.cc,Nt=p.dc,Wt=p.Mc,Rt=p.Nc,Xt=f.ka,Yt=f.ka+f.T,se=f.U,Qt=se+1>>1;for(Xt==0?$(q,V,null,null,rt,bt,Et,it,rt,bt,Et,it,B,U,null,null,se):($(p.ec,p.fc,q,V,xt,Nt,Wt,Rt,rt,bt,Et,it,B,U-N.A,B,U,se),++S);Xt+2<Yt;Xt+=2)xt=rt,Nt=bt,Wt=Et,Rt=it,bt+=f.Rc,it+=f.Rc,U+=2*N.A,$(q,(V+=2*f.fa)-f.fa,q,V,xt,Nt,Wt,Rt,rt,bt,Et,it,B,U-N.A,B,U,se);return V+=f.fa,f.j+Yt<f.o?(r(p.ec,p.fc,q,V,se),r(p.cc,p.dc,rt,bt,Qt),r(p.Mc,p.Nc,Et,it,Qt),S--):1&Yt||$(q,V,null,null,rt,bt,Et,it,rt,bt,Et,it,B,U+N.A,null,null,se),S}function w(f,p,S){var N=f.F,B=[f.J];if(N!=null){var U=f.U,$=p.ba.S,q=$==Ha||$==Va;p=p.ba.f.RGBA;var V=[0],rt=f.ka;V[0]=f.T,f.Kb&&(rt==0?--V[0]:(--rt,B[0]-=f.width),f.j+f.ka+f.T==f.o&&(V[0]=f.o-f.j-rt));var bt=p.eb;rt=p.fb+rt*p.A,f=Du(N,B[0],f.width,U,V,bt,rt+(q?0:3),p.A),e(S==V),f&&De($)&&Vo(bt,rt,q,U,V,p.A)}return 0}function Y(f){var p=f.ma,S=p.ba.S,N=11>S,B=S==Xa||S==Ga||S==Ha||S==Oc||S==12||De(S);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!jo(p.Oa,f,B?11:12))return 0;if(B&&De(S)&&Fo(),f.da)alert(\"todo:use_scaling\");else{if(N){if(p.Ib=Ci,f.Kb){if(S=f.U+1>>1,p.memory=s(f.U+2*S),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+f.U,p.Mc=p.cc,p.Nc=p.dc+S,p.Ib=ar,Fo()}}else alert(\"todo:EmitYUV\");B&&(p.Jb=w,N&&li())}if(N&&!tf){for(f=0;256>f;++f)ig[f]=89858*(f-128)+Za>>Ya,ag[f]=-22014*(f-128)+Za,og[f]=-45773*(f-128),sg[f]=113618*(f-128)+Za>>Ya;for(f=Zo;f<Fc;++f)p=76283*(f-16)+Za>>Ya,lg[f-Zo]=Se(p,255),cg[f-Zo]=Se(p+8>>4,15);tf=1}return 1}function lt(f){var p=f.ma,S=f.U,N=f.T;return e(!(1&f.ka)),0>=S||0>=N?0:(S=p.Ib(f,p),p.Jb!=null&&p.Jb(f,p,S),p.Dc+=S,1)}function ht(f){f.ma.memory=null}function Mt(f,p,S,N){return at(f,8)!=47?0:(p[0]=at(f,14)+1,S[0]=at(f,14)+1,N[0]=at(f,1),at(f,3)!=0?0:!f.h)}function vt(f,p){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+at(p,S)+1}function j(f,p){return 120<p?p-120:1<=(S=((S=W2[p-1])>>4)*f+(8-(15&S)))?S:1;var S}function Ct(f,p,S){var N=K(S),B=f[p+=255&N].g-8;return 0<B&&(gt(S,S.u+8),N=K(S),p+=f[p].value,p+=N&(1<<B)-1),gt(S,S.u+f[p].g),f[p].value}function $t(f,p,S){return S.g+=f.g,S.value+=f.value<<p>>>0,e(8>=S.g),f.g}function wt(f,p,S){var N=f.xc;return e((p=N==0?0:f.vc[f.md*(S>>N)+(p>>N)])<f.Wb),f.Ya[p]}function Pt(f,p,S,N){var B=f.ab,U=f.c*p,$=f.C;p=$+p;var q=S,V=N;for(N=f.Ta,S=f.Ua;0<B--;){var rt=f.gc[B],bt=$,Et=p,it=q,xt=V,Nt=(V=N,q=S,rt.Ea);switch(e(bt<Et),e(Et<=rt.nc),rt.hc){case 2:Wn(it,xt,(Et-bt)*Nt,V,q);break;case 0:var Wt=bt,Rt=Et,Xt=V,Yt=q,se=(Ce=rt).Ea;Wt==0&&($o(it,xt,null,null,1,Xt,Yt),xe(it,xt+1,0,0,se-1,Xt,Yt+1),xt+=se,Yt+=se,++Wt);for(var Qt=1<<Ce.b,Ee=Qt-1,ke=nt(se,Ce.b),rn=Ce.K,Ce=Ce.w+(Wt>>Ce.b)*ke;Wt<Rt;){var hn=rn,rr=Ce,sn=1;for(Qs(it,xt,Xt,Yt-se,1,Xt,Yt);sn<se;){var Ne=(sn&~Ee)+Qt;Ne>se&&(Ne=se),(0,Wo[hn[rr++]>>8&15])(it,xt+ +sn,Xt,Yt+sn-se,Ne-sn,Xt,Yt+sn),sn=Ne}xt+=se,Yt+=se,++Wt&Ee||(Ce+=ke)}Et!=rt.nc&&r(V,q-Nt,V,q+(Et-bt-1)*Nt,Nt);break;case 1:for(Nt=it,Rt=xt,se=(it=rt.Ea)-(Yt=it&~(Xt=(xt=1<<rt.b)-1)),Wt=nt(it,rt.b),Qt=rt.K,rt=rt.w+(bt>>rt.b)*Wt;bt<Et;){for(Ee=Qt,ke=rt,rn=new dt,Ce=Rt+Yt,hn=Rt+it;Rt<Ce;)ye(Ee[ke++],rn),Xo(rn,Nt,Rt,xt,V,q),Rt+=xt,q+=xt;Rt<hn&&(ye(Ee[ke++],rn),Xo(rn,Nt,Rt,se,V,q),Rt+=se,q+=se),++bt&Xt||(rt+=Wt)}break;case 3:if(it==V&&xt==q&&0<rt.b){for(Rt=V,it=Nt=q+(Et-bt)*Nt-(Yt=(Et-bt)*nt(rt.Ea,rt.b)),xt=V,Xt=q,Wt=[],Yt=(se=Yt)-1;0<=Yt;--Yt)Wt[Yt]=xt[Xt+Yt];for(Yt=se-1;0<=Yt;--Yt)Rt[it+Yt]=Wt[Yt];Ua(rt,bt,Et,V,Nt,V,q)}else Ua(rt,bt,Et,it,xt,V,q)}q=N,V=S}V!=S&&r(N,S,q,V,U)}function jt(f,p){var S=f.V,N=f.Ba+f.c*f.C,B=p-f.C;if(e(p<=f.l.o),e(16>=B),0<B){var U=f.l,$=f.Ta,q=f.Ua,V=U.width;if(Pt(f,B,S,N),B=q=[q],e((S=f.C)<(N=p)),e(U.v<U.va),N>U.o&&(N=U.o),S<U.j){var rt=U.j-S;S=U.j,B[0]+=rt*V}if(S>=N?S=0:(B[0]+=4*U.v,U.ka=S-U.j,U.U=U.va-U.v,U.T=N-S,S=1),S){if(q=q[0],11>(S=f.ca).S){var bt=S.f.RGBA,Et=(N=S.S,B=U.U,U=U.T,rt=bt.eb,bt.A),it=U;for(bt=bt.fb+f.Ma*bt.A;0<it--;){var xt=$,Nt=q,Wt=B,Rt=rt,Xt=bt;switch(N){case Wa:Go(xt,Nt,Wt,Rt,Xt);break;case Xa:ss(xt,Nt,Wt,Rt,Xt);break;case Pc:ss(xt,Nt,Wt,Rt,Xt),Vo(Rt,Xt,0,Wt,1,0);break;case Xu:Ps(xt,Nt,Wt,Rt,Xt);break;case Ga:Re(xt,Nt,Wt,Rt,Xt,1);break;case Rc:Re(xt,Nt,Wt,Rt,Xt,1),Vo(Rt,Xt,0,Wt,1,0);break;case Ha:Re(xt,Nt,Wt,Rt,Xt,0);break;case Va:Re(xt,Nt,Wt,Rt,Xt,0),Vo(Rt,Xt,1,Wt,1,0);break;case Oc:os(xt,Nt,Wt,Rt,Xt);break;case Ec:os(xt,Nt,Wt,Rt,Xt),Fu(Rt,Xt,Wt,1,0);break;case Gu:as(xt,Nt,Wt,Rt,Xt);break;default:e(0)}q+=V,bt+=Et}f.Ma+=U}else alert(\"todo:EmitRescaledRowsYUVA\");e(f.Ma<=S.height)}}f.C=p,e(f.C<=f.i)}function Ft(f){var p;if(0<f.ua)return 0;for(p=0;p<f.Wb;++p){var S=f.Ya[p].G,N=f.Ya[p].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function At(f,p,S,N,B,U){if(f.Z!=0){var $=f.qd,q=f.rd;for(e(hs[f.Z]!=null);p<S;++p)hs[f.Z]($,q,N,B,N,B,U),$=N,q=B,B+=U;f.qd=$,f.rd=q}}function Dt(f,p){var S=f.l.ma,N=S.Z==0||S.Z==1?f.l.j:f.C;if(N=f.C<N?N:f.C,e(p<=f.l.o),p>N){var B=f.l.width,U=S.ca,$=S.tb+B*N,q=f.V,V=f.Ba+f.c*N,rt=f.gc;e(f.ab==1),e(rt[0].hc==3),xi(rt[0],N,p,q,V,U,$),At(S,N,p,U,$,B)}f.C=f.Ma=p}function ie(f,p,S,N,B,U,$){var q=f.$/N,V=f.$%N,rt=f.m,bt=f.s,Et=S+f.$,it=Et;B=S+N*B;var xt=S+N*U,Nt=280+bt.ua,Wt=f.Pb?q:16777216,Rt=0<bt.ua?bt.Wa:null,Xt=bt.wc,Yt=Et<xt?wt(bt,V,q):null;e(f.C<U),e(xt<=B);var se=!1;t:for(;;){for(;se||Et<xt;){var Qt=0;if(q>=Wt){var Ee=Et-S;e((Wt=f).Pb),Wt.wd=Wt.m,Wt.xd=Ee,0<Wt.s.ua&&pt(Wt.s.Wa,Wt.s.vb),Wt=q+G2}if(V&Xt||(Yt=wt(bt,V,q)),e(Yt!=null),Yt.Qb&&(p[Et]=Yt.qb,se=!0),!se)if(kt(rt),Yt.jc){Qt=rt,Ee=p;var ke=Et,rn=Yt.pd[K(Qt)&Os-1];e(Yt.jc),256>rn.g?(gt(Qt,Qt.u+rn.g),Ee[ke]=rn.value,Qt=0):(gt(Qt,Qt.u+rn.g-256),e(256<=rn.value),Qt=rn.value),Qt==0&&(se=!0)}else Qt=Ct(Yt.G[0],Yt.H[0],rt);if(rt.h)break;if(se||256>Qt){if(!se)if(Yt.nd)p[Et]=(Yt.qb|Qt<<8)>>>0;else{if(kt(rt),se=Ct(Yt.G[1],Yt.H[1],rt),kt(rt),Ee=Ct(Yt.G[2],Yt.H[2],rt),ke=Ct(Yt.G[3],Yt.H[3],rt),rt.h)break;p[Et]=(ke<<24|se<<16|Qt<<8|Ee)>>>0}if(se=!1,++Et,++V>=N&&(V=0,++q,$!=null&&q<=U&&!(q%16)&&$(f,q),Rt!=null))for(;it<Et;)Qt=p[it++],Rt.X[(506832829*Qt&4294967295)>>>Rt.Mb]=Qt}else if(280>Qt){if(Qt=vt(Qt-256,rt),Ee=Ct(Yt.G[4],Yt.H[4],rt),kt(rt),Ee=j(N,Ee=vt(Ee,rt)),rt.h)break;if(Et-S<Ee||B-Et<Qt)break t;for(ke=0;ke<Qt;++ke)p[Et+ke]=p[Et+ke-Ee];for(Et+=Qt,V+=Qt;V>=N;)V-=N,++q,$!=null&&q<=U&&!(q%16)&&$(f,q);if(e(Et<=B),V&Xt&&(Yt=wt(bt,V,q)),Rt!=null)for(;it<Et;)Qt=p[it++],Rt.X[(506832829*Qt&4294967295)>>>Rt.Mb]=Qt}else{if(!(Qt<Nt))break t;for(se=Qt-280,e(Rt!=null);it<Et;)Qt=p[it++],Rt.X[(506832829*Qt&4294967295)>>>Rt.Mb]=Qt;Qt=Et,e(!(se>>>(Ee=Rt).Xa)),p[Qt]=Ee.X[se],se=!0}se||e(rt.h==et(rt))}if(f.Pb&&rt.h&&Et<B)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&pt(f.s.vb,f.s.Wa);else{if(rt.h)break t;$?.(f,q>U?U:q),f.a=0,f.$=Et-S}return 1}return f.a=3,0}function te(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var p=f.Wa;p!=null&&(p.X=null),f.vb=null,e(f!=null)}function oe(){var f=new Ve;return f==null?null:(f.a=0,f.xb=Yu,mn(\"Predictor\",\"VP8LPredictors\"),mn(\"Predictor\",\"VP8LPredictors_C\"),mn(\"PredictorAdd\",\"VP8LPredictorsAdd\"),mn(\"PredictorAdd\",\"VP8LPredictorsAdd_C\"),Wn=me,Xo=ze,Go=on,ss=Ie,os=qe,as=We,Ps=ln,P.VP8LMapColor32b=vi,P.VP8LMapColor8b=qo,f)}function zt(f,p,S,N,B){var U=1,$=[f],q=[p],V=N.m,rt=N.s,bt=null,Et=0;t:for(;;){if(S)for(;U&&at(V,1);){var it=$,xt=q,Nt=N,Wt=1,Rt=Nt.m,Xt=Nt.gc[Nt.ab],Yt=at(Rt,2);if(Nt.Oc&1<<Yt)U=0;else{switch(Nt.Oc|=1<<Yt,Xt.hc=Yt,Xt.Ea=it[0],Xt.nc=xt[0],Xt.K=[null],++Nt.ab,e(4>=Nt.ab),Yt){case 0:case 1:Xt.b=at(Rt,3)+2,Wt=zt(nt(Xt.Ea,Xt.b),nt(Xt.nc,Xt.b),0,Nt,Xt.K),Xt.K=Xt.K[0];break;case 3:var se,Qt=at(Rt,8)+1,Ee=16<Qt?0:4<Qt?1:2<Qt?2:3;if(it[0]=nt(Xt.Ea,Ee),Xt.b=Ee,se=Wt=zt(Qt,1,0,Nt,Xt.K)){var ke,rn=Qt,Ce=Xt,hn=1<<(8>>Ce.b),rr=s(hn);if(rr==null)se=0;else{var sn=Ce.K[0],Ne=Ce.w;for(rr[0]=Ce.K[0][0],ke=1;ke<1*rn;++ke)rr[ke]=Lt(sn[Ne+ke],rr[ke-1]);for(;ke<4*hn;++ke)rr[ke]=0;Ce.K[0]=null,Ce.K[0]=rr,se=1}}Wt=se;break;case 2:break;default:e(0)}U=Wt}}if($=$[0],q=q[0],U&&at(V,1)&&!(U=1<=(Et=at(V,4))&&11>=Et)){N.a=3;break t}var ge;if(ge=U)e:{var Gn,Qe,un,Rn=N,dr=$,Ar=q,jn=Et,mr=S,Lr=Rn.m,ir=Rn.s,pn=[null],xn=1,Un=0,kn=X2[jn];n:for(;;){if(mr&&at(Lr,1)){var pr=at(Lr,3)+2,hi=nt(dr,pr),Hn=nt(Ar,pr),Mr=hi*Hn;if(!zt(hi,Hn,0,Rn,pn))break n;for(pn=pn[0],ir.xc=pr,Gn=0;Gn<Mr;++Gn){var Nn=pn[Gn]>>8&65535;pn[Gn]=Nn,Nn>=xn&&(xn=Nn+1)}}if(Lr.h)break n;for(Qe=0;5>Qe;++Qe){var sr=Hu[Qe];!Qe&&0<jn&&(sr+=1<<jn),Un<sr&&(Un=sr)}var Ur=a(xn*kn,D),Cr=xn,$r=a(Cr,Q);if($r==null)var qr=null;else e(65536>=Cr),qr=$r;var Ir=s(Un);if(qr==null||Ir==null||Ur==null){Rn.a=1;break n}var Wr=Ur;for(Gn=un=0;Gn<xn;++Gn){var Pn=qr[Gn],Xr=Pn.G,ui=Pn.H,Es=0,Wi=1,gr=0;for(Qe=0;5>Qe;++Qe){sr=Hu[Qe],Xr[Qe]=Wr,ui[Qe]=un,!Qe&&0<jn&&(sr+=1<<jn);i:{var Ja,Dc=sr,Qa=Rn,Ko=Ir,fg=Wr,dg=un,zc=0,us=Qa.m,pg=at(us,1);if(i(Ko,0,0,Dc),pg){var gg=at(us,1)+1,mg=at(us,1),rf=at(us,mg==0?1:8);Ko[rf]=1,gg==2&&(Ko[rf=at(us,8)]=1);var tl=1}else{var sf=s(19),of=at(us,4)+4;if(19<of){Qa.a=3;var el=0;break i}for(Ja=0;Ja<of;++Ja)sf[q2[Ja]]=at(us,3);var jc=void 0,Jo=void 0,af=Qa,yg=sf,nl=Dc,lf=Ko,Uc=0,fs=af.m,cf=8,hf=a(128,D);r:for(;C(hf,0,7,yg,19);){if(at(fs,1)){var bg=2+2*at(fs,3);if((jc=2+at(fs,bg))>nl)break r}else jc=nl;for(Jo=0;Jo<nl&&jc--;){kt(fs);var uf=hf[0+(127&K(fs))];gt(fs,fs.u+uf.g);var eo=uf.value;if(16>eo)lf[Jo++]=eo,eo!=0&&(cf=eo);else{var wg=eo==16,ff=eo-16,vg=U2[ff],df=at(fs,j2[ff])+vg;if(Jo+df>nl)break r;for(var xg=wg?cf:0;0<df--;)lf[Jo++]=xg}}Uc=1;break r}Uc||(af.a=3),tl=Uc}(tl=tl&&!us.h)&&(zc=C(fg,dg,8,Ko,Dc)),tl&&zc!=0?el=zc:(Qa.a=3,el=0)}if(el==0)break n;if(Wi&&$2[Qe]==1&&(Wi=Wr[un].g==0),Es+=Wr[un].g,un+=el,3>=Qe){var Qo,$c=Ir[0];for(Qo=1;Qo<sr;++Qo)Ir[Qo]>$c&&($c=Ir[Qo]);gr+=$c}}if(Pn.nd=Wi,Pn.Qb=0,Wi&&(Pn.qb=(Xr[3][ui[3]+0].value<<24|Xr[1][ui[1]+0].value<<16|Xr[2][ui[2]+0].value)>>>0,Es==0&&256>Xr[0][ui[0]+0].value&&(Pn.Qb=1,Pn.qb+=Xr[0][ui[0]+0].value<<8)),Pn.jc=!Pn.Qb&&6>gr,Pn.jc){var rl,Xi=Pn;for(rl=0;rl<Os;++rl){var ds=rl,ps=Xi.pd[ds],il=Xi.G[0][Xi.H[0]+ds];256<=il.value?(ps.g=il.g+256,ps.value=il.value):(ps.g=0,ps.value=0,ds>>=$t(il,8,ps),ds>>=$t(Xi.G[1][Xi.H[1]+ds],16,ps),ds>>=$t(Xi.G[2][Xi.H[2]+ds],0,ps),$t(Xi.G[3][Xi.H[3]+ds],24,ps))}}}ir.vc=pn,ir.Wb=xn,ir.Ya=qr,ir.yc=Ur,ge=1;break e}ge=0}if(!(U=ge)){N.a=3;break t}if(0<Et){if(rt.ua=1<<Et,!T(rt.Wa,Et)){N.a=1,U=0;break t}}else rt.ua=0;var qc=N,pf=$,kg=q,Wc=qc.s,Xc=Wc.xc;if(qc.c=pf,qc.i=kg,Wc.md=nt(pf,Xc),Wc.wc=Xc==0?-1:(1<<Xc)-1,S){N.xb=Q2;break t}if((bt=s($*q))==null){N.a=1,U=0;break t}U=(U=ie(N,bt,0,$,q,q,null))&&!V.h;break t}return U?(B!=null?B[0]=bt:(e(bt==null),e(S)),N.$=0,S||te(rt)):te(rt),U}function ae(f,p){var S=f.c*f.i,N=S+p+16*p;return e(f.c<=p),f.V=s(N),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+p,1)}function Me(f,p){var S=f.C,N=p-S,B=f.V,U=f.Ba+f.c*S;for(e(p<=f.l.o);0<N;){var $=16<N?16:N,q=f.l.ma,V=f.l.width,rt=V*$,bt=q.ca,Et=q.tb+V*S,it=f.Ta,xt=f.Ua;Pt(f,$,B,U),zu(it,xt,bt,Et,rt),At(q,S,S+$,bt,Et,V),N-=$,B+=$*f.c,S+=$}e(S==p),f.C=f.Ma=p}function Fe(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function be(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function mt(){this.Yb=(function(){var f=[];return(function p(S,N,B){for(var U=B[N],$=0;$<U&&(S.push(B.length>N+1?[]:0),!(B.length<N+1));$++)p(S[$],N+1,B)})(f,0,[3,11]),f})()}function qt(){this.jb=s(3),this.Wc=o([4,8],mt),this.Xc=o([4,17],mt)}function J(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function he(){this.ld=this.La=this.dd=this.tc=0}function ue(){this.Na=this.la=0}function ve(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ye(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ke(){this.uc=this.M=this.Nb=0,this.wa=Array(new he),this.Y=0,this.ya=Array(new Ye),this.aa=0,this.l=new je}function re(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _e(){this.cb=this.a=0,this.sc=\"\",this.m=new I,this.Od=new Fe,this.Kc=new Vt,this.ed=new J,this.Qa=new be,this.Ic=this.$c=this.Aa=0,this.D=new Ke,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,ve),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new re),this.Hd=0,this.rb=Array(new ue),this.sb=0,this.wa=Array(new he),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ye),this.L=this.aa=0,this.gd=o([4,2],he),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Se(f,p){return 0>f?0:f>p?p:f}function je(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma=\"void\",this.put=\"VP8IoPutHook\",this.ac=\"VP8IoSetupHook\",this.bc=\"VP8IoTeardownHook\",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vn(){var f=new _e;return f!=null&&(f.a=0,f.sc=\"OK\",f.cb=0,f.Xb=0,Yo||(Yo=an)),f}function pe(f,p,S){return f.a==0&&(f.a=p,f.sc=S,f.cb=0),0}function An(f,p,S){return 3<=S&&f[p+0]==157&&f[p+1]==1&&f[p+2]==42}function cn(f,p){if(f==null)return 0;if(f.a=0,f.sc=\"OK\",p==null)return pe(f,2,\"null VP8Io passed to VP8GetHeaders()\");var S=p.data,N=p.w,B=p.ha;if(4>B)return pe(f,7,\"Truncated header.\");var U=S[N+0]|S[N+1]<<8|S[N+2]<<16,$=f.Od;if($.Rb=!(1&U),$.td=U>>1&7,$.yd=U>>4&1,$.ub=U>>5,3<$.td)return pe(f,3,\"Incorrect keyframe parameters.\");if(!$.yd)return pe(f,4,\"Frame not displayable.\");N+=3,B-=3;var q=f.Kc;if($.Rb){if(7>B)return pe(f,7,\"cannot parse picture header\");if(!An(S,N,B))return pe(f,3,\"Bad code word\");q.c=16383&(S[N+4]<<8|S[N+3]),q.Td=S[N+4]>>6,q.i=16383&(S[N+6]<<8|S[N+5]),q.Ud=S[N+6]>>6,N+=7,B-=7,f.za=q.c+15>>4,f.Ub=q.i+15>>4,p.width=q.c,p.height=q.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((U=f.Pa).jb,0,255,U.jb.length),e((U=f.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if($.ub>B)return pe(f,7,\"bad partition length\");yt(U=f.m,S,N,$.ub),N+=$.ub,B-=$.ub,$.Rb&&(q.Ld=It(U),q.Kd=It(U)),q=f.Qa;var V,rt=f.Pa;if(e(U!=null),e(q!=null),q.Cb=It(U),q.Cb){if(q.Bb=It(U),It(U)){for(q.Fb=It(U),V=0;4>V;++V)q.Zb[V]=It(U)?ft(U,7):0;for(V=0;4>V;++V)q.Lb[V]=It(U)?ft(U,6):0}if(q.Bb)for(V=0;3>V;++V)rt.jb[V]=It(U)?ot(U,8):255}else q.Bb=0;if(U.Ka)return pe(f,3,\"cannot parse segment header\");if((q=f.ed).zd=It(U),q.Tb=ot(U,6),q.wb=ot(U,3),q.Pc=It(U),q.Pc&&It(U)){for(rt=0;4>rt;++rt)It(U)&&(q.vd[rt]=ft(U,6));for(rt=0;4>rt;++rt)It(U)&&(q.od[rt]=ft(U,6))}if(f.L=q.Tb==0?0:q.zd?1:2,U.Ka)return pe(f,3,\"cannot parse filter header\");var bt=B;if(B=V=N,N=V+bt,q=bt,f.Xb=(1<<ot(f.m,2))-1,bt<3*(rt=f.Xb))S=7;else{for(V+=3*rt,q-=3*rt,bt=0;bt<rt;++bt){var Et=S[B+0]|S[B+1]<<8|S[B+2]<<16;Et>q&&(Et=q),yt(f.Jc[+bt],S,V,Et),V+=Et,q-=Et,B+=3}yt(f.Jc[+rt],S,V,q),S=V<N?0:5}if(S!=0)return pe(f,S,\"cannot parse partitions\");for(S=ot(V=f.m,7),B=It(V)?ft(V,4):0,N=It(V)?ft(V,4):0,q=It(V)?ft(V,4):0,rt=It(V)?ft(V,4):0,V=It(V)?ft(V,4):0,bt=f.Qa,Et=0;4>Et;++Et){if(bt.Cb){var it=bt.Zb[Et];bt.Fb||(it+=S)}else{if(0<Et){f.pb[Et]=f.pb[0];continue}it=S}var xt=f.pb[Et];xt.Sc[0]=Tc[Se(it+B,127)],xt.Sc[1]=Bc[Se(it+0,127)],xt.Eb[0]=2*Tc[Se(it+N,127)],xt.Eb[1]=101581*Bc[Se(it+q,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Tc[Se(it+rt,117)],xt.Qc[1]=Bc[Se(it+V,127)],xt.lc=it+V}if(!$.Rb)return pe(f,4,\"Not a key frame.\");for(It(U),$=f.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(N=0;3>N;++N)for(q=0;11>q;++q)rt=Ut(U,K2[S][B][N][q])?ot(U,8):Y2[S][B][N][q],$.Wc[S][B].Yb[N][q]=rt;for(B=0;17>B;++B)$.Xc[S][B]=$.Wc[S][J2[B]]}return f.kc=It(U),f.kc&&(f.Bd=ot(U,8)),f.cb=1}function an(f,p,S,N,B,U,$){var q=p[B].Yb[S];for(S=0;16>B;++B){if(!Ut(f,q[S+0]))return B;for(;!Ut(f,q[S+1]);)if(q=p[++B].Yb[0],S=0,B==16)return 16;var V=p[B+1].Yb;if(Ut(f,q[S+2])){var rt=f,bt=0;if(Ut(rt,(it=q)[(Et=S)+3]))if(Ut(rt,it[Et+6])){for(q=0,Et=2*(bt=Ut(rt,it[Et+8]))+(it=Ut(rt,it[Et+9+bt])),bt=0,it=H2[Et];it[q];++q)bt+=bt+Ut(rt,it[q]);bt+=3+(8<<Et)}else Ut(rt,it[Et+7])?(bt=7+2*Ut(rt,165),bt+=Ut(rt,145)):bt=5+Ut(rt,159);else bt=Ut(rt,it[Et+4])?3+Ut(rt,it[Et+5]):2;q=V[2]}else bt=1,q=V[1];V=$+V2[B],0>(rt=f).b&&_t(rt);var Et,it=rt.b,xt=(Et=rt.Ca>>1)-(rt.I>>it)>>31;--rt.b,rt.Ca+=xt,rt.Ca|=1,rt.I-=(Et+1&xt)<<it,U[V]=((bt^xt)-xt)*N[(0<B)+0]}return 16}function en(f){var p=f.rb[f.sb-1];p.la=0,p.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function yn(f,p,S,N,B){B=f[p+S+32*N]+(B>>3),f[p+S+32*N]=-256&B?0>B?0:255:B}function nn(f,p,S,N,B,U){yn(f,p,0,S,N+B),yn(f,p,1,S,N+U),yn(f,p,2,S,N-U),yn(f,p,3,S,N-B)}function In(f){return(20091*f>>16)+f}function cr(f,p,S,N){var B,U=0,$=s(16);for(B=0;4>B;++B){var q=f[p+0]+f[p+8],V=f[p+0]-f[p+8],rt=(35468*f[p+4]>>16)-In(f[p+12]),bt=In(f[p+4])+(35468*f[p+12]>>16);$[U+0]=q+bt,$[U+1]=V+rt,$[U+2]=V-rt,$[U+3]=q-bt,U+=4,p++}for(B=U=0;4>B;++B)q=(f=$[U+0]+4)+$[U+8],V=f-$[U+8],rt=(35468*$[U+4]>>16)-In($[U+12]),yn(S,N,0,0,q+(bt=In($[U+4])+(35468*$[U+12]>>16))),yn(S,N,1,0,V+rt),yn(S,N,2,0,V-rt),yn(S,N,3,0,q-bt),U++,N+=32}function Ni(f,p,S,N){var B=f[p+0]+4,U=35468*f[p+4]>>16,$=In(f[p+4]),q=35468*f[p+1]>>16;nn(S,N,0,B+$,f=In(f[p+1]),q),nn(S,N,1,B+U,f,q),nn(S,N,2,B-U,f,q),nn(S,N,3,B-$,f,q)}function hr(f,p,S,N,B){cr(f,p,S,N),B&&cr(f,p+16,S,N+4)}function _r(f,p,S,N){Rs(f,p+0,S,N,1),Rs(f,p+32,S,N+128,1)}function Mi(f,p,S,N){var B;for(f=f[p+0]+4,B=0;4>B;++B)for(p=0;4>p;++p)yn(S,N,p,B,f)}function Ii(f,p,S,N){f[p+0]&&bn(f,p+0,S,N),f[p+16]&&bn(f,p+16,S,N+4),f[p+32]&&bn(f,p+32,S,N+128),f[p+48]&&bn(f,p+48,S,N+128+4)}function oi(f,p,S,N){var B,U=s(16);for(B=0;4>B;++B){var $=f[p+0+B]+f[p+12+B],q=f[p+4+B]+f[p+8+B],V=f[p+4+B]-f[p+8+B],rt=f[p+0+B]-f[p+12+B];U[0+B]=$+q,U[8+B]=$-q,U[4+B]=rt+V,U[12+B]=rt-V}for(B=0;4>B;++B)$=(f=U[0+4*B]+3)+U[3+4*B],q=U[1+4*B]+U[2+4*B],V=U[1+4*B]-U[2+4*B],rt=f-U[3+4*B],S[N+0]=$+q>>3,S[N+16]=rt+V>>3,S[N+32]=$-q>>3,S[N+48]=rt-V>>3,N+=64}function Oi(f,p,S){var N,B=p-32,U=jr,$=255-f[B-1];for(N=0;N<S;++N){var q,V=U,rt=$+f[p-1];for(q=0;q<S;++q)f[p+q]=V[rt+f[B+q]];p+=32}}function Qi(f,p){Oi(f,p,4)}function wc(f,p){Oi(f,p,8)}function vc(f,p){Oi(f,p,16)}function Mo(f,p){var S;for(S=0;16>S;++S)r(f,p+32*S,f,p-32,16)}function Ea(f,p){var S;for(S=16;0<S;--S)i(f,p,f[p-1],16),p+=32}function ai(f,p,S){var N;for(N=0;16>N;++N)i(p,S+32*N,f,16)}function xc(f,p){var S,N=16;for(S=0;16>S;++S)N+=f[p-1+32*S]+f[p+S-32];ai(N>>5,f,p)}function ks(f,p){var S,N=8;for(S=0;16>S;++S)N+=f[p-1+32*S];ai(N>>4,f,p)}function Io(f,p){var S,N=8;for(S=0;16>S;++S)N+=f[p+S-32];ai(N>>4,f,p)}function kc(f,p){ai(128,f,p)}function Ze(f,p,S){return f+2*p+S+2>>2}function _c(f,p){var S,N=p-32;for(N=new Uint8Array([Ze(f[N-1],f[N+0],f[N+1]),Ze(f[N+0],f[N+1],f[N+2]),Ze(f[N+1],f[N+2],f[N+3]),Ze(f[N+2],f[N+3],f[N+4])]),S=0;4>S;++S)r(f,p+32*S,N,0,N.length)}function Sc(f,p){var S=f[p-1],N=f[p-1+32],B=f[p-1+64],U=f[p-1+96];Zt(f,p+0,16843009*Ze(f[p-1-32],S,N)),Zt(f,p+32,16843009*Ze(S,N,B)),Zt(f,p+64,16843009*Ze(N,B,U)),Zt(f,p+96,16843009*Ze(B,U,U))}function Ac(f,p){var S,N=4;for(S=0;4>S;++S)N+=f[p+S-32]+f[p-1+32*S];for(N>>=3,S=0;4>S;++S)i(f,p+32*S,N,4)}function Pi(f,p){var S=f[p-1+0],N=f[p-1+32],B=f[p-1+64],U=f[p-1-32],$=f[p+0-32],q=f[p+1-32],V=f[p+2-32],rt=f[p+3-32];f[p+0+96]=Ze(N,B,f[p-1+96]),f[p+1+96]=f[p+0+64]=Ze(S,N,B),f[p+2+96]=f[p+1+64]=f[p+0+32]=Ze(U,S,N),f[p+3+96]=f[p+2+64]=f[p+1+32]=f[p+0+0]=Ze($,U,S),f[p+3+64]=f[p+2+32]=f[p+1+0]=Ze(q,$,U),f[p+3+32]=f[p+2+0]=Ze(V,q,$),f[p+3+0]=Ze(rt,V,q)}function Ri(f,p){var S=f[p+1-32],N=f[p+2-32],B=f[p+3-32],U=f[p+4-32],$=f[p+5-32],q=f[p+6-32],V=f[p+7-32];f[p+0+0]=Ze(f[p+0-32],S,N),f[p+1+0]=f[p+0+32]=Ze(S,N,B),f[p+2+0]=f[p+1+32]=f[p+0+64]=Ze(N,B,U),f[p+3+0]=f[p+2+32]=f[p+1+64]=f[p+0+96]=Ze(B,U,$),f[p+3+32]=f[p+2+64]=f[p+1+96]=Ze(U,$,q),f[p+3+64]=f[p+2+96]=Ze($,q,V),f[p+3+96]=Ze(q,V,V)}function Lc(f,p){var S=f[p-1+0],N=f[p-1+32],B=f[p-1+64],U=f[p-1-32],$=f[p+0-32],q=f[p+1-32],V=f[p+2-32],rt=f[p+3-32];f[p+0+0]=f[p+1+64]=U+$+1>>1,f[p+1+0]=f[p+2+64]=$+q+1>>1,f[p+2+0]=f[p+3+64]=q+V+1>>1,f[p+3+0]=V+rt+1>>1,f[p+0+96]=Ze(B,N,S),f[p+0+64]=Ze(N,S,U),f[p+0+32]=f[p+1+96]=Ze(S,U,$),f[p+1+32]=f[p+2+96]=Ze(U,$,q),f[p+2+32]=f[p+3+96]=Ze($,q,V),f[p+3+32]=Ze(q,V,rt)}function Cc(f,p){var S=f[p+0-32],N=f[p+1-32],B=f[p+2-32],U=f[p+3-32],$=f[p+4-32],q=f[p+5-32],V=f[p+6-32],rt=f[p+7-32];f[p+0+0]=S+N+1>>1,f[p+1+0]=f[p+0+64]=N+B+1>>1,f[p+2+0]=f[p+1+64]=B+U+1>>1,f[p+3+0]=f[p+2+64]=U+$+1>>1,f[p+0+32]=Ze(S,N,B),f[p+1+32]=f[p+0+96]=Ze(N,B,U),f[p+2+32]=f[p+1+96]=Ze(B,U,$),f[p+3+32]=f[p+2+96]=Ze(U,$,q),f[p+3+64]=Ze($,q,V),f[p+3+96]=Ze(q,V,rt)}function Ys(f,p){var S=f[p-1+0],N=f[p-1+32],B=f[p-1+64],U=f[p-1+96];f[p+0+0]=S+N+1>>1,f[p+2+0]=f[p+0+32]=N+B+1>>1,f[p+2+32]=f[p+0+64]=B+U+1>>1,f[p+1+0]=Ze(S,N,B),f[p+3+0]=f[p+1+32]=Ze(N,B,U),f[p+3+32]=f[p+1+64]=Ze(B,U,U),f[p+3+64]=f[p+2+64]=f[p+0+96]=f[p+1+96]=f[p+2+96]=f[p+3+96]=U}function Oo(f,p){var S=f[p-1+0],N=f[p-1+32],B=f[p-1+64],U=f[p-1+96],$=f[p-1-32],q=f[p+0-32],V=f[p+1-32],rt=f[p+2-32];f[p+0+0]=f[p+2+32]=S+$+1>>1,f[p+0+32]=f[p+2+64]=N+S+1>>1,f[p+0+64]=f[p+2+96]=B+N+1>>1,f[p+0+96]=U+B+1>>1,f[p+3+0]=Ze(q,V,rt),f[p+2+0]=Ze($,q,V),f[p+1+0]=f[p+3+32]=Ze(S,$,q),f[p+1+32]=f[p+3+64]=Ze(N,S,$),f[p+1+64]=f[p+3+96]=Ze(B,N,S),f[p+1+96]=Ze(U,B,N)}function _s(f,p){var S;for(S=0;8>S;++S)r(f,p+32*S,f,p-32,8)}function Nc(f,p){var S;for(S=0;8>S;++S)i(f,p,f[p-1],8),p+=32}function Ei(f,p,S){var N;for(N=0;8>N;++N)i(p,S+32*N,f,8)}function Mc(f,p){var S,N=8;for(S=0;8>S;++S)N+=f[p+S-32]+f[p-1+32*S];Ei(N>>4,f,p)}function Po(f,p){var S,N=4;for(S=0;8>S;++S)N+=f[p+S-32];Ei(N>>3,f,p)}function Ro(f,p){var S,N=4;for(S=0;8>S;++S)N+=f[p-1+32*S];Ei(N>>3,f,p)}function Ta(f,p){Ei(128,f,p)}function Ti(f,p,S){var N=f[p-S],B=f[p+0],U=3*(B-N)+Ic[1020+f[p-2*S]-f[p+S]],$=qa[112+(U+4>>3)];f[p-S]=jr[255+N+qa[112+(U+3>>3)]],f[p+0]=jr[255+B-$]}function Eo(f,p,S,N){var B=f[p+0],U=f[p+S];return Qr[255+f[p-2*S]-f[p-S]]>N||Qr[255+U-B]>N}function Zs(f,p,S,N){return 4*Qr[255+f[p-S]-f[p+0]]+Qr[255+f[p-2*S]-f[p+S]]<=N}function To(f,p,S,N,B){var U=f[p-3*S],$=f[p-2*S],q=f[p-S],V=f[p+0],rt=f[p+S],bt=f[p+2*S],Et=f[p+3*S];return 4*Qr[255+q-V]+Qr[255+$-rt]>N?0:Qr[255+f[p-4*S]-U]<=B&&Qr[255+U-$]<=B&&Qr[255+$-q]<=B&&Qr[255+Et-bt]<=B&&Qr[255+bt-rt]<=B&&Qr[255+rt-V]<=B}function Ss(f,p,S,N){var B=2*N+1;for(N=0;16>N;++N)Zs(f,p+N,S,B)&&Ti(f,p+N,S)}function Bo(f,p,S,N){var B=2*N+1;for(N=0;16>N;++N)Zs(f,p+N*S,1,B)&&Ti(f,p+N*S,1)}function Ba(f,p,S,N){var B;for(B=3;0<B;--B)Ss(f,p+=4*S,S,N)}function Fa(f,p,S,N){var B;for(B=3;0<B;--B)Bo(f,p+=4,S,N)}function Bi(f,p,S,N,B,U,$,q){for(U=2*U+1;0<B--;){if(To(f,p,S,U,$))if(Eo(f,p,S,q))Ti(f,p,S);else{var V=f,rt=p,bt=S,Et=V[rt-2*bt],it=V[rt-bt],xt=V[rt+0],Nt=V[rt+bt],Wt=V[rt+2*bt],Rt=27*(Yt=Ic[1020+3*(xt-it)+Ic[1020+Et-Nt]])+63>>7,Xt=18*Yt+63>>7,Yt=9*Yt+63>>7;V[rt-3*bt]=jr[255+V[rt-3*bt]+Yt],V[rt-2*bt]=jr[255+Et+Xt],V[rt-bt]=jr[255+it+Rt],V[rt+0]=jr[255+xt-Rt],V[rt+bt]=jr[255+Nt-Xt],V[rt+2*bt]=jr[255+Wt-Yt]}p+=N}}function Fi(f,p,S,N,B,U,$,q){for(U=2*U+1;0<B--;){if(To(f,p,S,U,$))if(Eo(f,p,S,q))Ti(f,p,S);else{var V=f,rt=p,bt=S,Et=V[rt-bt],it=V[rt+0],xt=V[rt+bt],Nt=qa[112+(4+(Wt=3*(it-Et))>>3)],Wt=qa[112+(Wt+3>>3)],Rt=Nt+1>>1;V[rt-2*bt]=jr[255+V[rt-2*bt]+Rt],V[rt-bt]=jr[255+Et+Wt],V[rt+0]=jr[255+it-Nt],V[rt+bt]=jr[255+xt-Rt]}p+=N}}function Da(f,p,S,N,B,U){Bi(f,p,S,1,16,N,B,U)}function As(f,p,S,N,B,U){Bi(f,p,1,S,16,N,B,U)}function za(f,p,S,N,B,U){var $;for($=3;0<$;--$)Fi(f,p+=4*S,S,1,16,N,B,U)}function x(f,p,S,N,B,U){var $;for($=3;0<$;--$)Fi(f,p+=4,1,S,16,N,B,U)}function E(f,p,S,N,B,U,$,q){Bi(f,p,B,1,8,U,$,q),Bi(S,N,B,1,8,U,$,q)}function st(f,p,S,N,B,U,$,q){Bi(f,p,1,B,8,U,$,q),Bi(S,N,1,B,8,U,$,q)}function ut(f,p,S,N,B,U,$,q){Fi(f,p+4*B,B,1,8,U,$,q),Fi(S,N+4*B,B,1,8,U,$,q)}function St(f,p,S,N,B,U,$,q){Fi(f,p+4,1,B,8,U,$,q),Fi(S,N+4,1,B,8,U,$,q)}function Ht(){this.ba=new Ge,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib=\"OutputFunc\",this.Jb=\"OutputAlphaFunc\",this.Nd=\"OutputRowFunc\"}function Jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oe(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new D}function Ve(){this.xb=this.a=0,this.l=new je,this.ca=new Ge,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oe,this.ab=0,this.gc=a(4,Le),this.Oc=0}function tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new je,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(f,p,S,N,B,U,$){for(f=f==null?0:f[p+0],p=0;p<$;++p)B[U+p]=f+S[N+p]&255,f=B[U+p]}function zn(f,p,S,N,B,U,$){var q;if(f==null)dn(null,null,S,N,B,U,$);else for(q=0;q<$;++q)B[U+q]=f[p+q]+S[N+q]&255}function Jn(f,p,S,N,B,U,$){if(f==null)dn(null,null,S,N,B,U,$);else{var q,V=f[p+0],rt=V,bt=V;for(q=0;q<$;++q)rt=bt+(V=f[p+q])-rt,bt=S[N+q]+(-256&rt?0>rt?0:255:rt)&255,rt=V,B[U+q]=bt}}function On(f,p,S,N){var B=p.width,U=p.o;if(e(f!=null&&p!=null),0>S||0>=N||S+N>U)return null;if(!f.Cc){if(f.ga==null){var $;if(f.ga=new tn,($=f.ga==null)||($=p.width*p.o,e(f.Gb.length==0),f.Gb=s($),f.Uc=0,f.Gb==null?$=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,$=1),$=!$),!$){$=f.ga;var q=f.Fa,V=f.P,rt=f.qc,bt=f.mb,Et=f.nb,it=V+1,xt=rt-1,Nt=$.l;if(e(q!=null&&bt!=null&&p!=null),hs[0]=null,hs[1]=dn,hs[2]=zn,hs[3]=Jn,$.ca=bt,$.tb=Et,$.c=p.width,$.i=p.height,e(0<$.c&&0<$.i),1>=rt)p=0;else if($.$a=3&q[V+0],$.Z=q[V+0]>>2&3,$.Lc=q[V+0]>>4&3,V=q[V+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||V)p=0;else if(Nt.put=lt,Nt.ac=Y,Nt.bc=ht,Nt.ma=$,Nt.width=p.width,Nt.height=p.height,Nt.Da=p.Da,Nt.v=p.v,Nt.va=p.va,Nt.j=p.j,Nt.o=p.o,$.$a)t:{e($.$a==1),p=oe();e:for(;;){if(p==null){p=0;break t}if(e($!=null),$.mc=p,p.c=$.c,p.i=$.i,p.l=$.l,p.l.ma=$,p.l.width=$.c,p.l.height=$.i,p.a=0,ct(p.m,q,it,xt),!zt($.c,$.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Ft(p.s)?($.ic=1,q=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(q),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):($.ic=0,p=ae(p,$.c)),!p))break e;p=1;break t}$.mc=null,p=0}else p=xt>=$.c*$.i;$=!p}if($)return null;f.ga.Lc!=1?f.Ga=0:N=U-S}e(f.ga!=null),e(S+N<=U);t:{if(p=(q=f.ga).c,U=q.l.o,q.$a==0){if(it=f.rc,xt=f.Vc,Nt=f.Fa,V=f.P+1+S*p,rt=f.mb,bt=f.nb+S*p,e(V<=f.P+f.qc),q.Z!=0)for(e(hs[q.Z]!=null),$=0;$<N;++$)hs[q.Z](it,xt,Nt,V,rt,bt,p),it=rt,xt=bt,bt+=p,V+=p;else for($=0;$<N;++$)r(rt,bt,Nt,V,p),it=rt,xt=bt,bt+=p,V+=p;f.rc=it,f.Vc=xt}else{if(e(q.mc!=null),p=S+N,e(($=q.mc)!=null),e(p<=$.i),$.C>=p)p=1;else if(q.ic||li(),q.ic){q=$.V,it=$.Ba,xt=$.c;var Wt=$.i,Rt=(Nt=1,V=$.$/xt,rt=$.$%xt,bt=$.m,Et=$.s,$.$),Xt=xt*Wt,Yt=xt*p,se=Et.wc,Qt=Rt<Yt?wt(Et,rt,V):null;e(Rt<=Xt),e(p<=Wt),e(Ft(Et));e:for(;;){for(;!bt.h&&Rt<Yt;){if(rt&se||(Qt=wt(Et,rt,V)),e(Qt!=null),kt(bt),256>(Wt=Ct(Qt.G[0],Qt.H[0],bt)))q[it+Rt]=Wt,++Rt,++rt>=xt&&(rt=0,++V<=p&&!(V%16)&&Dt($,V));else{if(!(280>Wt)){Nt=0;break e}Wt=vt(Wt-256,bt);var Ee,ke=Ct(Qt.G[4],Qt.H[4],bt);if(kt(bt),!(Rt>=(ke=j(xt,ke=vt(ke,bt)))&&Xt-Rt>=Wt)){Nt=0;break e}for(Ee=0;Ee<Wt;++Ee)q[it+Rt+Ee]=q[it+Rt+Ee-ke];for(Rt+=Wt,rt+=Wt;rt>=xt;)rt-=xt,++V<=p&&!(V%16)&&Dt($,V);Rt<Yt&&rt&se&&(Qt=wt(Et,rt,V))}e(bt.h==et(bt))}Dt($,V>p?p:V);break e}!Nt||bt.h&&Rt<Xt?(Nt=0,$.a=bt.h?5:3):$.$=Rt,p=Nt}else p=ie($,$.V,$.Ba,$.c,$.i,p,Me);if(!p){N=0;break t}}S+N>=U&&(f.Cc=1),N=1}if(!N)return null;if(f.Cc&&((N=f.ga)!=null&&(N.mc=null),f.ga=null,0<f.Ga))return alert(\"todo:WebPDequantizeLevels\"),null}return f.nb+S*B}function er(f,p,S,N,B,U){for(;0<B--;){var $,q=f,V=p+(S?1:0),rt=f,bt=p+(S?0:3);for($=0;$<N;++$){var Et=rt[bt+4*$];Et!=255&&(Et*=32897,q[V+4*$+0]=q[V+4*$+0]*Et>>23,q[V+4*$+1]=q[V+4*$+1]*Et>>23,q[V+4*$+2]=q[V+4*$+2]*Et>>23)}p+=U}}function Qn(f,p,S,N,B){for(;0<N--;){var U;for(U=0;U<S;++U){var $=f[p+2*U+0],q=15&(rt=f[p+2*U+1]),V=4369*q,rt=(240&rt|rt>>4)*V>>16;f[p+2*U+0]=(240&$|$>>4)*V>>16&240|(15&$|$<<4)*V>>16>>4&15,f[p+2*U+1]=240&rt|q}p+=B}}function ur(f,p,S,N,B,U,$,q){var V,rt,bt=255;for(rt=0;rt<B;++rt){for(V=0;V<N;++V){var Et=f[p+V];U[$+4*V]=Et,bt&=Et}p+=S,$+=q}return bt!=255}function Di(f,p,S,N,B){var U;for(U=0;U<B;++U)S[N+U]=f[p+U]>>8}function li(){Vo=er,Fu=Qn,Du=ur,zu=Di}function zi(f,p,S){P[f]=function(N,B,U,$,q,V,rt,bt,Et,it,xt,Nt,Wt,Rt,Xt,Yt,se){var Qt,Ee=se-1>>1,ke=q[V+0]|rt[bt+0]<<16,rn=Et[it+0]|xt[Nt+0]<<16;e(N!=null);var Ce=3*ke+rn+131074>>2;for(p(N[B+0],255&Ce,Ce>>16,Wt,Rt),U!=null&&(Ce=3*rn+ke+131074>>2,p(U[$+0],255&Ce,Ce>>16,Xt,Yt)),Qt=1;Qt<=Ee;++Qt){var hn=q[V+Qt]|rt[bt+Qt]<<16,rr=Et[it+Qt]|xt[Nt+Qt]<<16,sn=ke+hn+rn+rr+524296,Ne=sn+2*(hn+rn)>>3;Ce=Ne+ke>>1,ke=(sn=sn+2*(ke+rr)>>3)+hn>>1,p(N[B+2*Qt-1],255&Ce,Ce>>16,Wt,Rt+(2*Qt-1)*S),p(N[B+2*Qt-0],255&ke,ke>>16,Wt,Rt+(2*Qt-0)*S),U!=null&&(Ce=sn+rn>>1,ke=Ne+rr>>1,p(U[$+2*Qt-1],255&Ce,Ce>>16,Xt,Yt+(2*Qt-1)*S),p(U[$+2*Qt+0],255&ke,ke>>16,Xt,Yt+(2*Qt+0)*S)),ke=hn,rn=rr}1&se||(Ce=3*ke+rn+131074>>2,p(N[B+se-1],255&Ce,Ce>>16,Wt,Rt+(se-1)*S),U!=null&&(Ce=3*rn+ke+131074>>2,p(U[$+se-1],255&Ce,Ce>>16,Xt,Yt+(se-1)*S)))}}function Fo(){ti[Wa]=tg,ti[Xa]=Zu,ti[Xu]=eg,ti[Ga]=Ku,ti[Ha]=Ju,ti[Oc]=Qu,ti[Gu]=ng,ti[Pc]=Zu,ti[Rc]=Ku,ti[Va]=Ju,ti[Ec]=Qu}function Ks(f){return f&-16384?0>f?0:255:f>>rg}function ts(f,p){return Ks((19077*f>>8)+(26149*p>>8)-14234)}function Ls(f,p,S){return Ks((19077*f>>8)-(6419*p>>8)-(13320*S>>8)+8708)}function Cs(f,p){return Ks((19077*f>>8)+(33050*p>>8)-17685)}function es(f,p,S,N,B){N[B+0]=ts(f,S),N[B+1]=Ls(f,p,S),N[B+2]=Cs(f,p)}function fr(f,p,S,N,B){N[B+0]=Cs(f,p),N[B+1]=Ls(f,p,S),N[B+2]=ts(f,S)}function Ns(f,p,S,N,B){var U=Ls(f,p,S);p=U<<3&224|Cs(f,p)>>3,N[B+0]=248&ts(f,S)|U>>5,N[B+1]=p}function Ms(f,p,S,N,B){var U=240&Cs(f,p)|15;N[B+0]=240&ts(f,S)|Ls(f,p,S)>>4,N[B+1]=U}function Do(f,p,S,N,B){N[B+0]=255,es(f,p,S,N,B+1)}function zo(f,p,S,N,B){fr(f,p,S,N,B),N[B+3]=255}function Sr(f,p,S,N,B){es(f,p,S,N,B),N[B+3]=255}function ji(f,p,S){P[f]=function(N,B,U,$,q,V,rt,bt,Et){for(var it=bt+(-2&Et)*S;bt!=it;)p(N[B+0],U[$+0],q[V+0],rt,bt),p(N[B+1],U[$+0],q[V+0],rt,bt+S),B+=2,++$,++V,bt+=2*S;1&Et&&p(N[B+0],U[$+0],q[V+0],rt,bt)}}function Js(f,p,S){return S==0?f==0?p==0?6:5:p==0?4:0:S}function ja(f,p,S,N,B){switch(f>>>30){case 3:Rs(p,S,N,B,0);break;case 2:Jr(p,S,N,B);break;case 1:bn(p,S,N,B)}}function Kr(f,p){var S,N,B=p.M,U=p.Nb,$=f.oc,q=f.pc+40,V=f.oc,rt=f.pc+584,bt=f.oc,Et=f.pc+600;for(S=0;16>S;++S)$[q+32*S-1]=129;for(S=0;8>S;++S)V[rt+32*S-1]=129,bt[Et+32*S-1]=129;for(0<B?$[q-1-32]=V[rt-1-32]=bt[Et-1-32]=129:(i($,q-32-1,127,21),i(V,rt-32-1,127,9),i(bt,Et-32-1,127,9)),N=0;N<f.za;++N){var it=p.ya[p.aa+N];if(0<N){for(S=-1;16>S;++S)r($,q+32*S-4,$,q+32*S+12,4);for(S=-1;8>S;++S)r(V,rt+32*S-4,V,rt+32*S+4,4),r(bt,Et+32*S-4,bt,Et+32*S+4,4)}var xt=f.Gd,Nt=f.Hd+N,Wt=it.ad,Rt=it.Hc;if(0<B&&(r($,q-32,xt[Nt].y,0,16),r(V,rt-32,xt[Nt].f,0,8),r(bt,Et-32,xt[Nt].ea,0,8)),it.Za){var Xt=$,Yt=q-32+16;for(0<B&&(N>=f.za-1?i(Xt,Yt,xt[Nt].y[15],4):r(Xt,Yt,xt[Nt+1].y,0,4)),S=0;4>S;S++)Xt[Yt+128+S]=Xt[Yt+256+S]=Xt[Yt+384+S]=Xt[Yt+0+S];for(S=0;16>S;++S,Rt<<=2)Xt=$,Yt=q+ef[S],ci[it.Ob[S]](Xt,Yt),ja(Rt,Wt,16*+S,Xt,Yt)}else if(Xt=Js(N,B,it.Ob[0]),cs[Xt]($,q),Rt!=0)for(S=0;16>S;++S,Rt<<=2)ja(Rt,Wt,16*+S,$,q+ef[S]);for(S=it.Gc,Xt=Js(N,B,it.Dd),qi[Xt](V,rt),qi[Xt](bt,Et),Rt=Wt,Xt=V,Yt=rt,255&(it=0|S)&&(170&it?ki(Rt,256,Xt,Yt):Cn(Rt,256,Xt,Yt)),it=bt,Rt=Et,255&(S>>=8)&&(170&S?ki(Wt,320,it,Rt):Cn(Wt,320,it,Rt)),B<f.Ub-1&&(r(xt[Nt].y,0,$,q+480,16),r(xt[Nt].f,0,V,rt+224,8),r(xt[Nt].ea,0,bt,Et+224,8)),S=8*U*f.B,xt=f.sa,Nt=f.ta+16*N+16*U*f.R,Wt=f.qa,it=f.ra+8*N+S,Rt=f.Ha,Xt=f.Ia+8*N+S,S=0;16>S;++S)r(xt,Nt+S*f.R,$,q+32*S,16);for(S=0;8>S;++S)r(Wt,it+S*f.B,V,rt+32*S,8),r(Rt,Xt+S*f.B,bt,Et+32*S,8)}}function Is(f,p,S,N,B,U,$,q,V){var rt=[0],bt=[0],Et=0,it=V!=null?V.kd:0,xt=V??new Jt;if(f==null||12>S)return 7;xt.data=f,xt.w=p,xt.ha=S,p=[p],S=[S],xt.gb=[xt.gb];t:{var Nt=p,Wt=S,Rt=xt.gb;if(e(f!=null),e(Wt!=null),e(Rt!=null),Rt[0]=0,12<=Wt[0]&&!n(f,Nt[0],\"RIFF\")){if(n(f,Nt[0]+8,\"WEBP\")){Rt=3;break t}var Xt=O(f,Nt[0]+4);if(12>Xt||4294967286<Xt){Rt=3;break t}if(it&&Xt>Wt[0]-8){Rt=7;break t}Rt[0]=Xt,Nt[0]+=12,Wt[0]-=12}Rt=0}if(Rt!=0)return Rt;for(Xt=0<xt.gb[0],S=S[0];;){t:{var Yt=f;Wt=p,Rt=S;var se=rt,Qt=bt,Ee=Nt=[0];if((Ce=Et=[Et])[0]=0,8>Rt[0])Rt=7;else{if(!n(Yt,Wt[0],\"VP8X\")){if(O(Yt,Wt[0]+4)!=10){Rt=3;break t}if(18>Rt[0]){Rt=7;break t}var ke=O(Yt,Wt[0]+8),rn=1+ce(Yt,Wt[0]+12);if(2147483648<=rn*(Yt=1+ce(Yt,Wt[0]+15))){Rt=3;break t}Ee!=null&&(Ee[0]=ke),se!=null&&(se[0]=rn),Qt!=null&&(Qt[0]=Yt),Wt[0]+=18,Rt[0]-=18,Ce[0]=1}Rt=0}}if(Et=Et[0],Nt=Nt[0],Rt!=0)return Rt;if(Wt=!!(2&Nt),!Xt&&Et)return 3;if(U!=null&&(U[0]=!!(16&Nt)),$!=null&&($[0]=Wt),q!=null&&(q[0]=0),$=rt[0],Nt=bt[0],Et&&Wt&&V==null){Rt=0;break}if(4>S){Rt=7;break}if(Xt&&Et||!Xt&&!Et&&!n(f,p[0],\"ALPH\")){S=[S],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{ke=f,Rt=p,Xt=S;var Ce=xt.gb;se=xt.na,Qt=xt.P,Ee=xt.Sa,rn=22,e(ke!=null),e(Xt!=null),Yt=Rt[0];var hn=Xt[0];for(e(se!=null),e(Ee!=null),se[0]=null,Qt[0]=null,Ee[0]=0;;){if(Rt[0]=Yt,Xt[0]=hn,8>hn){Rt=7;break t}var rr=O(ke,Yt+4);if(4294967286<rr){Rt=3;break t}var sn=8+rr+1&-2;if(rn+=sn,0<Ce&&rn>Ce){Rt=3;break t}if(!n(ke,Yt,\"VP8 \")||!n(ke,Yt,\"VP8L\")){Rt=0;break t}if(hn[0]<sn){Rt=7;break t}n(ke,Yt,\"ALPH\")||(se[0]=ke,Qt[0]=Yt+8,Ee[0]=rr),Yt+=sn,hn-=sn}}if(S=S[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],Rt!=0)break}S=[S],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(Ce=f,Rt=p,Xt=S,se=xt.gb[0],Qt=xt.Ja,Ee=xt.xa,ke=Rt[0],Yt=!n(Ce,ke,\"VP8 \"),rn=!n(Ce,ke,\"VP8L\"),e(Ce!=null),e(Xt!=null),e(Qt!=null),e(Ee!=null),8>Xt[0])Rt=7;else{if(Yt||rn){if(Ce=O(Ce,ke+4),12<=se&&Ce>se-12){Rt=3;break t}if(it&&Ce>Xt[0]-8){Rt=7;break t}Qt[0]=Ce,Rt[0]+=8,Xt[0]-=8,Ee[0]=rn}else Ee[0]=5<=Xt[0]&&Ce[ke+0]==47&&!(Ce[ke+4]>>5),Qt[0]=Xt[0];Rt=0}if(S=S[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],p=p[0],Rt!=0)break;if(4294967286<xt.Ja)return 3;if(q==null||Wt||(q[0]=xt.xa?2:1),$=[$],Nt=[Nt],xt.xa){if(5>S){Rt=7;break}q=$,it=Nt,Wt=U,f==null||5>S?f=0:5<=S&&f[p+0]==47&&!(f[p+4]>>5)?(Xt=[0],Ce=[0],se=[0],ct(Qt=new X,f,p,S),Mt(Qt,Xt,Ce,se)?(q!=null&&(q[0]=Xt[0]),it!=null&&(it[0]=Ce[0]),Wt!=null&&(Wt[0]=se[0]),f=1):f=0):f=0}else{if(10>S){Rt=7;break}q=Nt,f==null||10>S||!An(f,p+3,S-3)?f=0:(it=f[p+0]|f[p+1]<<8|f[p+2]<<16,Wt=16383&(f[p+7]<<8|f[p+6]),f=16383&(f[p+9]<<8|f[p+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=xt.Ja||!Wt||!f?f=0:($&&($[0]=Wt),q&&(q[0]=f),f=1))}if(!f||($=$[0],Nt=Nt[0],Et&&(rt[0]!=$||bt[0]!=Nt)))return 3;V!=null&&(V[0]=xt,V.offset=p-V.w,e(4294967286>p-V.w),e(V.offset==V.ha-S));break}return Rt==0||Rt==7&&Et&&V==null?(U!=null&&(U[0]|=xt.na!=null&&0<xt.na.length),N!=null&&(N[0]=$),B!=null&&(B[0]=Nt),0):Rt}function jo(f,p,S){var N=p.width,B=p.height,U=0,$=0,q=N,V=B;if(p.Da=f!=null&&0<f.Da,p.Da&&(q=f.cd,V=f.bd,U=f.v,$=f.j,11>S||(U&=-2,$&=-2),0>U||0>$||0>=q||0>=V||U+q>N||$+V>B))return 0;if(p.v=U,p.j=$,p.va=U+q,p.o=$+V,p.U=q,p.T=V,p.da=f!=null&&0<f.da,p.da){if(!W(q,V,S=[f.ib],U=[f.hb]))return 0;p.ib=S[0],p.hb=U[0]}return p.ob=f!=null&&f.ob,p.Kb=f==null||!f.Sd,p.da&&(p.ob=p.ib<3*N/4&&p.hb<3*B/4,p.Kb=0),1}function Uo(f){if(f==null)return 2;if(11>f.S){var p=f.f.RGBA;p.fb+=(f.height-1)*p.A,p.A=-p.A}else p=f.f.kb,f=f.height,p.O+=(f-1)*p.fa,p.fa=-p.fa,p.N+=(f-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(f-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(f-1)*p.lb,p.lb=-p.lb);return 0}function ns(f,p,S,N){if(N==null||0>=f||0>=p)return 2;if(S!=null){if(S.Da){var B=S.cd,U=S.bd,$=-2&S.v,q=-2&S.j;if(0>$||0>q||0>=B||0>=U||$+B>f||q+U>p)return 2;f=B,p=U}if(S.da){if(!W(f,p,B=[S.ib],U=[S.hb]))return 2;f=B[0],p=U[0]}}N.width=f,N.height=p;t:{var V=N.width,rt=N.height;if(f=N.S,0>=V||0>=rt||!(f>=Wa&&13>f))f=2;else{if(0>=N.Rd&&N.sd==null){$=U=B=p=0;var bt=(q=V*nf[f])*rt;if(11>f||(U=(rt+1)/2*(p=(V+1)/2),f==12&&($=(B=V)*rt)),(rt=s(bt+2*U+$))==null){f=1;break t}N.sd=rt,11>f?((V=N.f.RGBA).eb=rt,V.fb=0,V.A=q,V.size=bt):((V=N.f.kb).y=rt,V.O=0,V.fa=q,V.Fd=bt,V.f=rt,V.N=0+bt,V.Ab=p,V.Cd=U,V.ea=rt,V.W=0+bt+U,V.Db=p,V.Ed=U,f==12&&(V.F=rt,V.J=0+bt+2*U),V.Tc=$,V.lb=B)}if(p=1,B=N.S,U=N.width,$=N.height,B>=Wa&&13>B)if(11>B)f=N.f.RGBA,p&=(q=Math.abs(f.A))*($-1)+U<=f.size,p&=q>=U*nf[B],p&=f.eb!=null;else{f=N.f.kb,q=(U+1)/2,bt=($+1)/2,V=Math.abs(f.fa),rt=Math.abs(f.Ab);var Et=Math.abs(f.Db),it=Math.abs(f.lb),xt=it*($-1)+U;p&=V*($-1)+U<=f.Fd,p&=rt*(bt-1)+q<=f.Cd,p=(p&=Et*(bt-1)+q<=f.Ed)&V>=U&rt>=q&Et>=q,p&=f.y!=null,p&=f.f!=null,p&=f.ea!=null,B==12&&(p&=it>=U,p&=xt<=f.Tc,p&=f.F!=null)}else p=0;f=p?0:2}}return f!=0||S!=null&&S.fd&&(f=Uo(N)),f}var Os=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zr=24,rs=32,Ui=8,is=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ot(\"Predictor0\",\"PredictorAdd0\"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(f){return f},P.Predictor2=function(f,p,S){return p[S+0]},P.Predictor3=function(f,p,S){return p[S+1]},P.Predictor4=function(f,p,S){return p[S-1]},P.Predictor5=function(f,p,S){return Bt(Bt(f,p[S+1]),p[S+0])},P.Predictor6=function(f,p,S){return Bt(f,p[S-1])},P.Predictor7=function(f,p,S){return Bt(f,p[S+0])},P.Predictor8=function(f,p,S){return Bt(p[S-1],p[S+0])},P.Predictor9=function(f,p,S){return Bt(p[S+0],p[S+1])},P.Predictor10=function(f,p,S){return Bt(Bt(f,p[S-1]),Bt(p[S+0],p[S+1]))},P.Predictor11=function(f,p,S){var N=p[S+0];return 0>=ne(N>>24&255,f>>24&255,(p=p[S-1])>>24&255)+ne(N>>16&255,f>>16&255,p>>16&255)+ne(N>>8&255,f>>8&255,p>>8&255)+ne(255&N,255&f,255&p)?N:f},P.Predictor12=function(f,p,S){var N=p[S+0];return(ee((f>>24&255)+(N>>24&255)-((p=p[S-1])>>24&255))<<24|ee((f>>16&255)+(N>>16&255)-(p>>16&255))<<16|ee((f>>8&255)+(N>>8&255)-(p>>8&255))<<8|ee((255&f)+(255&N)-(255&p)))>>>0},P.Predictor13=function(f,p,S){var N=p[S-1];return(Gt((f=Bt(f,p[S+0]))>>24&255,N>>24&255)<<24|Gt(f>>16&255,N>>16&255)<<16|Gt(f>>8&255,N>>8&255)<<8|Gt(255&f,255&N))>>>0};var $o=P.PredictorAdd0;P.PredictorAdd1=xe,Ot(\"Predictor2\",\"PredictorAdd2\"),Ot(\"Predictor3\",\"PredictorAdd3\"),Ot(\"Predictor4\",\"PredictorAdd4\"),Ot(\"Predictor5\",\"PredictorAdd5\"),Ot(\"Predictor6\",\"PredictorAdd6\"),Ot(\"Predictor7\",\"PredictorAdd7\"),Ot(\"Predictor8\",\"PredictorAdd8\"),Ot(\"Predictor9\",\"PredictorAdd9\"),Ot(\"Predictor10\",\"PredictorAdd10\"),Ot(\"Predictor11\",\"PredictorAdd11\"),Ot(\"Predictor12\",\"PredictorAdd12\"),Ot(\"Predictor13\",\"PredictorAdd13\");var Qs=P.PredictorAdd2;we(\"ColorIndexInverseTransform\",\"MapARGB\",\"32b\",function(f){return f>>8&255},function(f){return f}),we(\"VP8LColorIndexInverseTransformAlpha\",\"MapAlpha\",\"8b\",function(f){return f},function(f){return f>>8&255});var Wn,Ua=P.ColorIndexInverseTransform,vi=P.MapARGB,xi=P.VP8LColorIndexInverseTransformAlpha,qo=P.MapAlpha,Wo=P.VP8LPredictorsAdd=[];Wo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Xo,Go,ss,os,as,Ps,ls,Rs,Jr,ki,bn,Cn,Xn,nr,$i,Ho,to,$a,Ou,Pu,Ru,Eu,Tu,Bu,Vo,Fu,Du,zu,ju=s(511),Uu=s(2041),$u=s(225),qu=s(767),Wu=0,Ic=Uu,qa=$u,jr=qu,Qr=ju,Wa=0,Xa=1,Xu=2,Ga=3,Ha=4,Oc=5,Gu=6,Pc=7,Rc=8,Va=9,Ec=10,j2=[2,3,7],U2=[3,3,11],Hu=[280,256,256,256,40],$2=[0,1,1,1,0],q2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],W2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],X2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],G2=8,Tc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yo=null,H2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Y2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Z2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],K2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],J2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],ci=[],qi=[],Q2=1,Yu=2,hs=[],ti=[];zi(\"UpsampleRgbLinePair\",es,3),zi(\"UpsampleBgrLinePair\",fr,3),zi(\"UpsampleRgbaLinePair\",Sr,4),zi(\"UpsampleBgraLinePair\",zo,4),zi(\"UpsampleArgbLinePair\",Do,4),zi(\"UpsampleRgba4444LinePair\",Ms,2),zi(\"UpsampleRgb565LinePair\",Ns,2);var tg=P.UpsampleRgbLinePair,eg=P.UpsampleBgrLinePair,Zu=P.UpsampleRgbaLinePair,Ku=P.UpsampleBgraLinePair,Ju=P.UpsampleArgbLinePair,Qu=P.UpsampleRgba4444LinePair,ng=P.UpsampleRgb565LinePair,Ya=16,Za=1<<Ya-1,Zo=-227,Fc=482,rg=6,tf=0,ig=s(256),sg=s(256),og=s(256),ag=s(256),lg=s(Fc-Zo),cg=s(Fc-Zo);ji(\"YuvToRgbRow\",es,3),ji(\"YuvToBgrRow\",fr,3),ji(\"YuvToRgbaRow\",Sr,4),ji(\"YuvToBgraRow\",zo,4),ji(\"YuvToArgbRow\",Do,4),ji(\"YuvToRgba4444Row\",Ms,2),ji(\"YuvToRgb565Row\",Ns,2);var ef=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ka=[0,2,8],hg=[8,7,6,4,4,2,2,2,1,1,1,1],ug=1;this.WebPDecodeRGBA=function(f,p,S,N,B){var U=Xa,$=new Ht,q=new Ge;$.ba=q,q.S=U,q.width=[q.width],q.height=[q.height];var V=q.width,rt=q.height,bt=new Te;if(bt==null||f==null)var Et=2;else e(bt!=null),Et=Is(f,p,S,bt.width,bt.height,bt.Pd,bt.Qd,bt.format,null);if(Et!=0?V=0:(V!=null&&(V[0]=bt.width[0]),rt!=null&&(rt[0]=bt.height[0]),V=1),V){q.width=q.width[0],q.height=q.height[0],N!=null&&(N[0]=q.width),B!=null&&(B[0]=q.height);t:{if(N=new je,(B=new Jt).data=f,B.w=p,B.ha=S,B.kd=1,p=[0],e(B!=null),((f=Is(B.data,B.w,B.ha,null,null,null,p,null,B))==0||f==7)&&p[0]&&(f=4),(p=f)==0){if(e($!=null),N.data=B.data,N.w=B.w+B.offset,N.ha=B.ha-B.offset,N.put=lt,N.ac=Y,N.bc=ht,N.ma=$,B.xa){if((f=oe())==null){$=1;break t}if((function(it,xt){var Nt=[0],Wt=[0],Rt=[0];e:for(;;){if(it==null)return 0;if(xt==null)return it.a=2,0;if(it.l=xt,it.a=0,ct(it.m,xt.data,xt.w,xt.ha),!Mt(it.m,Nt,Wt,Rt)){it.a=3;break e}if(it.xb=Yu,xt.width=Nt[0],xt.height=Wt[0],!zt(Nt[0],Wt[0],1,it,null))break e;return 1}return e(it.a!=0),0})(f,N)){if(N=(p=ns(N.width,N.height,$.Oa,$.ba))==0){e:{N=f;n:for(;;){if(N==null){N=0;break e}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((S=N.l)!=null),e((B=S.ma)!=null),N.xb!=0){if(N.ca=B.ba,N.tb=B.tb,e(N.ca!=null),!jo(B.Oa,S,Ga)){N.a=2;break n}if(!ae(N,S.width)||S.da)break n;if((S.da||De(N.ca.S))&&li(),11>N.ca.S||(alert(\"todo:WebPInitConvertARGBToYUV\"),N.ca.f.kb.F!=null&&li()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!T(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!ie(N,N.V,N.Ba,N.c,N.i,S.o,jt))break n;B.Dc=N.Ma,N=1;break e}e(N.a!=0),N=0}N=!N}N&&(p=f.a)}else p=f.a}else{if((f=new vn)==null){$=1;break t}if(f.Fa=B.na,f.P=B.P,f.qc=B.Sa,cn(f,N)){if((p=ns(N.width,N.height,$.Oa,$.ba))==0){if(f.Aa=0,S=$.Oa,e((B=f)!=null),S!=null){if(0<(V=0>(V=S.Md)?0:100<V?255:255*V/100)){for(rt=bt=0;4>rt;++rt)12>(Et=B.pb[rt]).lc&&(Et.ia=V*hg[0>Et.lc?0:Et.lc]>>3),bt|=Et.ia;bt&&(alert(\"todo:VP8InitRandom\"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(it,xt){if(it==null)return 0;if(xt==null)return pe(it,2,\"NULL VP8Io parameter in VP8Decode().\");if(!it.cb&&!cn(it,xt))return 0;if(e(it.cb),xt.ac==null||xt.ac(xt)){xt.ob&&(it.L=0);var Nt=Ka[it.L];if(it.L==2?(it.yb=0,it.zb=0):(it.yb=xt.v-Nt>>4,it.zb=xt.j-Nt>>4,0>it.yb&&(it.yb=0),0>it.zb&&(it.zb=0)),it.Va=xt.o+15+Nt>>4,it.Hb=xt.va+15+Nt>>4,it.Hb>it.za&&(it.Hb=it.za),it.Va>it.Ub&&(it.Va=it.Ub),0<it.L){var Wt=it.ed;for(Nt=0;4>Nt;++Nt){var Rt;if(it.Qa.Cb){var Xt=it.Qa.Lb[Nt];it.Qa.Fb||(Xt+=Wt.Tb)}else Xt=Wt.Tb;for(Rt=0;1>=Rt;++Rt){var Yt=it.gd[Nt][Rt],se=Xt;if(Wt.Pc&&(se+=Wt.vd[0],Rt&&(se+=Wt.od[0])),0<(se=0>se?0:63<se?63:se)){var Qt=se;0<Wt.wb&&(Qt=4<Wt.wb?Qt>>2:Qt>>1)>9-Wt.wb&&(Qt=9-Wt.wb),1>Qt&&(Qt=1),Yt.dd=Qt,Yt.tc=2*se+Qt,Yt.ld=40<=se?2:15<=se?1:0}else Yt.tc=0;Yt.La=Rt}}}Nt=0}else pe(it,6,\"Frame setup failed\"),Nt=it.a;if(Nt=Nt==0){if(Nt){it.$c=0,0<it.Aa||(it.Ic=ug);e:{Nt=it.Ic,Wt=4*(Qt=it.za);var Ee=32*Qt,ke=Qt+1,rn=0<it.L?Qt*(0<it.Aa?2:1):0,Ce=(it.Aa==2?2:1)*Qt;if((Yt=Wt+832+(Rt=3*(16*Nt+Ka[it.L])/2*Ee)+(Xt=it.Fa!=null&&0<it.Fa.length?it.Kc.c*it.Kc.i:0))!=Yt)Nt=0;else{if(Yt>it.Vb){if(it.Vb=0,it.Ec=s(Yt),it.Fc=0,it.Ec==null){Nt=pe(it,1,\"no memory during frame initialization.\");break e}it.Vb=Yt}Yt=it.Ec,se=it.Fc,it.Ac=Yt,it.Bc=se,se+=Wt,it.Gd=a(Ee,re),it.Hd=0,it.rb=a(ke+1,ue),it.sb=1,it.wa=rn?a(rn,he):null,it.Y=0,it.D.Nb=0,it.D.wa=it.wa,it.D.Y=it.Y,0<it.Aa&&(it.D.Y+=Qt),e(!0),it.oc=Yt,it.pc=se,se+=832,it.ya=a(Ce,Ye),it.aa=0,it.D.ya=it.ya,it.D.aa=it.aa,it.Aa==2&&(it.D.aa+=Qt),it.R=16*Qt,it.B=8*Qt,Qt=(Ee=Ka[it.L])*it.R,Ee=Ee/2*it.B,it.sa=Yt,it.ta=se+Qt,it.qa=it.sa,it.ra=it.ta+16*Nt*it.R+Ee,it.Ha=it.qa,it.Ia=it.ra+8*Nt*it.B+Ee,it.$c=0,se+=Rt,it.mb=Xt?Yt:null,it.nb=Xt?se:null,e(se+Xt<=it.Fc+it.Vb),en(it),i(it.Ac,it.Bc,0,Wt),Nt=1}}if(Nt){if(xt.ka=0,xt.y=it.sa,xt.O=it.ta,xt.f=it.qa,xt.N=it.ra,xt.ea=it.Ha,xt.Vd=it.Ia,xt.fa=it.R,xt.Rc=it.B,xt.F=null,xt.J=0,!Wu){for(Nt=-255;255>=Nt;++Nt)ju[255+Nt]=0>Nt?-Nt:Nt;for(Nt=-1020;1020>=Nt;++Nt)Uu[1020+Nt]=-128>Nt?-128:127<Nt?127:Nt;for(Nt=-112;112>=Nt;++Nt)$u[112+Nt]=-16>Nt?-16:15<Nt?15:Nt;for(Nt=-255;510>=Nt;++Nt)qu[255+Nt]=0>Nt?0:255<Nt?255:Nt;Wu=1}ls=oi,Rs=hr,ki=_r,bn=Mi,Cn=Ii,Jr=Ni,Xn=Da,nr=As,$i=E,Ho=st,to=za,$a=x,Ou=ut,Pu=St,Ru=Ss,Eu=Bo,Tu=Ba,Bu=Fa,ci[0]=Ac,ci[1]=Qi,ci[2]=_c,ci[3]=Sc,ci[4]=Pi,ci[5]=Lc,ci[6]=Ri,ci[7]=Cc,ci[8]=Oo,ci[9]=Ys,cs[0]=xc,cs[1]=vc,cs[2]=Mo,cs[3]=Ea,cs[4]=ks,cs[5]=Io,cs[6]=kc,qi[0]=Mc,qi[1]=wc,qi[2]=_s,qi[3]=Nc,qi[4]=Ro,qi[5]=Po,qi[6]=Ta,Nt=1}else Nt=0}Nt&&(Nt=(function(hn,rr){for(hn.M=0;hn.M<hn.Va;++hn.M){var sn,Ne=hn.Jc[hn.M&hn.Xb],ge=hn.m,Gn=hn;for(sn=0;sn<Gn.za;++sn){var Qe=ge,un=Gn,Rn=un.Ac,dr=un.Bc+4*sn,Ar=un.zc,jn=un.ya[un.aa+sn];if(un.Qa.Bb?jn.$b=Ut(Qe,un.Pa.jb[0])?2+Ut(Qe,un.Pa.jb[2]):Ut(Qe,un.Pa.jb[1]):jn.$b=0,un.kc&&(jn.Ad=Ut(Qe,un.Bd)),jn.Za=!Ut(Qe,145)+0,jn.Za){var mr=jn.Ob,Lr=0;for(un=0;4>un;++un){var ir,pn=Ar[0+un];for(ir=0;4>ir;++ir){pn=Z2[Rn[dr+ir]][pn];for(var xn=Vu[Ut(Qe,pn[0])];0<xn;)xn=Vu[2*xn+Ut(Qe,pn[xn])];pn=-xn,Rn[dr+ir]=pn}r(mr,Lr,Rn,dr,4),Lr+=4,Ar[0+un]=pn}}else pn=Ut(Qe,156)?Ut(Qe,128)?1:3:Ut(Qe,163)?2:0,jn.Ob[0]=pn,i(Rn,dr,pn,4),i(Ar,0,pn,4);jn.Dd=Ut(Qe,142)?Ut(Qe,114)?Ut(Qe,183)?1:3:2:0}if(Gn.m.Ka)return pe(hn,7,\"Premature end-of-partition0 encountered.\");for(;hn.ja<hn.za;++hn.ja){if(Gn=Ne,Qe=(ge=hn).rb[ge.sb-1],Rn=ge.rb[ge.sb+ge.ja],sn=ge.ya[ge.aa+ge.ja],dr=ge.kc?sn.Ad:0)Qe.la=Rn.la=0,sn.Za||(Qe.Na=Rn.Na=0),sn.Hc=0,sn.Gc=0,sn.ia=0;else{var Un,kn;if(Qe=Rn,Rn=Gn,dr=ge.Pa.Xc,Ar=ge.ya[ge.aa+ge.ja],jn=ge.pb[Ar.$b],un=Ar.ad,mr=0,Lr=ge.rb[ge.sb-1],pn=ir=0,i(un,mr,0,384),Ar.Za)var pr=0,hi=dr[3];else{xn=s(16);var Hn=Qe.Na+Lr.Na;if(Hn=Yo(Rn,dr[1],Hn,jn.Eb,0,xn,0),Qe.Na=Lr.Na=(0<Hn)+0,1<Hn)ls(xn,0,un,mr);else{var Mr=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)un[mr+xn]=Mr}pr=1,hi=dr[0]}var Nn=15&Qe.la,sr=15&Lr.la;for(xn=0;4>xn;++xn){var Ur=1&sr;for(Mr=kn=0;4>Mr;++Mr)Nn=Nn>>1|(Ur=(Hn=Yo(Rn,hi,Hn=Ur+(1&Nn),jn.Sc,pr,un,mr))>pr)<<7,kn=kn<<2|(3<Hn?3:1<Hn?2:un[mr+0]!=0),mr+=16;Nn>>=4,sr=sr>>1|Ur<<7,ir=(ir<<8|kn)>>>0}for(hi=Nn,pr=sr>>4,Un=0;4>Un;Un+=2){for(kn=0,Nn=Qe.la>>4+Un,sr=Lr.la>>4+Un,xn=0;2>xn;++xn){for(Ur=1&sr,Mr=0;2>Mr;++Mr)Hn=Ur+(1&Nn),Nn=Nn>>1|(Ur=0<(Hn=Yo(Rn,dr[2],Hn,jn.Qc,0,un,mr)))<<3,kn=kn<<2|(3<Hn?3:1<Hn?2:un[mr+0]!=0),mr+=16;Nn>>=2,sr=sr>>1|Ur<<5}pn|=kn<<4*Un,hi|=Nn<<4<<Un,pr|=(240&sr)<<Un}Qe.la=hi,Lr.la=pr,Ar.Hc=ir,Ar.Gc=pn,Ar.ia=43690&pn?0:jn.ia,dr=!(ir|pn)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[sn.$b][sn.Za],ge.wa[ge.Y+ge.ja].La|=!dr),Gn.Ka)return pe(hn,7,\"Premature end-of-file encountered.\")}if(en(hn),ge=rr,Gn=1,sn=(Ne=hn).D,Qe=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(sn.M=Ne.M,sn.uc=Qe,Kr(Ne,sn),Gn=1,sn=(kn=Ne.D).Nb,Qe=(pn=Ka[Ne.L])*Ne.R,Rn=pn/2*Ne.B,xn=16*sn*Ne.R,Mr=8*sn*Ne.B,dr=Ne.sa,Ar=Ne.ta-Qe+xn,jn=Ne.qa,un=Ne.ra-Rn+Mr,mr=Ne.Ha,Lr=Ne.Ia-Rn+Mr,sr=(Nn=kn.M)==0,ir=Nn>=Ne.Va-1,Ne.Aa==2&&Kr(Ne,kn),kn.uc)for(Ur=(Hn=Ne).D.M,e(Hn.D.uc),kn=Hn.yb;kn<Hn.Hb;++kn){pr=kn,hi=Ur;var Cr=($r=(gr=Hn).D).Nb;Un=gr.R;var $r=$r.wa[$r.Y+pr],qr=gr.sa,Ir=gr.ta+16*Cr*Un+16*pr,Wr=$r.dd,Pn=$r.tc;if(Pn!=0)if(e(3<=Pn),gr.L==1)0<pr&&Eu(qr,Ir,Un,Pn+4),$r.La&&Bu(qr,Ir,Un,Pn),0<hi&&Ru(qr,Ir,Un,Pn+4),$r.La&&Tu(qr,Ir,Un,Pn);else{var Xr=gr.B,ui=gr.qa,Es=gr.ra+8*Cr*Xr+8*pr,Wi=gr.Ha,gr=gr.Ia+8*Cr*Xr+8*pr;Cr=$r.ld,0<pr&&(nr(qr,Ir,Un,Pn+4,Wr,Cr),Ho(ui,Es,Wi,gr,Xr,Pn+4,Wr,Cr)),$r.La&&($a(qr,Ir,Un,Pn,Wr,Cr),Pu(ui,Es,Wi,gr,Xr,Pn,Wr,Cr)),0<hi&&(Xn(qr,Ir,Un,Pn+4,Wr,Cr),$i(ui,Es,Wi,gr,Xr,Pn+4,Wr,Cr)),$r.La&&(to(qr,Ir,Un,Pn,Wr,Cr),Ou(ui,Es,Wi,gr,Xr,Pn,Wr,Cr))}}if(Ne.ia&&alert(\"todo:DitherRow\"),ge.put!=null){if(kn=16*Nn,Nn=16*(Nn+1),sr?(ge.y=Ne.sa,ge.O=Ne.ta+xn,ge.f=Ne.qa,ge.N=Ne.ra+Mr,ge.ea=Ne.Ha,ge.W=Ne.Ia+Mr):(kn-=pn,ge.y=dr,ge.O=Ar,ge.f=jn,ge.N=un,ge.ea=mr,ge.W=Lr),ir||(Nn-=pn),Nn>ge.o&&(Nn=ge.o),ge.F=null,ge.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&kn<Nn&&(ge.J=On(Ne,ge,kn,Nn-kn),ge.F=Ne.mb,ge.F==null&&ge.F.length==0)){Gn=pe(Ne,3,\"Could not decode alpha data.\");break e}kn<ge.j&&(pn=ge.j-kn,kn=ge.j,e(!(1&pn)),ge.O+=Ne.R*pn,ge.N+=Ne.B*(pn>>1),ge.W+=Ne.B*(pn>>1),ge.F!=null&&(ge.J+=ge.width*pn)),kn<Nn&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=kn-ge.j,ge.U=ge.va-ge.v,ge.T=Nn-kn,Gn=ge.put(ge))}sn+1!=Ne.Ic||ir||(r(Ne.sa,Ne.ta-Qe,dr,Ar+16*Ne.R,Qe),r(Ne.qa,Ne.ra-Rn,jn,un+8*Ne.B,Rn),r(Ne.Ha,Ne.Ia-Rn,mr,Lr+8*Ne.B,Rn))}if(!Gn)return pe(hn,6,\"Output aborted.\")}return 1})(it,xt)),xt.bc!=null&&xt.bc(xt),Nt&=1}return Nt?(it.cb=0,Nt):0})(f,N)||(p=f.a)}}else p=f.a}p==0&&$.Oa!=null&&$.Oa.fd&&(p=Uo($.ba))}$=p}U=$!=0?null:11>U?q.f.RGBA.eb:q.f.kb.y}else U=null;return U};var nf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,G){for(var R=\"\",C=0;C<4;C++)R+=String.fromCharCode(P[G++]);return R}function h(P,G){return P[G+0]|P[G+1]<<8}function d(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16)>>>0}function g(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16|P[G+3]<<24)>>>0}new l;var u=[0],b=[0],m=[],v=new l,y=t,k=(function(P,G){var R={},C=0,D=!1,_=0,Q=0;if(R.frames=[],!(function(I,X){for(var K=0;K<4;K++)if(I[X+K]!=\"RIFF\".charCodeAt(K))return!0;return!1})(P,G)){for(g(P,G+=4),G+=8;G<P.length;){var yt=c(P,G),ot=g(P,G+=4);G+=4;var ft=ot+(1&ot);switch(yt){case\"VP8 \":case\"VP8L\":R.frames[C]===void 0&&(R.frames[C]={}),(at=R.frames[C]).src_off=D?Q:G-8,at.src_size=_+ot+8,C++,D&&(D=!1,_=0,Q=0);break;case\"VP8X\":(at=R.header={}).feature_flags=P[G];var ct=G+4;at.canvas_width=1+d(P,ct),ct+=3,at.canvas_height=1+d(P,ct),ct+=3;break;case\"ALPH\":D=!0,_=ft+8,Q=G-8;break;case\"ANIM\":(at=R.header).bgcolor=g(P,G),ct=G+4,at.loop_count=h(P,ct),ct+=2;break;case\"ANMF\":var Tt,at;(at=R.frames[C]={}).offset_x=2*d(P,G),G+=3,at.offset_y=2*d(P,G),G+=3,at.width=1+d(P,G),G+=3,at.height=1+d(P,G),G+=3,at.duration=d(P,G),G+=3,Tt=P[G++],at.dispose=1&Tt,at.blend=Tt>>1&1}yt!=\"ANMF\"&&(G+=ft)}return R}})(y,0);k.response=y,k.rgbaoutput=!0,k.dataurl=!1;var A=k.header?k.header:null,M=k.frames?k.frames:null;if(A){A.loop_counter=A.loop_count,u=[A.canvas_height],b=[A.canvas_width];for(var z=0;z<M.length&&M[z].blend!=0;z++);}var Z=M[0],H=v.WebPDecodeRGBA(y,Z.src_off,Z.src_size,b,u);Z.rgba=H,Z.imgwidth=b[0],Z.imgheight=u[0];for(var F=0;F<b[0]*u[0]*4;F++)m[F]=H[F];return this.width=b,this.height=u,this.data=m,this}(function(t){var e,n,r,i,s,a,o,l,c,h=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||\"#000000\",this.fillStyle=I.fillStyle||\"#000000\",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||\"10px sans-serif\",this.textBaseline=I.textBaseline||\"alphabetic\",this.textAlign=I.textAlign||\"left\",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||\"miter\",this.lineCap=I.lineCap||\"butt\",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||\"normal\",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!=\"boolean\"||I.ignoreClearRect,this};t.events.push([\"initialized\",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var d=function(I){Object.defineProperty(this,\"canvas\",{get:function(){return{parentNode:!1,style:!1}}});var X=I;Object.defineProperty(this,\"pdf\",{get:function(){return X}});var K=!1;Object.defineProperty(this,\"pageWrapXEnabled\",{get:function(){return K},set:function(T){K=!!T}});var et=!1;Object.defineProperty(this,\"pageWrapYEnabled\",{get:function(){return et},set:function(T){et=!!T}});var gt=0;Object.defineProperty(this,\"posX\",{get:function(){return gt},set:function(T){isNaN(T)||(gt=T)}});var kt=0;Object.defineProperty(this,\"posY\",{get:function(){return kt},set:function(T){isNaN(T)||(kt=T)}}),Object.defineProperty(this,\"margin\",{get:function(){return c.margin},set:function(T){var pt;typeof T==\"number\"?pt=[T,T,T,T]:((pt=new Array(4))[0]=T[0],pt[1]=T.length>=2?T[1]:pt[0],pt[2]=T.length>=3?T[2]:pt[0],pt[3]=T.length>=4?T[3]:pt[1]),c.margin=pt}});var _t=!1;Object.defineProperty(this,\"autoPaging\",{get:function(){return _t},set:function(T){_t=T}});var It=0;Object.defineProperty(this,\"lastBreak\",{get:function(){return It},set:function(T){It=T}});var Ut=[];Object.defineProperty(this,\"pageBreaks\",{get:function(){return Ut},set:function(T){Ut=T}}),Object.defineProperty(this,\"ctx\",{get:function(){return c},set:function(T){T instanceof h&&(c=T)}}),Object.defineProperty(this,\"path\",{get:function(){return c.path},set:function(T){c.path=T}});var Zt=[];Object.defineProperty(this,\"ctxStack\",{get:function(){return Zt},set:function(T){Zt=T}}),Object.defineProperty(this,\"fillStyle\",{get:function(){return this.ctx.fillStyle},set:function(T){var pt;pt=g(T),this.ctx.fillStyle=pt.style,this.ctx.isFillTransparent=pt.a===0,this.ctx.fillOpacity=pt.a,this.pdf.setFillColor(pt.r,pt.g,pt.b,{a:pt.a}),this.pdf.setTextColor(pt.r,pt.g,pt.b,{a:pt.a})}}),Object.defineProperty(this,\"strokeStyle\",{get:function(){return this.ctx.strokeStyle},set:function(T){var pt=g(T);this.ctx.strokeStyle=pt.style,this.ctx.isStrokeTransparent=pt.a===0,this.ctx.strokeOpacity=pt.a,pt.a===0?this.pdf.setDrawColor(255,255,255):(pt.a,this.pdf.setDrawColor(pt.r,pt.g,pt.b))}}),Object.defineProperty(this,\"lineCap\",{get:function(){return this.ctx.lineCap},set:function(T){[\"butt\",\"round\",\"square\"].indexOf(T)!==-1&&(this.ctx.lineCap=T,this.pdf.setLineCap(T))}}),Object.defineProperty(this,\"lineWidth\",{get:function(){return this.ctx.lineWidth},set:function(T){isNaN(T)||(this.ctx.lineWidth=T,this.pdf.setLineWidth(T))}}),Object.defineProperty(this,\"lineJoin\",{get:function(){return this.ctx.lineJoin},set:function(T){[\"bevel\",\"round\",\"miter\"].indexOf(T)!==-1&&(this.ctx.lineJoin=T,this.pdf.setLineJoin(T))}}),Object.defineProperty(this,\"miterLimit\",{get:function(){return this.ctx.miterLimit},set:function(T){isNaN(T)||(this.ctx.miterLimit=T,this.pdf.setMiterLimit(T))}}),Object.defineProperty(this,\"textBaseline\",{get:function(){return this.ctx.textBaseline},set:function(T){this.ctx.textBaseline=T}}),Object.defineProperty(this,\"textAlign\",{get:function(){return this.ctx.textAlign},set:function(T){[\"right\",\"end\",\"center\",\"left\",\"start\"].indexOf(T)!==-1&&(this.ctx.textAlign=T)}});var de=null,ce=null,O=null;Object.defineProperty(this,\"fontFaces\",{get:function(){return O},set:function(T){de=null,ce=null,O=T}}),Object.defineProperty(this,\"font\",{get:function(){return this.ctx.font},set:function(T){var pt;if(this.ctx.font=T,(pt=/^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])))?\\s*([-_,\\\"\\'\\sa-z0-9]+?)\\s*$/i.exec(T))!==null){var tt=pt[1];pt[2];var W=pt[3],nt=pt[4];pt[5];var Lt=pt[6],Ot=/^([.\\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nt)[2];nt=Math.floor(Ot===\"px\"?parseFloat(nt)*this.pdf.internal.scaleFactor:Ot===\"em\"?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nt);var dt=(function(we){var on,Ie,qe=[],We=we.trim();if(We===\"\")return Ih;if(We in Zd)return[Zd[We]];for(;We!==\"\";){switch(Ie=null,on=(We=Jd(We)).charAt(0)){case'\"':case\"'\":Ie=ex(We.substring(1),on);break;default:Ie=nx(We)}if(Ie===null||(qe.push(Ie[0]),(We=Jd(Ie[1]))!==\"\"&&We.charAt(0)!==\",\"))return Ih;We=We.replace(/^,/,\"\")}return qe})(Lt);if(this.fontFaces){var Bt=(function(we,on){var Ie=we.getFontList(),qe=JSON.stringify(Ie);if(de===null||ce!==qe){var We=(function(ln){var Re=[];return Object.keys(ln).forEach(function(mn){ln[mn].forEach(function(De){var Xe=null;switch(De){case\"bold\":Xe={family:mn,weight:\"bold\"};break;case\"italic\":Xe={family:mn,style:\"italic\"};break;case\"bolditalic\":Xe={family:mn,weight:\"bold\",style:\"italic\"};break;case\"\":case\"normal\":Xe={family:mn}}Xe!==null&&(Xe.ref={name:mn,style:De},Re.push(Xe))})}),Re})(Ie);de=(function(ln){for(var Re={},mn=0;mn<ln.length;++mn){var De=Mh(ln[mn]),Xe=De.family,wn=De.stretch,Ge=De.style,Te=De.weight;Re[Xe]=Re[Xe]||{},Re[Xe][wn]=Re[Xe][wn]||{},Re[Xe][wn][Ge]=Re[Xe][wn][Ge]||{},Re[Xe][wn][Ge][Te]=De}return Re})(We.concat(on)),ce=qe}return de})(this.pdf,this.fontFaces),ee=dt.map(function(we){return{family:we,stretch:\"normal\",weight:W,style:tt}}),Gt=(function(we,on,Ie){for(var qe=(Ie=Ie||{}).defaultFontFamily||\"times\",We=Object.assign({},tx,Ie.genericFontFamilies||{}),ln=null,Re=null,mn=0;mn<on.length;++mn)if(We[(ln=Mh(on[mn])).family]&&(ln.family=We[ln.family]),we.hasOwnProperty(ln.family)){Re=we[ln.family];break}if(!(Re=Re||we[qe]))throw new Error(\"Could not find a font-family for the rule '\"+Kd(ln)+\"' and default family '\"+qe+\"'.\");if(Re=(function(De,Xe){if(Xe[De])return Xe[De];var wn=uu[De],Ge=wn<=uu.normal?-1:1,Te=Yd(Xe,T2,wn,Ge);if(!Te)throw new Error(\"Could not find a matching font-stretch value for \"+De);return Te})(ln.stretch,Re),Re=(function(De,Xe){if(Xe[De])return Xe[De];for(var wn=E2[De],Ge=0;Ge<wn.length;++Ge)if(Xe[wn[Ge]])return Xe[wn[Ge]];throw new Error(\"Could not find a matching font-style for \"+De)})(ln.style,Re),!(Re=(function(De,Xe){if(Xe[De])return Xe[De];if(De===400&&Xe[500])return Xe[500];if(De===500&&Xe[400])return Xe[400];var wn=Qv[De],Ge=Yd(Xe,B2,wn,De<400?-1:1);if(!Ge)throw new Error(\"Could not find a matching font-weight for value \"+De);return Ge})(ln.weight,Re)))throw new Error(\"Failed to resolve a font for the rule '\"+Kd(ln)+\"'.\");return Re})(Bt,ee);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var ne=\"\";(W===\"bold\"||parseInt(W,10)>=700||tt===\"bold\")&&(ne=\"bold\"),tt===\"italic\"&&(ne+=\"italic\"),ne.length===0&&(ne=\"normal\");for(var xe=\"\",me={arial:\"Helvetica\",Arial:\"Helvetica\",verdana:\"Helvetica\",Verdana:\"Helvetica\",helvetica:\"Helvetica\",Helvetica:\"Helvetica\",\"sans-serif\":\"Helvetica\",fixed:\"Courier\",monospace:\"Courier\",terminal:\"Courier\",cursive:\"Times\",fantasy:\"Times\",serif:\"Times\"},ye=0;ye<dt.length;ye++){if(this.pdf.internal.getFont(dt[ye],ne,{noFallback:!0,disableWarning:!0})!==void 0){xe=dt[ye];break}if(ne===\"bolditalic\"&&this.pdf.internal.getFont(dt[ye],\"bold\",{noFallback:!0,disableWarning:!0})!==void 0)xe=dt[ye],ne=\"bold\";else if(this.pdf.internal.getFont(dt[ye],\"normal\",{noFallback:!0,disableWarning:!0})!==void 0){xe=dt[ye],ne=\"normal\";break}}if(xe===\"\"){for(var ze=0;ze<dt.length;ze++)if(me[dt[ze]]){xe=me[dt[ze]];break}}xe=xe===\"\"?\"Times\":xe,this.pdf.setFont(xe,ne)}}}}),Object.defineProperty(this,\"globalCompositeOperation\",{get:function(){return this.ctx.globalCompositeOperation},set:function(T){this.ctx.globalCompositeOperation=T}}),Object.defineProperty(this,\"globalAlpha\",{get:function(){return this.ctx.globalAlpha},set:function(T){this.ctx.globalAlpha=T}}),Object.defineProperty(this,\"lineDashOffset\",{get:function(){return this.ctx.lineDashOffset},set:function(T){this.ctx.lineDashOffset=T,at.call(this)}}),Object.defineProperty(this,\"lineDash\",{get:function(){return this.ctx.lineDash},set:function(T){this.ctx.lineDash=T,at.call(this)}}),Object.defineProperty(this,\"ignoreClearRect\",{get:function(){return this.ctx.ignoreClearRect},set:function(T){this.ctx.ignoreClearRect=!!T}})};d.prototype.setLineDash=function(I){this.lineDash=I},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){M.call(this,\"fill\",!1)},d.prototype.stroke=function(){M.call(this,\"stroke\",!1)},d.prototype.beginPath=function(){this.path=[{type:\"begin\"}]},d.prototype.moveTo=function(I,X){if(isNaN(I)||isNaN(X))throw Mn.error(\"jsPDF.context2d.moveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.moveTo\");var K=this.ctx.transform.applyToPoint(new a(I,X));this.path.push({type:\"mt\",x:K.x,y:K.y}),this.ctx.lastPoint=new a(I,X)},d.prototype.closePath=function(){var I=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type===\"begin\"&&Sn(this.path[X+1])===\"object\"&&typeof this.path[X+1].x==\"number\"){I=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:\"close\"}),this.ctx.lastPoint=new a(I.x,I.y)},d.prototype.lineTo=function(I,X){if(isNaN(I)||isNaN(X))throw Mn.error(\"jsPDF.context2d.lineTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.lineTo\");var K=this.ctx.transform.applyToPoint(new a(I,X));this.path.push({type:\"lt\",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},d.prototype.quadraticCurveTo=function(I,X,K,et){if(isNaN(K)||isNaN(et)||isNaN(I)||isNaN(X))throw Mn.error(\"jsPDF.context2d.quadraticCurveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.quadraticCurveTo\");var gt=this.ctx.transform.applyToPoint(new a(K,et)),kt=this.ctx.transform.applyToPoint(new a(I,X));this.path.push({type:\"qct\",x1:kt.x,y1:kt.y,x:gt.x,y:gt.y}),this.ctx.lastPoint=new a(gt.x,gt.y)},d.prototype.bezierCurveTo=function(I,X,K,et,gt,kt){if(isNaN(gt)||isNaN(kt)||isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et))throw Mn.error(\"jsPDF.context2d.bezierCurveTo: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.bezierCurveTo\");var _t=this.ctx.transform.applyToPoint(new a(gt,kt)),It=this.ctx.transform.applyToPoint(new a(I,X)),Ut=this.ctx.transform.applyToPoint(new a(K,et));this.path.push({type:\"bct\",x1:It.x,y1:It.y,x2:Ut.x,y2:Ut.y,x:_t.x,y:_t.y}),this.ctx.lastPoint=new a(_t.x,_t.y)},d.prototype.arc=function(I,X,K,et,gt,kt){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et)||isNaN(gt))throw Mn.error(\"jsPDF.context2d.arc: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.arc\");if(kt=!!kt,!this.ctx.transform.isIdentity){var _t=this.ctx.transform.applyToPoint(new a(I,X));I=_t.x,X=_t.y;var It=this.ctx.transform.applyToPoint(new a(0,K)),Ut=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(It.x-Ut.x,2)+Math.pow(It.y-Ut.y,2))}Math.abs(gt-et)>=2*Math.PI&&(et=0,gt=2*Math.PI),this.path.push({type:\"arc\",x:I,y:X,radius:K,startAngle:et,endAngle:gt,counterclockwise:kt})},d.prototype.arcTo=function(I,X,K,et,gt){throw new Error(\"arcTo not implemented.\")},d.prototype.rect=function(I,X,K,et){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et))throw Mn.error(\"jsPDF.context2d.rect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.rect\");this.moveTo(I,X),this.lineTo(I+K,X),this.lineTo(I+K,X+et),this.lineTo(I,X+et),this.lineTo(I,X),this.lineTo(I+K,X),this.lineTo(I,X)},d.prototype.fillRect=function(I,X,K,et){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et))throw Mn.error(\"jsPDF.context2d.fillRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.fillRect\");if(!u.call(this)){var gt={};this.lineCap!==\"butt\"&&(gt.lineCap=this.lineCap,this.lineCap=\"butt\"),this.lineJoin!==\"miter\"&&(gt.lineJoin=this.lineJoin,this.lineJoin=\"miter\"),this.beginPath(),this.rect(I,X,K,et),this.fill(),gt.hasOwnProperty(\"lineCap\")&&(this.lineCap=gt.lineCap),gt.hasOwnProperty(\"lineJoin\")&&(this.lineJoin=gt.lineJoin)}},d.prototype.strokeRect=function(I,X,K,et){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et))throw Mn.error(\"jsPDF.context2d.strokeRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.strokeRect\");b.call(this)||(this.beginPath(),this.rect(I,X,K,et),this.stroke())},d.prototype.clearRect=function(I,X,K,et){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et))throw Mn.error(\"jsPDF.context2d.clearRect: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.clearRect\");this.ignoreClearRect||(this.fillStyle=\"#ffffff\",this.fillRect(I,X,K,et))},d.prototype.save=function(I){I=typeof I!=\"boolean\"||I;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out(\"q\");if(this.pdf.setPage(X),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var et=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=et}},d.prototype.restore=function(I){I=typeof I!=\"boolean\"||I;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out(\"Q\");this.pdf.setPage(X),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error(\"toDataUrl not implemented.\")};var g=function(I){var X,K,et,gt;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*0+\\s*\\)/.test(I))X=0,K=0,et=0,gt=0;else{var kt=/rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/.exec(I);if(kt!==null)X=parseInt(kt[1]),K=parseInt(kt[2]),et=parseInt(kt[3]),gt=1;else if((kt=/rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d.]+)\\s*\\)/.exec(I))!==null)X=parseInt(kt[1]),K=parseInt(kt[2]),et=parseInt(kt[3]),gt=parseFloat(kt[4]);else{if(gt=1,typeof I==\"string\"&&I.charAt(0)!==\"#\"){var _t=new C2(I);I=_t.ok?_t.toHex():\"#000000\"}I.length===4?(X=I.substring(1,2),X+=X,K=I.substring(2,3),K+=K,et=I.substring(3,4),et+=et):(X=I.substring(1,3),K=I.substring(3,5),et=I.substring(5,7)),X=parseInt(X,16),K=parseInt(K,16),et=parseInt(et,16)}}return{r:X,g:K,b:et,a:gt,style:I}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(I,X,K,et){if(isNaN(X)||isNaN(K)||typeof I!=\"string\")throw Mn.error(\"jsPDF.context2d.fillText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.fillText\");if(et=isNaN(et)?void 0:et,!u.call(this)){var gt=ft(this.ctx.transform.rotation),kt=this.ctx.transform.scaleX;C.call(this,{text:I,x:X,y:K,scale:kt,angle:gt,align:this.textAlign,maxWidth:et})}},d.prototype.strokeText=function(I,X,K,et){if(isNaN(X)||isNaN(K)||typeof I!=\"string\")throw Mn.error(\"jsPDF.context2d.strokeText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.strokeText\");if(!b.call(this)){et=isNaN(et)?void 0:et;var gt=ft(this.ctx.transform.rotation),kt=this.ctx.transform.scaleX;C.call(this,{text:I,x:X,y:K,scale:kt,renderingMode:\"stroke\",angle:gt,align:this.textAlign,maxWidth:et})}},d.prototype.measureText=function(I){if(typeof I!=\"string\")throw Mn.error(\"jsPDF.context2d.measureText: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.measureText\");var X=this.pdf,K=this.pdf.internal.scaleFactor,et=X.internal.getFontSize(),gt=X.getStringUnitWidth(I)*et/X.internal.scaleFactor;return new function(kt){var _t=(kt=kt||{}).width||0;return Object.defineProperty(this,\"width\",{get:function(){return _t}}),this}({width:gt*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(I,X){if(isNaN(I)||isNaN(X))throw Mn.error(\"jsPDF.context2d.scale: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.scale\");var K=new l(I,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(I){if(isNaN(I))throw Mn.error(\"jsPDF.context2d.rotate: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.rotate\");var X=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(I,X){if(isNaN(I)||isNaN(X))throw Mn.error(\"jsPDF.context2d.translate: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.translate\");var K=new l(1,0,0,1,I,X);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(I,X,K,et,gt,kt){if(isNaN(I)||isNaN(X)||isNaN(K)||isNaN(et)||isNaN(gt)||isNaN(kt))throw Mn.error(\"jsPDF.context2d.transform: Invalid arguments\",arguments),new Error(\"Invalid arguments passed to jsPDF.context2d.transform\");var _t=new l(I,X,K,et,gt,kt);this.ctx.transform=this.ctx.transform.multiply(_t)},d.prototype.setTransform=function(I,X,K,et,gt,kt){I=isNaN(I)?1:I,X=isNaN(X)?0:X,K=isNaN(K)?0:K,et=isNaN(et)?1:et,gt=isNaN(gt)?0:gt,kt=isNaN(kt)?0:kt,this.ctx.transform=new l(I,X,K,et,gt,kt)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(I,X,K,et,gt,kt,_t,It,Ut){var Zt=this.pdf.getImageProperties(I),de=1,ce=1,O=1,T=1;et!==void 0&&It!==void 0&&(O=It/et,T=Ut/gt,de=Zt.width/et*It/et,ce=Zt.height/gt*Ut/gt),kt===void 0&&(kt=X,_t=K,X=0,K=0),et!==void 0&&It===void 0&&(It=et,Ut=gt),et===void 0&&It===void 0&&(It=Zt.width,Ut=Zt.height);var pt=this.ctx.transform.decompose(),tt=ft(pt.rotate.shx),W=new l,nt=(W=(W=(W=W.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new o(kt-X*O,_t-K*T,et*de,gt*ce));if(this.autoPaging){for(var Lt,Ot=v.call(this,nt),dt=[],Bt=0;Bt<Ot.length;Bt+=1)dt.indexOf(Ot[Bt])===-1&&dt.push(Ot[Bt]);A(dt);for(var ee=dt[0],Gt=dt[dt.length-1],ne=ee;ne<Gt+1;ne++){this.pdf.setPage(ne);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=ne===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=ne===1?0:ye+(ne-2)*ze;if(this.ctx.clip_path.length!==0){var on=this.path;Lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Lt,this.posX+this.margin[3],-we+me+this.ctx.prevPageLastElemOffset),z.call(this,\"fill\",!0),this.path=on}var Ie=JSON.parse(JSON.stringify(nt));Ie=k([Ie],this.posX+this.margin[3],-we+me+this.ctx.prevPageLastElemOffset)[0];var qe=(ne>ee||ne<Gt)&&m.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,ze,null).clip().discardPath()),this.pdf.addImage(I,\"JPEG\",Ie.x,Ie.y,Ie.w,Ie.h,null,null,tt),qe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,\"JPEG\",nt.x,nt.y,nt.w,nt.h,null,null,tt)};var v=function(I,X,K){var et=[];X=X||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var gt=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case\"mt\":case\"lt\":et.push(Math.floor((I.y+gt)/K)+1);break;case\"arc\":et.push(Math.floor((I.y+gt-I.radius)/K)+1),et.push(Math.floor((I.y+gt+I.radius)/K)+1);break;case\"qct\":var kt=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);et.push(Math.floor((kt.y+gt)/K)+1),et.push(Math.floor((kt.y+kt.h+gt)/K)+1);break;case\"bct\":var _t=Tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);et.push(Math.floor((_t.y+gt)/K)+1),et.push(Math.floor((_t.y+_t.h+gt)/K)+1);break;case\"rect\":et.push(Math.floor((I.y+gt)/K)+1),et.push(Math.floor((I.y+I.h+gt)/K)+1)}for(var It=0;It<et.length;It+=1)for(;this.pdf.internal.getNumberOfPages()<et[It];)y.call(this);return et},y=function(){var I=this.fillStyle,X=this.strokeStyle,K=this.font,et=this.lineCap,gt=this.lineWidth,kt=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=X,this.font=K,this.lineCap=et,this.lineWidth=gt,this.lineJoin=kt},k=function(I,X,K){for(var et=0;et<I.length;et++)switch(I[et].type){case\"bct\":I[et].x2+=X,I[et].y2+=K;case\"qct\":I[et].x1+=X,I[et].y1+=K;default:I[et].x+=X,I[et].y+=K}return I},A=function(I){return I.sort(function(X,K){return X-K})},M=function(I,X){var K=this.fillStyle,et=this.strokeStyle,gt=this.lineCap,kt=this.lineWidth,_t=Math.abs(kt*this.ctx.transform.scaleX),It=this.lineJoin;if(this.autoPaging){for(var Ut,Zt,de=JSON.parse(JSON.stringify(this.path)),ce=JSON.parse(JSON.stringify(this.path)),O=[],T=0;T<ce.length;T++)if(ce[T].x!==void 0)for(var pt=v.call(this,ce[T]),tt=0;tt<pt.length;tt+=1)O.indexOf(pt[tt])===-1&&O.push(pt[tt]);for(var W=0;W<O.length;W++)for(;this.pdf.internal.getNumberOfPages()<O[W];)y.call(this);A(O);for(var nt=O[0],Lt=O[O.length-1],Ot=nt;Ot<Lt+1;Ot++){this.pdf.setPage(Ot),this.fillStyle=K,this.strokeStyle=et,this.lineCap=gt,this.lineWidth=_t,this.lineJoin=It;var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=Ot===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ne=Ot===1?0:ee+(Ot-2)*Gt;if(this.ctx.clip_path.length!==0){var xe=this.path;Ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ut,this.posX+this.margin[3],-ne+Bt+this.ctx.prevPageLastElemOffset),z.call(this,I,!0),this.path=xe}if(Zt=JSON.parse(JSON.stringify(de)),this.path=k(Zt,this.posX+this.margin[3],-ne+Bt+this.ctx.prevPageLastElemOffset),X===!1||Ot===0){var me=(Ot>nt||Ot<Lt)&&m.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Gt,null).clip().discardPath()),z.call(this,I,X),me&&this.pdf.restoreGraphicsState()}this.lineWidth=kt}this.path=de}else this.lineWidth=_t,z.call(this,I,X),this.lineWidth=kt},z=function(I,X){if((I!==\"stroke\"||X||!b.call(this))&&(I===\"stroke\"||X||!u.call(this))){for(var K,et,gt=[],kt=this.path,_t=0;_t<kt.length;_t++){var It=kt[_t];switch(It.type){case\"begin\":gt.push({begin:!0});break;case\"close\":gt.push({close:!0});break;case\"mt\":gt.push({start:It,deltas:[],abs:[]});break;case\"lt\":var Ut=gt.length;if(kt[_t-1]&&!isNaN(kt[_t-1].x)&&(K=[It.x-kt[_t-1].x,It.y-kt[_t-1].y],Ut>0)){for(;Ut>=0;Ut--)if(gt[Ut-1].close!==!0&&gt[Ut-1].begin!==!0){gt[Ut-1].deltas.push(K),gt[Ut-1].abs.push(It);break}}break;case\"bct\":K=[It.x1-kt[_t-1].x,It.y1-kt[_t-1].y,It.x2-kt[_t-1].x,It.y2-kt[_t-1].y,It.x-kt[_t-1].x,It.y-kt[_t-1].y],gt[gt.length-1].deltas.push(K);break;case\"qct\":var Zt=kt[_t-1].x+2/3*(It.x1-kt[_t-1].x),de=kt[_t-1].y+2/3*(It.y1-kt[_t-1].y),ce=It.x+2/3*(It.x1-It.x),O=It.y+2/3*(It.y1-It.y),T=It.x,pt=It.y;K=[Zt-kt[_t-1].x,de-kt[_t-1].y,ce-kt[_t-1].x,O-kt[_t-1].y,T-kt[_t-1].x,pt-kt[_t-1].y],gt[gt.length-1].deltas.push(K);break;case\"arc\":gt.push({deltas:[],abs:[],arc:!0}),Array.isArray(gt[gt.length-1].abs)&&gt[gt.length-1].abs.push(It)}}et=X?null:I===\"stroke\"?\"stroke\":\"fill\";for(var tt=!1,W=0;W<gt.length;W++)if(gt[W].arc)for(var nt=gt[W].abs,Lt=0;Lt<nt.length;Lt++){var Ot=nt[Lt];Ot.type===\"arc\"?F.call(this,Ot.x,Ot.y,Ot.radius,Ot.startAngle,Ot.endAngle,Ot.counterclockwise,void 0,X,!tt):D.call(this,Ot.x,Ot.y),tt=!0}else if(gt[W].close===!0)this.pdf.internal.out(\"h\"),tt=!1;else if(gt[W].begin!==!0){var dt=gt[W].start.x,Bt=gt[W].start.y;_.call(this,gt[W].deltas,dt,Bt),tt=!0}et&&P.call(this,et),X&&G.call(this)}},Z=function(I){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case\"bottom\":return I-K;case\"top\":return I+X-K;case\"hanging\":return I+X-2*K;case\"middle\":return I+X/2-K;default:return I}},H=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(X,K){this.colorStops.push([X,K])},I.getColor=function(){return this.colorStops.length===0?\"#000000\":this.colorStops[0][1]},I.isCanvasGradient=!0,I},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(I,X,K,et,gt,kt,_t,It,Ut){for(var Zt=yt.call(this,K,et,gt,kt),de=0;de<Zt.length;de++){var ce=Zt[de];de===0&&(Ut?R.call(this,ce.x1+I,ce.y1+X):D.call(this,ce.x1+I,ce.y1+X)),Q.call(this,I,X,ce.x2,ce.y2,ce.x3,ce.y3,ce.x4,ce.y4)}It?G.call(this):P.call(this,_t)},P=function(I){switch(I){case\"stroke\":this.pdf.internal.out(\"S\");break;case\"fill\":this.pdf.internal.out(\"f\")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(I,X){this.pdf.internal.out(n(I)+\" \"+r(X)+\" m\")},C=function(I){var X;switch(I.align){case\"right\":case\"end\":X=\"right\";break;case\"center\":X=\"center\";break;default:X=\"left\"}var K,et,gt,kt=this.pdf.getTextDimensions(I.text),_t=Z.call(this,I.y),It=H.call(this,_t)-kt.h,Ut=this.ctx.transform.applyToPoint(new a(I.x,_t));if(this.autoPaging){var Zt=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(Zt.translate)).multiply(Zt.skew)).multiply(Zt.scale);for(var ce=this.ctx.transform.applyToRectangle(new o(I.x,_t,kt.w,kt.h)),O=de.applyToRectangle(new o(I.x,It,kt.w,kt.h)),T=v.call(this,O),pt=[],tt=0;tt<T.length;tt+=1)pt.indexOf(T[tt])===-1&&pt.push(T[tt]);A(pt);for(var W=pt[0],nt=pt[pt.length-1],Lt=W;Lt<nt+1;Lt++){this.pdf.setPage(Lt);var Ot=Lt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[2],ee=Bt-this.margin[0],Gt=this.pdf.internal.pageSize.width-this.margin[1],ne=Gt-this.margin[3],xe=Lt===1?0:dt+(Lt-2)*ee;if(this.ctx.clip_path.length!==0){var me=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(K,this.posX+this.margin[3],-1*xe+Ot),z.call(this,\"fill\",!0),this.path=me}var ye=k([JSON.parse(JSON.stringify(O))],this.posX+this.margin[3],-xe+Ot+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*I.scale),gt=this.lineWidth,this.lineWidth=gt*I.scale);var ze=this.autoPaging!==\"text\";if(ze||ye.y+ye.h<=Bt){if(ze||ye.y>=Ot&&ye.x<=Gt){var we=ze?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Gt-ye.x)[0],on=k([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-xe+Ot+this.ctx.prevPageLastElemOffset)[0],Ie=ze&&(Lt>W||Lt<nt)&&m.call(this);Ie&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,ee,null).clip().discardPath()),this.pdf.text(we,on.x,on.y,{angle:I.angle,align:X,renderingMode:I.renderingMode}),Ie&&this.pdf.restoreGraphicsState()}}else ye.y<Bt&&(this.ctx.prevPageLastElemOffset+=Bt-ye.y);I.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=gt)}}else I.scale>=.01&&(et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(et*I.scale),gt=this.lineWidth,this.lineWidth=gt*I.scale),this.pdf.text(I.text,Ut.x+this.posX,Ut.y+this.posY,{angle:I.angle,align:X,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(et),this.lineWidth=gt)},D=function(I,X,K,et){K=K||0,et=et||0,this.pdf.internal.out(n(I+K)+\" \"+r(X+et)+\" l\")},_=function(I,X,K){return this.pdf.lines(I,X,K,null,null)},Q=function(I,X,K,et,gt,kt,_t,It){this.pdf.internal.out([e(i(K+I)),e(s(et+X)),e(i(gt+I)),e(s(kt+X)),e(i(_t+I)),e(s(It+X)),\"c\"].join(\" \"))},yt=function(I,X,K,et){for(var gt=2*Math.PI,kt=Math.PI/2;X>K;)X-=gt;var _t=Math.abs(K-X);_t<gt&&et&&(_t=gt-_t);for(var It=[],Ut=et?-1:1,Zt=X;_t>1e-5;){var de=Zt+Ut*Math.min(_t,kt);It.push(ot.call(this,I,Zt,de)),_t-=Math.abs(de-Zt),Zt=de}return It},ot=function(I,X,K){var et=(K-X)/2,gt=I*Math.cos(et),kt=I*Math.sin(et),_t=gt,It=-kt,Ut=_t*_t+It*It,Zt=Ut+_t*gt+It*kt,de=4/3*(Math.sqrt(2*Ut*Zt)-Zt)/(_t*kt-It*gt),ce=_t-de*It,O=It+de*_t,T=ce,pt=-O,tt=et+X,W=Math.cos(tt),nt=Math.sin(tt);return{x1:I*Math.cos(X),y1:I*Math.sin(X),x2:ce*W-O*nt,y2:ce*nt+O*W,x3:T*W-pt*nt,y3:T*nt+pt*W,x4:I*Math.cos(K),y4:I*Math.sin(K)}},ft=function(I){return 180*I/Math.PI},ct=function(I,X,K,et,gt,kt){var _t=I+.5*(K-I),It=X+.5*(et-X),Ut=gt+.5*(K-gt),Zt=kt+.5*(et-kt),de=Math.min(I,gt,_t,Ut),ce=Math.max(I,gt,_t,Ut),O=Math.min(X,kt,It,Zt),T=Math.max(X,kt,It,Zt);return new o(de,O,ce-de,T-O)},Tt=function(I,X,K,et,gt,kt,_t,It){var Ut,Zt,de,ce,O,T,pt,tt,W,nt,Lt,Ot,dt,Bt,ee=K-I,Gt=et-X,ne=gt-K,xe=kt-et,me=_t-gt,ye=It-kt;for(Zt=0;Zt<41;Zt++)W=(pt=(de=I+(Ut=Zt/40)*ee)+Ut*((O=K+Ut*ne)-de))+Ut*(O+Ut*(gt+Ut*me-O)-pt),nt=(tt=(ce=X+Ut*Gt)+Ut*((T=et+Ut*xe)-ce))+Ut*(T+Ut*(kt+Ut*ye-T)-tt),Zt==0?(Lt=W,Ot=nt,dt=W,Bt=nt):(Lt=Math.min(Lt,W),Ot=Math.min(Ot,nt),dt=Math.max(dt,W),Bt=Math.max(Bt,nt));return new o(Math.round(Lt),Math.round(Ot),Math.round(dt-Lt),Math.round(Bt-Ot))},at=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,X,K=(I=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:X}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Be.API),(function(t){var e=function(a){var o,l,c,h,d,g,u,b,m,v;for(l=[],c=0,h=(a+=o=\"\\0\\0\\0\\0\".slice(a.length%4||4)).length;h>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(d=((d=((d=((d=(d-(v=d%85))/85)-(m=d%85))/85)-(b=d%85))/85)-(u=d%85))/85)%85,l.push(g+33,u+33,b+33,m+33,v+33)):l.push(122);return(function(y,k){for(var A=k;A>0;A--)y.pop()})(l,o.length),String.fromCharCode.apply(String,l)+\"~>\"},n=function(a){var o,l,c,h,d,g=String,u=\"length\",b=255,m=\"charCodeAt\",v=\"slice\",y=\"replace\";for(a[v](-2),a=a[v](0,-2)[y](/\\s/g,\"\")[y](\"z\",\"!!!!!\"),c=[],h=0,d=(a+=o=\"uuuuu\"[v](a[u]%5||5))[u];d>h;h+=5)l=52200625*(a[m](h)-33)+614125*(a[m](h+1)-33)+7225*(a[m](h+2)-33)+85*(a[m](h+3)-33)+(a[m](h+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return(function(k,A){for(var M=A;M>0;M--)k.pop()})(c,o[u]),g.fromCharCode.apply(g,c)},r=function(a){return a.split(\"\").map(function(o){return(\"0\"+o.charCodeAt().toString(16)).slice(-2)}).join(\"\")+\">\"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\\s/g,\"\")).indexOf(\">\")!==-1&&(a=a.substr(0,a.indexOf(\">\"))),a.length%2&&(a+=\"0\"),o.test(a)===!1)return\"\";for(var l=\"\",c=0;c<a.length;c+=2)l+=String.fromCharCode(\"0x\"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=iu(o)).reduce(function(c,h){return c+String.fromCharCode(h)},\"\")};t.processDataByFilters=function(a,o){var l=0,c=a||\"\",h=[];for(typeof(o=o||[])==\"string\"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case\"ASCII85Decode\":case\"/ASCII85Decode\":c=n(c),h.push(\"/ASCII85Encode\");break;case\"ASCII85Encode\":case\"/ASCII85Encode\":c=e(c),h.push(\"/ASCII85Decode\");break;case\"ASCIIHexDecode\":case\"/ASCIIHexDecode\":c=i(c),h.push(\"/ASCIIHexEncode\");break;case\"ASCIIHexEncode\":case\"/ASCIIHexEncode\":c=r(c),h.push(\"/ASCIIHexDecode\");break;case\"FlateEncode\":case\"/FlateEncode\":c=s(c),h.push(\"/FlateDecode\");break;default:throw new Error('The filter: \"'+o[l]+'\" is not implemented')}return{data:c,reverseChain:h.reverse().join(\" \")}}})(Be.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a==\"function\"?a:function(){};var o=void 0;try{o=(function(l,c,h){var d=new XMLHttpRequest,g=0,u=function(b){var m=b.length,v=[],y=String.fromCharCode;for(g=0;g<m;g+=1)v.push(y(255&b.charCodeAt(g)));return v.join(\"\")};if(d.open(\"GET\",l,!c),d.overrideMimeType(\"text/plain; charset=x-user-defined\"),c===!1&&(d.onload=function(){d.status===200?h(u(this.responseText)):h(void 0)}),d.send(null),c&&d.status===200)return u(d.responseText)})(i,s,a)}catch{}return o})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Be.API),(function(t){function e(){return(He.html2canvas?Promise.resolve(He.html2canvas):Ml(()=>import(\"./html2canvas.esm.js\"),[])).catch(function(o){return Promise.reject(new Error(\"Could not load html2canvas: \"+o))}).then(function(o){return o.default?o.default:o})}function n(){return(He.DOMPurify?Promise.resolve(He.DOMPurify):Ml(()=>import(\"./purify.es.js\"),[])).catch(function(o){return Promise.reject(new Error(\"Could not load dompurify: \"+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Sn(o);return l===\"undefined\"?\"undefined\":l===\"string\"||o instanceof String?\"string\":l===\"number\"||o instanceof Number?\"number\":l===\"function\"||o instanceof Function?\"function\":o&&o.constructor===Array?\"array\":o&&o.nodeType===1?\"element\":l===\"object\"?\"object\":\"unknown\"},i=function(o,l){var c=document.createElement(o);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function o(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName===\"SCRIPT\"||h.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName===\"CANVAS\"?(h.width=l.width,h.height=l.height,h.getContext(\"2d\").drawImage(l,0,0)):l.nodeName!==\"TEXTAREA\"&&l.nodeName!==\"SELECT\"||(h.value=l.value),h.addEventListener(\"load\",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:\"file.pdf\",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:\"transparent\"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case\"string\":return\"string\";case\"element\":return c.nodeName.toLowerCase()===\"canvas\"?\"canvas\":\"element\";default:return\"unknown\"}})(o),l){case\"string\":return this.then(n).then(function(c){return this.set({src:i(\"div\",{innerHTML:o,dompurify:c})})});case\"element\":return this.set({src:o});case\"canvas\":return this.set({canvas:o});case\"img\":return this.set({img:o});default:return this.error(\"Unknown source type.\")}})},a.prototype.to=function(o){switch(o){case\"container\":return this.toContainer();case\"canvas\":return this.toCanvas();case\"img\":return this.toImg();case\"pdf\":return this.toPdf();default:return this.error(\"Invalid target.\")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error(\"Cannot duplicate - no source HTML.\")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:\"relative\",display:\"inline-block\",width:(typeof this.opt.width!=\"number\"||isNaN(this.opt.width)||typeof this.opt.windowWidth!=\"number\"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+\"px\",left:0,right:0,top:0,margin:\"auto\",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName===\"BODY\"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+\"px\"),this.prop.overlay=i(\"div\",{className:\"html2pdf__overlay\",style:{position:\"fixed\",overflow:\"hidden\",zIndex:1e3,left:\"-100000px\",right:0,bottom:0,top:0}}),this.prop.container=i(\"div\",{className:\"html2pdf__container\",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i(\"div\",{style:{clear:\"both\",border:\"0 none transparent\",margin:0,padding:0,height:0}})),this.prop.container.style.float=\"none\",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position=\"relative\",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+\"px\"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!=\"number\"||isNaN(this.opt.width)||typeof this.opt.windowWidth!=\"number\"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:\"#ffffff\",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var u=0;u<h.length;++u){var b=h[u],m=b.src.find(function(v){return v.format===\"truetype\"});m&&c.addFont(m.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL(\"image/\"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement(\"img\"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||\"pdf\").toLowerCase()===\"img\"||c.toLowerCase()===\"image\"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case\"img\":return this.prop.img;case\"datauristring\":case\"dataurlstring\":return this.prop.img.src;case\"datauri\":case\"dataurl\":return document.location.href=this.prop.img.src;default:throw'Image output type \"'+o+'\" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!==\"object\")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case\"margin\":return this.setMargin.bind(this,o.margin);case\"jsPDF\":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case\"pageSize\":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case\"number\":o=[o,o,o,o];case\"array\":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error(\"Invalid margin array.\")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||Be.getPageSize(this.opt.jsPDF)).hasOwnProperty(\"inner\")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,h){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(h,d){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,d).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var d=Promise.toString().indexOf(\"[native code]\")!==-1&&Promise.name===\"Promise\"?h:a.convert(Object.assign({},h),Promise.prototype),g=c.call(d,o,l);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Be.getPageSize=function(o,l,c){if(Sn(o)===\"object\"){var h=o;o=h.orientation,l=h.unit||l,c=h.format||c}l=l||\"mm\",c=c||\"a4\",o=(\"\"+(o||\"P\")).toLowerCase();var d,g=(\"\"+c).toLowerCase(),u={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],\"government-letter\":[576,756],legal:[612,1008],\"junior-legal\":[576,360],ledger:[1224,792],tabloid:[792,1224],\"credit-card\":[153,243]};switch(l){case\"pt\":d=1;break;case\"mm\":d=72/25.4;break;case\"cm\":d=72/2.54;break;case\"in\":d=72;break;case\"px\":d=.75;break;case\"pc\":case\"em\":d=12;break;case\"ex\":d=6;break;default:throw\"Invalid unit: \"+l}var b,m=0,v=0;if(u.hasOwnProperty(g))m=u[g][1]/d,v=u[g][0]/d;else try{m=c[1],v=c[0]}catch{throw new Error(\"Invalid format: \"+c)}if(o===\"p\"||o===\"portrait\")o=\"p\",v>m&&(b=v,v=m,m=b);else{if(o!==\"l\"&&o!==\"landscape\")throw\"Invalid orientation: \"+o;o=\"l\",m>v&&(b=v,v=m,m=b)}return{width:v,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Mh):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Be.API),Be.API.addJS=function(t){return tp=t,this.internal.events.subscribe(\"postPutResources\",function(){Sl=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/Names [(EmbeddedJS) \"+(Sl+1)+\" 0 R]\"),this.internal.out(\">>\"),this.internal.out(\"endobj\"),Qd=this.internal.newObject(),this.internal.out(\"<<\"),this.internal.out(\"/S /JavaScript\"),this.internal.out(\"/JS (\"+tp+\")\"),this.internal.out(\">>\"),this.internal.out(\"endobj\")}),this.internal.events.subscribe(\"putCatalog\",function(){Sl!==void 0&&Qd!==void 0&&this.internal.out(\"/Names <</JavaScript \"+Sl+\" 0 R>>\")}),this},(function(t){var e;t.events.push([\"postPutResources\",function(){var n=this,r=/^(\\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\\r\\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var d=n.internal.newObject();h.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write(\"<< /D[\"+g.objId+\" 0 R /XYZ null null null]>> endobj\")}var u=n.internal.newObject();for(n.internal.write(\"<< /Names [ \"),s=0;s<h.length;s++)n.internal.write(\"(page_\"+(s+1)+\")\"+h[s]+\" 0 R\");n.internal.write(\" ] >>\",\"endobj\"),e=n.internal.newObject(),n.internal.write(\"<< /Dests \"+u+\" 0 R\"),n.internal.write(\">>\",\"endobj\")}}]),t.events.push([\"putCatalog\",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write(\"/Outlines\",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write(\"/Names \"+e+\" 0 R\"))}]),t.events.push([\"initialized\",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val=\"\",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line(\"/Type /Outlines\"),r.children.length>0&&(this.line(\"/First \"+this.makeRef(r.children[0])),this.line(\"/Last \"+this.makeRef(r.children[r.children.length-1]))),this.line(\"/Count \"+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line(\"/Title \"+this.makeString(a.title)),this.line(\"/Parent \"+this.makeRef(r)),s>0&&this.line(\"/Prev \"+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line(\"/Next \"+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line(\"/First \"+this.makeRef(a.children[0])),this.line(\"/Last \"+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line(\"/Count \"+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line(\"/Dest [\"+l.objId+\" 0 R /XYZ 0 \"+i(0)+\" 0]\")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\\r\n`},n.outline.makeRef=function(r){return r.id+\" 0 R\"},n.outline.makeString=function(r){return\"(\"+n.internal.pdfEscape(r)+\")\"},n.outline.objStart=function(r){this.ctx.val+=`\\r\n`+r.id+` 0 obj\\r\n<<\\r\n`},n.outline.objEnd=function(){this.ctx.val+=`>> \\r\nendobj\\r\n`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Be.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n==\"string\"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(d){for(var g,u=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,m={width:0,height:0,numcomponents:1},v=4;v<b;v+=2){if(v+=u,e.indexOf(d.charCodeAt(v+1))!==-1){g=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:g,numcomponents:d.charCodeAt(v+9)};break}u=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}})(Be.API),Be.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=zv(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,h=s.depth;i=c&&l===1?(function(F){for(var P=F.width,G=F.height,R=F.data,C=F.palette,D=F.depth,_=!1,Q=[],yt=[],ot=void 0,ft=!1,ct=0,Tt=0;Tt<C.length;Tt++){var at=id(C[Tt],4),I=at[0],X=at[1],K=at[2],et=at[3];Q.push(I,X,K),et!=null&&(et===0?(ct++,yt.length<1&&yt.push(Tt)):et<255&&(ft=!0))}if(ft||ct>1){_=!0,yt=void 0;var gt=P*G;ot=new Uint8Array(gt);for(var kt=new DataView(R.buffer),_t=0;_t<gt;_t++){var It=Oh(kt,_t,D),Ut=id(C[It],4)[3];ot[_t]=Ut}}else ct===0&&(yt=void 0);return{colorSpace:\"Indexed\",colorsPerPixel:1,sMaskBitsPerComponent:_?8:void 0,colorBytes:R,alphaBytes:ot,needSMask:_,palette:Q,mask:yt}})(s):l===2||l===4?(function(F){for(var P=F.data,G=F.width,R=F.height,C=F.channels,D=F.depth,_=C===2?\"DeviceGray\":\"DeviceRGB\",Q=C-1,yt=G*R,ot=Q,ft=yt*ot,ct=1*yt,Tt=Math.ceil(ft*D/8),at=Math.ceil(ct*D/8),I=new Uint8Array(Tt),X=new Uint8Array(at),K=new DataView(P.buffer),et=new DataView(I.buffer),gt=new DataView(X.buffer),kt=!1,_t=0;_t<yt;_t++){for(var It=_t*C,Ut=0;Ut<ot;Ut++)cp(et,Oh(K,It+Ut,D),_t*ot+Ut,D);var Zt=Oh(K,It+ot,D);Zt<(1<<D)-1&&(kt=!0),cp(gt,Zt,1*_t,D)}return{colorSpace:_,colorsPerPixel:Q,sMaskBitsPerComponent:kt?D:void 0,colorBytes:I,alphaBytes:X,needSMask:kt}})(s):(function(F){var P=F.data,G=F.channels===1?\"DeviceGray\":\"DeviceRGB\";return{colorSpace:G,colorsPerPixel:G===\"DeviceGray\"?1:3,colorBytes:P instanceof Uint16Array?(function(R){for(var C=R.length,D=new Uint8Array(2*C),_=new DataView(D.buffer,D.byteOffset,D.byteLength),Q=0;Q<C;Q++)_.setUint16(2*Q,R[Q],!1);return D})(P):P,needSMask:!1}})(s);var d,g,u,b=i,m=b.colorSpace,v=b.colorsPerPixel,y=b.sMaskBitsPerComponent,k=b.colorBytes,A=b.alphaBytes,M=b.needSMask,z=b.palette,Z=b.mask,H=null;return r!==Be.API.image_compression.NONE&&typeof iu==\"function\"?(H=(function(F){var P;switch(F){case Be.API.image_compression.FAST:P=11;break;case Be.API.image_compression.MEDIUM:P=13;break;case Be.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),d=this.decode.FLATE_DECODE,g=\"/Predictor \".concat(H,\" /Colors \").concat(v,\" /BitsPerComponent \").concat(h,\" /Columns \").concat(a),t=ip(k,Math.ceil(a*v*h/8),v,h,r),M&&(u=ip(A,Math.ceil(a*y/8),1,y,r))):(d=void 0,g=void 0,t=k,M&&(u=A)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(u&&this.__addimage__.isArrayBuffer(u)||this.__addimage__.isArrayBufferView(u))&&(u=this.__addimage__.arrayBufferToBinaryString(u)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:Z,palette:z,sMask:u,predictor:H,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:y,colorSpace:m}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new ox(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},h=new Ph(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(Be.API),fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fi.prototype.parseBGR=function(){this.pos=this.offset;try{var t=\"bit\"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mn.log(\"bit decode error:\"+n)}},fi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},fi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},fi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},fi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt(\"11111\",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}this.pos+=t}},fi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt(\"11111\",2),n=parseInt(\"111111\",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},fi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},fi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},fi.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new fi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Ph(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Be.API),up.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new up(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Ph(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Be.API),Be.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var h=r[c],d=r[c+1],g=r[c+2],u=r[c+3];s[o++]=h,s[o++]=d,s[o++]=g,a[l++]=u}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:\"DeviceRGB\",bitsPerComponent:8,width:t.width,height:t.height}},Be.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:\"Afrikaans\",sq:\"Albanian\",ar:\"Arabic (Standard)\",\"ar-DZ\":\"Arabic (Algeria)\",\"ar-BH\":\"Arabic (Bahrain)\",\"ar-EG\":\"Arabic (Egypt)\",\"ar-IQ\":\"Arabic (Iraq)\",\"ar-JO\":\"Arabic (Jordan)\",\"ar-KW\":\"Arabic (Kuwait)\",\"ar-LB\":\"Arabic (Lebanon)\",\"ar-LY\":\"Arabic (Libya)\",\"ar-MA\":\"Arabic (Morocco)\",\"ar-OM\":\"Arabic (Oman)\",\"ar-QA\":\"Arabic (Qatar)\",\"ar-SA\":\"Arabic (Saudi Arabia)\",\"ar-SY\":\"Arabic (Syria)\",\"ar-TN\":\"Arabic (Tunisia)\",\"ar-AE\":\"Arabic (U.A.E.)\",\"ar-YE\":\"Arabic (Yemen)\",an:\"Aragonese\",hy:\"Armenian\",as:\"Assamese\",ast:\"Asturian\",az:\"Azerbaijani\",eu:\"Basque\",be:\"Belarusian\",bn:\"Bengali\",bs:\"Bosnian\",br:\"Breton\",bg:\"Bulgarian\",my:\"Burmese\",ca:\"Catalan\",ch:\"Chamorro\",ce:\"Chechen\",zh:\"Chinese\",\"zh-HK\":\"Chinese (Hong Kong)\",\"zh-CN\":\"Chinese (PRC)\",\"zh-SG\":\"Chinese (Singapore)\",\"zh-TW\":\"Chinese (Taiwan)\",cv:\"Chuvash\",co:\"Corsican\",cr:\"Cree\",hr:\"Croatian\",cs:\"Czech\",da:\"Danish\",nl:\"Dutch (Standard)\",\"nl-BE\":\"Dutch (Belgian)\",en:\"English\",\"en-AU\":\"English (Australia)\",\"en-BZ\":\"English (Belize)\",\"en-CA\":\"English (Canada)\",\"en-IE\":\"English (Ireland)\",\"en-JM\":\"English (Jamaica)\",\"en-NZ\":\"English (New Zealand)\",\"en-PH\":\"English (Philippines)\",\"en-ZA\":\"English (South Africa)\",\"en-TT\":\"English (Trinidad & Tobago)\",\"en-GB\":\"English (United Kingdom)\",\"en-US\":\"English (United States)\",\"en-ZW\":\"English (Zimbabwe)\",eo:\"Esperanto\",et:\"Estonian\",fo:\"Faeroese\",fj:\"Fijian\",fi:\"Finnish\",fr:\"French (Standard)\",\"fr-BE\":\"French (Belgium)\",\"fr-CA\":\"French (Canada)\",\"fr-FR\":\"French (France)\",\"fr-LU\":\"French (Luxembourg)\",\"fr-MC\":\"French (Monaco)\",\"fr-CH\":\"French (Switzerland)\",fy:\"Frisian\",fur:\"Friulian\",gd:\"Gaelic (Scots)\",\"gd-IE\":\"Gaelic (Irish)\",gl:\"Galacian\",ka:\"Georgian\",de:\"German (Standard)\",\"de-AT\":\"German (Austria)\",\"de-DE\":\"German (Germany)\",\"de-LI\":\"German (Liechtenstein)\",\"de-LU\":\"German (Luxembourg)\",\"de-CH\":\"German (Switzerland)\",el:\"Greek\",gu:\"Gujurati\",ht:\"Haitian\",he:\"Hebrew\",hi:\"Hindi\",hu:\"Hungarian\",is:\"Icelandic\",id:\"Indonesian\",iu:\"Inuktitut\",ga:\"Irish\",it:\"Italian (Standard)\",\"it-CH\":\"Italian (Switzerland)\",ja:\"Japanese\",kn:\"Kannada\",ks:\"Kashmiri\",kk:\"Kazakh\",km:\"Khmer\",ky:\"Kirghiz\",tlh:\"Klingon\",ko:\"Korean\",\"ko-KP\":\"Korean (North Korea)\",\"ko-KR\":\"Korean (South Korea)\",la:\"Latin\",lv:\"Latvian\",lt:\"Lithuanian\",lb:\"Luxembourgish\",mk:\"North Macedonia\",ms:\"Malay\",ml:\"Malayalam\",mt:\"Maltese\",mi:\"Maori\",mr:\"Marathi\",mo:\"Moldavian\",nv:\"Navajo\",ng:\"Ndonga\",ne:\"Nepali\",no:\"Norwegian\",nb:\"Norwegian (Bokmal)\",nn:\"Norwegian (Nynorsk)\",oc:\"Occitan\",or:\"Oriya\",om:\"Oromo\",fa:\"Persian\",\"fa-IR\":\"Persian/Iran\",pl:\"Polish\",pt:\"Portuguese\",\"pt-BR\":\"Portuguese (Brazil)\",pa:\"Punjabi\",\"pa-IN\":\"Punjabi (India)\",\"pa-PK\":\"Punjabi (Pakistan)\",qu:\"Quechua\",rm:\"Rhaeto-Romanic\",ro:\"Romanian\",\"ro-MO\":\"Romanian (Moldavia)\",ru:\"Russian\",\"ru-MO\":\"Russian (Moldavia)\",sz:\"Sami (Lappish)\",sg:\"Sango\",sa:\"Sanskrit\",sc:\"Sardinian\",sd:\"Sindhi\",si:\"Singhalese\",sr:\"Serbian\",sk:\"Slovak\",sl:\"Slovenian\",so:\"Somani\",sb:\"Sorbian\",es:\"Spanish\",\"es-AR\":\"Spanish (Argentina)\",\"es-BO\":\"Spanish (Bolivia)\",\"es-CL\":\"Spanish (Chile)\",\"es-CO\":\"Spanish (Colombia)\",\"es-CR\":\"Spanish (Costa Rica)\",\"es-DO\":\"Spanish (Dominican Republic)\",\"es-EC\":\"Spanish (Ecuador)\",\"es-SV\":\"Spanish (El Salvador)\",\"es-GT\":\"Spanish (Guatemala)\",\"es-HN\":\"Spanish (Honduras)\",\"es-MX\":\"Spanish (Mexico)\",\"es-NI\":\"Spanish (Nicaragua)\",\"es-PA\":\"Spanish (Panama)\",\"es-PY\":\"Spanish (Paraguay)\",\"es-PE\":\"Spanish (Peru)\",\"es-PR\":\"Spanish (Puerto Rico)\",\"es-ES\":\"Spanish (Spain)\",\"es-UY\":\"Spanish (Uruguay)\",\"es-VE\":\"Spanish (Venezuela)\",sx:\"Sutu\",sw:\"Swahili\",sv:\"Swedish\",\"sv-FI\":\"Swedish (Finland)\",\"sv-SV\":\"Swedish (Sweden)\",ta:\"Tamil\",tt:\"Tatar\",te:\"Teluga\",th:\"Thai\",tig:\"Tigre\",ts:\"Tsonga\",tn:\"Tswana\",tr:\"Turkish\",tk:\"Turkmen\",uk:\"Ukrainian\",hsb:\"Upper Sorbian\",ur:\"Urdu\",ve:\"Venda\",vi:\"Vietnamese\",vo:\"Volapuk\",wa:\"Walloon\",cy:\"Welsh\",xh:\"Xhosa\",ji:\"Yiddish\",zu:\"Zulu\"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe(\"putCatalog\",function(){this.internal.write(\"/Lang (\"+this.internal.languageSettings.languageCode+\")\")}),this.internal.languageSettings.isSubscribed=!0)),this},lo=Be.API,Al=lo.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=e.doKerning!==!1,g=0,u=t.length,b=0,m=o[0]||l,v=[];for(n=0;n<u;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString==\"function\"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=d&&Sn(c[r])===\"object\"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/h:0,v.push((o[r]||m)/l+g)),b=r;return v},ep=lo.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lo.processArabic&&(t=lo.processArabic(t)),typeof r.metadata.widthOfString==\"function\"?r.metadata.widthOfString(t,n,i)/n:Al.apply(this,arguments).reduce(function(s,a){return s+a},0)},np=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},rp=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,h=[],d=[h],g=n.textIndent||0,u=0,b=0,m=t.split(\" \"),v=Al.apply(this,[\" \",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var y=Array(l).join(\" \"),k=[];m.map(function(M){(M=M.split(/\\s*\\n/)).length>1?k=k.concat(M.map(function(z,Z){return(Z&&z.length?`\n`:\"\")+z})):k.push(M[0])}),m=k,l=ep.apply(this,[y,n])}for(s=0,a=m.length;s<a;s++){var A=0;if(r=m[s],l&&r[0]==`\n`&&(r=r.substr(1),A=1),g+u+(b=(i=Al.apply(this,[r,n])).reduce(function(M,z){return M+z},0))>e||A){if(b>e){for(o=np.apply(this,[r,i,e-(g+u),e]),h.push(o.shift()),h=[o.pop()];o.length;)d.push([o.shift()]);b=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(M,z){return M+z},0)}else h=[r];d.push(h),g=b+l,u=v}else h.push(r),g+=u+b,u=v}return c=l?function(M,z){return(z?y:\"\")+M.join(\" \")}:function(M){return M.join(\" \")},d.map(c)},lo.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle),g=\"Unicode\";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\\r?\\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(rp.apply(this,[r[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e=\"0123456789abcdef\",n=\"klmnopqrstuvwxyz\",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(g){return\"0x\"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var u,b,m,v,y=[\"{\"];for(var k in g){if(u=g[k],isNaN(parseInt(k,10))?b=\"'\"+k+\"'\":(k=parseInt(k,10),b=(b=a(k).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof u==\"number\")u<0?(m=a(u).slice(3),v=\"-\"):(m=a(u).slice(2),v=\"\"),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(Sn(u)!==\"object\")throw new Error(\"Don't know what to do with value type \"+Sn(u)+\".\");m=o(u)}y.push(b+m)}return y.push(\"}\"),y.join(\"\")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!=\"string\")throw new Error(\"Invalid argument passed to uncompress.\");for(var u,b,m,v,y={},k=1,A=y,M=[],z=\"\",Z=\"\",H=g.length-1,F=1;F<H;F+=1)(v=g[F])==\"'\"?u?(m=u.join(\"\"),u=void 0):u=[]:u?u.push(v):v==\"{\"?(M.push([A,m]),A={},m=void 0):v==\"}\"?((b=M.pop())[0][b[1]]=A,m=void 0,A=b[0]):v==\"-\"?k=-1:m===void 0?r.hasOwnProperty(v)?(z+=r[v],m=parseInt(z,16)*k,k=1,z=\"\"):z+=v:r.hasOwnProperty(v)?(Z+=r[v],A[m]=parseInt(Z,16)*k,k=1,m=void 0,Z=\"\"):Z+=v;return y},c={codePages:[\"WinAnsiEncoding\"],WinAnsiEncoding:l(\"{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}\")},h={Unicode:{Courier:c,\"Courier-Bold\":c,\"Courier-BoldOblique\":c,\"Courier-Oblique\":c,Helvetica:c,\"Helvetica-Bold\":c,\"Helvetica-BoldOblique\":c,\"Helvetica-Oblique\":c,\"Times-Roman\":c,\"Times-Bold\":c,\"Times-BoldItalic\":c,\"Times-Italic\":c}},d={Unicode:{\"Courier-Oblique\":l(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-BoldItalic\":l(\"{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}\"),\"Helvetica-Bold\":l(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),Courier:l(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-BoldOblique\":l(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Bold\":l(\"{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}\"),Symbol:l(\"{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}\"),Helvetica:l(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\"),\"Helvetica-BoldOblique\":l(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),ZapfDingbats:l(\"{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}\"),\"Courier-Bold\":l(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\"Times-Italic\":l(\"{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}\"),\"Times-Roman\":l(\"{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}\"),\"Helvetica-Oblique\":l(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\")}};t.events.push([\"addFont\",function(g){var u=g.font,b=d.Unicode[u.postScriptName];b&&(u.metadata.Unicode={},u.metadata.Unicode.widths=b.widths,u.metadata.Unicode.kerning=b.kerning);var m=h.Unicode[u.postScriptName];m&&(u.metadata.Unicode.encoding=m,u.encoding=m.codePages[0])}])})(Be.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push([\"addFont\",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error(\"Font does not exist in vFS, import fonts or remove declaration doc.addFont('\"+i.postScriptName+\"').\");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!=\"string\")throw new Error(\"Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('\"+i.postScriptName+\"').\");(function(a,o){o=/^\\x00\\x01\\x00\\x00/.test(o)?e(o):e(Fl(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(Be),Be.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw Mn.error(\"jsPDF.addSvgAsImage: Invalid coordinates\",arguments),new Error(\"Invalid coordinates passed to jsPDF.addSvgAsImage\");if(isNaN(r)||isNaN(i))throw Mn.error(\"jsPDF.addSvgAsImage: Invalid measurements\",arguments),new Error(\"Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage\");var l=document.createElement(\"canvas\");l.width=r,l.height=i;var c=l.getContext(\"2d\");c.fillStyle=\"#fff\",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(He.canvg?Promise.resolve(He.canvg):Ml(()=>import(\"./index.es.js\"),[])).catch(function(g){return Promise.reject(new Error(\"Could not load canvg: \"+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,h)},function(){return Promise.reject(new Error(\"Could not load canvg.\"))}).then(function(g){return g.render(h)}).then(function(){d.addImage(l.toDataURL(\"image/jpeg\",1),e,n,r,i,a,o)})},Be.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,\"g\"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),\"g\"),n=this.pdfEscape16(this.internal.getNumberOfPages()+\"\",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Be.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:\"UseNone\",value:\"UseNone\",type:\"name\",explicitSet:!1,valueSet:[\"UseNone\",\"UseOutlines\",\"UseThumbs\",\"UseOC\"],pdfVersion:1.3},Direction:{defaultValue:\"L2R\",value:\"L2R\",type:\"name\",explicitSet:!1,valueSet:[\"L2R\",\"R2L\"],pdfVersion:1.3},ViewArea:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},ViewClip:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintArea:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintClip:{defaultValue:\"CropBox\",value:\"CropBox\",type:\"name\",explicitSet:!1,valueSet:[\"MediaBox\",\"CropBox\",\"TrimBox\",\"BleedBox\",\"ArtBox\"],pdfVersion:1.4},PrintScaling:{defaultValue:\"AppDefault\",value:\"AppDefault\",type:\"name\",explicitSet:!1,valueSet:[\"AppDefault\",\"None\"],pdfVersion:1.6},Duplex:{defaultValue:\"\",value:\"none\",type:\"name\",explicitSet:!1,valueSet:[\"Simplex\",\"DuplexFlipShortEdge\",\"DuplexFlipLongEdge\",\"none\"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:\"boolean\",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:\"\",value:\"\",type:\"array\",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:\"integer\",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,h=0,d=0;function g(b,m){var v,y=!1;for(v=0;v<b.length;v+=1)b[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t===\"reset\"||e===!0){var u=o.length;for(d=0;d<u;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(Sn(t)===\"object\"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type===\"boolean\"&&typeof s==\"boolean\")n[i].value=s;else if(n[i].type===\"name\"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type===\"integer\"&&Number.isInteger(s))n[i].value=s;else if(n[i].type===\"array\"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]==\"number\")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!=\"number\"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(\" \"))}n[i].value=\"[\"+l.join(\" \")+\"]\"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe(\"putCatalog\",function(){var b,m=[];for(b in n)n[b].explicitSet===!0&&(n[b].type===\"name\"?m.push(\"/\"+b+\" /\"+n[b].value):m.push(\"/\"+b+\" \"+n[b].value));m.length!==0&&this.internal.write(`/ViewerPreferences\n<<\n`+m.join(`\n`)+`\n>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"><rdf:Description rdf:about=\"\" xmlns:jspdf=\"'+this.internal.__metadata__.namespaceuri+'\"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x=\"adobe:ns:meta/\">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent(\"</jspdf:metadata></rdf:Description></rdf:RDF>\")),l=unescape(encodeURIComponent(\"</x:xmpmeta>\")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write(\"<< /Type /Metadata /Subtype /XML /Length \"+c+\" >>\"),this.internal.write(\"stream\"),this.internal.write(i+s+a+o+l),this.internal.write(\"endstream\"),this.internal.write(\"endobj\")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write(\"/Metadata \"+this.internal.__metadata__.metadata_object_number+\" 0 R\")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||\"http://jspdf.default.namespaceuri/\"},this.internal.events.subscribe(\"putCatalog\",n),this.internal.events.subscribe(\"postPutResources\",e)),this}})(Be.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=[\"\",\"0\",\"00\",\"000\",\"0000\"],h=[\"\"],d=0,g=s.length;d<g;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o==\"0\")return h.join(\"\");o=o.toString(16),h.push(c[4-o.length],o)}return h.join(\"\")},r=function(s){var a,o,l,c,h,d,g;for(h=`/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange`,l=[],d=0,g=(o=Object.keys(s).sort(function(u,b){return u-b})).length;d<g;d++)a=o[d],l.length>=100&&(h+=`\n`+l.length+` beginbfchar\n`+l.join(`\n`)+`\nendbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString==\"function\"&&(c=(\"0000\"+s[a].toString(16)).slice(-4),a=(\"0000\"+(+a).toString(16)).slice(-4),l.push(\"<\"+a+\"><\"+c+\">\"));return l.length&&(h+=`\n`+l.length+` beginbfchar\n`+l.join(`\n`)+`\nendbfchar\n`),h+`endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend`};e.events.push([\"putFont\",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding===\"Identity-H\"){for(var d=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),u=\"\",b=0;b<g.length;b++)u+=String.fromCharCode(g[b]);var m=c();h({data:u,addLength1:!0,objectId:m}),l(\"endobj\");var v=c();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l(\"endobj\");var y=c();l(\"<<\"),l(\"/Type /FontDescriptor\"),l(\"/FontName /\"+po(o.fontName)),l(\"/FontFile2 \"+m+\" 0 R\"),l(\"/FontBBox \"+t.API.PDFObject.convert(o.metadata.bbox)),l(\"/Flags \"+o.metadata.flags),l(\"/StemV \"+o.metadata.stemV),l(\"/ItalicAngle \"+o.metadata.italicAngle),l(\"/Ascent \"+o.metadata.ascender),l(\"/Descent \"+o.metadata.decender),l(\"/CapHeight \"+o.metadata.capHeight),l(\">>\"),l(\"endobj\");var k=c();l(\"<<\"),l(\"/Type /Font\"),l(\"/BaseFont /\"+po(o.fontName)),l(\"/FontDescriptor \"+y+\" 0 R\"),l(\"/W \"+t.API.PDFObject.convert(d)),l(\"/CIDToGIDMap /Identity\"),l(\"/DW 1000\"),l(\"/Subtype /CIDFontType2\"),l(\"/CIDSystemInfo\"),l(\"<<\"),l(\"/Supplement 0\"),l(\"/Registry (Adobe)\"),l(\"/Ordering (\"+o.encoding+\")\"),l(\">>\"),l(\">>\"),l(\"endobj\"),o.objectNumber=c(),l(\"<<\"),l(\"/Type /Font\"),l(\"/Subtype /Type0\"),l(\"/ToUnicode \"+v+\" 0 R\"),l(\"/BaseFont /\"+po(o.fontName)),l(\"/Encoding /\"+o.encoding),l(\"/DescendantFonts [\"+k+\" 0 R]\"),l(\">>\"),l(\"endobj\"),o.isAlreadyPutted=!0}})(s)}]),e.events.push([\"putFont\",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding===\"WinAnsiEncoding\"){for(var d=o.metadata.rawData,g=\"\",u=0;u<d.length;u++)g+=String.fromCharCode(d[u]);var b=c();h({data:g,addLength1:!0,objectId:b}),l(\"endobj\");var m=c();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:m}),l(\"endobj\");var v=c();l(\"<<\"),l(\"/Descent \"+o.metadata.decender),l(\"/CapHeight \"+o.metadata.capHeight),l(\"/StemV \"+o.metadata.stemV),l(\"/Type /FontDescriptor\"),l(\"/FontFile2 \"+b+\" 0 R\"),l(\"/Flags 96\"),l(\"/FontBBox \"+t.API.PDFObject.convert(o.metadata.bbox)),l(\"/FontName /\"+po(o.fontName)),l(\"/ItalicAngle \"+o.metadata.italicAngle),l(\"/Ascent \"+o.metadata.ascender),l(\">>\"),l(\"endobj\"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l(\"<</Subtype/TrueType/Type/Font/ToUnicode \"+m+\" 0 R/BaseFont/\"+po(o.fontName)+\"/FontDescriptor \"+v+\" 0 R/Encoding/\"+o.encoding+\" /FirstChar 29 /LastChar 255 /Widths \"+t.API.PDFObject.convert(o.metadata.hmtx.widths)+\">>\"),l(\"endobj\"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||\"\",l=s.x,c=s.y,h=s.options||{},d=s.mutex||{},g=d.pdfEscape,u=d.activeFontKey,b=d.fonts,m=u,v=\"\",y=0,k=\"\",A=b[m].encoding;if(b[m].encoding!==\"Identity-H\")return{text:o,x:l,y:c,options:h,mutex:d};for(k=o,m=u,Array.isArray(o)&&(k=o[0]),y=0;y<k.length;y+=1)b[m].metadata.hasOwnProperty(\"cmap\")&&(a=b[m].metadata.cmap.unicode.codeMap[k[y].charCodeAt(0)]),a||k[y].charCodeAt(0)<256&&b[m].metadata.hasOwnProperty(\"Unicode\")?v+=k[y]:v+=\"\";var M=\"\";return parseInt(m.slice(1))<14||A===\"WinAnsiEncoding\"?M=g(v,m).split(\"\").map(function(z){return z.charCodeAt(0).toString(16)}).join(\"\"):A===\"Identity-H\"&&(M=n(v,b[m])),d.isHex=!0,{text:M,x:l,y:c,options:h,mutex:d}};e.events.push([\"postProcessText\",function(s){var a=s.text||\"\",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(Be),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Be.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,h,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=[\"(\",\")\",\"(\",\"<\",\">\",\"<\",\"[\",\"]\",\"[\",\"{\",\"}\",\"{\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,A=0;this.__bidiEngine__={};var M=function(R){var C=R.charCodeAt(),D=C>>8,_=m[D];return _!==void 0?d[256*_+(255&C)]:D===252||D===253?\"AL\":y.test(D)?\"L\":D===8?\"R\":\"N\"},z=function(R){for(var C,D=0;D<R.length;D++){if((C=M(R.charAt(D)))===\"L\")return!1;if(C===\"R\")return!0}return!1},Z=function(R,C,D,_){var Q,yt,ot,ft,ct=C[_];switch(ct){case\"L\":case\"R\":case\"LRE\":case\"RLE\":case\"LRO\":case\"RLO\":case\"PDF\":k=!1;break;case\"N\":case\"AN\":break;case\"EN\":k&&(ct=\"AN\");break;case\"AL\":k=!0,ct=\"R\";break;case\"WS\":case\"BN\":ct=\"N\";break;case\"CS\":_<1||_+1>=C.length||(Q=D[_-1])!==\"EN\"&&Q!==\"AN\"||(yt=C[_+1])!==\"EN\"&&yt!==\"AN\"?ct=\"N\":k&&(yt=\"AN\"),ct=yt===Q?yt:\"N\";break;case\"ES\":ct=(Q=_>0?D[_-1]:\"B\")===\"EN\"&&_+1<C.length&&C[_+1]===\"EN\"?\"EN\":\"N\";break;case\"ET\":if(_>0&&D[_-1]===\"EN\"){ct=\"EN\";break}if(k){ct=\"N\";break}for(ot=_+1,ft=C.length;ot<ft&&C[ot]===\"ET\";)ot++;ct=ot<ft&&C[ot]===\"EN\"?\"EN\":\"N\";break;case\"NSM\":if(a&&!o){for(ft=C.length,ot=_+1;ot<ft&&C[ot]===\"NSM\";)ot++;if(ot<ft){var Tt=R[_],at=Tt>=1425&&Tt<=2303||Tt===64286;if(Q=C[ot],at&&(Q===\"R\"||Q===\"AL\")){ct=\"R\";break}}}ct=_<1||(Q=C[_-1])===\"B\"?\"N\":D[_-1];break;case\"B\":k=!1,i=!0,ct=A;break;case\"S\":s=!0,ct=\"N\"}return ct},H=function(R,C,D){var _=R.split(\"\");return D&&F(_,D,{hiLevel:A}),_.reverse(),C&&C.reverse(),_.join(\"\")},F=function(R,C,D){var _,Q,yt,ot,ft,ct=-1,Tt=R.length,at=0,I=[],X=A?u:g,K=[];for(k=!1,i=!1,s=!1,Q=0;Q<Tt;Q++)K[Q]=M(R[Q]);for(yt=0;yt<Tt;yt++){if(ft=at,I[yt]=Z(R,K,I,yt),_=240&(at=X[ft][b[I[yt]]]),at&=15,C[yt]=ot=X[at][5],_>0)if(_===16){for(Q=ct;Q<yt;Q++)C[Q]=1;ct=-1}else ct=-1;if(X[at][6])ct===-1&&(ct=yt);else if(ct>-1){for(Q=ct;Q<yt;Q++)C[Q]=ot;ct=-1}K[yt]===\"B\"&&(C[yt]=0),D.hiLevel|=ot}s&&(function(et,gt,kt){for(var _t=0;_t<kt;_t++)if(et[_t]===\"S\"){gt[_t]=A;for(var It=_t-1;It>=0&&et[It]===\"WS\";It--)gt[It]=A}})(K,C,Tt)},P=function(R,C,D,_,Q){if(!(Q.hiLevel<R)){if(R===1&&A===1&&!i)return C.reverse(),void(D&&D.reverse());for(var yt,ot,ft,ct,Tt=C.length,at=0;at<Tt;){if(_[at]>=R){for(ft=at+1;ft<Tt&&_[ft]>=R;)ft++;for(ct=at,ot=ft-1;ct<ot;ct++,ot--)yt=C[ct],C[ct]=C[ot],C[ot]=yt,D&&(yt=D[ct],D[ct]=D[ot],D[ot]=yt);at=ft}at++}}},G=function(R,C,D){var _=R.split(\"\"),Q={hiLevel:A};return D||(D=[]),F(_,D,Q),(function(yt,ot,ft){if(ft.hiLevel!==0&&h)for(var ct,Tt=0;Tt<yt.length;Tt++)ot[Tt]===1&&(ct=v.indexOf(yt[Tt]))>=0&&(yt[Tt]=v[ct+1])})(_,D,Q),P(2,_,C,D,Q),P(1,_,C,D,Q),_.join(\"\")};return this.__bidiEngine__.doBidiReorder=function(R,C,D){if((function(Q,yt){if(yt)for(var ot=0;ot<Q.length;ot++)yt[ot]=ot;o===void 0&&(o=z(Q)),c===void 0&&(c=z(Q))})(R,C),a||!l||c)if(a&&l&&o^c)A=o?1:0,R=H(R,C,D);else if(!a&&l&&c)A=o?1:0,R=G(R,C,D),R=H(R,C);else if(!a||o||l||c){if(a&&!l&&o^c)R=H(R,C),o?(A=0,R=G(R,C,D)):(A=1,R=G(R,C,D),R=H(R,C));else if(a&&o&&!l&&c)A=1,R=G(R,C,D),R=H(R,C);else if(!a&&!l&&o^c){var _=h;o?(A=1,R=G(R,C,D),A=0,h=!1,R=G(R,C,D),h=_):(A=0,R=G(R,C,D),R=H(R,C),A=1,h=!1,R=G(R,C,D),h=_,R=H(R,C))}}else A=0,R=G(R,C,D);else A=o?1:0,R=G(R,C,D);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,l=R.isOutputVisual,o=R.isInputRtl,c=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=[\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"S\",\"B\",\"S\",\"WS\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"B\",\"B\",\"S\",\"WS\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ES\",\"CS\",\"ES\",\"CS\",\"CS\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"B\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"CS\",\"N\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"L\",\"N\",\"N\",\"BN\",\"N\",\"N\",\"ET\",\"ET\",\"EN\",\"EN\",\"N\",\"L\",\"N\",\"N\",\"N\",\"EN\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"R\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"NSM\",\"R\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"N\",\"N\",\"AL\",\"ET\",\"ET\",\"AL\",\"CS\",\"AL\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"AN\",\"ET\",\"AN\",\"AN\",\"AL\",\"AL\",\"AL\",\"NSM\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AN\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"AL\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"NSM\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"AL\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"R\",\"R\",\"N\",\"N\",\"N\",\"N\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"WS\",\"BN\",\"BN\",\"BN\",\"L\",\"R\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"B\",\"LRE\",\"RLE\",\"PDF\",\"LRO\",\"RLO\",\"CS\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"WS\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"N\",\"LRI\",\"RLI\",\"FSI\",\"PDI\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"BN\",\"EN\",\"L\",\"N\",\"N\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"L\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"R\",\"NSM\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"ES\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"N\",\"R\",\"N\",\"R\",\"R\",\"N\",\"R\",\"R\",\"N\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"R\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"NSM\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"CS\",\"N\",\"CS\",\"N\",\"N\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"N\",\"N\",\"ES\",\"ES\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"AL\",\"N\",\"N\",\"BN\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"ES\",\"CS\",\"ES\",\"CS\",\"CS\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"EN\",\"CS\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"L\",\"L\",\"L\",\"N\",\"N\",\"L\",\"L\",\"L\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"ET\",\"ET\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push([\"postProcessText\",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!=\"boolean\"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)===\"[object Array]\"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])===\"[object Array]\"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Be),Be.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new vs(e),this.contents.pos=4,n.readString(4)===\"ttcf\")throw new Error(\"TTCF not supported.\");n.pos=0,this.parse(),this.subset=new xx(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ax(this.contents),this.head=new cx(this),this.name=new px(this),this.cmap=new D2(this),this.toUnicode={},this.hhea=new hx(this),this.maxp=new gx(this),this.hmtx=new mx(this),this.post=new fx(this),this.os2=new ux(this),this.loca=new vx(this),this.glyf=new yx(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+\".\"+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error(\"No unicode cmap for font\")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=\"\"+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var wi,vs=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join(\"\")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),ax=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,h,d,g,u,b,m;for(m in u=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(u)/l),a=Math.floor(d/l),h=16*u-d,(i=new vs).writeInt(this.scalarType),i.writeShort(u),i.writeShort(d),i.writeShort(a),i.writeShort(h),s=16*u,c=i.pos+s,o=null,b=[],n)for(g=n[m],i.writeString(m),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),b=b.concat(g),m===\"head\"&&(o=c),c+=g.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=z2.call(n);n.length%4;)n.push(0);for(s=new vs(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),lx={}.hasOwnProperty,Li=function(t,e){for(var n in e)lx.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wi=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var cx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"head\",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new vs).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),fp=(function(){function t(e,n){var r,i,s,a,o,l,c,h,d,g,u,b,m,v,y,k,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(u=e.readUInt16(),g=u/2,e.pos+=6,s=(function(){var M,z;for(z=[],l=M=0;0<=g?M<g:M>g;l=0<=g?++M:--M)z.push(e.readUInt16());return z})(),e.pos+=2,m=(function(){var M,z;for(z=[],l=M=0;0<=g?M<g:M>g;l=0<=g?++M:--M)z.push(e.readUInt16());return z})(),c=(function(){var M,z;for(z=[],l=M=0;0<=g?M<g:M>g;l=0<=g?++M:--M)z.push(e.readUInt16());return z})(),h=(function(){var M,z;for(z=[],l=M=0;0<=g?M<g:M>g;l=0<=g?++M:--M)z.push(e.readUInt16());return z})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var M,z;for(z=[],l=M=0;0<=i?M<i:M>i;l=0<=i?++M:--M)z.push(e.readUInt16());return z})(),l=y=0,A=s.length;y<A;l=++y)for(v=s[l],r=k=b=m[l];b<=v?k<=v:k>=v;r=b<=v?++k:--k)h[l]===0?a=r+c[l]:(a=o[h[l]/2+(r-b)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,c,h,d,g,u,b,m,v,y,k,A,M,z,Z,H,F,P,G,R,C,D,_,Q,yt,ot,ft,ct,Tt,at,I,X,K,et,gt,kt,_t,It,Ut,Zt,de;switch(_=new vs,a=Object.keys(e).sort(function(ce,O){return ce-O}),n){case\"macroman\":for(m=0,v=(function(){var ce=[];for(b=0;b<256;++b)ce.push(0);return ce})(),k={0:0},s={},Q=0,ct=a.length;Q<ct;Q++)k[It=e[i=a[Q]]]==null&&(k[It]=++m),s[i]={old:e[i],new:k[e[i]]},v[i]=k[e[i]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(v),{charMap:s,subtable:_.data,maxGlyphID:m+1};case\"unicode\":for(C=[],d=[],A=0,k={},r={},y=c=null,yt=0,Tt=a.length;yt<Tt;yt++)k[z=e[i=a[yt]]]==null&&(k[z]=++A),r[i]={old:z,new:k[z]},o=k[z]-i,y!=null&&o===c||(y&&d.push(y),C.push(i),c=o),y=i;for(y&&d.push(y),d.push(65535),C.push(65535),G=2*(P=C.length),F=2*Math.pow(Math.log(P)/Math.LN2,2),g=Math.log(F/2)/Math.LN2,H=2*P-F,l=[],Z=[],u=[],b=ot=0,at=C.length;ot<at;b=++ot){if(R=C[b],h=d[b],R===65535){l.push(0),Z.push(0);break}if(R-(D=r[R].new)>=32768)for(l.push(0),Z.push(2*(u.length+P-b)),i=ft=R;R<=h?ft<=h:ft>=h;i=R<=h?++ft:--ft)u.push(r[i].new);else l.push(D-R),Z.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*P+2*u.length),_.writeUInt16(0),_.writeUInt16(G),_.writeUInt16(F),_.writeUInt16(g),_.writeUInt16(H),kt=0,I=d.length;kt<I;kt++)i=d[kt],_.writeUInt16(i);for(_.writeUInt16(0),_t=0,X=C.length;_t<X;_t++)i=C[_t],_.writeUInt16(i);for(Ut=0,K=l.length;Ut<K;Ut++)o=l[Ut],_.writeUInt16(o);for(Zt=0,et=Z.length;Zt<et;Zt++)M=Z[Zt],_.writeUInt16(M);for(de=0,gt=u.length;de<gt;de++)m=u[de],_.writeUInt16(m);return{charMap:r,subtable:_.data,maxGlyphID:A+1}}},t})(),D2=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"cmap\",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new fp(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n=\"macroman\"),r=fp.encode(e,n),(i=new vs).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),hx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"hhea\",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),ux=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"OS/2\",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),fx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"post\",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),dx=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},px=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"name\",t.prototype.parse=function(e){var n,r,i,s,a,o,l,c,h,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,d=r.length;h<d;s=++h)i=r[s],e.pos=i.offset,c=e.readString(i.length),a=new dx(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g,\"\")}catch{this.postscriptName=l[4][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g,\"\")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),gx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"maxp\",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),mx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"hmtx\",t.prototype.parse=function(e){var n,r,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)h.push(e.readInt16());return h})(),this.widths=(function(){var c,h,d,g;for(g=[],c=0,h=(d=this.metrics).length;c<h;c++)s=d[c],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),z2=[].slice,yx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"glyf\",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,l,c,h,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new vs(n.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new wx(o,c,d,l,h):new bx(o,a,c,d,l,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),bx=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),wx=(function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new vs(z2.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),vx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,wi),t.prototype.tag=\"loca\",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),h=0;h<r.length;++h)c[4*h+3]=255&r[h],c[4*h+2]=(65280&r[h])>>8,c[4*h+1]=(16711680&r[h])>>16,c[4*h]=(4278190080&r[h])>>24;return c},t})(),xx=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,h,d,g,u,b,m,v,y;for(i in r=D2.encode(this.generateCmap(),\"unicode\"),a=this.glyphsFor(e),u={0:0},y=r.charMap)u[(l=y[i]).old]=l.new;for(b in g=r.maxGlyphID,a)b in u||(u[b]=g++);return h=(function(k){var A,M;for(A in M={},k)M[k[A]]=A;return M})(u),d=Object.keys(h).sort(function(k,A){return k-A}),m=(function(){var k,A,M;for(M=[],k=0,A=d.length;k<A;k++)o=d[k],M.push(h[o]);return M})(),s=this.font.glyf.encode(a,m,u),c=this.font.loca.encode(s.offsets,m),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v[\"OS/2\"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();Be.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join(\"0\")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return\"[\"+(function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c})().join(\" \")+\"]\";if(typeof n==\"string\")return\"/\"+n;if(n?.isString)return\"(\"+n+\")\";if(n instanceof Date)return\"(D:\"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+\"Z)\";if({}.toString.call(n)===\"[object Object]\"){for(i in s=[\"<<\"],n)a=n[i],s.push(\"/\"+i+\" \"+e.convert(a));return s.push(\">>\"),s.join(`\n`)}return\"\"+n},e})();var Ll=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function r3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function Cl(t){throw new Error('Could not dynamically require \"'+t+'\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rh={exports:{}};var dp;function kx(){return dp||(dp=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,h){if(!i[c]){if(!r[c]){var d=typeof Cl==\"function\"&&Cl;if(!h&&d)return d(c,!0);if(o)return o(c,!0);var g=new Error(\"Cannot find module '\"+c+\"'\");throw g.code=\"MODULE_NOT_FOUND\",g}var u=i[c]={exports:{}};r[c][0].call(u.exports,function(b){var m=r[c][1][b];return a(m||b)},u,u.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Cl==\"function\"&&Cl,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n(\"./utils\"),a=n(\"./support\"),o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";i.encode=function(l){for(var c,h,d,g,u,b,m,v=[],y=0,k=l.length,A=k,M=s.getTypeOf(l)!==\"string\";y<l.length;)A=k-y,d=M?(c=l[y++],h=y<k?l[y++]:0,y<k?l[y++]:0):(c=l.charCodeAt(y++),h=y<k?l.charCodeAt(y++):0,y<k?l.charCodeAt(y++):0),g=c>>2,u=(3&c)<<4|h>>4,b=1<A?(15&h)<<2|d>>6:64,m=2<A?63&d:64,v.push(o.charAt(g)+o.charAt(u)+o.charAt(b)+o.charAt(m));return v.join(\"\")},i.decode=function(l){var c,h,d,g,u,b,m=0,v=0,y=\"data:\";if(l.substr(0,y.length)===y)throw new Error(\"Invalid base64 input, it looks like a data url.\");var k,A=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&A--,l.charAt(l.length-2)===o.charAt(64)&&A--,A%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(k=a.uint8array?new Uint8Array(0|A):new Array(0|A);m<l.length;)c=o.indexOf(l.charAt(m++))<<2|(g=o.indexOf(l.charAt(m++)))>>4,h=(15&g)<<4|(u=o.indexOf(l.charAt(m++)))>>2,d=(3&u)<<6|(b=o.indexOf(l.charAt(m++))),k[v++]=c,u!==64&&(k[v++]=h),b!==64&&(k[v++]=d);return k}},{\"./support\":30,\"./utils\":32}],2:[function(n,r,i){var s=n(\"./external\"),a=n(\"./stream/DataWorker\"),o=n(\"./stream/Crc32Probe\"),l=n(\"./stream/DataLengthProbe\");function c(h,d,g,u,b){this.compressedSize=h,this.uncompressedSize=d,this.crc32=g,this.compression=u,this.compressedContent=b}c.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l(\"data_length\")),d=this;return h.on(\"end\",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},c.createWorkerFrom=function(h,d,g){return h.pipe(new o).pipe(new l(\"uncompressedSize\")).pipe(d.compressWorker(g)).pipe(new l(\"compressedSize\")).withStreamInfo(\"compression\",d)},r.exports=c},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(n,r,i){var s=n(\"./stream/GenericWorker\");i.STORE={magic:\"\\0\\0\",compressWorker:function(){return new s(\"STORE compression\")},uncompressWorker:function(){return new s(\"STORE decompression\")}},i.DEFLATE=n(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(n,r,i){var s=n(\"./utils\"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!==\"string\"?(function(c,h,d,g){var u=a,b=g+d;c^=-1;for(var m=g;m<b;m++)c=c>>>8^u[255&(c^h[m])];return-1^c})(0|l,o,o.length,0):(function(c,h,d,g){var u=a,b=g+d;c^=-1;for(var m=g;m<b;m++)c=c>>>8^u[255&(c^h.charCodeAt(m))];return-1^c})(0|l,o,o.length,0):0}},{\"./utils\":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<\"u\"?Promise:n(\"lie\"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<\"u\"&&typeof Uint16Array<\"u\"&&typeof Uint32Array<\"u\",a=n(\"pako\"),o=n(\"./utils\"),l=n(\"./stream/GenericWorker\"),c=s?\"uint8array\":\"array\";function h(d,g){l.call(this,\"FlateWorker/\"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=g,this.meta={}}i.magic=\"\\b\\0\",o.inherits(h,l),h.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,d.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(g){d.push({data:g,meta:d.meta})}},i.compressWorker=function(d){return new h(\"Deflate\",d)},i.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(n,r,i){function s(u,b){var m,v=\"\";for(m=0;m<b;m++)v+=String.fromCharCode(255&u),u>>>=8;return v}function a(u,b,m,v,y,k){var A,M,z=u.file,Z=u.compression,H=k!==c.utf8encode,F=o.transformTo(\"string\",k(z.name)),P=o.transformTo(\"string\",c.utf8encode(z.name)),G=z.comment,R=o.transformTo(\"string\",k(G)),C=o.transformTo(\"string\",c.utf8encode(G)),D=P.length!==z.name.length,_=C.length!==G.length,Q=\"\",yt=\"\",ot=\"\",ft=z.dir,ct=z.date,Tt={crc32:0,compressedSize:0,uncompressedSize:0};b&&!m||(Tt.crc32=u.crc32,Tt.compressedSize=u.compressedSize,Tt.uncompressedSize=u.uncompressedSize);var at=0;b&&(at|=8),H||!D&&!_||(at|=2048);var I=0,X=0;ft&&(I|=16),y===\"UNIX\"?(X=798,I|=(function(et,gt){var kt=et;return et||(kt=gt?16893:33204),(65535&kt)<<16})(z.unixPermissions,ft)):(X=20,I|=(function(et){return 63&(et||0)})(z.dosPermissions)),A=ct.getUTCHours(),A<<=6,A|=ct.getUTCMinutes(),A<<=5,A|=ct.getUTCSeconds()/2,M=ct.getUTCFullYear()-1980,M<<=4,M|=ct.getUTCMonth()+1,M<<=5,M|=ct.getUTCDate(),D&&(yt=s(1,1)+s(h(F),4)+P,Q+=\"up\"+s(yt.length,2)+yt),_&&(ot=s(1,1)+s(h(R),4)+C,Q+=\"uc\"+s(ot.length,2)+ot);var K=\"\";return K+=`\n\\0`,K+=s(at,2),K+=Z.magic,K+=s(A,2),K+=s(M,2),K+=s(Tt.crc32,4),K+=s(Tt.compressedSize,4),K+=s(Tt.uncompressedSize,4),K+=s(F.length,2),K+=s(Q.length,2),{fileRecord:d.LOCAL_FILE_HEADER+K+F+Q,dirRecord:d.CENTRAL_FILE_HEADER+s(X,2)+K+s(R.length,2)+\"\\0\\0\\0\\0\"+s(I,4)+s(v,4)+F+Q+R}}var o=n(\"../utils\"),l=n(\"../stream/GenericWorker\"),c=n(\"../utf8\"),h=n(\"../crc32\"),d=n(\"../signature\");function g(u,b,m,v){l.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=m,this.encodeFileName=v,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(g,l),g.prototype.push=function(u){var b=u.meta.percent||0,m=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(b+100*(m-v-1))/m:100}}))},g.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var b=this.streamFiles&&!u.file.dir;if(b){var m=a(u,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(u){this.accumulate=!1;var b=this.streamFiles&&!u.file.dir,m=a(u,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),b)this.push({data:(function(v){return d.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)})(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var u=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var m=this.bytesWritten-u,v=(function(y,k,A,M,z){var Z=o.transformTo(\"string\",z(M));return d.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+s(y,2)+s(y,2)+s(k,4)+s(A,4)+s(Z.length,2)+Z})(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(u){this._sources.push(u);var b=this;return u.on(\"data\",function(m){b.processChunk(m)}),u.on(\"end\",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),u.on(\"error\",function(m){b.error(m)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(u){var b=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var m=0;m<b.length;m++)try{b[m].error(u)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,b=0;b<u.length;b++)u[b].lock()},r.exports=g},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(n,r,i){var s=n(\"../compressions\"),a=n(\"./ZipFileWorker\");i.generateWorker=function(o,l,c){var h=new a(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{o.forEach(function(g,u){d++;var b=(function(k,A){var M=k||A,z=s[M];if(!z)throw new Error(M+\" is not a valid compression method !\");return z})(u.options.compression,l.compression),m=u.options.compressionOptions||l.compressionOptions||{},v=u.dir,y=u.date;u._compressWorker(b,m).withStreamInfo(\"file\",{name:g,dir:v,date:y,comment:u.comment||\"\",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(h)}),h.entriesCount=d}catch(g){h.error(g)}return h}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!=\"function\"&&(a[o]=this[o]);return a}}(s.prototype=n(\"./object\")).loadAsync=n(\"./load\"),s.support=n(\"./support\"),s.defaults=n(\"./defaults\"),s.version=\"3.10.1\",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n(\"./external\"),r.exports=s},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(n,r,i){var s=n(\"./utils\"),a=n(\"./external\"),o=n(\"./utf8\"),l=n(\"./zipEntries\"),c=n(\"./stream/Crc32Probe\"),h=n(\"./nodejsUtils\");function d(g){return new a.Promise(function(u,b){var m=g.decompressed.getContentWorker().pipe(new c);m.on(\"error\",function(v){b(v)}).on(\"end\",function(){m.streamInfo.crc32!==g.decompressed.crc32?b(new Error(\"Corrupted zip : CRC32 mismatch\")):u()}).resume()})}r.exports=function(g,u){var b=this;return u=s.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(g)?a.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):s.prepareContent(\"the loaded zip file\",g,!0,u.optimizedBinaryString,u.base64).then(function(m){var v=new l(u);return v.load(m),v}).then(function(m){var v=[a.Promise.resolve(m)],y=m.files;if(u.checkCRC32)for(var k=0;k<y.length;k++)v.push(d(y[k]));return a.Promise.all(v)}).then(function(m){for(var v=m.shift(),y=v.files,k=0;k<y.length;k++){var A=y[k],M=A.fileNameStr,z=s.resolve(A.fileNameStr);b.file(z,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:u.createFolders}),A.dir||(b.file(z).unsafeOriginalName=M)}return v.zipComment.length&&(b.comment=v.zipComment),b})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(n,r,i){var s=n(\"../utils\"),a=n(\"../stream/GenericWorker\");function o(l,c){a.call(this,\"Nodejs stream input adapter for \"+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on(\"data\",function(h){c.push({data:h,meta:{percent:0}})}).on(\"error\",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on(\"end\",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(n,r,i){var s=n(\"readable-stream\").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var h=this;o.on(\"data\",function(d,g){h.push(d)||h._helper.pause(),c&&c(g)}).on(\"error\",function(d){h.emit(\"error\",d)}).on(\"end\",function(){h.push(null)})}n(\"../utils\").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{\"../utils\":32,\"readable-stream\":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<\"u\",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s==\"number\")throw new Error('The \"data\" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on==\"function\"&&typeof s.pause==\"function\"&&typeof s.resume==\"function\"}}},{}],15:[function(n,r,i){function s(z,Z,H){var F,P=o.getTypeOf(Z),G=o.extend(H||{},h);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions==\"string\"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(z=y(z)),G.createFolders&&(F=v(z))&&k.call(this,F,!0);var R=P===\"string\"&&G.binary===!1&&G.base64===!1;H&&H.binary!==void 0||(G.binary=!R),(Z instanceof d&&Z.uncompressedSize===0||G.dir||!Z||Z.length===0)&&(G.base64=!1,G.binary=!0,Z=\"\",G.compression=\"STORE\",P=\"string\");var C=null;C=Z instanceof d||Z instanceof l?Z:b.isNode&&b.isStream(Z)?new m(z,Z):o.prepareContent(z,Z,G.binary,G.optimizedBinaryString,G.base64);var D=new g(z,C,G);this.files[z]=D}var a=n(\"./utf8\"),o=n(\"./utils\"),l=n(\"./stream/GenericWorker\"),c=n(\"./stream/StreamHelper\"),h=n(\"./defaults\"),d=n(\"./compressedObject\"),g=n(\"./zipObject\"),u=n(\"./generate\"),b=n(\"./nodejsUtils\"),m=n(\"./nodejs/NodejsStreamInputAdapter\"),v=function(z){z.slice(-1)===\"/\"&&(z=z.substring(0,z.length-1));var Z=z.lastIndexOf(\"/\");return 0<Z?z.substring(0,Z):\"\"},y=function(z){return z.slice(-1)!==\"/\"&&(z+=\"/\"),z},k=function(z,Z){return Z=Z!==void 0?Z:h.createFolders,z=y(z),this.files[z]||s.call(this,z,null,{dir:!0,createFolders:Z}),this.files[z]};function A(z){return Object.prototype.toString.call(z)===\"[object RegExp]\"}var M={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(z){var Z,H,F;for(Z in this.files)F=this.files[Z],(H=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&z(H,F)},filter:function(z){var Z=[];return this.forEach(function(H,F){z(H,F)&&Z.push(F)}),Z},file:function(z,Z,H){if(arguments.length!==1)return z=this.root+z,s.call(this,z,Z,H),this;if(A(z)){var F=z;return this.filter(function(G,R){return!R.dir&&F.test(G)})}var P=this.files[this.root+z];return P&&!P.dir?P:null},folder:function(z){if(!z)return this;if(A(z))return this.filter(function(P,G){return G.dir&&z.test(P)});var Z=this.root+z,H=k.call(this,Z),F=this.clone();return F.root=H.name,F},remove:function(z){z=this.root+z;var Z=this.files[z];if(Z||(z.slice(-1)!==\"/\"&&(z+=\"/\"),Z=this.files[z]),Z&&!Z.dir)delete this.files[z];else for(var H=this.filter(function(P,G){return G.name.slice(0,z.length)===z}),F=0;F<H.length;F++)delete this.files[H[F].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(z){var Z,H={};try{if((H=o.extend(z||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:a.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type===\"binarystring\"&&(H.type=\"string\"),!H.type)throw new Error(\"No output type specified.\");o.checkSupport(H.type),H.platform!==\"darwin\"&&H.platform!==\"freebsd\"&&H.platform!==\"linux\"&&H.platform!==\"sunos\"||(H.platform=\"UNIX\"),H.platform===\"win32\"&&(H.platform=\"DOS\");var F=H.comment||this.comment||\"\";Z=u.generateWorker(this,H,F)}catch(P){(Z=new l(\"error\")).error(P)}return new c(Z,H.type||\"string\",H.mimeType)},generateAsync:function(z,Z){return this.generateInternalStream(z).accumulate(Z)},generateNodeStream:function(z,Z){return(z=z||{}).type||(z.type=\"nodebuffer\"),this.generateInternalStream(z).toNodejsStream(Z)}};r.exports=M},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(n,r,i){r.exports=n(\"stream\")},{stream:void 0}],17:[function(n,r,i){var s=n(\"./DataReader\");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n(\"../utils\").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),d=o.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===c&&this.data[g+2]===h&&this.data[g+3]===d)return g-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),d=o.charCodeAt(3),g=this.readData(4);return l===g[0]&&c===g[1]&&h===g[2]&&d===g[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{\"../utils\":32,\"./DataReader\":18}],18:[function(n,r,i){var s=n(\"../utils\");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+o+\"). Corrupted zip ?\")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo(\"string\",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{\"../utils\":32}],19:[function(n,r,i){var s=n(\"./Uint8ArrayReader\");function a(o){s.call(this,o)}n(\"../utils\").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(n,r,i){var s=n(\"./DataReader\");function a(o){s.call(this,o)}n(\"../utils\").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{\"../utils\":32,\"./DataReader\":18}],21:[function(n,r,i){var s=n(\"./ArrayReader\");function a(o){s.call(this,o)}n(\"../utils\").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(n,r,i){var s=n(\"../utils\"),a=n(\"../support\"),o=n(\"./ArrayReader\"),l=n(\"./StringReader\"),c=n(\"./NodeBufferReader\"),h=n(\"./Uint8ArrayReader\");r.exports=function(d){var g=s.getTypeOf(d);return s.checkSupport(g),g!==\"string\"||a.uint8array?g===\"nodebuffer\"?new c(d):a.uint8array?new h(s.transformTo(\"uint8array\",d)):new o(s.transformTo(\"array\",d)):new l(d)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",i.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",i.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\\x07\",i.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",i.DATA_DESCRIPTOR=\"PK\\x07\\b\"},{}],24:[function(n,r,i){var s=n(\"./GenericWorker\"),a=n(\"../utils\");function o(l){s.call(this,\"ConvertWorker to \"+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(n,r,i){var s=n(\"./GenericWorker\"),a=n(\"../crc32\");function o(){s.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}n(\"../utils\").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(n,r,i){var s=n(\"../utils\"),a=n(\"./GenericWorker\");function o(l){a.call(this,\"DataLengthProbe for \"+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(n,r,i){var s=n(\"../utils\"),a=n(\"./GenericWorker\");function o(l){a.call(this,\"DataWorker\");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=s.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":l=this.data.substring(this.index,c);break;case\"uint8array\":l=this.data.subarray(this.index,c);break;case\"array\":case\"nodebuffer\":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(n,r,i){function s(a){this.name=a||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit(\"data\",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit(\"error\",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit(\"error\",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on(\"data\",function(l){o.processChunk(l)}),a.on(\"end\",function(){o.end()}),a.on(\"error\",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n(\"../utils\"),a=n(\"./ConvertWorker\"),o=n(\"./GenericWorker\"),l=n(\"../base64\"),c=n(\"../support\"),h=n(\"../external\"),d=null;if(c.nodestream)try{d=n(\"../nodejs/NodejsStreamOutputAdapter\")}catch{}function g(b,m){return new h.Promise(function(v,y){var k=[],A=b._internalType,M=b._outputType,z=b._mimeType;b.on(\"data\",function(Z,H){k.push(Z),m&&m(H)}).on(\"error\",function(Z){k=[],y(Z)}).on(\"end\",function(){try{var Z=(function(H,F,P){switch(H){case\"blob\":return s.newBlob(s.transformTo(\"arraybuffer\",F),P);case\"base64\":return l.encode(F);default:return s.transformTo(H,F)}})(M,(function(H,F){var P,G=0,R=null,C=0;for(P=0;P<F.length;P++)C+=F[P].length;switch(H){case\"string\":return F.join(\"\");case\"array\":return Array.prototype.concat.apply([],F);case\"uint8array\":for(R=new Uint8Array(C),P=0;P<F.length;P++)R.set(F[P],G),G+=F[P].length;return R;case\"nodebuffer\":return Buffer.concat(F);default:throw new Error(\"concat : unsupported type '\"+H+\"'\")}})(A,k),z);v(Z)}catch(H){y(H)}k=[]}).resume()})}function u(b,m,v){var y=m;switch(m){case\"blob\":case\"arraybuffer\":y=\"uint8array\";break;case\"base64\":y=\"string\"}try{this._internalType=y,this._outputType=m,this._mimeType=v,s.checkSupport(y),this._worker=b.pipe(new a(y)),b.lock()}catch(k){this._worker=new o(\"error\"),this._worker.error(k)}}u.prototype={accumulate:function(b){return g(this,b)},on:function(b,m){var v=this;return b===\"data\"?this._worker.on(b,function(y){m.call(v,y.data,y.meta)}):this._worker.on(b,function(){s.delay(m,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport(\"nodestream\"),this._outputType!==\"nodebuffer\")throw new Error(this._outputType+\" is not supported by this method\");return new d(this,{objectMode:this._outputType!==\"nodebuffer\"},b)}},r.exports=u},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<\"u\"&&typeof Uint8Array<\"u\",i.nodebuffer=typeof Buffer<\"u\",i.uint8array=typeof Uint8Array<\"u\",typeof ArrayBuffer>\"u\")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:\"application/zip\"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob(\"application/zip\").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n(\"readable-stream\").Readable}catch{i.nodestream=!1}},{\"readable-stream\":16}],31:[function(n,r,i){for(var s=n(\"./utils\"),a=n(\"./support\"),o=n(\"./nodejsUtils\"),l=n(\"./stream/GenericWorker\"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function d(){l.call(this,\"utf-8 decode\"),this.leftOver=null}function g(){l.call(this,\"utf-8 encode\")}i.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,\"utf-8\"):(function(b){var m,v,y,k,A,M=b.length,z=0;for(k=0;k<M;k++)(64512&(v=b.charCodeAt(k)))==55296&&k+1<M&&(64512&(y=b.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),k++),z+=v<128?1:v<2048?2:v<65536?3:4;for(m=a.uint8array?new Uint8Array(z):new Array(z),k=A=0;A<z;k++)(64512&(v=b.charCodeAt(k)))==55296&&k+1<M&&(64512&(y=b.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(y-56320),k++),v<128?m[A++]=v:(v<2048?m[A++]=192|v>>>6:(v<65536?m[A++]=224|v>>>12:(m[A++]=240|v>>>18,m[A++]=128|v>>>12&63),m[A++]=128|v>>>6&63),m[A++]=128|63&v);return m})(u)},i.utf8decode=function(u){return a.nodebuffer?s.transformTo(\"nodebuffer\",u).toString(\"utf-8\"):(function(b){var m,v,y,k,A=b.length,M=new Array(2*A);for(m=v=0;m<A;)if((y=b[m++])<128)M[v++]=y;else if(4<(k=c[y]))M[v++]=65533,m+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&m<A;)y=y<<6|63&b[m++],k--;1<k?M[v++]=65533:y<65536?M[v++]=y:(y-=65536,M[v++]=55296|y>>10&1023,M[v++]=56320|1023&y)}return M.length!==v&&(M.subarray?M=M.subarray(0,v):M.length=v),s.applyFromCharCode(M)})(u=s.transformTo(a.uint8array?\"uint8array\":\"array\",u))},s.inherits(d,l),d.prototype.processChunk=function(u){var b=s.transformTo(a.uint8array?\"uint8array\":\"array\",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=b;(b=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),b.set(m,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var v=(function(k,A){var M;for((A=A||k.length)>k.length&&(A=k.length),M=A-1;0<=M&&(192&k[M])==128;)M--;return M<0||M===0?A:M+c[k[M]]>A?M:A})(b),y=b;v!==b.length&&(a.uint8array?(y=b.subarray(0,v),this.leftOver=b.subarray(v,b.length)):(y=b.slice(0,v),this.leftOver=b.slice(v,b.length))),this.push({data:i.utf8decode(y),meta:u.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(g,l),g.prototype.processChunk=function(u){this.push({data:i.utf8encode(u.data),meta:u.meta})},i.Utf8EncodeWorker=g},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(n,r,i){var s=n(\"./support\"),a=n(\"./base64\"),o=n(\"./nodejsUtils\"),l=n(\"./external\");function c(m){return m}function h(m,v){for(var y=0;y<m.length;++y)v[y]=255&m.charCodeAt(y);return v}n(\"setimmediate\"),i.newBlob=function(m,v){i.checkSupport(\"blob\");try{return new Blob([m],{type:v})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(v)}catch{throw new Error(\"Bug : can't construct the Blob.\")}}};var d={stringifyByChunk:function(m,v,y){var k=[],A=0,M=m.length;if(M<=y)return String.fromCharCode.apply(null,m);for(;A<M;)v===\"array\"||v===\"nodebuffer\"?k.push(String.fromCharCode.apply(null,m.slice(A,Math.min(A+y,M)))):k.push(String.fromCharCode.apply(null,m.subarray(A,Math.min(A+y,M)))),A+=y;return k.join(\"\")},stringifyByChar:function(m){for(var v=\"\",y=0;y<m.length;y++)v+=String.fromCharCode(m[y]);return v},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function g(m){var v=65536,y=i.getTypeOf(m),k=!0;if(y===\"uint8array\"?k=d.applyCanBeUsed.uint8array:y===\"nodebuffer\"&&(k=d.applyCanBeUsed.nodebuffer),k)for(;1<v;)try{return d.stringifyByChunk(m,y,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(m)}function u(m,v){for(var y=0;y<m.length;y++)v[y]=m[y];return v}i.applyFromCharCode=g;var b={};b.string={string:c,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return b.string.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:function(m){return h(m,o.allocBuffer(m.length))}},b.array={string:g,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},b.arraybuffer={string:function(m){return g(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},b.uint8array={string:g,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},b.nodebuffer={string:g,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return b.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,v){if(v=v||\"\",!m)return v;i.checkSupport(m);var y=i.getTypeOf(v);return b[y][m](v)},i.resolve=function(m){for(var v=m.split(\"/\"),y=[],k=0;k<v.length;k++){var A=v[k];A===\".\"||A===\"\"&&k!==0&&k!==v.length-1||(A===\"..\"?y.pop():y.push(A))}return y.join(\"/\")},i.getTypeOf=function(m){return typeof m==\"string\"?\"string\":Object.prototype.toString.call(m)===\"[object Array]\"?\"array\":s.nodebuffer&&o.isBuffer(m)?\"nodebuffer\":s.uint8array&&m instanceof Uint8Array?\"uint8array\":s.arraybuffer&&m instanceof ArrayBuffer?\"arraybuffer\":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+\" is not supported by this platform\")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var v,y,k=\"\";for(y=0;y<(m||\"\").length;y++)k+=\"\\\\x\"+((v=m.charCodeAt(y))<16?\"0\":\"\")+v.toString(16).toUpperCase();return k},i.delay=function(m,v,y){setImmediate(function(){m.apply(y||null,v||[])})},i.inherits=function(m,v){function y(){}y.prototype=v.prototype,m.prototype=new y},i.extend=function(){var m,v,y={};for(m=0;m<arguments.length;m++)for(v in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],v)&&y[v]===void 0&&(y[v]=arguments[m][v]);return y},i.prepareContent=function(m,v,y,k,A){return l.Promise.resolve(v).then(function(M){return s.blob&&(M instanceof Blob||[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<\"u\"?new l.Promise(function(z,Z){var H=new FileReader;H.onload=function(F){z(F.target.result)},H.onerror=function(F){Z(F.target.error)},H.readAsArrayBuffer(M)}):M}).then(function(M){var z=i.getTypeOf(M);return z?(z===\"arraybuffer\"?M=i.transformTo(\"uint8array\",M):z===\"string\"&&(A?M=a.decode(M):y&&k!==!0&&(M=(function(Z){return h(Z,s.uint8array?new Uint8Array(Z.length):new Array(Z.length))})(M))),M):l.Promise.reject(new Error(\"Can't read the data of '\"+m+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(n,r,i){var s=n(\"./reader/readerFor\"),a=n(\"./utils\"),o=n(\"./signature\"),l=n(\"./zipEntry\"),c=n(\"./support\");function h(d){this.files=[],this.loadOptions=d}h.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+a.pretty(g)+\", expected \"+a.pretty(d)+\")\")}},isSignature:function(d,g){var u=this.reader.index;this.reader.setIndex(d);var b=this.reader.readString(4)===g;return this.reader.setIndex(u),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),g=c.uint8array?\"uint8array\":\"array\",u=a.transformTo(g,d);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,g,u,b=this.zip64EndOfCentralSize-44;0<b;)d=this.reader.readInt(2),g=this.reader.readInt(4),u=this.reader.readData(g),this.zip64ExtensibleData[d]={id:d,length:g,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var d,g;for(d=0;d<this.files.length;d++)g=this.files[d],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error(\"Corrupted zip: can't find end of central directory\"):new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\");this.reader.setIndex(d);var g=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var b=g-u;if(0<b)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(b)+\" bytes.\")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(n,r,i){var s=n(\"./reader/readerFor\"),a=n(\"./utils\"),o=n(\"./compressedObject\"),l=n(\"./crc32\"),c=n(\"./utf8\"),h=n(\"./compressions\"),d=n(\"./support\");function g(u,b){this.options=u,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var b,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if((b=(function(v){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===v)return h[y];return null})(this.compressionMethod))===null)throw new Error(\"Corrupted zip : compression \"+a.pretty(this.compressionMethod)+\" unknown (inner file : \"+a.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var b=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");u.skip(b),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!==\"/\"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var b,m,v,y=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<y;)b=u.readInt(2),m=u.readInt(2),v=u.readData(m),this.extraFields[b]={id:b,length:m,value:v};u.setIndex(y)},handleUTF8:function(){var u=d.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var m=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var y=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var b=s(u.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:c.utf8decode(b.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var b=s(u.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:c.utf8decode(b.readData(u.length-5))}return null}},r.exports=g},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(n,r,i){function s(b,m,v){this.name=b,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=m,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var a=n(\"./stream/StreamHelper\"),o=n(\"./stream/DataWorker\"),l=n(\"./utf8\"),c=n(\"./compressedObject\"),h=n(\"./stream/GenericWorker\");s.prototype={internalStream:function(b){var m=null,v=\"string\";try{if(!b)throw new Error(\"No output type specified.\");var y=(v=b.toLowerCase())===\"string\"||v===\"text\";v!==\"binarystring\"&&v!==\"text\"||(v=\"string\"),m=this._decompressWorker();var k=!this._dataBinary;k&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!k&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(A){(m=new h(\"error\")).error(A)}return new a(m,v,\"\")},async:function(b,m){return this.internalStream(b).accumulate(m)},nodeStream:function(b,m){return this.internalStream(b||\"nodebuffer\").toNodejsStream(m)},_compressWorker:function(b,m){if(this._data instanceof c&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,b,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var d=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],g=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},u=0;u<d.length;u++)s.prototype[d[u]]=g;r.exports=s},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,h=new l(b),d=s.document.createTextNode(\"\");h.observe(d,{characterData:!0}),a=function(){d.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a=\"document\"in s&&\"onreadystatechange\"in s.document.createElement(\"script\")?function(){var m=s.document.createElement(\"script\");m.onreadystatechange=function(){b(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(b,0)};else{var g=new s.MessageChannel;g.port1.onmessage=b,a=function(){g.port2.postMessage(0)}}var u=[];function b(){var m,v;o=!0;for(var y=u.length;y;){for(v=u,u=[],m=-1;++m<y;)v[m]();y=u.length}o=!1}r.exports=function(m){u.push(m)!==1||o||a()}}).call(this,typeof Ll<\"u\"?Ll:typeof self<\"u\"?self:typeof window<\"u\"?window:{})},{}],37:[function(n,r,i){var s=n(\"immediate\");function a(){}var o={},l=[\"REJECTED\"],c=[\"FULFILLED\"],h=[\"PENDING\"];function d(y){if(typeof y!=\"function\")throw new TypeError(\"resolver must be a function\");this.state=h,this.queue=[],this.outcome=void 0,y!==a&&m(this,y)}function g(y,k,A){this.promise=y,typeof k==\"function\"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof A==\"function\"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function u(y,k,A){s(function(){var M;try{M=k(A)}catch(z){return o.reject(y,z)}M===y?o.reject(y,new TypeError(\"Cannot resolve promise with itself\")):o.resolve(y,M)})}function b(y){var k=y&&y.then;if(y&&(typeof y==\"object\"||typeof y==\"function\")&&typeof k==\"function\")return function(){k.apply(y,arguments)}}function m(y,k){var A=!1;function M(H){A||(A=!0,o.reject(y,H))}function z(H){A||(A=!0,o.resolve(y,H))}var Z=v(function(){k(z,M)});Z.status===\"error\"&&M(Z.value)}function v(y,k){var A={};try{A.value=y(k),A.status=\"success\"}catch(M){A.status=\"error\",A.value=M}return A}(r.exports=d).prototype.finally=function(y){if(typeof y!=\"function\")return this;var k=this.constructor;return this.then(function(A){return k.resolve(y()).then(function(){return A})},function(A){return k.resolve(y()).then(function(){throw A})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,k){if(typeof y!=\"function\"&&this.state===c||typeof k!=\"function\"&&this.state===l)return this;var A=new this.constructor(a);return this.state!==h?u(A,this.state===c?y:k,this.outcome):this.queue.push(new g(A,y,k)),A},g.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){u(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){o.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){u(this.promise,this.onRejected,y)},o.resolve=function(y,k){var A=v(b,k);if(A.status===\"error\")return o.reject(y,A.value);var M=A.value;if(M)m(y,M);else{y.state=c,y.outcome=k;for(var z=-1,Z=y.queue.length;++z<Z;)y.queue[z].callFulfilled(k)}return y},o.reject=function(y,k){y.state=l,y.outcome=k;for(var A=-1,M=y.queue.length;++A<M;)y.queue[A].callRejected(k);return y},d.resolve=function(y){return y instanceof this?y:o.resolve(new this(a),y)},d.reject=function(y){var k=new this(a);return o.reject(k,y)},d.all=function(y){var k=this;if(Object.prototype.toString.call(y)!==\"[object Array]\")return this.reject(new TypeError(\"must be an array\"));var A=y.length,M=!1;if(!A)return this.resolve([]);for(var z=new Array(A),Z=0,H=-1,F=new this(a);++H<A;)P(y[H],H);return F;function P(G,R){k.resolve(G).then(function(C){z[R]=C,++Z!==A||M||(M=!0,o.resolve(F,z))},function(C){M||(M=!0,o.reject(F,C))})}},d.race=function(y){var k=this;if(Object.prototype.toString.call(y)!==\"[object Array]\")return this.reject(new TypeError(\"must be an array\"));var A=y.length,M=!1;if(!A)return this.resolve([]);for(var z=-1,Z=new this(a);++z<A;)H=y[z],k.resolve(H).then(function(F){M||(M=!0,o.resolve(Z,F))},function(F){M||(M=!0,o.reject(Z,F))});var H;return Z}},{immediate:36}],38:[function(n,r,i){var s={};(0,n(\"./lib/utils/common\").assign)(s,n(\"./lib/deflate\"),n(\"./lib/inflate\"),n(\"./lib/zlib/constants\")),r.exports=s},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(n,r,i){var s=n(\"./zlib/deflate\"),a=n(\"./utils/common\"),o=n(\"./utils/strings\"),l=n(\"./zlib/messages\"),c=n(\"./zlib/zstream\"),h=Object.prototype.toString,d=0,g=-1,u=0,b=8;function m(y){if(!(this instanceof m))return new m(y);this.options=a.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:\"\"},y||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(A!==d)throw new Error(l[A]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var M;if(M=typeof k.dictionary==\"string\"?o.string2buf(k.dictionary):h.call(k.dictionary)===\"[object ArrayBuffer]\"?new Uint8Array(k.dictionary):k.dictionary,(A=s.deflateSetDictionary(this.strm,M))!==d)throw new Error(l[A]);this._dict_set=!0}}function v(y,k){var A=new m(k);if(A.push(y,!0),A.err)throw A.msg||l[A.err];return A.result}m.prototype.push=function(y,k){var A,M,z=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;M=k===~~k?k:k===!0?4:0,typeof y==\"string\"?z.input=o.string2buf(y):h.call(y)===\"[object ArrayBuffer]\"?z.input=new Uint8Array(y):z.input=y,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new a.Buf8(Z),z.next_out=0,z.avail_out=Z),(A=s.deflate(z,M))!==1&&A!==d)return this.onEnd(A),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||M!==4&&M!==2)||(this.options.to===\"string\"?this.onData(o.buf2binstring(a.shrinkBuf(z.output,z.next_out))):this.onData(a.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&A!==1);return M===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===d):M!==2||(this.onEnd(d),!(z.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===d&&(this.options.to===\"string\"?this.result=this.chunks.join(\"\"):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=v,i.deflateRaw=function(y,k){return(k=k||{}).raw=!0,v(y,k)},i.gzip=function(y,k){return(k=k||{}).gzip=!0,v(y,k)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(n,r,i){var s=n(\"./zlib/inflate\"),a=n(\"./utils/common\"),o=n(\"./utils/strings\"),l=n(\"./zlib/constants\"),c=n(\"./zlib/messages\"),h=n(\"./zlib/zstream\"),d=n(\"./zlib/gzheader\"),g=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:\"\"},m||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||m&&m.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,v.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function b(m,v){var y=new u(v);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}u.prototype.push=function(m,v){var y,k,A,M,z,Z,H=this.strm,F=this.options.chunkSize,P=this.options.dictionary,G=!1;if(this.ended)return!1;k=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m==\"string\"?H.input=o.binstring2buf(m):g.call(m)===\"[object ArrayBuffer]\"?H.input=new Uint8Array(m):H.input=m,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new a.Buf8(F),H.next_out=0,H.avail_out=F),(y=s.inflate(H,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(Z=typeof P==\"string\"?o.string2buf(P):g.call(P)===\"[object ArrayBuffer]\"?new Uint8Array(P):P,y=s.inflateSetDictionary(this.strm,Z)),y===l.Z_BUF_ERROR&&G===!0&&(y=l.Z_OK,G=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&y!==l.Z_STREAM_END&&(H.avail_in!==0||k!==l.Z_FINISH&&k!==l.Z_SYNC_FLUSH)||(this.options.to===\"string\"?(A=o.utf8border(H.output,H.next_out),M=H.next_out-A,z=o.buf2string(H.output,A),H.next_out=M,H.avail_out=F-M,M&&a.arraySet(H.output,H.output,A,M,0),this.onData(z)):this.onData(a.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(G=!0)}while((0<H.avail_in||H.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(k=l.Z_FINISH),k===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):k!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(H.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to===\"string\"?this.result=this.chunks.join(\"\"):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=u,i.inflate=b,i.inflateRaw=function(m,v){return(v=v||{}).raw=!0,b(m,v)},i.ungzip=b},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(n,r,i){var s=typeof Uint8Array<\"u\"&&typeof Uint16Array<\"u\"&&typeof Int32Array<\"u\";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!=\"object\")throw new TypeError(h+\"must be non-object\");for(var d in h)h.hasOwnProperty(d)&&(l[d]=h[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,h,d,g){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+d),g);else for(var u=0;u<d;u++)l[g+u]=c[h+u]},flattenChunks:function(l){var c,h,d,g,u,b;for(c=d=0,h=l.length;c<h;c++)d+=l[c].length;for(b=new Uint8Array(d),c=g=0,h=l.length;c<h;c++)u=l[c],b.set(u,g),g+=u.length;return b}},o={arraySet:function(l,c,h,d,g){for(var u=0;u<d;u++)l[g+u]=c[h+u]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n(\"./common\"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(d,g){if(g<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(d,g));for(var u=\"\",b=0;b<g;b++)u+=String.fromCharCode(d[b]);return u}l[254]=l[254]=1,i.string2buf=function(d){var g,u,b,m,v,y=d.length,k=0;for(m=0;m<y;m++)(64512&(u=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(b=d.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(b-56320),m++),k+=u<128?1:u<2048?2:u<65536?3:4;for(g=new s.Buf8(k),m=v=0;v<k;m++)(64512&(u=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(b=d.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(b-56320),m++),u<128?g[v++]=u:(u<2048?g[v++]=192|u>>>6:(u<65536?g[v++]=224|u>>>12:(g[v++]=240|u>>>18,g[v++]=128|u>>>12&63),g[v++]=128|u>>>6&63),g[v++]=128|63&u);return g},i.buf2binstring=function(d){return h(d,d.length)},i.binstring2buf=function(d){for(var g=new s.Buf8(d.length),u=0,b=g.length;u<b;u++)g[u]=d.charCodeAt(u);return g},i.buf2string=function(d,g){var u,b,m,v,y=g||d.length,k=new Array(2*y);for(u=b=0;u<y;)if((m=d[u++])<128)k[b++]=m;else if(4<(v=l[m]))k[b++]=65533,u+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&u<y;)m=m<<6|63&d[u++],v--;1<v?k[b++]=65533:m<65536?k[b++]=m:(m-=65536,k[b++]=55296|m>>10&1023,k[b++]=56320|1023&m)}return h(k,b)},i.utf8border=function(d,g){var u;for((g=g||d.length)>d.length&&(g=d.length),u=g-1;0<=u&&(192&d[u])==128;)u--;return u<0||u===0?g:u+l[d[u]]>g?u:g}},{\"./common\":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,h=s>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;h=h+(c=c+a[l++]|0)|0,--d;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var h=s,d=c+l;a^=-1;for(var g=c;g<d;g++)a=a>>>8^h[255&(a^o[g])];return-1^a}},{}],46:[function(n,r,i){var s,a=n(\"../utils/common\"),o=n(\"./trees\"),l=n(\"./adler32\"),c=n(\"./crc32\"),h=n(\"./messages\"),d=0,g=4,u=0,b=-2,m=-1,v=4,y=2,k=8,A=9,M=286,z=30,Z=19,H=2*M+1,F=15,P=3,G=258,R=G+P+1,C=42,D=113,_=1,Q=2,yt=3,ot=4;function ft(O,T){return O.msg=h[T],T}function ct(O){return(O<<1)-(4<O?9:0)}function Tt(O){for(var T=O.length;0<=--T;)O[T]=0}function at(O){var T=O.state,pt=T.pending;pt>O.avail_out&&(pt=O.avail_out),pt!==0&&(a.arraySet(O.output,T.pending_buf,T.pending_out,pt,O.next_out),O.next_out+=pt,T.pending_out+=pt,O.total_out+=pt,O.avail_out-=pt,T.pending-=pt,T.pending===0&&(T.pending_out=0))}function I(O,T){o._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,T),O.block_start=O.strstart,at(O.strm)}function X(O,T){O.pending_buf[O.pending++]=T}function K(O,T){O.pending_buf[O.pending++]=T>>>8&255,O.pending_buf[O.pending++]=255&T}function et(O,T){var pt,tt,W=O.max_chain_length,nt=O.strstart,Lt=O.prev_length,Ot=O.nice_match,dt=O.strstart>O.w_size-R?O.strstart-(O.w_size-R):0,Bt=O.window,ee=O.w_mask,Gt=O.prev,ne=O.strstart+G,xe=Bt[nt+Lt-1],me=Bt[nt+Lt];O.prev_length>=O.good_match&&(W>>=2),Ot>O.lookahead&&(Ot=O.lookahead);do if(Bt[(pt=T)+Lt]===me&&Bt[pt+Lt-1]===xe&&Bt[pt]===Bt[nt]&&Bt[++pt]===Bt[nt+1]){nt+=2,pt++;do;while(Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&Bt[++nt]===Bt[++pt]&&nt<ne);if(tt=G-(ne-nt),nt=ne-G,Lt<tt){if(O.match_start=T,Ot<=(Lt=tt))break;xe=Bt[nt+Lt-1],me=Bt[nt+Lt]}}while((T=Gt[T&ee])>dt&&--W!=0);return Lt<=O.lookahead?Lt:O.lookahead}function gt(O){var T,pt,tt,W,nt,Lt,Ot,dt,Bt,ee,Gt=O.w_size;do{if(W=O.window_size-O.lookahead-O.strstart,O.strstart>=Gt+(Gt-R)){for(a.arraySet(O.window,O.window,Gt,Gt,0),O.match_start-=Gt,O.strstart-=Gt,O.block_start-=Gt,T=pt=O.hash_size;tt=O.head[--T],O.head[T]=Gt<=tt?tt-Gt:0,--pt;);for(T=pt=Gt;tt=O.prev[--T],O.prev[T]=Gt<=tt?tt-Gt:0,--pt;);W+=Gt}if(O.strm.avail_in===0)break;if(Lt=O.strm,Ot=O.window,dt=O.strstart+O.lookahead,Bt=W,ee=void 0,ee=Lt.avail_in,Bt<ee&&(ee=Bt),pt=ee===0?0:(Lt.avail_in-=ee,a.arraySet(Ot,Lt.input,Lt.next_in,ee,dt),Lt.state.wrap===1?Lt.adler=l(Lt.adler,Ot,ee,dt):Lt.state.wrap===2&&(Lt.adler=c(Lt.adler,Ot,ee,dt)),Lt.next_in+=ee,Lt.total_in+=ee,ee),O.lookahead+=pt,O.lookahead+O.insert>=P)for(nt=O.strstart-O.insert,O.ins_h=O.window[nt],O.ins_h=(O.ins_h<<O.hash_shift^O.window[nt+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[nt+P-1])&O.hash_mask,O.prev[nt&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=nt,nt++,O.insert--,!(O.lookahead+O.insert<P)););}while(O.lookahead<R&&O.strm.avail_in!==0)}function kt(O,T){for(var pt,tt;;){if(O.lookahead<R){if(gt(O),O.lookahead<R&&T===d)return _;if(O.lookahead===0)break}if(pt=0,O.lookahead>=P&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+P-1])&O.hash_mask,pt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),pt!==0&&O.strstart-pt<=O.w_size-R&&(O.match_length=et(O,pt)),O.match_length>=P)if(tt=o._tr_tally(O,O.strstart-O.match_start,O.match_length-P),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=P){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+P-1])&O.hash_mask,pt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else tt=o._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(tt&&(I(O,!1),O.strm.avail_out===0))return _}return O.insert=O.strstart<P-1?O.strstart:P-1,T===g?(I(O,!0),O.strm.avail_out===0?yt:ot):O.last_lit&&(I(O,!1),O.strm.avail_out===0)?_:Q}function _t(O,T){for(var pt,tt,W;;){if(O.lookahead<R){if(gt(O),O.lookahead<R&&T===d)return _;if(O.lookahead===0)break}if(pt=0,O.lookahead>=P&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+P-1])&O.hash_mask,pt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=P-1,pt!==0&&O.prev_length<O.max_lazy_match&&O.strstart-pt<=O.w_size-R&&(O.match_length=et(O,pt),O.match_length<=5&&(O.strategy===1||O.match_length===P&&4096<O.strstart-O.match_start)&&(O.match_length=P-1)),O.prev_length>=P&&O.match_length<=O.prev_length){for(W=O.strstart+O.lookahead-P,tt=o._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-P),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=W&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+P-1])&O.hash_mask,pt=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=P-1,O.strstart++,tt&&(I(O,!1),O.strm.avail_out===0))return _}else if(O.match_available){if((tt=o._tr_tally(O,0,O.window[O.strstart-1]))&&I(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return _}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(tt=o._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<P-1?O.strstart:P-1,T===g?(I(O,!0),O.strm.avail_out===0?yt:ot):O.last_lit&&(I(O,!1),O.strm.avail_out===0)?_:Q}function It(O,T,pt,tt,W){this.good_length=O,this.max_lazy=T,this.nice_length=pt,this.max_chain=tt,this.func=W}function Ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*H),this.dyn_dtree=new a.Buf16(2*(2*z+1)),this.bl_tree=new a.Buf16(2*(2*Z+1)),Tt(this.dyn_ltree),Tt(this.dyn_dtree),Tt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(F+1),this.heap=new a.Buf16(2*M+1),Tt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*M+1),Tt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Zt(O){var T;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=y,(T=O.state).pending=0,T.pending_out=0,T.wrap<0&&(T.wrap=-T.wrap),T.status=T.wrap?C:D,O.adler=T.wrap===2?0:1,T.last_flush=d,o._tr_init(T),u):ft(O,b)}function de(O){var T=Zt(O);return T===u&&(function(pt){pt.window_size=2*pt.w_size,Tt(pt.head),pt.max_lazy_match=s[pt.level].max_lazy,pt.good_match=s[pt.level].good_length,pt.nice_match=s[pt.level].nice_length,pt.max_chain_length=s[pt.level].max_chain,pt.strstart=0,pt.block_start=0,pt.lookahead=0,pt.insert=0,pt.match_length=pt.prev_length=P-1,pt.match_available=0,pt.ins_h=0})(O.state),T}function ce(O,T,pt,tt,W,nt){if(!O)return b;var Lt=1;if(T===m&&(T=6),tt<0?(Lt=0,tt=-tt):15<tt&&(Lt=2,tt-=16),W<1||A<W||pt!==k||tt<8||15<tt||T<0||9<T||nt<0||v<nt)return ft(O,b);tt===8&&(tt=9);var Ot=new Ut;return(O.state=Ot).strm=O,Ot.wrap=Lt,Ot.gzhead=null,Ot.w_bits=tt,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=W+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+P-1)/P),Ot.window=new a.Buf8(2*Ot.w_size),Ot.head=new a.Buf16(Ot.hash_size),Ot.prev=new a.Buf16(Ot.w_size),Ot.lit_bufsize=1<<W+6,Ot.pending_buf_size=4*Ot.lit_bufsize,Ot.pending_buf=new a.Buf8(Ot.pending_buf_size),Ot.d_buf=1*Ot.lit_bufsize,Ot.l_buf=3*Ot.lit_bufsize,Ot.level=T,Ot.strategy=nt,Ot.method=pt,de(O)}s=[new It(0,0,0,0,function(O,T){var pt=65535;for(pt>O.pending_buf_size-5&&(pt=O.pending_buf_size-5);;){if(O.lookahead<=1){if(gt(O),O.lookahead===0&&T===d)return _;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var tt=O.block_start+pt;if((O.strstart===0||O.strstart>=tt)&&(O.lookahead=O.strstart-tt,O.strstart=tt,I(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-R&&(I(O,!1),O.strm.avail_out===0))return _}return O.insert=0,T===g?(I(O,!0),O.strm.avail_out===0?yt:ot):(O.strstart>O.block_start&&(I(O,!1),O.strm.avail_out),_)}),new It(4,4,8,4,kt),new It(4,5,16,8,kt),new It(4,6,32,32,kt),new It(4,4,16,16,_t),new It(8,16,32,32,_t),new It(8,16,128,128,_t),new It(8,32,128,256,_t),new It(32,128,258,1024,_t),new It(32,258,258,4096,_t)],i.deflateInit=function(O,T){return ce(O,T,k,15,8,0)},i.deflateInit2=ce,i.deflateReset=de,i.deflateResetKeep=Zt,i.deflateSetHeader=function(O,T){return O&&O.state?O.state.wrap!==2?b:(O.state.gzhead=T,u):b},i.deflate=function(O,T){var pt,tt,W,nt;if(!O||!O.state||5<T||T<0)return O?ft(O,b):b;if(tt=O.state,!O.output||!O.input&&O.avail_in!==0||tt.status===666&&T!==g)return ft(O,O.avail_out===0?-5:b);if(tt.strm=O,pt=tt.last_flush,tt.last_flush=T,tt.status===C)if(tt.wrap===2)O.adler=0,X(tt,31),X(tt,139),X(tt,8),tt.gzhead?(X(tt,(tt.gzhead.text?1:0)+(tt.gzhead.hcrc?2:0)+(tt.gzhead.extra?4:0)+(tt.gzhead.name?8:0)+(tt.gzhead.comment?16:0)),X(tt,255&tt.gzhead.time),X(tt,tt.gzhead.time>>8&255),X(tt,tt.gzhead.time>>16&255),X(tt,tt.gzhead.time>>24&255),X(tt,tt.level===9?2:2<=tt.strategy||tt.level<2?4:0),X(tt,255&tt.gzhead.os),tt.gzhead.extra&&tt.gzhead.extra.length&&(X(tt,255&tt.gzhead.extra.length),X(tt,tt.gzhead.extra.length>>8&255)),tt.gzhead.hcrc&&(O.adler=c(O.adler,tt.pending_buf,tt.pending,0)),tt.gzindex=0,tt.status=69):(X(tt,0),X(tt,0),X(tt,0),X(tt,0),X(tt,0),X(tt,tt.level===9?2:2<=tt.strategy||tt.level<2?4:0),X(tt,3),tt.status=D);else{var Lt=k+(tt.w_bits-8<<4)<<8;Lt|=(2<=tt.strategy||tt.level<2?0:tt.level<6?1:tt.level===6?2:3)<<6,tt.strstart!==0&&(Lt|=32),Lt+=31-Lt%31,tt.status=D,K(tt,Lt),tt.strstart!==0&&(K(tt,O.adler>>>16),K(tt,65535&O.adler)),O.adler=1}if(tt.status===69)if(tt.gzhead.extra){for(W=tt.pending;tt.gzindex<(65535&tt.gzhead.extra.length)&&(tt.pending!==tt.pending_buf_size||(tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),at(O),W=tt.pending,tt.pending!==tt.pending_buf_size));)X(tt,255&tt.gzhead.extra[tt.gzindex]),tt.gzindex++;tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),tt.gzindex===tt.gzhead.extra.length&&(tt.gzindex=0,tt.status=73)}else tt.status=73;if(tt.status===73)if(tt.gzhead.name){W=tt.pending;do{if(tt.pending===tt.pending_buf_size&&(tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),at(O),W=tt.pending,tt.pending===tt.pending_buf_size)){nt=1;break}nt=tt.gzindex<tt.gzhead.name.length?255&tt.gzhead.name.charCodeAt(tt.gzindex++):0,X(tt,nt)}while(nt!==0);tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),nt===0&&(tt.gzindex=0,tt.status=91)}else tt.status=91;if(tt.status===91)if(tt.gzhead.comment){W=tt.pending;do{if(tt.pending===tt.pending_buf_size&&(tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),at(O),W=tt.pending,tt.pending===tt.pending_buf_size)){nt=1;break}nt=tt.gzindex<tt.gzhead.comment.length?255&tt.gzhead.comment.charCodeAt(tt.gzindex++):0,X(tt,nt)}while(nt!==0);tt.gzhead.hcrc&&tt.pending>W&&(O.adler=c(O.adler,tt.pending_buf,tt.pending-W,W)),nt===0&&(tt.status=103)}else tt.status=103;if(tt.status===103&&(tt.gzhead.hcrc?(tt.pending+2>tt.pending_buf_size&&at(O),tt.pending+2<=tt.pending_buf_size&&(X(tt,255&O.adler),X(tt,O.adler>>8&255),O.adler=0,tt.status=D)):tt.status=D),tt.pending!==0){if(at(O),O.avail_out===0)return tt.last_flush=-1,u}else if(O.avail_in===0&&ct(T)<=ct(pt)&&T!==g)return ft(O,-5);if(tt.status===666&&O.avail_in!==0)return ft(O,-5);if(O.avail_in!==0||tt.lookahead!==0||T!==d&&tt.status!==666){var Ot=tt.strategy===2?(function(dt,Bt){for(var ee;;){if(dt.lookahead===0&&(gt(dt),dt.lookahead===0)){if(Bt===d)return _;break}if(dt.match_length=0,ee=o._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++,ee&&(I(dt,!1),dt.strm.avail_out===0))return _}return dt.insert=0,Bt===g?(I(dt,!0),dt.strm.avail_out===0?yt:ot):dt.last_lit&&(I(dt,!1),dt.strm.avail_out===0)?_:Q})(tt,T):tt.strategy===3?(function(dt,Bt){for(var ee,Gt,ne,xe,me=dt.window;;){if(dt.lookahead<=G){if(gt(dt),dt.lookahead<=G&&Bt===d)return _;if(dt.lookahead===0)break}if(dt.match_length=0,dt.lookahead>=P&&0<dt.strstart&&(Gt=me[ne=dt.strstart-1])===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]){xe=dt.strstart+G;do;while(Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&Gt===me[++ne]&&ne<xe);dt.match_length=G-(xe-ne),dt.match_length>dt.lookahead&&(dt.match_length=dt.lookahead)}if(dt.match_length>=P?(ee=o._tr_tally(dt,1,dt.match_length-P),dt.lookahead-=dt.match_length,dt.strstart+=dt.match_length,dt.match_length=0):(ee=o._tr_tally(dt,0,dt.window[dt.strstart]),dt.lookahead--,dt.strstart++),ee&&(I(dt,!1),dt.strm.avail_out===0))return _}return dt.insert=0,Bt===g?(I(dt,!0),dt.strm.avail_out===0?yt:ot):dt.last_lit&&(I(dt,!1),dt.strm.avail_out===0)?_:Q})(tt,T):s[tt.level].func(tt,T);if(Ot!==yt&&Ot!==ot||(tt.status=666),Ot===_||Ot===yt)return O.avail_out===0&&(tt.last_flush=-1),u;if(Ot===Q&&(T===1?o._tr_align(tt):T!==5&&(o._tr_stored_block(tt,0,0,!1),T===3&&(Tt(tt.head),tt.lookahead===0&&(tt.strstart=0,tt.block_start=0,tt.insert=0))),at(O),O.avail_out===0))return tt.last_flush=-1,u}return T!==g?u:tt.wrap<=0?1:(tt.wrap===2?(X(tt,255&O.adler),X(tt,O.adler>>8&255),X(tt,O.adler>>16&255),X(tt,O.adler>>24&255),X(tt,255&O.total_in),X(tt,O.total_in>>8&255),X(tt,O.total_in>>16&255),X(tt,O.total_in>>24&255)):(K(tt,O.adler>>>16),K(tt,65535&O.adler)),at(O),0<tt.wrap&&(tt.wrap=-tt.wrap),tt.pending!==0?u:1)},i.deflateEnd=function(O){var T;return O&&O.state?(T=O.state.status)!==C&&T!==69&&T!==73&&T!==91&&T!==103&&T!==D&&T!==666?ft(O,b):(O.state=null,T===D?ft(O,-3):u):b},i.deflateSetDictionary=function(O,T){var pt,tt,W,nt,Lt,Ot,dt,Bt,ee=T.length;if(!O||!O.state||(nt=(pt=O.state).wrap)===2||nt===1&&pt.status!==C||pt.lookahead)return b;for(nt===1&&(O.adler=l(O.adler,T,ee,0)),pt.wrap=0,ee>=pt.w_size&&(nt===0&&(Tt(pt.head),pt.strstart=0,pt.block_start=0,pt.insert=0),Bt=new a.Buf8(pt.w_size),a.arraySet(Bt,T,ee-pt.w_size,pt.w_size,0),T=Bt,ee=pt.w_size),Lt=O.avail_in,Ot=O.next_in,dt=O.input,O.avail_in=ee,O.next_in=0,O.input=T,gt(pt);pt.lookahead>=P;){for(tt=pt.strstart,W=pt.lookahead-(P-1);pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[tt+P-1])&pt.hash_mask,pt.prev[tt&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=tt,tt++,--W;);pt.strstart=tt,pt.lookahead=P-1,gt(pt)}return pt.strstart+=pt.lookahead,pt.block_start=pt.strstart,pt.insert=pt.lookahead,pt.lookahead=0,pt.match_length=pt.prev_length=P-1,pt.match_available=0,O.next_in=Ot,O.input=dt,O.avail_in=Lt,pt.wrap=nt,u},i.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,h,d,g,u,b,m,v,y,k,A,M,z,Z,H,F,P,G,R,C,D,_,Q;o=s.state,l=s.next_in,_=s.input,c=l+(s.avail_in-5),h=s.next_out,Q=s.output,d=h-(a-s.avail_out),g=h+(s.avail_out-257),u=o.dmax,b=o.wsize,m=o.whave,v=o.wnext,y=o.window,k=o.hold,A=o.bits,M=o.lencode,z=o.distcode,Z=(1<<o.lenbits)-1,H=(1<<o.distbits)-1;t:do{A<15&&(k+=_[l++]<<A,A+=8,k+=_[l++]<<A,A+=8),F=M[k&Z];e:for(;;){if(k>>>=P=F>>>24,A-=P,(P=F>>>16&255)===0)Q[h++]=65535&F;else{if(!(16&P)){if((64&P)==0){F=M[(65535&F)+(k&(1<<P)-1)];continue e}if(32&P){o.mode=12;break t}s.msg=\"invalid literal/length code\",o.mode=30;break t}G=65535&F,(P&=15)&&(A<P&&(k+=_[l++]<<A,A+=8),G+=k&(1<<P)-1,k>>>=P,A-=P),A<15&&(k+=_[l++]<<A,A+=8,k+=_[l++]<<A,A+=8),F=z[k&H];n:for(;;){if(k>>>=P=F>>>24,A-=P,!(16&(P=F>>>16&255))){if((64&P)==0){F=z[(65535&F)+(k&(1<<P)-1)];continue n}s.msg=\"invalid distance code\",o.mode=30;break t}if(R=65535&F,A<(P&=15)&&(k+=_[l++]<<A,(A+=8)<P&&(k+=_[l++]<<A,A+=8)),u<(R+=k&(1<<P)-1)){s.msg=\"invalid distance too far back\",o.mode=30;break t}if(k>>>=P,A-=P,(P=h-d)<R){if(m<(P=R-P)&&o.sane){s.msg=\"invalid distance too far back\",o.mode=30;break t}if(D=y,(C=0)===v){if(C+=b-P,P<G){for(G-=P;Q[h++]=y[C++],--P;);C=h-R,D=Q}}else if(v<P){if(C+=b+v-P,(P-=v)<G){for(G-=P;Q[h++]=y[C++],--P;);if(C=0,v<G){for(G-=P=v;Q[h++]=y[C++],--P;);C=h-R,D=Q}}}else if(C+=v-P,P<G){for(G-=P;Q[h++]=y[C++],--P;);C=h-R,D=Q}for(;2<G;)Q[h++]=D[C++],Q[h++]=D[C++],Q[h++]=D[C++],G-=3;G&&(Q[h++]=D[C++],1<G&&(Q[h++]=D[C++]))}else{for(C=h-R;Q[h++]=Q[C++],Q[h++]=Q[C++],Q[h++]=Q[C++],2<(G-=3););G&&(Q[h++]=Q[C++],1<G&&(Q[h++]=Q[C++]))}break}}break}}while(l<c&&h<g);l-=G=A>>3,k&=(1<<(A-=G<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=h<g?g-h+257:257-(h-g),o.hold=k,o.bits=A}},{}],49:[function(n,r,i){var s=n(\"../utils/common\"),a=n(\"./adler32\"),o=n(\"./crc32\"),l=n(\"./inffast\"),c=n(\"./inftrees\"),h=1,d=2,g=0,u=-2,b=1,m=852,v=592;function y(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(C){var D;return C&&C.state?(D=C.state,C.total_in=C.total_out=D.total=0,C.msg=\"\",D.wrap&&(C.adler=1&D.wrap),D.mode=b,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new s.Buf32(m),D.distcode=D.distdyn=new s.Buf32(v),D.sane=1,D.back=-1,g):u}function M(C){var D;return C&&C.state?((D=C.state).wsize=0,D.whave=0,D.wnext=0,A(C)):u}function z(C,D){var _,Q;return C&&C.state?(Q=C.state,D<0?(_=0,D=-D):(_=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?u:(Q.window!==null&&Q.wbits!==D&&(Q.window=null),Q.wrap=_,Q.wbits=D,M(C))):u}function Z(C,D){var _,Q;return C?(Q=new k,(C.state=Q).window=null,(_=z(C,D))!==g&&(C.state=null),_):u}var H,F,P=!0;function G(C){if(P){var D;for(H=new s.Buf32(512),F=new s.Buf32(32),D=0;D<144;)C.lens[D++]=8;for(;D<256;)C.lens[D++]=9;for(;D<280;)C.lens[D++]=7;for(;D<288;)C.lens[D++]=8;for(c(h,C.lens,0,288,H,0,C.work,{bits:9}),D=0;D<32;)C.lens[D++]=5;c(d,C.lens,0,32,F,0,C.work,{bits:5}),P=!1}C.lencode=H,C.lenbits=9,C.distcode=F,C.distbits=5}function R(C,D,_,Q){var yt,ot=C.state;return ot.window===null&&(ot.wsize=1<<ot.wbits,ot.wnext=0,ot.whave=0,ot.window=new s.Buf8(ot.wsize)),Q>=ot.wsize?(s.arraySet(ot.window,D,_-ot.wsize,ot.wsize,0),ot.wnext=0,ot.whave=ot.wsize):(Q<(yt=ot.wsize-ot.wnext)&&(yt=Q),s.arraySet(ot.window,D,_-Q,yt,ot.wnext),(Q-=yt)?(s.arraySet(ot.window,D,_-Q,Q,0),ot.wnext=Q,ot.whave=ot.wsize):(ot.wnext+=yt,ot.wnext===ot.wsize&&(ot.wnext=0),ot.whave<ot.wsize&&(ot.whave+=yt))),0}i.inflateReset=M,i.inflateReset2=z,i.inflateResetKeep=A,i.inflateInit=function(C){return Z(C,15)},i.inflateInit2=Z,i.inflate=function(C,D){var _,Q,yt,ot,ft,ct,Tt,at,I,X,K,et,gt,kt,_t,It,Ut,Zt,de,ce,O,T,pt,tt,W=0,nt=new s.Buf8(4),Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return u;(_=C.state).mode===12&&(_.mode=13),ft=C.next_out,yt=C.output,Tt=C.avail_out,ot=C.next_in,Q=C.input,ct=C.avail_in,at=_.hold,I=_.bits,X=ct,K=Tt,T=g;t:for(;;)switch(_.mode){case b:if(_.wrap===0){_.mode=13;break}for(;I<16;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(2&_.wrap&&at===35615){nt[_.check=0]=255&at,nt[1]=at>>>8&255,_.check=o(_.check,nt,2,0),I=at=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&at)<<8)+(at>>8))%31){C.msg=\"incorrect header check\",_.mode=30;break}if((15&at)!=8){C.msg=\"unknown compression method\",_.mode=30;break}if(I-=4,O=8+(15&(at>>>=4)),_.wbits===0)_.wbits=O;else if(O>_.wbits){C.msg=\"invalid window size\",_.mode=30;break}_.dmax=1<<O,C.adler=_.check=1,_.mode=512&at?10:12,I=at=0;break;case 2:for(;I<16;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(_.flags=at,(255&_.flags)!=8){C.msg=\"unknown compression method\",_.mode=30;break}if(57344&_.flags){C.msg=\"unknown header flags set\",_.mode=30;break}_.head&&(_.head.text=at>>8&1),512&_.flags&&(nt[0]=255&at,nt[1]=at>>>8&255,_.check=o(_.check,nt,2,0)),I=at=0,_.mode=3;case 3:for(;I<32;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.head&&(_.head.time=at),512&_.flags&&(nt[0]=255&at,nt[1]=at>>>8&255,nt[2]=at>>>16&255,nt[3]=at>>>24&255,_.check=o(_.check,nt,4,0)),I=at=0,_.mode=4;case 4:for(;I<16;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.head&&(_.head.xflags=255&at,_.head.os=at>>8),512&_.flags&&(nt[0]=255&at,nt[1]=at>>>8&255,_.check=o(_.check,nt,2,0)),I=at=0,_.mode=5;case 5:if(1024&_.flags){for(;I<16;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.length=at,_.head&&(_.head.extra_len=at),512&_.flags&&(nt[0]=255&at,nt[1]=at>>>8&255,_.check=o(_.check,nt,2,0)),I=at=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(ct<(et=_.length)&&(et=ct),et&&(_.head&&(O=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),s.arraySet(_.head.extra,Q,ot,et,O)),512&_.flags&&(_.check=o(_.check,Q,et,ot)),ct-=et,ot+=et,_.length-=et),_.length))break t;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(ct===0)break t;for(et=0;O=Q[ot+et++],_.head&&O&&_.length<65536&&(_.head.name+=String.fromCharCode(O)),O&&et<ct;);if(512&_.flags&&(_.check=o(_.check,Q,et,ot)),ct-=et,ot+=et,O)break t}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(ct===0)break t;for(et=0;O=Q[ot+et++],_.head&&O&&_.length<65536&&(_.head.comment+=String.fromCharCode(O)),O&&et<ct;);if(512&_.flags&&(_.check=o(_.check,Q,et,ot)),ct-=et,ot+=et,O)break t}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;I<16;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(at!==(65535&_.check)){C.msg=\"header crc mismatch\",_.mode=30;break}I=at=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),C.adler=_.check=0,_.mode=12;break;case 10:for(;I<32;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}C.adler=_.check=y(at),I=at=0,_.mode=11;case 11:if(_.havedict===0)return C.next_out=ft,C.avail_out=Tt,C.next_in=ot,C.avail_in=ct,_.hold=at,_.bits=I,2;C.adler=_.check=1,_.mode=12;case 12:if(D===5||D===6)break t;case 13:if(_.last){at>>>=7&I,I-=7&I,_.mode=27;break}for(;I<3;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}switch(_.last=1&at,I-=1,3&(at>>>=1)){case 0:_.mode=14;break;case 1:if(G(_),_.mode=20,D!==6)break;at>>>=2,I-=2;break t;case 2:_.mode=17;break;case 3:C.msg=\"invalid block type\",_.mode=30}at>>>=2,I-=2;break;case 14:for(at>>>=7&I,I-=7&I;I<32;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if((65535&at)!=(at>>>16^65535)){C.msg=\"invalid stored block lengths\",_.mode=30;break}if(_.length=65535&at,I=at=0,_.mode=15,D===6)break t;case 15:_.mode=16;case 16:if(et=_.length){if(ct<et&&(et=ct),Tt<et&&(et=Tt),et===0)break t;s.arraySet(yt,Q,ot,et,ft),ct-=et,ot+=et,Tt-=et,ft+=et,_.length-=et;break}_.mode=12;break;case 17:for(;I<14;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(_.nlen=257+(31&at),at>>>=5,I-=5,_.ndist=1+(31&at),at>>>=5,I-=5,_.ncode=4+(15&at),at>>>=4,I-=4,286<_.nlen||30<_.ndist){C.msg=\"too many length or distance symbols\",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;I<3;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.lens[Lt[_.have++]]=7&at,at>>>=3,I-=3}for(;_.have<19;)_.lens[Lt[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,pt={bits:_.lenbits},T=c(0,_.lens,0,19,_.lencode,0,_.work,pt),_.lenbits=pt.bits,T){C.msg=\"invalid code lengths set\",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;It=(W=_.lencode[at&(1<<_.lenbits)-1])>>>16&255,Ut=65535&W,!((_t=W>>>24)<=I);){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(Ut<16)at>>>=_t,I-=_t,_.lens[_.have++]=Ut;else{if(Ut===16){for(tt=_t+2;I<tt;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(at>>>=_t,I-=_t,_.have===0){C.msg=\"invalid bit length repeat\",_.mode=30;break}O=_.lens[_.have-1],et=3+(3&at),at>>>=2,I-=2}else if(Ut===17){for(tt=_t+3;I<tt;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}I-=_t,O=0,et=3+(7&(at>>>=_t)),at>>>=3,I-=3}else{for(tt=_t+7;I<tt;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}I-=_t,O=0,et=11+(127&(at>>>=_t)),at>>>=7,I-=7}if(_.have+et>_.nlen+_.ndist){C.msg=\"invalid bit length repeat\",_.mode=30;break}for(;et--;)_.lens[_.have++]=O}}if(_.mode===30)break;if(_.lens[256]===0){C.msg=\"invalid code -- missing end-of-block\",_.mode=30;break}if(_.lenbits=9,pt={bits:_.lenbits},T=c(h,_.lens,0,_.nlen,_.lencode,0,_.work,pt),_.lenbits=pt.bits,T){C.msg=\"invalid literal/lengths set\",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,pt={bits:_.distbits},T=c(d,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,pt),_.distbits=pt.bits,T){C.msg=\"invalid distances set\",_.mode=30;break}if(_.mode=20,D===6)break t;case 20:_.mode=21;case 21:if(6<=ct&&258<=Tt){C.next_out=ft,C.avail_out=Tt,C.next_in=ot,C.avail_in=ct,_.hold=at,_.bits=I,l(C,K),ft=C.next_out,yt=C.output,Tt=C.avail_out,ot=C.next_in,Q=C.input,ct=C.avail_in,at=_.hold,I=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;It=(W=_.lencode[at&(1<<_.lenbits)-1])>>>16&255,Ut=65535&W,!((_t=W>>>24)<=I);){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(It&&(240&It)==0){for(Zt=_t,de=It,ce=Ut;It=(W=_.lencode[ce+((at&(1<<Zt+de)-1)>>Zt)])>>>16&255,Ut=65535&W,!(Zt+(_t=W>>>24)<=I);){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}at>>>=Zt,I-=Zt,_.back+=Zt}if(at>>>=_t,I-=_t,_.back+=_t,_.length=Ut,It===0){_.mode=26;break}if(32&It){_.back=-1,_.mode=12;break}if(64&It){C.msg=\"invalid literal/length code\",_.mode=30;break}_.extra=15&It,_.mode=22;case 22:if(_.extra){for(tt=_.extra;I<tt;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.length+=at&(1<<_.extra)-1,at>>>=_.extra,I-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;It=(W=_.distcode[at&(1<<_.distbits)-1])>>>16&255,Ut=65535&W,!((_t=W>>>24)<=I);){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if((240&It)==0){for(Zt=_t,de=It,ce=Ut;It=(W=_.distcode[ce+((at&(1<<Zt+de)-1)>>Zt)])>>>16&255,Ut=65535&W,!(Zt+(_t=W>>>24)<=I);){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}at>>>=Zt,I-=Zt,_.back+=Zt}if(at>>>=_t,I-=_t,_.back+=_t,64&It){C.msg=\"invalid distance code\",_.mode=30;break}_.offset=Ut,_.extra=15&It,_.mode=24;case 24:if(_.extra){for(tt=_.extra;I<tt;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}_.offset+=at&(1<<_.extra)-1,at>>>=_.extra,I-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){C.msg=\"invalid distance too far back\",_.mode=30;break}_.mode=25;case 25:if(Tt===0)break t;if(et=K-Tt,_.offset>et){if((et=_.offset-et)>_.whave&&_.sane){C.msg=\"invalid distance too far back\",_.mode=30;break}gt=et>_.wnext?(et-=_.wnext,_.wsize-et):_.wnext-et,et>_.length&&(et=_.length),kt=_.window}else kt=yt,gt=ft-_.offset,et=_.length;for(Tt<et&&(et=Tt),Tt-=et,_.length-=et;yt[ft++]=kt[gt++],--et;);_.length===0&&(_.mode=21);break;case 26:if(Tt===0)break t;yt[ft++]=_.length,Tt--,_.mode=21;break;case 27:if(_.wrap){for(;I<32;){if(ct===0)break t;ct--,at|=Q[ot++]<<I,I+=8}if(K-=Tt,C.total_out+=K,_.total+=K,K&&(C.adler=_.check=_.flags?o(_.check,yt,K,ft-K):a(_.check,yt,K,ft-K)),K=Tt,(_.flags?at:y(at))!==_.check){C.msg=\"incorrect data check\",_.mode=30;break}I=at=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;I<32;){if(ct===0)break t;ct--,at+=Q[ot++]<<I,I+=8}if(at!==(4294967295&_.total)){C.msg=\"incorrect length check\",_.mode=30;break}I=at=0}_.mode=29;case 29:T=1;break t;case 30:T=-3;break t;case 31:return-4;default:return u}return C.next_out=ft,C.avail_out=Tt,C.next_in=ot,C.avail_in=ct,_.hold=at,_.bits=I,(_.wsize||K!==C.avail_out&&_.mode<30&&(_.mode<27||D!==4))&&R(C,C.output,C.next_out,K-C.avail_out)?(_.mode=31,-4):(X-=C.avail_in,K-=C.avail_out,C.total_in+=X,C.total_out+=K,_.total+=K,_.wrap&&K&&(C.adler=_.check=_.flags?o(_.check,yt,K,C.next_out-K):a(_.check,yt,K,C.next_out-K)),C.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(X==0&&K===0||D===4)&&T===g&&(T=-5),T)},i.inflateEnd=function(C){if(!C||!C.state)return u;var D=C.state;return D.window&&(D.window=null),C.state=null,g},i.inflateGetHeader=function(C,D){var _;return C&&C.state?(2&(_=C.state).wrap)==0?u:((_.head=D).done=!1,g):u},i.inflateSetDictionary=function(C,D){var _,Q=D.length;return C&&C.state?(_=C.state).wrap!==0&&_.mode!==11?u:_.mode===11&&a(1,D,Q,0)!==_.check?-3:R(C,D,Q,Q)?(_.mode=31,-4):(_.havedict=1,g):u},i.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(n,r,i){var s=n(\"../utils/common\"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,d,g,u,b,m,v,y){var k,A,M,z,Z,H,F,P,G,R=y.bits,C=0,D=0,_=0,Q=0,yt=0,ot=0,ft=0,ct=0,Tt=0,at=0,I=null,X=0,K=new s.Buf16(16),et=new s.Buf16(16),gt=null,kt=0;for(C=0;C<=15;C++)K[C]=0;for(D=0;D<u;D++)K[d[g+D]]++;for(yt=R,Q=15;1<=Q&&K[Q]===0;Q--);if(Q<yt&&(yt=Q),Q===0)return b[m++]=20971520,b[m++]=20971520,y.bits=1,0;for(_=1;_<Q&&K[_]===0;_++);for(yt<_&&(yt=_),C=ct=1;C<=15;C++)if(ct<<=1,(ct-=K[C])<0)return-1;if(0<ct&&(h===0||Q!==1))return-1;for(et[1]=0,C=1;C<15;C++)et[C+1]=et[C]+K[C];for(D=0;D<u;D++)d[g+D]!==0&&(v[et[d[g+D]]++]=D);if(H=h===0?(I=gt=v,19):h===1?(I=a,X-=257,gt=o,kt-=257,256):(I=l,gt=c,-1),C=_,Z=m,ft=D=at=0,M=-1,z=(Tt=1<<(ot=yt))-1,h===1&&852<Tt||h===2&&592<Tt)return 1;for(;;){for(F=C-ft,G=v[D]<H?(P=0,v[D]):v[D]>H?(P=gt[kt+v[D]],I[X+v[D]]):(P=96,0),k=1<<C-ft,_=A=1<<ot;b[Z+(at>>ft)+(A-=k)]=F<<24|P<<16|G|0,A!==0;);for(k=1<<C-1;at&k;)k>>=1;if(k!==0?(at&=k-1,at+=k):at=0,D++,--K[C]==0){if(C===Q)break;C=d[g+v[D]]}if(yt<C&&(at&z)!==M){for(ft===0&&(ft=yt),Z+=_,ct=1<<(ot=C-ft);ot+ft<Q&&!((ct-=K[ot+ft])<=0);)ot++,ct<<=1;if(Tt+=1<<ot,h===1&&852<Tt||h===2&&592<Tt)return 1;b[M=at&z]=yt<<24|ot<<16|Z-m|0}}return at!==0&&(b[Z+at]=C-ft<<24|64<<16|0),y.bits=yt,0}},{\"../utils/common\":41}],51:[function(n,r,i){r.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(n,r,i){var s=n(\"../utils/common\"),a=0,o=1;function l(W){for(var nt=W.length;0<=--nt;)W[nt]=0}var c=0,h=29,d=256,g=d+1+h,u=30,b=19,m=2*g+1,v=15,y=16,k=7,A=256,M=16,z=17,Z=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(g+2));l(R);var C=new Array(2*u);l(C);var D=new Array(512);l(D);var _=new Array(256);l(_);var Q=new Array(h);l(Q);var yt,ot,ft,ct=new Array(u);function Tt(W,nt,Lt,Ot,dt){this.static_tree=W,this.extra_bits=nt,this.extra_base=Lt,this.elems=Ot,this.max_length=dt,this.has_stree=W&&W.length}function at(W,nt){this.dyn_tree=W,this.max_code=0,this.stat_desc=nt}function I(W){return W<256?D[W]:D[256+(W>>>7)]}function X(W,nt){W.pending_buf[W.pending++]=255&nt,W.pending_buf[W.pending++]=nt>>>8&255}function K(W,nt,Lt){W.bi_valid>y-Lt?(W.bi_buf|=nt<<W.bi_valid&65535,X(W,W.bi_buf),W.bi_buf=nt>>y-W.bi_valid,W.bi_valid+=Lt-y):(W.bi_buf|=nt<<W.bi_valid&65535,W.bi_valid+=Lt)}function et(W,nt,Lt){K(W,Lt[2*nt],Lt[2*nt+1])}function gt(W,nt){for(var Lt=0;Lt|=1&W,W>>>=1,Lt<<=1,0<--nt;);return Lt>>>1}function kt(W,nt,Lt){var Ot,dt,Bt=new Array(v+1),ee=0;for(Ot=1;Ot<=v;Ot++)Bt[Ot]=ee=ee+Lt[Ot-1]<<1;for(dt=0;dt<=nt;dt++){var Gt=W[2*dt+1];Gt!==0&&(W[2*dt]=gt(Bt[Gt]++,Gt))}}function _t(W){var nt;for(nt=0;nt<g;nt++)W.dyn_ltree[2*nt]=0;for(nt=0;nt<u;nt++)W.dyn_dtree[2*nt]=0;for(nt=0;nt<b;nt++)W.bl_tree[2*nt]=0;W.dyn_ltree[2*A]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function It(W){8<W.bi_valid?X(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function Ut(W,nt,Lt,Ot){var dt=2*nt,Bt=2*Lt;return W[dt]<W[Bt]||W[dt]===W[Bt]&&Ot[nt]<=Ot[Lt]}function Zt(W,nt,Lt){for(var Ot=W.heap[Lt],dt=Lt<<1;dt<=W.heap_len&&(dt<W.heap_len&&Ut(nt,W.heap[dt+1],W.heap[dt],W.depth)&&dt++,!Ut(nt,Ot,W.heap[dt],W.depth));)W.heap[Lt]=W.heap[dt],Lt=dt,dt<<=1;W.heap[Lt]=Ot}function de(W,nt,Lt){var Ot,dt,Bt,ee,Gt=0;if(W.last_lit!==0)for(;Ot=W.pending_buf[W.d_buf+2*Gt]<<8|W.pending_buf[W.d_buf+2*Gt+1],dt=W.pending_buf[W.l_buf+Gt],Gt++,Ot===0?et(W,dt,nt):(et(W,(Bt=_[dt])+d+1,nt),(ee=H[Bt])!==0&&K(W,dt-=Q[Bt],ee),et(W,Bt=I(--Ot),Lt),(ee=F[Bt])!==0&&K(W,Ot-=ct[Bt],ee)),Gt<W.last_lit;);et(W,A,nt)}function ce(W,nt){var Lt,Ot,dt,Bt=nt.dyn_tree,ee=nt.stat_desc.static_tree,Gt=nt.stat_desc.has_stree,ne=nt.stat_desc.elems,xe=-1;for(W.heap_len=0,W.heap_max=m,Lt=0;Lt<ne;Lt++)Bt[2*Lt]!==0?(W.heap[++W.heap_len]=xe=Lt,W.depth[Lt]=0):Bt[2*Lt+1]=0;for(;W.heap_len<2;)Bt[2*(dt=W.heap[++W.heap_len]=xe<2?++xe:0)]=1,W.depth[dt]=0,W.opt_len--,Gt&&(W.static_len-=ee[2*dt+1]);for(nt.max_code=xe,Lt=W.heap_len>>1;1<=Lt;Lt--)Zt(W,Bt,Lt);for(dt=ne;Lt=W.heap[1],W.heap[1]=W.heap[W.heap_len--],Zt(W,Bt,1),Ot=W.heap[1],W.heap[--W.heap_max]=Lt,W.heap[--W.heap_max]=Ot,Bt[2*dt]=Bt[2*Lt]+Bt[2*Ot],W.depth[dt]=(W.depth[Lt]>=W.depth[Ot]?W.depth[Lt]:W.depth[Ot])+1,Bt[2*Lt+1]=Bt[2*Ot+1]=dt,W.heap[1]=dt++,Zt(W,Bt,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],(function(me,ye){var ze,we,on,Ie,qe,We,ln=ye.dyn_tree,Re=ye.max_code,mn=ye.stat_desc.static_tree,De=ye.stat_desc.has_stree,Xe=ye.stat_desc.extra_bits,wn=ye.stat_desc.extra_base,Ge=ye.stat_desc.max_length,Te=0;for(Ie=0;Ie<=v;Ie++)me.bl_count[Ie]=0;for(ln[2*me.heap[me.heap_max]+1]=0,ze=me.heap_max+1;ze<m;ze++)Ge<(Ie=ln[2*ln[2*(we=me.heap[ze])+1]+1]+1)&&(Ie=Ge,Te++),ln[2*we+1]=Ie,Re<we||(me.bl_count[Ie]++,qe=0,wn<=we&&(qe=Xe[we-wn]),We=ln[2*we],me.opt_len+=We*(Ie+qe),De&&(me.static_len+=We*(mn[2*we+1]+qe)));if(Te!==0){do{for(Ie=Ge-1;me.bl_count[Ie]===0;)Ie--;me.bl_count[Ie]--,me.bl_count[Ie+1]+=2,me.bl_count[Ge]--,Te-=2}while(0<Te);for(Ie=Ge;Ie!==0;Ie--)for(we=me.bl_count[Ie];we!==0;)Re<(on=me.heap[--ze])||(ln[2*on+1]!==Ie&&(me.opt_len+=(Ie-ln[2*on+1])*ln[2*on],ln[2*on+1]=Ie),we--)}})(W,nt),kt(Bt,xe,W.bl_count)}function O(W,nt,Lt){var Ot,dt,Bt=-1,ee=nt[1],Gt=0,ne=7,xe=4;for(ee===0&&(ne=138,xe=3),nt[2*(Lt+1)+1]=65535,Ot=0;Ot<=Lt;Ot++)dt=ee,ee=nt[2*(Ot+1)+1],++Gt<ne&&dt===ee||(Gt<xe?W.bl_tree[2*dt]+=Gt:dt!==0?(dt!==Bt&&W.bl_tree[2*dt]++,W.bl_tree[2*M]++):Gt<=10?W.bl_tree[2*z]++:W.bl_tree[2*Z]++,Bt=dt,xe=(Gt=0)===ee?(ne=138,3):dt===ee?(ne=6,3):(ne=7,4))}function T(W,nt,Lt){var Ot,dt,Bt=-1,ee=nt[1],Gt=0,ne=7,xe=4;for(ee===0&&(ne=138,xe=3),Ot=0;Ot<=Lt;Ot++)if(dt=ee,ee=nt[2*(Ot+1)+1],!(++Gt<ne&&dt===ee)){if(Gt<xe)for(;et(W,dt,W.bl_tree),--Gt!=0;);else dt!==0?(dt!==Bt&&(et(W,dt,W.bl_tree),Gt--),et(W,M,W.bl_tree),K(W,Gt-3,2)):Gt<=10?(et(W,z,W.bl_tree),K(W,Gt-3,3)):(et(W,Z,W.bl_tree),K(W,Gt-11,7));Bt=dt,xe=(Gt=0)===ee?(ne=138,3):dt===ee?(ne=6,3):(ne=7,4)}}l(ct);var pt=!1;function tt(W,nt,Lt,Ot){K(W,(c<<1)+(Ot?1:0),3),(function(dt,Bt,ee,Gt){It(dt),X(dt,ee),X(dt,~ee),s.arraySet(dt.pending_buf,dt.window,Bt,ee,dt.pending),dt.pending+=ee})(W,nt,Lt)}i._tr_init=function(W){pt||((function(){var nt,Lt,Ot,dt,Bt,ee=new Array(v+1);for(dt=Ot=0;dt<h-1;dt++)for(Q[dt]=Ot,nt=0;nt<1<<H[dt];nt++)_[Ot++]=dt;for(_[Ot-1]=dt,dt=Bt=0;dt<16;dt++)for(ct[dt]=Bt,nt=0;nt<1<<F[dt];nt++)D[Bt++]=dt;for(Bt>>=7;dt<u;dt++)for(ct[dt]=Bt<<7,nt=0;nt<1<<F[dt]-7;nt++)D[256+Bt++]=dt;for(Lt=0;Lt<=v;Lt++)ee[Lt]=0;for(nt=0;nt<=143;)R[2*nt+1]=8,nt++,ee[8]++;for(;nt<=255;)R[2*nt+1]=9,nt++,ee[9]++;for(;nt<=279;)R[2*nt+1]=7,nt++,ee[7]++;for(;nt<=287;)R[2*nt+1]=8,nt++,ee[8]++;for(kt(R,g+1,ee),nt=0;nt<u;nt++)C[2*nt+1]=5,C[2*nt]=gt(nt,5);yt=new Tt(R,H,d+1,g,v),ot=new Tt(C,F,0,u,v),ft=new Tt(new Array(0),P,0,b,k)})(),pt=!0),W.l_desc=new at(W.dyn_ltree,yt),W.d_desc=new at(W.dyn_dtree,ot),W.bl_desc=new at(W.bl_tree,ft),W.bi_buf=0,W.bi_valid=0,_t(W)},i._tr_stored_block=tt,i._tr_flush_block=function(W,nt,Lt,Ot){var dt,Bt,ee=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=(function(Gt){var ne,xe=4093624447;for(ne=0;ne<=31;ne++,xe>>>=1)if(1&xe&&Gt.dyn_ltree[2*ne]!==0)return a;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return o;for(ne=32;ne<d;ne++)if(Gt.dyn_ltree[2*ne]!==0)return o;return a})(W)),ce(W,W.l_desc),ce(W,W.d_desc),ee=(function(Gt){var ne;for(O(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),O(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),ce(Gt,Gt.bl_desc),ne=b-1;3<=ne&&Gt.bl_tree[2*G[ne]+1]===0;ne--);return Gt.opt_len+=3*(ne+1)+5+5+4,ne})(W),dt=W.opt_len+3+7>>>3,(Bt=W.static_len+3+7>>>3)<=dt&&(dt=Bt)):dt=Bt=Lt+5,Lt+4<=dt&&nt!==-1?tt(W,nt,Lt,Ot):W.strategy===4||Bt===dt?(K(W,2+(Ot?1:0),3),de(W,R,C)):(K(W,4+(Ot?1:0),3),(function(Gt,ne,xe,me){var ye;for(K(Gt,ne-257,5),K(Gt,xe-1,5),K(Gt,me-4,4),ye=0;ye<me;ye++)K(Gt,Gt.bl_tree[2*G[ye]+1],3);T(Gt,Gt.dyn_ltree,ne-1),T(Gt,Gt.dyn_dtree,xe-1)})(W,W.l_desc.max_code+1,W.d_desc.max_code+1,ee+1),de(W,W.dyn_ltree,W.dyn_dtree)),_t(W),Ot&&It(W)},i._tr_tally=function(W,nt,Lt){return W.pending_buf[W.d_buf+2*W.last_lit]=nt>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&nt,W.pending_buf[W.l_buf+W.last_lit]=255&Lt,W.last_lit++,nt===0?W.dyn_ltree[2*Lt]++:(W.matches++,nt--,W.dyn_ltree[2*(_[Lt]+d+1)]++,W.dyn_dtree[2*I(nt)]++),W.last_lit===W.lit_bufsize-1},i._tr_align=function(W){K(W,2,3),et(W,A,R),(function(nt){nt.bi_valid===16?(X(nt,nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0):8<=nt.bi_valid&&(nt.pending_buf[nt.pending++]=255&nt.bi_buf,nt.bi_buf>>=8,nt.bi_valid-=8)})(W)}},{\"../utils/common\":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,h,d,g=1,u={},b=!1,m=a.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(a);v=v&&v.setTimeout?v:a,l={}.toString.call(a.process)===\"[object process]\"?function(M){process.nextTick(function(){k(M)})}:(function(){if(a.postMessage&&!a.importScripts){var M=!0,z=a.onmessage;return a.onmessage=function(){M=!1},a.postMessage(\"\",\"*\"),a.onmessage=z,M}})()?(d=\"setImmediate$\"+Math.random()+\"$\",a.addEventListener?a.addEventListener(\"message\",A,!1):a.attachEvent(\"onmessage\",A),function(M){a.postMessage(d+M,\"*\")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(M){k(M.data)},function(M){h.port2.postMessage(M)}):m&&\"onreadystatechange\"in m.createElement(\"script\")?(c=m.documentElement,function(M){var z=m.createElement(\"script\");z.onreadystatechange=function(){k(M),z.onreadystatechange=null,c.removeChild(z),z=null},c.appendChild(z)}):function(M){setTimeout(k,0,M)},v.setImmediate=function(M){typeof M!=\"function\"&&(M=new Function(\"\"+M));for(var z=new Array(arguments.length-1),Z=0;Z<z.length;Z++)z[Z]=arguments[Z+1];var H={callback:M,args:z};return u[g]=H,l(g),g++},v.clearImmediate=y}function y(M){delete u[M]}function k(M){if(b)setTimeout(k,0,M);else{var z=u[M];if(z){b=!0;try{(function(Z){var H=Z.callback,F=Z.args;switch(F.length){case 0:H();break;case 1:H(F[0]);break;case 2:H(F[0],F[1]);break;case 3:H(F[0],F[1],F[2]);break;default:H.apply(o,F)}})(z)}finally{y(M),b=!1}}}}function A(M){M.source===a&&typeof M.data==\"string\"&&M.data.indexOf(d)===0&&k(+M.data.slice(d.length))}})(typeof self>\"u\"?s===void 0?this:s:self)}).call(this,typeof Ll<\"u\"?Ll:typeof self<\"u\"?self:typeof window<\"u\"?window:{})},{}]},{},[10])(10)})})(Rh)),Rh.exports}kx();var pp;(function(t){t.left=\"left\",t.center=\"center\",t.right=\"right\",t.justify=\"justify\"})(pp||(pp={}));var gp;(function(t){t.b=\"b\",t.ctr=\"ctr\",t.t=\"t\"})(gp||(gp={}));var mp;(function(t){t.arraybuffer=\"arraybuffer\",t.base64=\"base64\",t.binarystring=\"binarystring\",t.blob=\"blob\",t.nodebuffer=\"nodebuffer\",t.uint8array=\"uint8array\"})(mp||(mp={}));var yp;(function(t){t.area=\"area\",t.bar=\"bar\",t.bar3d=\"bar3D\",t.bubble=\"bubble\",t.bubble3d=\"bubble3D\",t.doughnut=\"doughnut\",t.line=\"line\",t.pie=\"pie\",t.radar=\"radar\",t.scatter=\"scatter\"})(yp||(yp={}));var bp;(function(t){t.accentBorderCallout1=\"accentBorderCallout1\",t.accentBorderCallout2=\"accentBorderCallout2\",t.accentBorderCallout3=\"accentBorderCallout3\",t.accentCallout1=\"accentCallout1\",t.accentCallout2=\"accentCallout2\",t.accentCallout3=\"accentCallout3\",t.actionButtonBackPrevious=\"actionButtonBackPrevious\",t.actionButtonBeginning=\"actionButtonBeginning\",t.actionButtonBlank=\"actionButtonBlank\",t.actionButtonDocument=\"actionButtonDocument\",t.actionButtonEnd=\"actionButtonEnd\",t.actionButtonForwardNext=\"actionButtonForwardNext\",t.actionButtonHelp=\"actionButtonHelp\",t.actionButtonHome=\"actionButtonHome\",t.actionButtonInformation=\"actionButtonInformation\",t.actionButtonMovie=\"actionButtonMovie\",t.actionButtonReturn=\"actionButtonReturn\",t.actionButtonSound=\"actionButtonSound\",t.arc=\"arc\",t.bentArrow=\"bentArrow\",t.bentUpArrow=\"bentUpArrow\",t.bevel=\"bevel\",t.blockArc=\"blockArc\",t.borderCallout1=\"borderCallout1\",t.borderCallout2=\"borderCallout2\",t.borderCallout3=\"borderCallout3\",t.bracePair=\"bracePair\",t.bracketPair=\"bracketPair\",t.callout1=\"callout1\",t.callout2=\"callout2\",t.callout3=\"callout3\",t.can=\"can\",t.chartPlus=\"chartPlus\",t.chartStar=\"chartStar\",t.chartX=\"chartX\",t.chevron=\"chevron\",t.chord=\"chord\",t.circularArrow=\"circularArrow\",t.cloud=\"cloud\",t.cloudCallout=\"cloudCallout\",t.corner=\"corner\",t.cornerTabs=\"cornerTabs\",t.cube=\"cube\",t.curvedDownArrow=\"curvedDownArrow\",t.curvedLeftArrow=\"curvedLeftArrow\",t.curvedRightArrow=\"curvedRightArrow\",t.curvedUpArrow=\"curvedUpArrow\",t.custGeom=\"custGeom\",t.decagon=\"decagon\",t.diagStripe=\"diagStripe\",t.diamond=\"diamond\",t.dodecagon=\"dodecagon\",t.donut=\"donut\",t.doubleWave=\"doubleWave\",t.downArrow=\"downArrow\",t.downArrowCallout=\"downArrowCallout\",t.ellipse=\"ellipse\",t.ellipseRibbon=\"ellipseRibbon\",t.ellipseRibbon2=\"ellipseRibbon2\",t.flowChartAlternateProcess=\"flowChartAlternateProcess\",t.flowChartCollate=\"flowChartCollate\",t.flowChartConnector=\"flowChartConnector\",t.flowChartDecision=\"flowChartDecision\",t.flowChartDelay=\"flowChartDelay\",t.flowChartDisplay=\"flowChartDisplay\",t.flowChartDocument=\"flowChartDocument\",t.flowChartExtract=\"flowChartExtract\",t.flowChartInputOutput=\"flowChartInputOutput\",t.flowChartInternalStorage=\"flowChartInternalStorage\",t.flowChartMagneticDisk=\"flowChartMagneticDisk\",t.flowChartMagneticDrum=\"flowChartMagneticDrum\",t.flowChartMagneticTape=\"flowChartMagneticTape\",t.flowChartManualInput=\"flowChartManualInput\",t.flowChartManualOperation=\"flowChartManualOperation\",t.flowChartMerge=\"flowChartMerge\",t.flowChartMultidocument=\"flowChartMultidocument\",t.flowChartOfflineStorage=\"flowChartOfflineStorage\",t.flowChartOffpageConnector=\"flowChartOffpageConnector\",t.flowChartOnlineStorage=\"flowChartOnlineStorage\",t.flowChartOr=\"flowChartOr\",t.flowChartPredefinedProcess=\"flowChartPredefinedProcess\",t.flowChartPreparation=\"flowChartPreparation\",t.flowChartProcess=\"flowChartProcess\",t.flowChartPunchedCard=\"flowChartPunchedCard\",t.flowChartPunchedTape=\"flowChartPunchedTape\",t.flowChartSort=\"flowChartSort\",t.flowChartSummingJunction=\"flowChartSummingJunction\",t.flowChartTerminator=\"flowChartTerminator\",t.folderCorner=\"folderCorner\",t.frame=\"frame\",t.funnel=\"funnel\",t.gear6=\"gear6\",t.gear9=\"gear9\",t.halfFrame=\"halfFrame\",t.heart=\"heart\",t.heptagon=\"heptagon\",t.hexagon=\"hexagon\",t.homePlate=\"homePlate\",t.horizontalScroll=\"horizontalScroll\",t.irregularSeal1=\"irregularSeal1\",t.irregularSeal2=\"irregularSeal2\",t.leftArrow=\"leftArrow\",t.leftArrowCallout=\"leftArrowCallout\",t.leftBrace=\"leftBrace\",t.leftBracket=\"leftBracket\",t.leftCircularArrow=\"leftCircularArrow\",t.leftRightArrow=\"leftRightArrow\",t.leftRightArrowCallout=\"leftRightArrowCallout\",t.leftRightCircularArrow=\"leftRightCircularArrow\",t.leftRightRibbon=\"leftRightRibbon\",t.leftRightUpArrow=\"leftRightUpArrow\",t.leftUpArrow=\"leftUpArrow\",t.lightningBolt=\"lightningBolt\",t.line=\"line\",t.lineInv=\"lineInv\",t.mathDivide=\"mathDivide\",t.mathEqual=\"mathEqual\",t.mathMinus=\"mathMinus\",t.mathMultiply=\"mathMultiply\",t.mathNotEqual=\"mathNotEqual\",t.mathPlus=\"mathPlus\",t.moon=\"moon\",t.noSmoking=\"noSmoking\",t.nonIsoscelesTrapezoid=\"nonIsoscelesTrapezoid\",t.notchedRightArrow=\"notchedRightArrow\",t.octagon=\"octagon\",t.parallelogram=\"parallelogram\",t.pentagon=\"pentagon\",t.pie=\"pie\",t.pieWedge=\"pieWedge\",t.plaque=\"plaque\",t.plaqueTabs=\"plaqueTabs\",t.plus=\"plus\",t.quadArrow=\"quadArrow\",t.quadArrowCallout=\"quadArrowCallout\",t.rect=\"rect\",t.ribbon=\"ribbon\",t.ribbon2=\"ribbon2\",t.rightArrow=\"rightArrow\",t.rightArrowCallout=\"rightArrowCallout\",t.rightBrace=\"rightBrace\",t.rightBracket=\"rightBracket\",t.round1Rect=\"round1Rect\",t.round2DiagRect=\"round2DiagRect\",t.round2SameRect=\"round2SameRect\",t.roundRect=\"roundRect\",t.rtTriangle=\"rtTriangle\",t.smileyFace=\"smileyFace\",t.snip1Rect=\"snip1Rect\",t.snip2DiagRect=\"snip2DiagRect\",t.snip2SameRect=\"snip2SameRect\",t.snipRoundRect=\"snipRoundRect\",t.squareTabs=\"squareTabs\",t.star10=\"star10\",t.star12=\"star12\",t.star16=\"star16\",t.star24=\"star24\",t.star32=\"star32\",t.star4=\"star4\",t.star5=\"star5\",t.star6=\"star6\",t.star7=\"star7\",t.star8=\"star8\",t.stripedRightArrow=\"stripedRightArrow\",t.sun=\"sun\",t.swooshArrow=\"swooshArrow\",t.teardrop=\"teardrop\",t.trapezoid=\"trapezoid\",t.triangle=\"triangle\",t.upArrow=\"upArrow\",t.upArrowCallout=\"upArrowCallout\",t.upDownArrow=\"upDownArrow\",t.upDownArrowCallout=\"upDownArrowCallout\",t.uturnArrow=\"uturnArrow\",t.verticalScroll=\"verticalScroll\",t.wave=\"wave\",t.wedgeEllipseCallout=\"wedgeEllipseCallout\",t.wedgeRectCallout=\"wedgeRectCallout\",t.wedgeRoundRectCallout=\"wedgeRoundRectCallout\"})(bp||(bp={}));var wp;(function(t){t.text1=\"tx1\",t.text2=\"tx2\",t.background1=\"bg1\",t.background2=\"bg2\",t.accent1=\"accent1\",t.accent2=\"accent2\",t.accent3=\"accent3\",t.accent4=\"accent4\",t.accent5=\"accent5\",t.accent6=\"accent6\"})(wp||(wp={}));var vp;(function(t){t.left=\"left\",t.center=\"center\",t.right=\"right\",t.justify=\"justify\"})(vp||(vp={}));var xp;(function(t){t.top=\"top\",t.middle=\"middle\",t.bottom=\"bottom\"})(xp||(xp={}));var kp;(function(t){t.ACTION_BUTTON_BACK_OR_PREVIOUS=\"actionButtonBackPrevious\",t.ACTION_BUTTON_BEGINNING=\"actionButtonBeginning\",t.ACTION_BUTTON_CUSTOM=\"actionButtonBlank\",t.ACTION_BUTTON_DOCUMENT=\"actionButtonDocument\",t.ACTION_BUTTON_END=\"actionButtonEnd\",t.ACTION_BUTTON_FORWARD_OR_NEXT=\"actionButtonForwardNext\",t.ACTION_BUTTON_HELP=\"actionButtonHelp\",t.ACTION_BUTTON_HOME=\"actionButtonHome\",t.ACTION_BUTTON_INFORMATION=\"actionButtonInformation\",t.ACTION_BUTTON_MOVIE=\"actionButtonMovie\",t.ACTION_BUTTON_RETURN=\"actionButtonReturn\",t.ACTION_BUTTON_SOUND=\"actionButtonSound\",t.ARC=\"arc\",t.BALLOON=\"wedgeRoundRectCallout\",t.BENT_ARROW=\"bentArrow\",t.BENT_UP_ARROW=\"bentUpArrow\",t.BEVEL=\"bevel\",t.BLOCK_ARC=\"blockArc\",t.CAN=\"can\",t.CHART_PLUS=\"chartPlus\",t.CHART_STAR=\"chartStar\",t.CHART_X=\"chartX\",t.CHEVRON=\"chevron\",t.CHORD=\"chord\",t.CIRCULAR_ARROW=\"circularArrow\",t.CLOUD=\"cloud\",t.CLOUD_CALLOUT=\"cloudCallout\",t.CORNER=\"corner\",t.CORNER_TABS=\"cornerTabs\",t.CROSS=\"plus\",t.CUBE=\"cube\",t.CURVED_DOWN_ARROW=\"curvedDownArrow\",t.CURVED_DOWN_RIBBON=\"ellipseRibbon\",t.CURVED_LEFT_ARROW=\"curvedLeftArrow\",t.CURVED_RIGHT_ARROW=\"curvedRightArrow\",t.CURVED_UP_ARROW=\"curvedUpArrow\",t.CURVED_UP_RIBBON=\"ellipseRibbon2\",t.CUSTOM_GEOMETRY=\"custGeom\",t.DECAGON=\"decagon\",t.DIAGONAL_STRIPE=\"diagStripe\",t.DIAMOND=\"diamond\",t.DODECAGON=\"dodecagon\",t.DONUT=\"donut\",t.DOUBLE_BRACE=\"bracePair\",t.DOUBLE_BRACKET=\"bracketPair\",t.DOUBLE_WAVE=\"doubleWave\",t.DOWN_ARROW=\"downArrow\",t.DOWN_ARROW_CALLOUT=\"downArrowCallout\",t.DOWN_RIBBON=\"ribbon\",t.EXPLOSION1=\"irregularSeal1\",t.EXPLOSION2=\"irregularSeal2\",t.FLOWCHART_ALTERNATE_PROCESS=\"flowChartAlternateProcess\",t.FLOWCHART_CARD=\"flowChartPunchedCard\",t.FLOWCHART_COLLATE=\"flowChartCollate\",t.FLOWCHART_CONNECTOR=\"flowChartConnector\",t.FLOWCHART_DATA=\"flowChartInputOutput\",t.FLOWCHART_DECISION=\"flowChartDecision\",t.FLOWCHART_DELAY=\"flowChartDelay\",t.FLOWCHART_DIRECT_ACCESS_STORAGE=\"flowChartMagneticDrum\",t.FLOWCHART_DISPLAY=\"flowChartDisplay\",t.FLOWCHART_DOCUMENT=\"flowChartDocument\",t.FLOWCHART_EXTRACT=\"flowChartExtract\",t.FLOWCHART_INTERNAL_STORAGE=\"flowChartInternalStorage\",t.FLOWCHART_MAGNETIC_DISK=\"flowChartMagneticDisk\",t.FLOWCHART_MANUAL_INPUT=\"flowChartManualInput\",t.FLOWCHART_MANUAL_OPERATION=\"flowChartManualOperation\",t.FLOWCHART_MERGE=\"flowChartMerge\",t.FLOWCHART_MULTIDOCUMENT=\"flowChartMultidocument\",t.FLOWCHART_OFFLINE_STORAGE=\"flowChartOfflineStorage\",t.FLOWCHART_OFFPAGE_CONNECTOR=\"flowChartOffpageConnector\",t.FLOWCHART_OR=\"flowChartOr\",t.FLOWCHART_PREDEFINED_PROCESS=\"flowChartPredefinedProcess\",t.FLOWCHART_PREPARATION=\"flowChartPreparation\",t.FLOWCHART_PROCESS=\"flowChartProcess\",t.FLOWCHART_PUNCHED_TAPE=\"flowChartPunchedTape\",t.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE=\"flowChartMagneticTape\",t.FLOWCHART_SORT=\"flowChartSort\",t.FLOWCHART_STORED_DATA=\"flowChartOnlineStorage\",t.FLOWCHART_SUMMING_JUNCTION=\"flowChartSummingJunction\",t.FLOWCHART_TERMINATOR=\"flowChartTerminator\",t.FOLDED_CORNER=\"folderCorner\",t.FRAME=\"frame\",t.FUNNEL=\"funnel\",t.GEAR_6=\"gear6\",t.GEAR_9=\"gear9\",t.HALF_FRAME=\"halfFrame\",t.HEART=\"heart\",t.HEPTAGON=\"heptagon\",t.HEXAGON=\"hexagon\",t.HORIZONTAL_SCROLL=\"horizontalScroll\",t.ISOSCELES_TRIANGLE=\"triangle\",t.LEFT_ARROW=\"leftArrow\",t.LEFT_ARROW_CALLOUT=\"leftArrowCallout\",t.LEFT_BRACE=\"leftBrace\",t.LEFT_BRACKET=\"leftBracket\",t.LEFT_CIRCULAR_ARROW=\"leftCircularArrow\",t.LEFT_RIGHT_ARROW=\"leftRightArrow\",t.LEFT_RIGHT_ARROW_CALLOUT=\"leftRightArrowCallout\",t.LEFT_RIGHT_CIRCULAR_ARROW=\"leftRightCircularArrow\",t.LEFT_RIGHT_RIBBON=\"leftRightRibbon\",t.LEFT_RIGHT_UP_ARROW=\"leftRightUpArrow\",t.LEFT_UP_ARROW=\"leftUpArrow\",t.LIGHTNING_BOLT=\"lightningBolt\",t.LINE_CALLOUT_1=\"borderCallout1\",t.LINE_CALLOUT_1_ACCENT_BAR=\"accentCallout1\",t.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR=\"accentBorderCallout1\",t.LINE_CALLOUT_1_NO_BORDER=\"callout1\",t.LINE_CALLOUT_2=\"borderCallout2\",t.LINE_CALLOUT_2_ACCENT_BAR=\"accentCallout2\",t.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR=\"accentBorderCallout2\",t.LINE_CALLOUT_2_NO_BORDER=\"callout2\",t.LINE_CALLOUT_3=\"borderCallout3\",t.LINE_CALLOUT_3_ACCENT_BAR=\"accentCallout3\",t.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR=\"accentBorderCallout3\",t.LINE_CALLOUT_3_NO_BORDER=\"callout3\",t.LINE_CALLOUT_4=\"borderCallout4\",t.LINE_CALLOUT_4_ACCENT_BAR=\"accentCallout3=4\",t.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR=\"accentBorderCallout4\",t.LINE_CALLOUT_4_NO_BORDER=\"callout4\",t.LINE=\"line\",t.LINE_INVERSE=\"lineInv\",t.MATH_DIVIDE=\"mathDivide\",t.MATH_EQUAL=\"mathEqual\",t.MATH_MINUS=\"mathMinus\",t.MATH_MULTIPLY=\"mathMultiply\",t.MATH_NOT_EQUAL=\"mathNotEqual\",t.MATH_PLUS=\"mathPlus\",t.MOON=\"moon\",t.NON_ISOSCELES_TRAPEZOID=\"nonIsoscelesTrapezoid\",t.NOTCHED_RIGHT_ARROW=\"notchedRightArrow\",t.NO_SYMBOL=\"noSmoking\",t.OCTAGON=\"octagon\",t.OVAL=\"ellipse\",t.OVAL_CALLOUT=\"wedgeEllipseCallout\",t.PARALLELOGRAM=\"parallelogram\",t.PENTAGON=\"homePlate\",t.PIE=\"pie\",t.PIE_WEDGE=\"pieWedge\",t.PLAQUE=\"plaque\",t.PLAQUE_TABS=\"plaqueTabs\",t.QUAD_ARROW=\"quadArrow\",t.QUAD_ARROW_CALLOUT=\"quadArrowCallout\",t.RECTANGLE=\"rect\",t.RECTANGULAR_CALLOUT=\"wedgeRectCallout\",t.REGULAR_PENTAGON=\"pentagon\",t.RIGHT_ARROW=\"rightArrow\",t.RIGHT_ARROW_CALLOUT=\"rightArrowCallout\",t.RIGHT_BRACE=\"rightBrace\",t.RIGHT_BRACKET=\"rightBracket\",t.RIGHT_TRIANGLE=\"rtTriangle\",t.ROUNDED_RECTANGLE=\"roundRect\",t.ROUNDED_RECTANGULAR_CALLOUT=\"wedgeRoundRectCallout\",t.ROUND_1_RECTANGLE=\"round1Rect\",t.ROUND_2_DIAG_RECTANGLE=\"round2DiagRect\",t.ROUND_2_SAME_RECTANGLE=\"round2SameRect\",t.SMILEY_FACE=\"smileyFace\",t.SNIP_1_RECTANGLE=\"snip1Rect\",t.SNIP_2_DIAG_RECTANGLE=\"snip2DiagRect\",t.SNIP_2_SAME_RECTANGLE=\"snip2SameRect\",t.SNIP_ROUND_RECTANGLE=\"snipRoundRect\",t.SQUARE_TABS=\"squareTabs\",t.STAR_10_POINT=\"star10\",t.STAR_12_POINT=\"star12\",t.STAR_16_POINT=\"star16\",t.STAR_24_POINT=\"star24\",t.STAR_32_POINT=\"star32\",t.STAR_4_POINT=\"star4\",t.STAR_5_POINT=\"star5\",t.STAR_6_POINT=\"star6\",t.STAR_7_POINT=\"star7\",t.STAR_8_POINT=\"star8\",t.STRIPED_RIGHT_ARROW=\"stripedRightArrow\",t.SUN=\"sun\",t.SWOOSH_ARROW=\"swooshArrow\",t.TEAR=\"teardrop\",t.TRAPEZOID=\"trapezoid\",t.UP_ARROW=\"upArrow\",t.UP_ARROW_CALLOUT=\"upArrowCallout\",t.UP_DOWN_ARROW=\"upDownArrow\",t.UP_DOWN_ARROW_CALLOUT=\"upDownArrowCallout\",t.UP_RIBBON=\"ribbon2\",t.U_TURN_ARROW=\"uturnArrow\",t.VERTICAL_SCROLL=\"verticalScroll\",t.WAVE=\"wave\"})(kp||(kp={}));var _p;(function(t){t.AREA=\"area\",t.BAR=\"bar\",t.BAR3D=\"bar3D\",t.BUBBLE=\"bubble\",t.BUBBLE3D=\"bubble3D\",t.DOUGHNUT=\"doughnut\",t.LINE=\"line\",t.PIE=\"pie\",t.RADAR=\"radar\",t.SCATTER=\"scatter\"})(_p||(_p={}));var Sp;(function(t){t.TEXT1=\"tx1\",t.TEXT2=\"tx2\",t.BACKGROUND1=\"bg1\",t.BACKGROUND2=\"bg2\",t.ACCENT1=\"accent1\",t.ACCENT2=\"accent2\",t.ACCENT3=\"accent3\",t.ACCENT4=\"accent4\",t.ACCENT5=\"accent5\",t.ACCENT6=\"accent6\"})(Sp||(Sp={}));var Ap;(function(t){t.chart=\"chart\",t.image=\"image\",t.line=\"line\",t.rect=\"rect\",t.text=\"text\",t.placeholder=\"placeholder\"})(Ap||(Ap={}));var Lp;(function(t){t.chart=\"chart\",t.hyperlink=\"hyperlink\",t.image=\"image\",t.media=\"media\",t.online=\"online\",t.placeholder=\"placeholder\",t.table=\"table\",t.tablecell=\"tablecell\",t.text=\"text\",t.notes=\"notes\"})(Lp||(Lp={}));var Cp;(function(t){t.title=\"title\",t.body=\"body\",t.image=\"pic\",t.chart=\"chart\",t.table=\"tbl\",t.media=\"media\"})(Cp||(Cp={}));var Np;(function(t){t.DEFAULT=\"&#x2022;\",t.CHECK=\"&#x2713;\",t.STAR=\"&#x2605;\",t.TRIANGLE=\"&#x25B6;\"})(Np||(Np={}));const _x=async(t,e,n)=>{let r=L.elements;{if(L.selection.length===0)return;r=r.filter(m=>L.selection.includes(m.id))}if(r.length===0)return;let i=1/0,s=1/0,a=-1/0,o=-1/0;r.forEach(m=>{i=Math.min(i,m.x),s=Math.min(s,m.y),a=Math.max(a,m.x+m.width),o=Math.max(o,m.y+m.height)});const l=20,c=a-i+l*2,h=o-s+l*2,d=document.createElement(\"canvas\");d.width=c*t,d.height=h*t;const g=d.getContext(\"2d\");if(!g)return;g.fillStyle=\"#ffffff\",g.fillRect(0,0,d.width,d.height),g.scale(t,t),g.translate(-i+l,-s+l);const u=V1.canvas(d);r.forEach(m=>{nc(u,g,m)});const b=document.createElement(\"a\");b.download=\"yappy_drawing.png\",b.href=d.toDataURL(\"image/png\"),b.click()},Sx=t=>{let e=L.elements;{if(L.selection.length===0)return;e=e.filter(y=>L.selection.includes(y.id))}if(e.length===0)return;let n=1/0,r=1/0,i=-1/0,s=-1/0;e.forEach(y=>{n=Math.min(n,y.x),r=Math.min(r,y.y),i=Math.max(i,y.x+y.width),s=Math.max(s,y.y+y.height)});const a=20,o=i-n+a*2,l=s-r+a*2,c=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");c.setAttribute(\"width\",`${o}`),c.setAttribute(\"height\",`${l}`),c.setAttribute(\"viewBox\",`0 0 ${o} ${l}`),c.style.backgroundColor=\"#ffffff\";const h=V1.svg(c),d=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\");d.setAttribute(\"transform\",`translate(${-n+a}, ${-r+a})`),c.appendChild(d),e.forEach(y=>{let k=null;const A={seed:y.seed,roughness:y.roughness,stroke:y.strokeColor,strokeWidth:y.strokeWidth,fill:y.backgroundColor===\"transparent\"?void 0:y.backgroundColor,fillStyle:y.fillStyle,strokeLineDash:y.strokeStyle===\"dashed\"?[10,10]:y.strokeStyle===\"dotted\"?[5,10]:void 0};if(y.type===\"rectangle\")k=h.rectangle(y.x,y.y,y.width,y.height,A);else if(y.type===\"circle\")k=h.ellipse(y.x+y.width/2,y.y+y.height/2,Math.abs(y.width),Math.abs(y.height),A);else if(y.type===\"line\"||y.type===\"arrow\"){const M=y.x+y.width,z=y.y+y.height;if(y.type===\"arrow\"){const Z=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\");Z.appendChild(h.line(y.x,y.y,M,z,A));const H=Math.atan2(y.height,y.width),F=15,P={x:M-F*Math.cos(H-Math.PI/6),y:z-F*Math.sin(H-Math.PI/6)},G={x:M-F*Math.cos(H+Math.PI/6),y:z-F*Math.sin(H+Math.PI/6)};Z.appendChild(h.line(M,z,P.x,P.y,A)),Z.appendChild(h.line(M,z,G.x,G.y,A)),k=Z}else k=h.line(y.x,y.y,M,z,A)}else if(y.type===\"text\"&&y.text){const M=document.createElementNS(\"http://www.w3.org/2000/svg\",\"text\");M.textContent=y.text,M.setAttribute(\"x\",`${y.x}`),M.setAttribute(\"y\",`${y.y+(y.fontSize||20)}`),M.setAttribute(\"fill\",y.strokeColor),M.setAttribute(\"font-family\",\"sans-serif\"),M.setAttribute(\"font-size\",`${y.fontSize||20}px`),k=M}else if((y.type===\"fineliner\"||y.type===\"inkbrush\"||y.type===\"marker\")&&y.points){let M=[];if(y.pointsEncoding===\"flat\"){const z=y.points;for(let Z=0;Z<z.length;Z+=2)M.push({x:z[Z],y:z[Z+1]})}else M=y.points;if(M.length>1){const z=M.map(Z=>[y.x+Z.x,y.y+Z.y]);k=h.curve(z,A)}}else if(y.type===\"image\"&&y.dataURL){const M=document.createElementNS(\"http://www.w3.org/2000/svg\",\"image\");M.setAttribute(\"href\",y.dataURL),M.setAttribute(\"x\",`${y.x}`),M.setAttribute(\"y\",`${y.y}`),M.setAttribute(\"width\",`${y.width}`),M.setAttribute(\"height\",`${y.height}`),k=M}if(k){if(k.setAttribute(\"opacity\",`${(y.opacity??100)/100}`),y.angle){const M=y.x+y.width/2,z=y.y+y.height/2;k.setAttribute(\"transform\",`rotate(${y.angle*(180/Math.PI)}, ${M}, ${z})`)}d.appendChild(k)}});const u=new XMLSerializer().serializeToString(c),b=new Blob([u],{type:\"image/svg+xml\"}),m=URL.createObjectURL(b),v=document.createElement(\"a\");v.download=\"yappy_drawing.svg\",v.href=m,v.click()};class Ax{mediaRecorder=null;chunks=[];stream=null;canvas;onStopCallback=null;constructor(e){this.canvas=e}start(e=\"webm\"){try{this.stream=this.canvas.captureStream(60);let n=\"video/webm;codecs=vp9\";return e===\"mp4\"&&(MediaRecorder.isTypeSupported(\"video/mp4\")?n=\"video/mp4\":MediaRecorder.isTypeSupported(\"video/webm;codecs=h264\")&&(n=\"video/webm;codecs=h264\")),MediaRecorder.isTypeSupported(n)||(console.warn(`Mime type ${n} not supported, falling back to default.`),n=\"\"),this.mediaRecorder=new MediaRecorder(this.stream,n?{mimeType:n}:void 0),this.chunks=[],this.mediaRecorder.ondataavailable=r=>{r.data.size>0&&this.chunks.push(r.data)},this.mediaRecorder.onstop=()=>{this.saveFile(),this.onStopCallback&&this.onStopCallback(),this.cleanup()},this.mediaRecorder.start(),!0}catch(n){return console.error(\"Failed to start recording:\",n),!1}}stop(e){this.mediaRecorder&&this.mediaRecorder.state!==\"inactive\"&&(this.onStopCallback=e||null,this.mediaRecorder.stop())}saveFile(){if(this.chunks.length===0)return;const e=new Blob(this.chunks,{type:this.mediaRecorder?.mimeType||\"video/webm\"}),n=URL.createObjectURL(e),r=document.createElement(\"a\");r.style.display=\"none\",r.href=n;const i=e.type.includes(\"mp4\")?\"mp4\":\"webm\",s=new Date().toISOString().replace(/[:.]/g,\"-\").slice(0,19);r.download=`yappy-recording-${s}.${i}`,document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(n)},100)}cleanup(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.mediaRecorder=null,this.chunks=[]}}var Lx=qn(\"<div class=recording-overlay><div class=recording-indicator><div class=pulse-dot></div><span class=recording-text>REC</span></div><div class=recording-timer></div><button class=stop-btn><span>Stop\");const Cx=t=>{const[e,n]=En(0);Lo(()=>{const i=setInterval(()=>{n(s=>s+1)},1e3);qs(()=>clearInterval(i))});const r=i=>{const s=Math.floor(i/60),a=i%60;return`${s}:${a.toString().padStart(2,\"0\")}`};return(()=>{var i=Lx(),s=i.firstChild,a=s.nextSibling,o=a.nextSibling,l=o.firstChild;return gn(a,()=>r(e())),zp(o,\"click\",t.onStop,!0),gn(o,Pe(G5,{size:16,fill:\"white\",strokeWidth:0}),l),i})()};Gs([\"click\"]);var Nx=qn(\"<canvas style=display:block;touch-action:none;user-select:none>\"),Mx=qn(\"<div style=position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0>\"),Ix=qn('<div style=position:fixed;bottom:30px;left:50%;transform:translateX(-50%);z-index:100><button style=\"background-color:white;border:1px solid #e5e7eb;padding:8px 16px;border-radius:9999px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1);cursor:pointer;color:#3b82f6;font-weight:500;font-size:14px;transition:all 0.2s\">Scroll back to content'),Ox=qn('<textarea style=\"position:absolute;transform:translate(-50%, -50%);background:transparent;border:1px dashed #007acc;outline:none;margin:0;padding:4px;resize:none;overflow:hidden;min-width:50px;min-height:1em\">'),Px=qn('<div class=path-editor-overlay style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none><svg style=position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999><path fill=none stroke=#3b82f6 stroke-width=2 stroke-dasharray=\"5 5\"></path></svg><div style=position:absolute;top:0;left:0;width:100%;height:100%;z-index:998;pointer-events:all;cursor:crosshair></div><button style=\"position:absolute;top:20px;left:50%;transform:translateX(-50%);z-index:2000;background:#3b82f6;color:white;padding:8px 16px;border-radius:20px;border:none;font-weight:600;box-shadow:0 4px 6px rgba(0,0,0,0.1);cursor:pointer;pointer-events:all\">Done Editing Path'),Rx=qn('<div class=path-control-point style=\"position:absolute;transform:translate(-50%, -50%);width:10px;height:10px;border:2px solid #3b82f6;border-radius:50%;pointer-events:all;cursor:move;z-index:1000\">');const[Ex,Tx]=En(null),Mp=(t,e,n,r,i,s,a,o)=>{const l=n.fillStyle||\"solid\";if(l===\"solid\"){const c=o?\"#121212\":\"#ffffff\";let h=n.backgroundColor||c;h===\"transparent\"&&(h=c),t.fillStyle=h,t.fillRect(r,i,s,a)}else if([\"linear\",\"radial\",\"conic\"].includes(l)){const c=n.gradientStops||[],h=n.gradientDirection||0;if(c.length===0){const b=o?\"#121212\":\"#ffffff\";let m=n.backgroundColor||b;m===\"transparent\"&&(m=b),t.fillStyle=m,t.fillRect(r,i,s,a);return}const d=r+s/2,g=i+a/2;let u;if(l===\"linear\"){const b=h*Math.PI/180,m=Math.sqrt(s*s+a*a)/2,v=Math.cos(b)*m,y=Math.sin(b)*m;u=t.createLinearGradient(d-v,g-y,d+v,g+y)}else{const b=h*Math.PI/180,m=Math.max(s,a)/2,v=m*.4,y=d+Math.cos(b)*v,k=g+Math.sin(b)*v;u=t.createRadialGradient(y,k,0,d,g,m)}c.forEach(b=>u.addColorStop(b.offset,b.color)),t.fillStyle=u,t.fillRect(r,i,s,a)}else if([\"hachure\",\"cross-hatch\",\"zigzag\",\"dots\",\"dashed\",\"zigzag-line\"].includes(l)){const c=n.backgroundColor||(o?\"#121212\":\"#ffffff\");t.fillStyle=c,t.fillRect(r,i,s,a),e.rectangle(r,i,s,a,{fill:n.strokeColor||(o?\"#ffffff\":\"#000000\"),fillStyle:l,fillWeight:.5,hachureGap:8,stroke:\"transparent\",roughness:0})}else if(l===\"image\"&&n.backgroundImage){const c=Dy(n.backgroundImage);if(c){t.save(),t.globalAlpha=n.backgroundOpacity??1;const h=c.width/c.height,d=s/a;let g,u,b,m;h>d?(u=a,g=a*h,b=r-(g-s)/2,m=i):(g=s,u=s/h,b=r,m=i-(u-a)/2),t.drawImage(c,b,m,g,u),t.restore()}else t.fillStyle=o?\"#1a1a1a\":\"#f0f0f0\",t.fillRect(r,i,s,a)}},Bx=()=>{di(()=>{const w=L.selection;if(w.length>0){let Y=null,lt=-1/0;w.forEach(ht=>{const Mt=L.elements.find(vt=>vt.id===ht);if(Mt){const vt=L.layers.find(j=>j.id===Mt.layerId);vt&&vt.order>lt&&(lt=vt.order,Y=vt.id)}}),Y&&Y!==Tr(()=>L.activeLayerId)&&Wm(Y)}}),di(()=>{if(!t)return;const w=t.getContext(\"2d\");w&&L.elements.forEach(Y=>{const lt=Y.type===\"line\"||Y.type===\"arrow\";if(Y.isSelected&&Y.autoResize&&Y.containerText&&!lt){Y.fontSize,Y.fontFamily,Y.fontWeight,Y.fontStyle,Y.containerText;const ht=Uf(w,Y,Y.containerText);(Math.abs(ht.width-Y.width)>2||Math.abs(ht.height-Y.height)>2)&&Tr(()=>fe(Y.id,{width:ht.width,height:ht.height}))}})}),di(()=>{if(L.appMode===\"presentation\")Bn.setForceTicker(!0);else{const w=L.elements.some(Y=>Y.flowAnimation);Bn.setForceTicker(w)}});let t,e=null;di(()=>{const w=Ex();w&&w.start&&(i(w.format||\"webm\"),Tx(null))});const n=()=>{if(!t)return;const w=L.slides[L.activeSlideIndex];if(!w)return;const{width:Y,height:lt}=w.dimensions,{x:ht,y:Mt}=w.spatialPosition;if(Y===0||lt===0)return;const vt=document.createElement(\"canvas\"),j=320,Ct=j*lt/Y;vt.width=j,vt.height=Ct;const $t=vt.getContext(\"2d\");if(!$t)return;const wt=j/Y;$t.save(),$t.scale(wt,wt),$t.translate(-ht,-Mt);const Pt=L.theme===\"dark\",jt=ec.canvas(vt);Mp($t,jt,w,ht,Mt,Y,lt,Pt),[...L.layers].sort((Dt,ie)=>Dt.order-ie.order).forEach(Dt=>{if(!Vi(Dt.id))return;L.elements.filter(te=>te.layerId===Dt.id).forEach(te=>{const oe=Dt?.opacity??1;nc(jt,$t,te,Pt,oe)})}),$t.restore();const At=vt.toDataURL(\"image/jpeg\",.6);Em(L.activeSlideIndex,At)};let r;di(()=>{L.activeSlideIndex,L.elements,window.clearTimeout(r),r=window.setTimeout(()=>{Tr(()=>n())},1e3)});const i=w=>{if(!t){console.error(\"[DEBUG] Canvas: No canvasRef available\");return}e||(console.log(\"[DEBUG] Canvas: Initializing VideoRecorder\"),e=new Ax(t)),console.log(\"[DEBUG] Canvas: Starting recorder...\");const Y=e.start(w);console.log(\"[DEBUG] Canvas: Recorder start returned:\",Y),Y?(Kt(\"isRecording\",!0),pi(\"Recording started...\",\"info\")):pi(\"Failed to start recording\",\"error\")},s=()=>{e&&e.stop(()=>{Kt(\"isRecording\",!1),pi(\"Recording saved!\",\"success\")})};let a=!1,o=null,l=0,c=0;const[h,d]=En(null),[g,u]=En(\"containerText\"),[b,m]=En(\"\");let v,y=!1,k=!1,A=null;const[M,z]=En(null);let Z=new Map;const[H,F]=En(null),[P,G]=En([]),[R,C]=En([]);let D=null,_=null,Q=0,yt=0,ot=0,ft=0,ct=20,Tt=0;const at=16;let I=[],X=!1,K=0;const et=8,gt=800,kt=100;let _t=[],It=0;const Ut=16;let Zt=!1;const de=()=>{if(!o||_t.length===0)return;const w=L.elements.find(Y=>Y.id===o);if(w&&w.points){const ht={points:[...w.points,..._t]};w.type===\"ink\"&&(ht.ttl=Date.now()+3e3),fe(o,ht,!1),_t=[]}},ce=()=>{t&&(t.width=window.innerWidth,t.height=window.innerHeight,L.appMode===\"presentation\"&&(Uh(),setTimeout(Uh,50)),Lt())},[O,T]=En(\"default\"),[pt,tt]=En(!1),[W,nt]=En({x:0,y:0});function Lt(){if(console.log(\"[Canvas] draw() called, effectiveTime:\",Kc()),!t)return;const w=t.getContext(\"2d\");if(!w)return;const Y=Kc();window.yappyGlobalTime=Y;const lt=performance.now(),ht=L.appMode===\"presentation\"||L.isPreviewing;let Mt=L.elements;if(L.docType===\"slides\"&&L.slides.length>0){const mt=L.slides[L.activeSlideIndex];if(mt){const{x:qt,y:J}=mt.spatialPosition,{width:he,height:ue}=mt.dimensions,ve=200,Ye=new Set(L.layers.filter(Se=>Se.isMaster).map(Se=>Se.id)),Ke=L.elements.filter(Se=>{if(Ye.has(Se.layerId))return!0;const je=Se.x+Se.width/2,vn=Se.y+Se.height/2;return je>=qt-ve&&je<=qt+he+ve&&vn>=J-ve&&vn<=J+ue+ve}),re=new Set(Ke.map(Se=>Se.orbitCenterId).filter(Boolean)),_e=L.elements.filter(Se=>re.has(Se.id));Mt=Ke.length===L.elements.length?L.elements:[...new Set([...Ke,..._e])]}}const vt=Vc(Mt,Y,ht);w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,t.width,t.height);const j=Date.now();if(I.length>0){let mt=0;for(let qt=0;qt<I.length;qt++)j-I[qt].timestamp<gt&&(I[mt++]=I[qt]);I.length=mt}const Ct=L.theme===\"dark\",$t=Ct?\"#1a1a1b\":\"#e2e8f0\";w.fillStyle=$t,w.fillRect(0,0,t.width,t.height);const{scale:wt,panX:Pt,panY:jt}=L.viewState;w.save(),w.translate(Pt,jt),w.scale(wt,wt);const Ft=ec.canvas(t);if(L.docType===\"slides\"){const mt=L.slides[L.activeSlideIndex];if(mt){const{width:qt,height:J}=mt.dimensions,{x:he,y:ue}=mt.spatialPosition;w.save(),w.shadowColor=Ct?\"rgba(0,0,0,0.5)\":\"rgba(0,0,0,0.15)\",w.shadowBlur=40,w.shadowOffsetY=10,w.fillStyle=\"black\",w.fillRect(he,ue,qt,J),w.restore(),Mp(w,Ft,mt,he,ue,qt,J,Ct)}}else L.docType===\"infinite\"&&L.slides.length>1&&L.slides.forEach((mt,qt)=>{const{width:J,height:he}=mt.dimensions,{x:ue,y:ve}=mt.spatialPosition;w.save(),w.strokeStyle=Ct?\"rgba(100,149,237,0.4)\":\"rgba(70,130,180,0.3)\",w.lineWidth=2,w.setLineDash([10,5]),w.strokeRect(ue,ve,J,he),w.setLineDash([]),w.restore(),w.fillStyle=Ct?\"rgba(100,149,237,0.03)\":\"rgba(70,130,180,0.02)\",w.fillRect(ue,ve,J,he),w.save();const Ye=`Slide ${qt+1}`,Ke=Math.max(14,16/wt);w.font=`${Ke}px Inter, sans-serif`,w.fillStyle=Ct?\"rgba(100,149,237,0.6)\":\"rgba(70,130,180,0.5)\";const re=8,_e=w.measureText(Ye),Se=Ke+re*2,je=_e.width+re*2;w.fillStyle=Ct?\"rgba(30,30,30,0.8)\":\"rgba(255,255,255,0.9)\",w.fillRect(ue,ve,je,Se),w.strokeStyle=Ct?\"rgba(100,149,237,0.4)\":\"rgba(70,130,180,0.3)\",w.lineWidth=1,w.strokeRect(ue,ve,je,Se),w.fillStyle=Ct?\"rgba(100,149,237,0.8)\":\"rgba(70,130,180,0.7)\",w.fillText(Ye,ue+re,ve+Ke+re/2),w.restore()});if(w.restore(),L.canvasTexture!==\"none\"){const mt=L.canvasTexture;if(w.save(),w.setTransform(1,0,0,1,0,0),mt===\"dots\"||mt===\"grid\"||mt===\"graph\"){const qt=mt===\"graph\"?40:20,J=qt/4,he=Ct?\"rgba(255,255,255,0.1)\":\"rgba(0,0,0,0.05)\",ue=Ct?\"rgba(255,255,255,0.08)\":\"rgba(0,0,0,0.03)\",ve=Ct?\"rgba(255,255,255,0.15)\":\"rgba(0,0,0,0.07)\",Ye=Pt%(qt*wt),Ke=jt%(qt*wt);if(mt===\"dots\"){w.fillStyle=he;for(let re=Ye;re<t.width;re+=qt*wt)for(let _e=Ke;_e<t.height;_e+=qt*wt)w.beginPath(),w.arc(re,_e,1,0,Math.PI*2),w.fill()}else if(mt===\"grid\"){w.strokeStyle=ue,w.lineWidth=1,w.beginPath();for(let re=Ye;re<t.width;re+=qt*wt)w.moveTo(re,0),w.lineTo(re,t.height);for(let re=Ke;re<t.height;re+=qt*wt)w.moveTo(0,re),w.lineTo(t.width,re);w.stroke()}else if(mt===\"graph\"){w.strokeStyle=ue,w.lineWidth=.5,w.beginPath();for(let re=Pt%(J*wt);re<t.width;re+=J*wt)w.moveTo(re,0),w.lineTo(re,t.height);for(let re=jt%(J*wt);re<t.height;re+=J*wt)w.moveTo(0,re),w.lineTo(t.width,re);w.stroke(),w.strokeStyle=ve,w.lineWidth=1,w.beginPath();for(let re=Ye;re<t.width;re+=qt*wt)w.moveTo(re,0),w.lineTo(re,t.height);for(let re=Ke;re<t.height;re+=qt*wt)w.moveTo(0,re),w.lineTo(t.width,re);w.stroke()}}w.restore()}if(w.save(),w.translate(Pt,jt),w.scale(wt,wt),L.gridSettings.enabled){const mt=L.gridSettings.gridSize;let qt=L.gridSettings.gridColor;Ct&&qt===\"#e0e0e0\"&&(qt=\"#333333\");const J=L.gridSettings.gridOpacity,he=L.gridSettings.style||\"lines\";w.save(),w.setTransform(1,0,0,1,0,0),w.strokeStyle=qt,w.fillStyle=qt,w.globalAlpha=J,w.lineWidth=1;const ue=Math.floor(-Pt/wt/mt)*mt,ve=Math.ceil((t.width-Pt)/wt/mt)*mt,Ye=Math.floor(-jt/wt/mt)*mt,Ke=Math.ceil((t.height-jt)/wt/mt)*mt;if(he===\"lines\"){w.beginPath();for(let re=ue;re<=ve;re+=mt){const _e=re*wt+Pt;w.moveTo(_e,0),w.lineTo(_e,t.height)}for(let re=Ye;re<=Ke;re+=mt){const _e=re*wt+jt;w.moveTo(0,_e),w.lineTo(t.width,_e)}w.stroke()}else{!Ct&&he===\"dots\"&&(qt===\"#e0e0e0\"||qt===\"#fafafa\")&&(w.fillStyle=\"#b0b0b0\");for(let _e=ue;_e<=ve;_e+=mt)for(let Se=Ye;Se<=Ke;Se+=mt){const je=_e*wt+Pt,vn=Se*wt+jt;je>=-3&&je<=t.width+3&&vn>=-3&&vn<=t.height+3&&(w.beginPath(),w.arc(je,vn,3/2,0,Math.PI*2),w.fill())}}w.restore()}const At={minX:-Pt/wt,maxX:(t.width-Pt)/wt,minY:-jt/wt,maxY:(t.height-jt)/wt},Dt=(At.maxX-At.minX)*.1,ie=(At.maxY-At.minY)*.1,te=[...L.layers].sort((mt,qt)=>mt.order-qt.order);let oe=0;const zt=new Map;for(const mt of L.elements)zt.set(mt.id,mt);if(te.forEach(mt=>{if(!Vi(mt.id))return;if(mt.backgroundColor&&mt.backgroundColor!==\"transparent\"){w.save(),w.globalAlpha=mt.opacity,w.fillStyle=mt.backgroundColor;const J=1e6;w.fillRect(-J,-J,J*2,J*2),w.restore()}const qt=L.elements.filter(J=>{if(J.layerId!==mt.id)return!1;if(J.id===o||mt.isMaster)return!0;if(co(J,L.elements,zt))return!1;if(J.type===\"line\"||J.type===\"arrow\"||J.type===\"bezier\"){if(J.startBinding){const Ye=zt.get(J.startBinding.elementId);if(Ye&&co(Ye,L.elements,zt))return!1}if(J.endBinding){const Ye=zt.get(J.endBinding.elementId);if(Ye&&co(Ye,L.elements,zt))return!1}}const he=Math.abs(J.width)*wt,ue=Math.abs(J.height)*wt;if(he<1&&ue<1)return!1;const ve=Math.max(Math.abs(J.width),Math.abs(J.height))*.5;return!(J.x+J.width+ve<At.minX-Dt||J.x-ve>At.maxX+Dt||J.y+J.height+ve<At.minY-ie||J.y-ve>At.maxY+ie)});oe+=qt.length,qt.forEach(J=>{const he=vt.get(J.id),ue=he?{...J,x:he.x,y:he.y,angle:he.angle}:JSON.parse(JSON.stringify(J)),ve=mt.isMaster;if(ve&&L.docType===\"slides\"){const re=L.slides[L.activeSlideIndex];if(re){const{x:_e,y:Se}=re.spatialPosition;ue.x+=_e,ue.y+=Se}}let Ye=ue.x+ue.width/2,Ke=ue.y+ue.height/2;if(L.docType===\"slides\"&&!ve){const re=L.slides[L.activeSlideIndex];if(re){const{x:_e,y:Se}=re.spatialPosition,{width:je,height:vn}=re.dimensions;if(!(Ye>=_e&&Ye<=_e+je&&Ke>=Se&&Ke<=Se+vn))return}}if(ue.type===\"text\"&&ue.text){if(ue.text.startsWith(\"==\"))ue.text=ue.text.substring(1);else if(ue.text.startsWith(\"=\")){const re=(L.activeSlideIndex+1).toString(),_e=L.slides.length.toString();ue.text=ue.text.substring(1).replace(/\\$\\{slideNumber\\}/g,re).replace(/\\$\\{totalSlides\\}/g,_e)}}if(ue.type!==\"text\"||h()!==ue.id){const re=mt?.opacity??1;nc(Ft,w,ue,Ct,re)}if(L.selection.includes(J.id)){const re=ue.x,_e=ue.y,Se=ue.width,je=ue.height,vn=ue.angle,pe=re+Se/2,An=_e+je/2;w.save(),vn&&(w.translate(pe,An),w.rotate(vn),w.translate(-pe,-An)),w.strokeStyle=\"#3b82f6\",w.lineWidth=1/wt;const cn=2/wt;if(J.type!==\"line\"&&J.type!==\"arrow\"&&J.type!==\"bezier\"&&J.type!==\"organicBranch\")w.strokeRect(re-cn,_e-cn,Se+cn*2,je+cn*2);else if(J.type===\"organicBranch\"&&J.points&&J.points.length>=2&&J.controlPoints&&J.controlPoints.length>=2){const en=Rr(J.points);if(en.length>=2){const yn={x:J.x+en[0].x,y:J.y+en[0].y},nn={x:J.x+en[en.length-1].x,y:J.y+en[en.length-1].y},In=Ff(yn,nn,J.controlPoints[0],J.controlPoints[1],J.strokeWidth);w.save(),w.strokeStyle=\"#3b82f6\",w.lineWidth=2/wt,w.beginPath(),w.moveTo(In[0].x,In[0].y);for(let cr=1;cr<In.length;cr++)w.lineTo(In[cr].x,In[cr].y);w.closePath(),w.stroke(),w.restore()}}if(L.selection.length===1){const en=8/wt;if(w.fillStyle=\"#ffffff\",w.strokeStyle=\"#3b82f6\",w.lineWidth=2/wt,J.type===\"line\"||J.type===\"arrow\"||J.type===\"bezier\"||J.type===\"organicBranch\"){let yn=re,nn=_e,In=re+Se,cr=_e+je;if(J.type===\"organicBranch\"&&J.points&&J.points.length>=2){const hr=Rr(J.points);hr.length>=2&&(yn=J.x+hr[0].x,nn=J.y+hr[0].y,In=J.x+hr[hr.length-1].x,cr=J.y+hr[hr.length-1].y)}[{x:yn,y:nn},{x:In,y:cr}].forEach(hr=>{w.beginPath(),w.arc(hr.x,hr.y,en/1.5,0,Math.PI*2),w.fill(),w.stroke()})}else{[{x:re-cn,y:_e-cn},{x:re+Se+cn,y:_e-cn},{x:re+Se+cn,y:_e+je+cn},{x:re-cn,y:_e+je+cn},{x:re+Se/2,y:_e-cn},{x:re+Se+cn,y:_e+je/2},{x:re+Se/2,y:_e+je+cn},{x:re-cn,y:_e+je/2}].forEach(In=>{w.fillRect(In.x-en/2,In.y-en/2,en,en),w.strokeRect(In.x-en/2,In.y-en/2,en,en)});const nn={x:J.x+J.width/2,y:J.y-cn-20/wt};w.beginPath(),w.moveTo(J.x+J.width/2,J.y-cn),w.lineTo(nn.x,nn.y),w.stroke(),w.beginPath(),w.arc(nn.x,nn.y,en/2,0,Math.PI*2),w.fill(),w.stroke()}}if(L.elements.some(en=>en.parentId===J.id)&&J.type!==\"line\"&&J.type!==\"arrow\"){const en=14/wt,yn=J.x+J.width+15/wt,nn=J.y+J.height/2;w.beginPath(),w.arc(yn,nn,en/2,0,Math.PI*2),w.fillStyle=J.isCollapsed?\"#10b981\":Ct?\"#333\":\"#fff\",w.fill(),w.strokeStyle=\"#10b981\",w.lineWidth=2/wt,w.stroke(),w.beginPath(),w.strokeStyle=J.isCollapsed?\"#fff\":\"#10b981\",w.lineWidth=2/wt,w.moveTo(yn-en/4,nn),w.lineTo(yn+en/4,nn),J.isCollapsed&&(w.moveTo(yn,nn-en/4),w.lineTo(yn,nn+en/4)),w.stroke()}w.restore()}if(J.isCollapsed&&!L.selection.includes(J.id)){w.save(),J.angle&&(w.translate(Ye,Ke),w.rotate(J.angle),w.translate(-Ye,-Ke)),w.shadowBlur=10/wt,w.shadowColor=\"#10b981\",w.strokeStyle=\"#10b981\",w.lineWidth=1/wt;const re=1/wt;w.strokeRect(J.x-re,J.y-re,J.width+re*2,J.height+re*2),w.restore()}if(L.selection.includes(J.id)&&(J.type===\"isometricCube\"||J.type===\"star\"||J.type===\"burst\"||J.type===\"solidBlock\"||J.type===\"perspectiveBlock\"||J.type===\"cylinder\")){const re=10/wt;let _e=0,Se=0;if(J.type===\"isometricCube\"){const je=(J.shapeRatio!==void 0?J.shapeRatio:25)/100,vn=(J.sideRatio!==void 0?J.sideRatio:50)/100,pe=J.height*je;Se=J.y+pe,_e=J.x+J.width*vn}else if(J.type===\"solidBlock\"||J.type===\"cylinder\"){const je=J.depth!==void 0?J.depth:50,vn=(J.viewAngle!==void 0?J.viewAngle:45)*Math.PI/180,pe=J.x+J.width/2,An=J.y+J.height/2;_e=pe+je*Math.cos(vn),Se=An+je*Math.sin(vn)}else if(J.type===\"perspectiveBlock\"){const je=J.depth!==void 0?J.depth:50,vn=(J.viewAngle!==void 0?J.viewAngle:45)*Math.PI/180,pe=J.taper!==void 0?J.taper:0,An=(J.skewX!==void 0?J.skewX:0)*J.width,cn=(J.skewY!==void 0?J.skewY:0)*J.height,an=J.x+J.width/2,en=J.y+J.height/2,yn=je*Math.cos(vn)+An,nn=je*Math.sin(vn)+cn,In=1-pe,cr=J.width/2*In,Ni=J.height/2*In,hr=1-(J.frontTaper||0),_r=J.width/2*hr,Mi=J.height/2*hr,Ii=(J.frontSkewX||0)*J.width,oi=(J.frontSkewY||0)*J.height,Oi=[{x:an+yn,y:en+nn,type:\"depth\"},{x:an+yn-cr,y:en+nn-Ni,type:\"bTL\"},{x:an+yn+cr,y:en+nn-Ni,type:\"bTR\"},{x:an+yn+cr,y:en+nn+Ni,type:\"bBR\"},{x:an+yn-cr,y:en+nn+Ni,type:\"bBL\"},{x:an+Ii-_r,y:en+oi-Mi,type:\"fTL\"},{x:an+Ii+_r,y:en+oi-Mi,type:\"fTR\"},{x:an+Ii+_r,y:en+oi+Mi,type:\"fBR\"},{x:an+Ii-_r,y:en+oi+Mi,type:\"fBL\"}];w.strokeStyle=\"#ffffff\",w.lineWidth=1.5/wt;for(const Qi of Oi)Qi.type===\"depth\"?w.fillStyle=\"#f59e0b\":Qi.type.startsWith(\"b\")?w.fillStyle=\"#3b82f6\":w.fillStyle=\"#10b981\",w.beginPath(),w.arc(Qi.x,Qi.y,re/2,0,Math.PI*2),w.fill(),w.stroke();return}else if(J.type===\"star\"||J.type===\"burst\"){const je=(J.shapeRatio!==void 0?J.shapeRatio:25)/100;_e=J.x+J.width/2,Se=J.y+J.height*je}w.fillStyle=\"#f59e0b\",w.strokeStyle=\"#ffffff\",w.lineWidth=1.5/wt,w.beginPath(),w.arc(_e,Se,re/2,0,Math.PI*2),w.fill(),w.stroke()}if(L.selection.includes(J.id)){if((J.type===\"line\"||J.type===\"arrow\"||J.type===\"bezier\"||J.type===\"organicBranch\")&&J.controlPoints&&L.selectedTool===\"selection\"){const re=10/wt;if(J.controlPoints.length===1){const _e=J.controlPoints[0];let Se={x:J.x,y:J.y},je={x:J.x+J.width,y:J.y+J.height};if(J.points&&J.points.length>=2){const An=Rr(J.points);An.length>0&&(Se={x:J.x+An[0].x,y:J.y+An[0].y},je={x:J.x+An[An.length-1].x,y:J.y+An[An.length-1].y})}const vn=.25*Se.x+.5*_e.x+.25*je.x,pe=.25*Se.y+.5*_e.y+.25*je.y;w.fillStyle=\"#3b82f6\",w.strokeStyle=\"#ffffff\",w.lineWidth=1.5/wt,w.beginPath(),w.arc(vn,pe,re/2,0,Math.PI*2),w.fill(),w.stroke()}else J.controlPoints.forEach(_e=>{w.fillStyle=\"#3b82f6\",w.strokeStyle=\"#ffffff\",w.lineWidth=1.5/wt,w.beginPath(),w.arc(_e.x,_e.y,re/2,0,Math.PI*2),w.fill(),w.stroke()})}if(J.type!==\"line\"&&J.type!==\"arrow\"&&L.selectedTool===\"selection\"){const re=14/wt,_e=32/wt,Se=J.x+J.width/2,je=J.y+J.height/2;[{pos:\"top\",x:Se,y:J.y-_e},{pos:\"right\",x:J.x+J.width+_e,y:je},{pos:\"bottom\",x:Se,y:J.y+J.height+_e},{pos:\"left\",x:J.x-_e,y:je}].forEach(pe=>{const An=_&&_.elementId===J.id&&_.handle===`connector-${pe.pos}`,cn=An?re*1.3:re;w.strokeStyle=An?\"rgba(16, 185, 129, 0.8)\":\"rgba(16, 185, 129, 0.4)\",w.lineWidth=(An?2:1)/wt,w.setLineDash([3/wt,3/wt]),w.beginPath(),pe.pos===\"top\"?(w.moveTo(pe.x,J.y),w.lineTo(pe.x,pe.y)):pe.pos===\"right\"?(w.moveTo(J.x+J.width,pe.y),w.lineTo(pe.x,pe.y)):pe.pos===\"bottom\"?(w.moveTo(pe.x,J.y+J.height),w.lineTo(pe.x,pe.y)):pe.pos===\"left\"&&(w.moveTo(J.x,pe.y),w.lineTo(pe.x,pe.y)),w.stroke(),w.setLineDash([]),w.shadowColor=\"rgba(16, 185, 129, 0.5)\",w.shadowBlur=(An?8:4)/wt,w.fillStyle=An?\"#059669\":\"#10b981\",w.strokeStyle=\"#ffffff\",w.lineWidth=2/wt,w.beginPath(),w.arc(pe.x,pe.y,cn/2,0,Math.PI*2),w.fill(),w.stroke(),w.shadowBlur=0,w.strokeStyle=\"#ffffff\",w.lineWidth=1.8/wt;const an=cn*.25;w.beginPath(),pe.pos===\"top\"?(w.moveTo(pe.x-an,pe.y+an/2),w.lineTo(pe.x,pe.y-an/2),w.lineTo(pe.x+an,pe.y+an/2)):pe.pos===\"right\"?(w.moveTo(pe.x-an/2,pe.y-an),w.lineTo(pe.x+an/2,pe.y),w.lineTo(pe.x-an/2,pe.y+an)):pe.pos===\"bottom\"?(w.moveTo(pe.x-an,pe.y-an/2),w.lineTo(pe.x,pe.y+an/2),w.lineTo(pe.x+an,pe.y-an/2)):pe.pos===\"left\"&&(w.moveTo(pe.x+an/2,pe.y-an),w.lineTo(pe.x-an/2,pe.y),w.lineTo(pe.x+an/2,pe.y+an)),w.stroke()})}}})}),L.selection.length>1){const mt=me();if(mt){const qt=L.viewState.scale,J=2/qt,he=8/qt;w.save(),w.strokeStyle=\"#3b82f6\",w.lineWidth=1/qt,w.setLineDash([5/qt,5/qt]),w.strokeRect(mt.x-J,mt.y-J,mt.width+J*2,mt.height+J*2),w.setLineDash([]),w.fillStyle=\"#ffffff\",w.lineWidth=2/qt,[{x:mt.x-J,y:mt.y-J},{x:mt.x+mt.width+J,y:mt.y-J},{x:mt.x+mt.width+J,y:mt.y+mt.height+J},{x:mt.x-J,y:mt.y+mt.height+J},{x:mt.x+mt.width/2,y:mt.y-J},{x:mt.x+mt.width+J,y:mt.y+mt.height/2},{x:mt.x+mt.width/2,y:mt.y+mt.height+J},{x:mt.x-J,y:mt.y+mt.height/2}].forEach(ve=>{w.fillRect(ve.x-he/2,ve.y-he/2,he,he),w.strokeRect(ve.x-he/2,ve.y-he/2,he,he)}),w.restore()}}const ae=M();ae&&(w.save(),w.fillStyle=\"rgba(59, 130, 246, 0.2)\",w.strokeStyle=\"#3b82f6\",w.lineWidth=1/wt,w.fillRect(ae.x,ae.y,ae.w,ae.h),w.strokeRect(ae.x,ae.y,ae.w,ae.h),w.restore());const Me=H();if(Me){const mt=L.elements.find(qt=>qt.id===Me.elementId);mt&&(w.save(),w.strokeStyle=\"#f59e0b\",w.lineWidth=2/wt,w.strokeRect(mt.x-4/wt,mt.y-4/wt,mt.width+8/wt,mt.height+8/wt),w.fillStyle=\"#f59e0b\",w.beginPath(),w.arc(Me.px,Me.py,5/wt,0,Math.PI*2),w.fill(),w.restore())}const Fe=P();Fe.length>0&&(w.save(),w.strokeStyle=\"#ff00ff\",w.setLineDash([5/L.viewState.scale,5/L.viewState.scale]),w.lineWidth=1/L.viewState.scale,Fe.forEach(mt=>{w.beginPath(),mt.type===\"vertical\"?(w.moveTo(mt.coordinate,-1e5),w.lineTo(mt.coordinate,1e5)):(w.moveTo(-1e5,mt.coordinate),w.lineTo(1e5,mt.coordinate)),w.stroke()}),w.restore());const Vt=R();if(Vt.length>0&&(w.save(),w.strokeStyle=\"#ff00ff\",w.fillStyle=\"#ff00ff\",w.lineWidth=1/L.viewState.scale,w.font=`${Math.floor(10/L.viewState.scale)}px sans-serif`,w.textAlign=\"center\",w.textBaseline=\"middle\",Vt.forEach(mt=>{mt.segments.forEach(qt=>{if(w.beginPath(),mt.orientation===\"horizontal\"){w.moveTo(qt.from,mt.variableCoordinate),w.lineTo(qt.to,mt.variableCoordinate),w.stroke();const J=4/L.viewState.scale;w.beginPath(),w.moveTo(qt.from,mt.variableCoordinate-J),w.lineTo(qt.from,mt.variableCoordinate+J),w.moveTo(qt.to,mt.variableCoordinate-J),w.lineTo(qt.to,mt.variableCoordinate+J),w.stroke();const he=(qt.from+qt.to)/2,ue=Math.round(mt.gap).toString(),ve=2/L.viewState.scale,Ye=w.measureText(ue).width+ve*4,Ke=12/L.viewState.scale;w.fillStyle=\"#ff00ff\",w.fillRect(he-Ye/2,mt.variableCoordinate-Ke/2,Ye,Ke),w.fillStyle=\"white\",w.fillText(ue,he,mt.variableCoordinate),w.fillStyle=\"#ff00ff\"}else{w.beginPath(),w.moveTo(mt.variableCoordinate,qt.from),w.lineTo(mt.variableCoordinate,qt.to),w.stroke();const J=4/L.viewState.scale;w.beginPath(),w.moveTo(mt.variableCoordinate-J,qt.from),w.lineTo(mt.variableCoordinate+J,qt.from),w.moveTo(mt.variableCoordinate-J,qt.to),w.lineTo(mt.variableCoordinate+J,qt.to),w.stroke();const he=(qt.from+qt.to)/2,ue=Math.round(mt.gap).toString(),ve=2/L.viewState.scale,Ye=w.measureText(ue).width+ve*4,Ke=12/L.viewState.scale;w.fillStyle=\"#ff00ff\",w.fillRect(mt.variableCoordinate-Ye/2,he-Ke/2,Ye,Ke),w.fillStyle=\"white\",w.fillText(ue,mt.variableCoordinate,he),w.fillStyle=\"#ff00ff\"}})}),w.restore()),(L.selectedTool===\"line\"||L.selectedTool===\"arrow\")&&a&&o){const mt=L.elements.find(qt=>qt.id===o);if(mt&&(mt.type===\"line\"||mt.type===\"arrow\")){const qt=mt.x+mt.width,J=mt.y+mt.height,he=50/L.viewState.scale,ue=15/L.viewState.scale;w.save();for(const ve of L.elements){if(ve.id===o||!on(ve)||ve.type===\"line\"||ve.type===\"arrow\"||ve.type===\"bezier\"||ve.layerId!==L.activeLayerId)continue;const Ye=ve.x+ve.width/2,Ke=ve.y+ve.height/2;if(Math.sqrt((Ye-qt)**2+(Ke-J)**2)<he){const _e=Rl(ve);for(const Se of _e){const je=Se.x-qt,vn=Se.y-J,An=Math.sqrt(je*je+vn*vn)<ue,cn=An?6/L.viewState.scale:4/L.viewState.scale;w.beginPath(),w.arc(Se.x,Se.y,cn,0,Math.PI*2),An?(w.fillStyle=\"#3b82f6\",w.fill()):(w.fillStyle=\"rgba(59, 130, 246, 0.4)\",w.fill(),w.strokeStyle=\"#3b82f6\",w.lineWidth=1/L.viewState.scale,w.stroke())}}}w.restore()}}if(I.length>1){w.save(),w.lineCap=\"round\",w.lineJoin=\"round\",w.shadowBlur=8,w.shadowColor=\"rgba(255, 50, 50, 0.6)\";const mt=4/L.viewState.scale;let qt=-1;for(let J=0;J<I.length-1;J++){const he=I[J],ue=I[J+1],ve=j-he.timestamp,Ye=Math.max(0,1-ve/gt);if(Ye<=0)continue;const Ke=Math.ceil(Ye*5);if(Ke!==qt){qt!==-1&&w.stroke(),qt=Ke;const re=Ke/5;w.beginPath(),w.strokeStyle=`rgba(255, 30, 30, ${re})`,w.lineWidth=mt*re,w.moveTo(he.x,he.y)}w.lineTo(ue.x,ue.y)}qt!==-1&&w.stroke(),w.restore()}w.restore();const be=performance.now()-lt;Vy.measureFrame(be,L.elements.length,oe)}di(()=>{Kc(),L.appMode,L.isPreviewing,L.theme,L.elements.length,L.elements.forEach(w=>{w.x,w.y,w.width,w.height,w.points&&w.points.length,w.angle,w.opacity,w.strokeColor,w.backgroundColor,w.fillStyle,w.strokeWidth,w.strokeStyle,w.roughness,w.roundness,w.text,w.fontSize,w.fontFamily,w.textAlign,w.fontWeight,w.fontStyle,w.textColor,w.textHighlightEnabled,w.textHighlightColor,w.textHighlightPadding,w.textHighlightRadius,w.startArrowhead,w.endArrowhead,w.containerText,w.labelPosition,w.isCollapsed,w.parentId,w.starPoints,w.polygonSides,w.borderRadius,w.burstPoints,w.tailPosition,w.shapeRatio,w.sideRatio,w.depth,w.viewAngle,w.taper,w.skewX,w.skewY,w.frontTaper,w.frontSkewX,w.frontSkewY,w.drawInnerBorder,w.innerBorderDistance,w.strokeLineJoin,w.renderStyle,w.fillDensity,w.gradientStart,w.gradientEnd,w.gradientDirection,w.gradientStops,w.gradientType,w.shadowEnabled,w.shadowColor,w.shadowBlur,w.shadowOffsetX,w.shadowOffsetY,w.blendMode,w.spinEnabled,w.spinSpeed,w.orbitEnabled,w.orbitCenterId,w.orbitRadius,w.orbitSpeed,w.orbitDirection}),L.slides.forEach(w=>{w.backgroundColor,w.fillStyle,w.gradientStops,w.gradientDirection,w.backgroundImage,w.backgroundOpacity}),L.viewState.scale,L.viewState.panX,L.viewState.panY,L.selection.length,M(),L.layers.length,L.layers.forEach(w=>{w.visible,w.order,w.opacity,w.backgroundColor}),L.gridSettings.enabled,L.gridSettings.gridSize,L.gridSettings.gridColor,L.gridSettings.gridOpacity,L.gridSettings.style,L.canvasBackgroundColor,L.canvasTexture,P(),P(),requestAnimationFrame(Lt)}),di(()=>{L.elements.forEach(w=>{w.boundElements&&w.boundElements.length>0&&(w.x,w.y,w.width,w.height,Tr(()=>{w.boundElements?.forEach(Y=>We(Y.id))}))})});const Ot=w=>({x:w.clientX,y:w.clientY}),dt=(w,Y)=>{if(!t)return{x:0,y:0};const{scale:lt,panX:ht,panY:Mt}=L.viewState,vt=t.getBoundingClientRect();return{x:(w-vt.left-ht)/lt,y:(Y-vt.top-Mt)/lt}},Bt=w=>{w.dataTransfer&&(w.preventDefault(),w.dataTransfer.dropEffect=\"copy\")},ee=async w=>{w.preventDefault(),w.stopPropagation();const Y=w.dataTransfer?.getData(\"text/plain\");if(!Y)return;const lt=Y.startsWith(\"color(\")||Y.startsWith(\"#\")||Y.startsWith(\"rgba(\")||Y.startsWith(\"rgb(\")||Y.startsWith(\"oklch(\")||Y.startsWith(\"hsl(\")||Y.includes(\"display-p3\")||Y.includes(\"oklch\"),ht=Y.startsWith(\"http\")||Y.startsWith(\"data:image\");if(!lt&&!ht)return;const{x:Mt,y:vt}=dt(w.clientX,w.clientY),j=10/L.viewState.scale,Ct=new Map;for(const At of L.elements)Ct.set(At.id,At);const $t=L.elements.map((At,Dt)=>{const ie=L.layers.find(te=>te.id===At.layerId);return{el:At,index:Dt,layerOrder:ie?.order??999,layerVisible:Vi(At.layerId)}}).sort((At,Dt)=>At.layerOrder!==Dt.layerOrder?Dt.layerOrder-At.layerOrder:Dt.index-At.index),wt=window.yappyGlobalTime||0,Pt=L.appMode===\"presentation\"||L.isPreviewing,jt=Vc(L.elements,wt,Pt);let Ft=null;for(const{el:At,layerVisible:Dt}of $t){if(!Dt||!on(At))continue;const ie=jt.get(At.id),te=ie?{...At,x:ie.x,y:ie.y,angle:ie.angle}:At;if(we(te,Mt,vt,j,Ct)){Ft=At.id;break}}if(Ft)_n(),lt?fe(Ft,{backgroundColor:Y,fillStyle:\"solid\"}):ht&&fe(Ft,{type:\"image\",dataURL:Y});else if(L.docType===\"slides\"){const At=L.activeSlideIndex;At!==-1?(_n(),lt?al(At,{backgroundColor:Y,fillStyle:\"solid\"}):ht&&al(At,{backgroundImage:Y,fillStyle:\"image\"})):L.slides.length>0&&(_n(),lt?al(0,{backgroundColor:Y,fillStyle:\"solid\"}):ht&&al(0,{backgroundImage:Y,fillStyle:\"image\"}))}},Gt=w=>{if(L.appMode===\"presentation\"&&L.docType===\"slides\")return;w.preventDefault();const Y=w.deltaMode===1?33:w.deltaMode===2?400:1,lt=w.deltaX*Y,ht=w.deltaY*Y;if(w.ctrlKey||w.metaKey){const vt=1-ht*.001,j=Math.min(Math.max(L.viewState.scale*vt,.1),10),{x:Ct,y:$t}=Ot(w),{scale:wt,panX:Pt,panY:jt}=L.viewState,Ft=(Ct-Pt)/wt,At=($t-jt)/wt,Dt=Ct-Ft*j,ie=$t-At*j;Nr({scale:j,panX:Dt,panY:ie})}else w.shiftKey?Nr({panX:L.viewState.panX-(ht||lt),panY:L.viewState.panY}):Nr({panX:L.viewState.panX-lt,panY:L.viewState.panY-ht})},ne=(w,Y,lt,ht,Mt)=>{const vt=Math.cos(Mt),j=Math.sin(Mt);return{x:vt*(w-lt)-j*(Y-ht)+lt,y:j*(w-lt)+vt*(Y-ht)+ht}},xe=(w,Y,lt,ht,Mt)=>ne(w,Y,lt,ht,-Mt),me=()=>{if(L.selection.length===0)return null;let w=1/0,Y=1/0,lt=-1/0,ht=-1/0,Mt=!1;return L.elements.forEach(vt=>{L.selection.includes(vt.id)&&(w=Math.min(w,vt.x),Y=Math.min(Y,vt.y),lt=Math.max(lt,vt.x+vt.width),ht=Math.max(ht,vt.y+vt.height),Mt=!0)}),Mt?{x:w,y:Y,width:lt-w,height:ht-Y}:null},ye=(w,Y)=>{const{scale:lt}=L.viewState,ht=12/lt,Mt=2/lt;if(L.selection.length>1){const vt=me();if(vt){const j=[{type:\"tl\",x:vt.x-Mt,y:vt.y-Mt},{type:\"tr\",x:vt.x+vt.width+Mt,y:vt.y-Mt},{type:\"br\",x:vt.x+vt.width+Mt,y:vt.y+vt.height+Mt},{type:\"bl\",x:vt.x-Mt,y:vt.y+vt.height+Mt},{type:\"tm\",x:vt.x+vt.width/2,y:vt.y-Mt},{type:\"rm\",x:vt.x+vt.width+Mt,y:vt.y+vt.height/2},{type:\"bm\",x:vt.x+vt.width/2,y:vt.y+vt.height+Mt},{type:\"lm\",x:vt.x-Mt,y:vt.y+vt.height/2}];for(const Ct of j)if(Math.abs(w-Ct.x)<=ht/2&&Math.abs(Y-Ct.y)<=ht/2)return{id:\"multi\",handle:Ct.type}}}for(let vt=L.elements.length-1;vt>=0;vt--){const j=L.elements[vt];if(co(j,L.elements))continue;if(L.elements.some($t=>$t.parentId===j.id)&&j.type!==\"line\"&&j.type!==\"arrow\"){const $t=j.x+j.width/2,wt=j.y+j.height/2,Pt=xe(w,Y,$t,wt,j.angle||0),jt=14/lt,Ft=j.x+j.width+15/lt,At=j.y+j.height/2;if(Math.sqrt(Math.pow(Pt.x-Ft,2)+Math.pow(Pt.y-At,2))<=jt/2+5/lt)return{id:j.id,handle:\"mindmap-toggle\"}}}for(let vt=L.elements.length-1;vt>=0;vt--){const j=L.elements[vt];if(!L.selection.includes(j.id)||L.selection.length>1)continue;const Ct=j.x+j.width/2,$t=j.y+j.height/2,wt=j.angle||0,Pt=xe(w,Y,Ct,$t,wt);let jt=[{type:\"tl\",x:j.x-Mt,y:j.y-Mt},{type:\"tr\",x:j.x+j.width+Mt,y:j.y-Mt},{type:\"br\",x:j.x+j.width+Mt,y:j.y+j.height+Mt},{type:\"bl\",x:j.x-Mt,y:j.y+j.height+Mt},{type:\"tm\",x:j.x+j.width/2,y:j.y-Mt},{type:\"rm\",x:j.x+j.width+Mt,y:j.y+j.height/2},{type:\"bm\",x:j.x+j.width/2,y:j.y+j.height+Mt},{type:\"lm\",x:j.x-Mt,y:j.y+j.height/2}];if(j.type===\"line\"||j.type===\"arrow\"||j.type===\"organicBranch\"){let At=j.x,Dt=j.y,ie=j.x+j.width,te=j.y+j.height;if(j.type===\"organicBranch\"&&j.points&&j.points.length>=2){const oe=Rr(j.points);oe.length>=2&&(At=j.x+oe[0].x,Dt=j.y+oe[0].y,ie=j.x+oe[oe.length-1].x,te=j.y+oe[oe.length-1].y)}jt=[{type:\"tl\",x:At,y:Dt},{type:\"br\",x:ie,y:te}]}for(const At of jt)if(Math.abs(Pt.x-At.x)<=ht/2&&Math.abs(Pt.y-At.y)<=ht/2)return{id:j.id,handle:At.type};const Ft={x:j.x+j.width/2,y:j.y-Mt-20/lt};if(Math.abs(Pt.x-Ft.x)<=ht&&Math.abs(Pt.y-Ft.y)<=ht/2)return{id:j.id,handle:\"rotate\"};if(j.type===\"isometricCube\"){const At=(j.shapeRatio!==void 0?j.shapeRatio:25)/100,Dt=(j.sideRatio!==void 0?j.sideRatio:50)/100,ie=j.height*At,te=j.y+ie,oe=j.x+j.width*Dt;if(Math.abs(Pt.x-oe)<=ht&&Math.abs(Pt.y-te)<=ht)return{id:j.id,handle:\"control-1\"}}else if(j.type===\"solidBlock\"||j.type===\"cylinder\"){const At=j.depth!==void 0?j.depth:50,Dt=(j.viewAngle!==void 0?j.viewAngle:45)*Math.PI/180,ie=j.x+j.width/2,te=j.y+j.height/2,oe=ie+At*Math.cos(Dt),zt=te+At*Math.sin(Dt);if(Math.abs(Pt.x-oe)<=ht&&Math.abs(Pt.y-zt)<=ht)return{id:j.id,handle:\"control-1\"}}else if(j.type===\"perspectiveBlock\"){const At=j.depth!==void 0?j.depth:50,Dt=(j.viewAngle!==void 0?j.viewAngle:45)*Math.PI/180,ie=j.taper!==void 0?j.taper:0,te=(j.skewX!==void 0?j.skewX:0)*j.width,oe=(j.skewY!==void 0?j.skewY:0)*j.height,zt=j.x+j.width/2,ae=j.y+j.height/2,Me=At*Math.cos(Dt)+te,Fe=At*Math.sin(Dt)+oe,Vt=1-ie,be=j.width/2*Vt,mt=j.height/2*Vt,qt=1-(j.frontTaper||0),J=j.width/2*qt,he=j.height/2*qt,ue=(j.frontSkewX||0)*j.width,ve=(j.frontSkewY||0)*j.height,Ye=[{x:zt+Me,y:ae+Fe,handle:\"control-1\"},{x:zt+Me-be,y:ae+Fe-mt,handle:\"control-2\"},{x:zt+Me+be,y:ae+Fe-mt,handle:\"control-3\"},{x:zt+Me+be,y:ae+Fe+mt,handle:\"control-4\"},{x:zt+Me-be,y:ae+Fe+mt,handle:\"control-5\"},{x:zt+ue-J,y:ae+ve-he,handle:\"control-6\"},{x:zt+ue+J,y:ae+ve-he,handle:\"control-7\"},{x:zt+ue+J,y:ae+ve+he,handle:\"control-8\"},{x:zt+ue-J,y:ae+ve+he,handle:\"control-9\"}];for(const Ke of Ye)if(Math.abs(Pt.x-Ke.x)<=ht&&Math.abs(Pt.y-Ke.y)<=ht)return{id:j.id,handle:Ke.handle}}else if(j.type===\"star\"||j.type===\"burst\"){const At=(j.shapeRatio!==void 0?j.shapeRatio:25)/100,Dt=j.x+j.width/2,ie=j.y+j.height*At;if(Math.abs(Pt.x-Dt)<=ht&&Math.abs(Pt.y-ie)<=ht)return{id:j.id,handle:\"control-1\"}}if((j.type===\"line\"||j.type===\"arrow\"||j.type===\"bezier\"||j.type===\"organicBranch\")&&j.controlPoints)if(j.controlPoints.length===1){const At=j.controlPoints[0];let Dt={x:j.x,y:j.y},ie={x:j.x+j.width,y:j.y+j.height};if(j.points&&j.points.length>=2){const zt=Rr(j.points);zt.length>0&&(Dt={x:j.x+zt[0].x,y:j.y+zt[0].y},ie={x:j.x+zt[zt.length-1].x,y:j.y+zt[zt.length-1].y})}const te=.25*Dt.x+.5*At.x+.25*ie.x,oe=.25*Dt.y+.5*At.y+.25*ie.y;if(Math.abs(w-te)<=ht/2&&Math.abs(Y-oe)<=ht/2)return{id:j.id,handle:\"control-0\"}}else for(let At=0;At<j.controlPoints.length;At++){const Dt=j.controlPoints[At];if(Math.abs(w-Dt.x)<=ht/2&&Math.abs(Y-Dt.y)<=ht/2)return{id:j.id,handle:`control-${At}`}}if(j.type!==\"line\"&&j.type!==\"arrow\"){const At=14/lt,Dt=32/lt,ie=j.x+j.width/2,te=j.y+j.height/2,oe=[{type:\"connector-top\",x:ie,y:j.y-Dt},{type:\"connector-right\",x:j.x+j.width+Dt,y:te},{type:\"connector-bottom\",x:ie,y:j.y+j.height+Dt},{type:\"connector-left\",x:j.x-Dt,y:te}];for(const zt of oe)if(Math.sqrt(Math.pow(Pt.x-zt.x,2)+Math.pow(Pt.y-zt.y,2))<=At/2+2/lt)return{id:j.id,handle:zt.type}}}return null},ze=w=>{if(!w.points||w.points.length===0)return null;const Y=Rr(w.points);let lt=1/0,ht=1/0,Mt=-1/0,vt=-1/0;Y.forEach(wt=>{lt=Math.min(lt,wt.x),ht=Math.min(ht,wt.y),Mt=Math.max(Mt,wt.x),vt=Math.max(vt,wt.y)});const j=Mt-lt,Ct=vt-ht,$t=Y.map(wt=>({x:wt.x-lt,y:wt.y-ht}));return{x:w.x+lt,y:w.y+ht,width:j,height:Ct,points:$t}},we=(w,Y,lt,ht,Mt)=>{if(co(w,L.elements,Mt))return!1;const vt=w.x+w.width/2,j=w.y+w.height/2,Ct=xe(Y,lt,vt,j,w.angle||0);let $t=Math.min(w.x,w.x+w.width),wt=Math.max(w.x,w.x+w.width),Pt=Math.min(w.y,w.y+w.height),jt=Math.max(w.y,w.y+w.height);if(w.type===\"solidBlock\"){const Ft=w.depth!==void 0?w.depth:50,At=(w.viewAngle!==void 0?w.viewAngle:45)*Math.PI/180,Dt=Ft*Math.cos(At),ie=Ft*Math.sin(At);$t=Math.min($t,$t+Dt,wt+Dt),wt=Math.max(wt,$t+Dt,wt+Dt),Pt=Math.min(Pt,Pt+ie,jt+ie),jt=Math.max(jt,Pt+ie,jt+ie)}else if(w.type===\"perspectiveBlock\"){const Ft=w.depth!==void 0?w.depth:50,At=(w.viewAngle!==void 0?w.viewAngle:45)*Math.PI/180,Dt=(w.skewX||0)*w.width,ie=(w.skewY||0)*w.height,te=Ft*Math.cos(At)+Dt,oe=Ft*Math.sin(At)+ie,zt=w.taper||0,ae=w.width/2*(1-zt),Me=w.height/2*(1-zt),Fe=w.x+w.width/2,Vt=w.y+w.height/2,be=Fe+te-ae,mt=Fe+te+ae,qt=Vt+oe-Me,J=Vt+oe+Me;$t=Math.min($t,be,mt),wt=Math.max(wt,be,mt),Pt=Math.min(Pt,qt,J),jt=Math.max(jt,qt,J)}if(Ct.x<$t-ht||Ct.x>wt+ht||Ct.y<Pt-ht||Ct.y>jt+ht)return!1;if(w.type===\"rectangle\"||w.type===\"solidBlock\"||w.type===\"isometricCube\"||w.type===\"perspectiveBlock\")return!0;if(w.type===\"diamond\"){const Ft=w.x+w.width/2,At=w.y+w.height/2,Dt=Math.abs(Ct.x-Ft),ie=Math.abs(Ct.y-At);return 2*Dt/w.width+2*ie/w.height<=1}else{if(w.type===\"circle\")return Ly(Ct,w.x,w.y,w.width,w.height,ht);if(w.type===\"line\"||w.type===\"arrow\"){const Ft=w.x+w.width,At=w.y+w.height;if(w.curveType===\"bezier\"){const Dt=w.width,ie=w.height;let te={x:w.x,y:w.y},oe={x:Ft,y:At};if(w.controlPoints&&w.controlPoints.length>0){const zt={x:w.x,y:w.y},ae={x:Ft,y:At};if(w.controlPoints.length===2)return fl(Ct,zt,w.controlPoints[0],w.controlPoints[1],ae,ht);{const Me=w.controlPoints[0],Fe={x:zt.x+2/3*(Me.x-zt.x),y:zt.y+2/3*(Me.y-zt.y)},Vt={x:ae.x+2/3*(Me.x-ae.x),y:ae.y+2/3*(Me.y-ae.y)};return fl(Ct,zt,Fe,Vt,ae,ht)}}else return Math.abs(Dt)>Math.abs(ie)?(te={x:w.x+Dt/2,y:w.y},oe={x:Ft-Dt/2,y:At},fl(Ct,{x:w.x,y:w.y},te,oe,{x:Ft,y:At},ht)):(te={x:w.x,y:w.y+ie/2},oe={x:Ft,y:At-ie/2},fl(Ct,{x:w.x,y:w.y},te,oe,{x:Ft,y:At},ht))}else if(w.curveType===\"elbow\"){const Dt=Rr(w.points);if(Dt&&Dt.length>0){const ie={x:Ct.x-w.x,y:Ct.y-w.y};return Pl(ie,Dt,ht)}else return Xh(Ct,{x:w.x,y:w.y},{x:Ft,y:At})<=ht}else{if(w.points&&w.points.length>0){const Dt=Rr(w.points);if(Dt.length>1){const ie={x:Ct.x-w.x,y:Ct.y-w.y};return Pl(ie,Dt,ht)}}return Xh(Ct,{x:w.x,y:w.y},{x:w.x+w.width,y:w.y+w.height})<=ht}}else if(w.type===\"fineliner\"||w.type===\"marker\"||w.type===\"inkbrush\"||w.type===\"ink\"){const Ft=Rr(w.points);if(Ft.length>0){const At={x:Ct.x-w.x,y:Ct.y-w.y};return Pl(At,Ft,ht+(w.strokeWidth||0)/2)}return!1}else if(w.type===\"organicBranch\"){const Ft=Rr(w.points),At=w.controlPoints||[];if(Ft.length<2||At.length<2)return!1;const Dt={x:w.x+Ft[0].x,y:w.y+Ft[0].y},ie={x:w.x+Ft[Ft.length-1].x,y:w.y+Ft[Ft.length-1].y},te=Ff(Dt,ie,At[0],At[1],w.strokeWidth);return _y(Ct,te)}else{if(w.type===\"text\"||w.type===\"image\")return!0;if(w.type===\"triangle\"||w.type===\"hexagon\"||w.type===\"octagon\"||w.type===\"parallelogram\"||w.type===\"star\"||w.type===\"cloud\"||w.type===\"heart\"||w.type===\"cross\"||w.type===\"checkmark\"||w.type===\"arrowLeft\"||w.type===\"arrowRight\"||w.type===\"arrowUp\"||w.type===\"arrowDown\"||w.type===\"capsule\"||w.type===\"stickyNote\"||w.type===\"callout\"||w.type===\"burst\"||w.type===\"speechBubble\"||w.type===\"ribbon\"||w.type===\"bracketLeft\"||w.type===\"bracketRight\"||w.type===\"database\"||w.type===\"document\"||w.type===\"predefinedProcess\"||w.type===\"internalStorage\"||w.type===\"server\"||w.type===\"loadBalancer\"||w.type===\"firewall\"||w.type===\"user\"||w.type===\"messageQueue\"||w.type===\"lambda\"||w.type===\"router\"||w.type===\"browser\"||w.type===\"trapezoid\"||w.type===\"rightTriangle\"||w.type===\"pentagon\"||w.type===\"septagon\"||w.type===\"starPerson\"||w.type===\"scroll\"||w.type===\"wavyDivider\"||w.type===\"doubleBanner\"||w.type===\"lightbulb\"||w.type===\"signpost\"||w.type===\"burstBlob\"||w.type===\"browserWindow\"||w.type===\"mobilePhone\"||w.type===\"ghostButton\"||w.type===\"inputField\"||w.type===\"polygon\"||w.type===\"dfdProcess\"||w.type===\"dfdDataStore\"||w.type===\"cylinder\"||w.type===\"stateStart\"||w.type===\"stateEnd\"||w.type===\"stateSync\"||w.type===\"activationBar\"||w.type===\"externalEntity\"||w.type===\"umlClass\"||w.type===\"umlInterface\"||w.type===\"umlActor\"||w.type===\"umlUseCase\"||w.type===\"umlNote\"||w.type===\"umlPackage\"||w.type===\"umlComponent\"||w.type===\"umlState\"||w.type===\"umlLifeline\"||w.type===\"umlFragment\"||w.type===\"umlSignalSend\"||w.type===\"umlSignalReceive\"||w.type===\"umlProvidedInterface\"||w.type===\"umlRequiredInterface\")return!0}}return!1},on=w=>w.locked?!1:!P1(w.layerId),Ie=(w,Y,lt)=>{const ht=40/L.viewState.scale,Mt=25/L.viewState.scale;let vt=null;for(const j of L.elements){if(j.id===lt||!on(j)||j.type===\"line\"||j.type===\"arrow\"||j.type===\"bezier\"||j.type===\"organicBranch\")continue;const Ct=L.layers.find(wt=>wt.id===L.activeLayerId);if(!Ct||j.layerId!==Ct.id)continue;let $t=!1;if(j.type===\"text\"||j.type===\"image\"||j.type===\"rectangle\")w>=j.x-ht&&w<=j.x+j.width+ht&&Y>=j.y-ht&&Y<=j.y+j.height+ht&&($t=!0);else if(j.type===\"circle\"){const wt=j.x+j.width/2,Pt=j.y+j.height/2,jt=j.width/2+ht,Ft=j.height/2+ht;(w-wt)**2/jt**2+(Y-Pt)**2/Ft**2<=1&&($t=!0)}else j.type,w>=j.x-ht&&w<=j.x+j.width+ht&&Y>=j.y-ht&&Y<=j.y+j.height+ht&&($t=!0);if($t){vt=j;break}}if(vt){const j=Cy(vt,{x:w,y:Y},Mt);if(j)return{element:vt,snapPoint:{x:j.x,y:j.y},position:j.position};const Ct=oh(vt,{x:w,y:Y},5);if(Ct)return{element:vt,snapPoint:Ct,position:\"edge\"}}return null},qe=(w,Y,lt,ht,Mt)=>{const vt=Y??w.x,j=lt??w.y,Ct=ht??w.x+w.width,$t=Mt??w.y+w.height;if(w.curveType===\"elbow\"){const wt=L.elements.find(Ft=>Ft.id===w.startBinding?.elementId),Pt=L.elements.find(Ft=>Ft.id===w.endBinding?.elementId);return Ny({x:vt,y:j},{x:Ct,y:$t},L.elements,wt,Pt,w.startBinding?.position,w.endBinding?.position).map(Ft=>({x:Ft.x-vt,y:Ft.y-j}))}if(w.points&&w.points.length>=2)return[0,0,Ct-vt,$t-j]},We=w=>{const Y=L.elements.find(wt=>wt.id===w);if(!Y||Y.type!==\"line\"&&Y.type!==\"arrow\"&&Y.type!==\"organicBranch\"&&Y.type!==\"bezier\")return;let lt=Y.x,ht=Y.y,Mt=Y.x+Y.width,vt=Y.y+Y.height,j=!1;const Ct=Y.startBinding?L.elements.find(wt=>wt.id===Y.startBinding?.elementId):null,$t=Y.endBinding?L.elements.find(wt=>wt.id===Y.endBinding?.elementId):null;if(Ct&&$t){const wt=Ct.x+Ct.width/2,Pt=Ct.y+Ct.height/2,jt=$t.x+$t.width/2,Ft=$t.y+$t.height/2,At=jt-wt,Dt=Ft-Pt,ie=Y.startBinding?.position,te=Y.endBinding?.position;let oe,zt;if(Math.abs(At)>Math.abs(Dt)?(oe=At>0?\"right\":\"left\",zt=At>0?\"left\":\"right\"):(oe=Dt>0?\"bottom\":\"top\",zt=Dt>0?\"top\":\"bottom\"),ie!==oe||te!==zt)return fe(Y.id,{startBinding:{...Y.startBinding,position:oe},endBinding:{...Y.endBinding,position:zt}},!1),We(w)}if(Y.startBinding){const wt=Ct||L.elements.find(Pt=>Pt.id===Y.startBinding.elementId);if(wt){const Pt=Y.startBinding.position;let jt;if(Pt&&Pt!==\"edge\"){const At=Rl(wt).find(Dt=>Dt.position===Pt);At&&(jt={x:At.x,y:At.y})}jt||(jt=oh(wt,{x:Mt,y:vt},Y.startBinding.gap)),jt&&(lt=jt.x,ht=jt.y,j=!0)}}if(Y.endBinding){const wt=$t||L.elements.find(Pt=>Pt.id===Y.endBinding.elementId);if(wt){const Pt=Y.endBinding.position;let jt;if(Pt&&Pt!==\"edge\"){const At=Rl(wt).find(Dt=>Dt.position===Pt);At&&(jt={x:At.x,y:At.y})}jt||(jt=oh(wt,{x:lt,y:ht},Y.endBinding.gap)),jt&&(Mt=jt.x,vt=jt.y,j=!0)}}if(j){const wt=qe(Y,lt,ht,Mt,vt);if(lt!==Y.x||ht!==Y.y||Mt-lt!==Y.width||vt-ht!==Y.height||JSON.stringify(wt)!==JSON.stringify(Y.points)){const Pt={x:lt,y:ht,width:Mt-lt,height:vt-ht,points:wt};if(Y.controlPoints&&Y.controlPoints.length===2){const Ft=lt-Y.x,At=ht-Y.y,Dt=Mt-(Y.x+Y.width),ie=vt-(Y.y+Y.height),te={x:Y.controlPoints[0].x+Ft,y:Y.controlPoints[0].y+At},oe={x:Y.controlPoints[1].x+Dt,y:Y.controlPoints[1].y+ie};Pt.controlPoints=[te,oe]}fe(Y.id,Pt,!1)}}},ln=w=>{if(L.appMode===\"presentation\"){const At=L.selectedTool===\"selection\"||L.selectedTool===\"pan\";if(L.docType===\"slides\"){if(At){w.button===0&&I1();return}}else if(w.button===0||w.button===1){y=!0,l=w.clientX,c=w.clientY,w.currentTarget.setPointerCapture(w.pointerId);return}}w.currentTarget.setPointerCapture(w.pointerId);const{x:Y,y:lt}=dt(w.clientX,w.clientY);if(h()){De();return}if(L.selectedTool===\"selection\"){const At=ye(Y,lt);if(At){if(At.handle===\"mindmap-toggle\"){Cf(At.id);return}if(At.handle.startsWith(\"connector-\")){const Vt=L.elements.find(be=>be.id===At.id);if(Vt){const be=At.handle.replace(\"connector-\",\"\"),mt=Vt.x+Vt.width/2,qt=Vt.y+Vt.height/2;let J,he;switch(be){case\"top\":J=mt,he=Vt.y;break;case\"right\":J=Vt.x+Vt.width,he=qt;break;case\"bottom\":J=mt,he=Vt.y+Vt.height;break;case\"left\":J=Vt.x,he=qt;break;default:J=mt,he=qt}_n(),a=!0,l=J,c=he,l=J,c=he,o=gi(\"arrow\"),D={elementId:Vt.id,anchorPosition:be,startX:J,startY:he};const ue={...L.defaultElementStyles,id:o,type:\"arrow\",x:J,y:he,width:0,height:0,seed:Math.floor(Math.random()*2**31),layerId:L.activeLayerId,curveType:L.defaultElementStyles.curveType||\"straight\",startBinding:{elementId:Vt.id,focus:0,gap:5,position:be}};ol(ue);const ve=Vt.boundElements||[];fe(Vt.id,{boundElements:[...ve,{id:o,type:\"arrow\"}]});return}}if(_n(),y=!0,A=At.handle,l=Y,c=lt,At.id===\"multi\"){const Vt=me();if(Vt){Q=Vt.x,yt=Vt.y,ot=Vt.width,ft=Vt.height,Z.clear();const be=new Set(L.selection);L.selection.forEach(mt=>{sh(mt,L.elements).forEach(qt=>be.add(qt.id))}),L.elements.forEach(mt=>{be.has(mt.id)&&Z.set(mt.id,{x:mt.x,y:mt.y,width:mt.width,height:mt.height,fontSize:mt.fontSize,points:mt.points?[...mt.points]:void 0})})}}else{const Vt=L.elements.find(be=>be.id===At.id);Vt&&(Q=Vt.x,yt=Vt.y,ot=Vt.width,ft=Vt.height,ct=Vt.fontSize||20,Z.clear(),Z.set(Vt.id,{x:Vt.x,y:Vt.y,width:Vt.width,height:Vt.height,fontSize:Vt.fontSize,points:Vt.points?[...Vt.points]:void 0}))}return}let Dt=null;const ie=10/L.viewState.scale,te=nb(L.elements,L.layers);for(const{groupId:Vt}of te){const be=L.elements.filter(qt=>qt.groupIds&&qt.groupIds.includes(Vt));if(be.some(qt=>on(qt)&&Vi(qt.layerId))&&eb(Y,lt,Vt,L.elements)){const qt=be.map(he=>he.id),J=qt.every(he=>L.selection.includes(he));if(w.shiftKey||w.ctrlKey||w.metaKey?J?Kt(\"selection\",he=>he.filter(ue=>!qt.includes(ue))):Kt(\"selection\",he=>[...new Set([...he,...qt])]):J||Kt(\"selection\",qt),L.selection.length>0){_n(),y=!0,A=null,l=Y,c=lt,Z.clear();const he=new Set(L.selection);L.selection.forEach(ue=>{sh(ue,L.elements).forEach(ve=>he.add(ve.id))}),L.elements.forEach(ue=>{he.has(ue.id)&&Z.set(ue.id,{x:ue.x,y:ue.y,width:ue.width,height:ue.height,fontSize:ue.fontSize,points:ue.points?[...ue.points]:void 0,controlPoints:ue.controlPoints?ue.controlPoints.map(ve=>({...ve})):void 0})})}return}}const oe=new Map;for(const Vt of L.elements)oe.set(Vt.id,Vt);const zt=L.elements.map((Vt,be)=>{const mt=L.layers.find(qt=>qt.id===Vt.layerId);return{el:Vt,index:be,layerOrder:mt?.order??999,layerVisible:Vi(Vt.layerId)}}).sort((Vt,be)=>Vt.layerOrder!==be.layerOrder?be.layerOrder-Vt.layerOrder:be.index-Vt.index),ae=window.yappyGlobalTime||0,Me=L.appMode===\"presentation\"||L.isPreviewing,Fe=Vc(L.elements,ae,Me);for(const{el:Vt,layerVisible:be}of zt){if(!be||!on(Vt))continue;const mt=Fe.get(Vt.id),qt=mt?{...Vt,x:mt.x,y:mt.y,angle:mt.angle}:Vt;if(we(qt,Y,lt,ie,oe)){Dt=Vt.id;break}}if(Dt){const Vt=L.elements.find(qt=>qt.id===Dt);let be=[Dt];if(Vt&&Vt.groupIds&&Vt.groupIds.length>0){const qt=Vt.groupIds[Vt.groupIds.length-1];be=L.elements.filter(J=>J.groupIds&&J.groupIds.includes(qt)).map(J=>J.id)}const mt=be.every(qt=>L.selection.includes(qt));if(w.shiftKey||w.ctrlKey||w.metaKey?mt?Kt(\"selection\",qt=>qt.filter(J=>!be.includes(J))):Kt(\"selection\",qt=>[...new Set([...qt,...be])]):mt||Kt(\"selection\",be),L.selection.length>0){_n(),y=!0,A=null,l=Y,c=lt,Z.clear();const qt=new Set(L.selection);L.selection.forEach(J=>{sh(J,L.elements).forEach(he=>qt.add(he.id))}),L.elements.forEach(J=>{qt.has(J.id)&&Z.set(J.id,{x:J.x,y:J.y,width:J.width,height:J.height,fontSize:J.fontSize,points:J.points?[...J.points]:void 0,controlPoints:J.controlPoints?J.controlPoints.map(he=>({...he})):void 0})})}}else{if(L.selection.length>0){const Vt=me();if(Vt){const be=10/L.viewState.scale;if(Y>=Vt.x-be&&Y<=Vt.x+Vt.width+be&&lt>=Vt.y-be&&lt<=Vt.y+Vt.height+be){_n(),y=!0,A=null,l=Y,c=lt,Z.clear(),L.elements.forEach(mt=>{L.selection.includes(mt.id)&&Z.set(mt.id,{x:mt.x,y:mt.y,width:mt.width,height:mt.height,fontSize:mt.fontSize,points:mt.points?[...mt.points]:void 0,controlPoints:mt.controlPoints?mt.controlPoints.map(qt=>({...qt})):void 0})});return}}}!w.shiftKey&&!w.ctrlKey&&!w.metaKey&&(Kt(\"selection\",[]),Sf(!1)),k=!0,l=Y,c=lt,z({x:Y,y:lt,w:0,h:0})}return}const ht=L.layers.find(At=>At.id===L.activeLayerId);if(!ht?.visible){pi(\"Cannot draw on a hidden layer. Please show the layer first or select a visible layer.\",\"error\");return}if(ht?.locked){pi(\"Cannot draw on a locked layer. Please unlock the layer first or select an unlocked layer.\",\"error\");return}if(L.selectedTool===\"text\"){const At=gi(\"text\"),Dt={...L.defaultElementStyles,id:At,type:\"text\",x:Y,y:lt,width:100,height:30,text:\"\",layerId:L.activeLayerId};ol(Dt),d(At),m(\"\"),setTimeout(()=>v?.focus(),0);return}if(L.selectedTool===\"laser\"){a=!0,I=[{x:Y,y:lt,timestamp:Date.now()}],K=Date.now();return}if(L.selectedTool===\"ink\"){a=!0,l=Y,c=lt,o=gi(\"ink\");const At={...L.defaultElementStyles,id:o,type:\"ink\",x:Y,y:lt,width:0,height:0,strokeColor:\"#ef4444\",strokeWidth:4,opacity:100,points:[0,0],pointsEncoding:\"flat\",ttl:Date.now()+3e3,layerId:L.activeLayerId,seed:Math.floor(Math.random()*2**31)};ol(At);return}if(L.selectedTool===\"eraser\"){a=!0;const At=10/L.viewState.scale,Dt=new Map;for(const ie of L.elements)Dt.set(ie.id,ie);for(let ie=L.elements.length-1;ie>=0;ie--){const te=L.elements[ie];on(te)&&Vi(te.layerId)&&we(te,Y,lt,At,Dt)&&ua([te.id])}return}if(L.selectedTool===\"pan\"){y=!0,T(\"grabbing\");return}a=!0,_t=[],It=0;let Mt=Y,vt=lt;if(L.gridSettings.snapToGrid){const At=lh(Y,lt,L.gridSettings.gridSize);Mt=At.x,vt=At.y}l=Mt,c=vt,o=gi(L.selectedTool);const j=L.selectedTool,Ct=j===\"bezier\"?\"line\":j,$t=j===\"bezier\"||j===\"organicBranch\"?\"bezier\":L.defaultElementStyles.curveType||\"straight\";let wt,Pt=Mt,jt=vt;if(j===\"line\"||j===\"arrow\"||j===\"bezier\"||j===\"organicBranch\"){const At=Ie(Mt,vt,o);At&&(wt={elementId:At.element.id,focus:0,gap:5,position:At.position},Pt=At.snapPoint.x,jt=At.snapPoint.y,l=Pt,c=jt)}const Ft={...L.defaultElementStyles,id:o,type:Ct,x:Pt,y:jt,width:0,height:0,seed:Math.floor(Math.random()*2**31)+1,layerId:L.activeLayerId,curveType:$t,points:j===\"fineliner\"||j===\"inkbrush\"||j===\"marker\"?[0,0]:void 0,pointsEncoding:j===\"fineliner\"||j===\"inkbrush\"||j===\"marker\"?\"flat\":void 0,startBinding:wt,strokeStyle:[\"rectangle\",\"circle\",\"diamond\",\"triangle\",\"hexagon\",\"octagon\",\"pentagon\",\"septagon\",\"star\",\"cloud\",\"heart\",\"capsule\",\"stickyNote\",\"callout\",\"speechBubble\",\"database\",\"document\",\"cylinder\",\"isometricCube\",\"solidBlock\",\"perspectiveBlock\",\"umlClass\",\"umlInterface\",\"umlActor\",\"umlComponent\",\"umlState\",\"umlLifeline\",\"umlFragment\",\"umlSignalSend\",\"umlSignalReceive\"].includes(Ct)?\"solid\":L.defaultElementStyles.strokeStyle};if(Ct===\"stickyNote\"&&(Ft.backgroundColor=\"#fef08a\",Ft.fillStyle=\"solid\",Ft.strokeColor=\"#000000\"),ol(Ft),wt){const At=L.elements.find(Dt=>Dt.id===wt.elementId);if(At){const Dt=At.boundElements||[];fe(At.id,{boundElements:[...Dt,{id:o,type:Ct}]})}}},Re=w=>{if(L.appMode===\"presentation\"){const ht=L.selectedTool===\"selection\"||L.selectedTool===\"pan\";if(L.docType===\"slides\"&&ht)return;if(L.docType!==\"slides\"){if(y){Nr({panX:L.viewState.panX+w.movementX,panY:L.viewState.panY+w.movementY});return}}}let{x:Y,y:lt}=dt(w.clientX,w.clientY);if(L.selectedTool===\"pan\")T(y?\"grabbing\":\"grab\");else if(L.selectedTool===\"selection\"&&!y){const ht=ye(Y,lt),Mt=_;ht?ht.handle===\"rotate\"?T(\"grab\"):ht.handle===\"tl\"||ht.handle===\"br\"?T(\"nwse-resize\"):ht.handle===\"tr\"||ht.handle===\"bl\"?T(\"nesw-resize\"):ht.handle===\"tm\"||ht.handle===\"bm\"?T(\"ns-resize\"):ht.handle===\"lm\"||ht.handle===\"rm\"?T(\"ew-resize\"):ht.handle.startsWith(\"connector-\")?(T(\"crosshair\"),_={elementId:ht.id,handle:ht.handle}):_=null:(T(\"default\"),_=null),(Mt&&!_||!Mt&&_||Mt&&_&&(Mt.elementId!==_.elementId||Mt.handle!==_.handle))&&requestAnimationFrame(Lt)}if(L.selectedTool===\"pan\"){y&&Nr({panX:L.viewState.panX+w.movementX,panY:L.viewState.panY+w.movementY});return}if(L.selectedTool===\"selection\"){if(k){const ht=Y-l,Mt=lt-c;z({x:ht>0?l:l+ht,y:Mt>0?c:c+Mt,w:Math.abs(ht),h:Math.abs(Mt)});return}if(y&&L.selection.length>0){const ht=L.selection[0],Mt=L.elements.find(vt=>vt.id===ht);if(!Mt||A&&!on(Mt))return;if(A){if((Mt.type===\"line\"||Mt.type===\"arrow\"||Mt.type===\"organicBranch\")&&(A===\"tl\"||A===\"br\")){const vt=Ie(Y,lt,Mt.id);vt?(F({elementId:vt.element.id,px:vt.snapPoint.x,py:vt.snapPoint.y,position:vt.position}),Y=vt.snapPoint.x,lt=vt.snapPoint.y):F(null)}else F(null);if(A===\"rotate\"){const vt=Mt.x+Mt.width/2,j=Mt.y+Mt.height/2,Ct=Math.atan2(lt-j,Y-vt);fe(ht,{angle:Ct+Math.PI/2})}else{let vt=Y,j=lt;if(L.gridSettings.snapToGrid){const te=lh(Y,lt,L.gridSettings.gridSize);vt=te.x,j=te.y}const Ct=vt-l,$t=j-c;let wt=Q,Pt=yt,jt=ot,Ft=ft;A===\"tl\"?(wt+=Ct,Pt+=$t,jt-=Ct,Ft-=$t):A===\"tr\"?(Pt+=$t,jt+=Ct,Ft-=$t):A===\"bl\"?(wt+=Ct,jt-=Ct,Ft+=$t):A===\"br\"?(jt+=Ct,Ft+=$t):A===\"tm\"?(Pt+=$t,Ft-=$t):A===\"bm\"?Ft+=$t:A===\"lm\"?(wt+=Ct,jt-=Ct):A===\"rm\"&&(jt+=Ct);const At=L.selection.length>1,Dt=L.elements.find(te=>te.id===L.selection[0]);let ie=w.shiftKey||L.selection.length===1&&Dt?.constrained;if(L.selection.length===1&&Dt?.type===\"text\"&&(ie=!w.shiftKey),ie&&ot!==0&&ft!==0){const te=ot/ft;[\"tm\",\"bm\"].includes(A)?(jt=Ft*te,wt=Q+ot/2-jt/2):[\"lm\",\"rm\"].includes(A)?(Ft=jt/te,Pt=yt+ft/2-Ft/2):(Math.abs(jt)/te>Math.abs(Ft)?Ft=jt/te:jt=Ft*te,A===\"tl\"?(wt=Q+ot-jt,Pt=yt+ft-Ft):A===\"tr\"?Pt=yt+ft-Ft:A===\"bl\"&&(wt=Q+ot-jt))}if(A&&A.startsWith(\"control-\")){const te=parseInt(A.replace(\"control-\",\"\"),10),oe=L.elements.find(zt=>zt.id===ht);if(oe){let zt=oe.controlPoints?[...oe.controlPoints]:[];for(;zt.length<=te;)zt.push({x:Y,y:lt});if(oe.controlPoints&&oe.controlPoints.length===1&&te===0){let ae={x:oe.x,y:oe.y},Me={x:oe.x+oe.width,y:oe.y+oe.height};if(oe.points&&oe.points.length>=2){const be=Rr(oe.points);be.length>0&&(ae={x:oe.x+be[0].x,y:oe.y+be[0].y},Me={x:oe.x+be[be.length-1].x,y:oe.y+be[be.length-1].y})}const Fe=2*Y-.5*ae.x-.5*Me.x,Vt=2*lt-.5*ae.y-.5*Me.y;zt[0]={x:Fe,y:Vt}}else zt[te]={x:Y,y:lt};fe(oe.id,{controlPoints:zt})}if(A&&A.startsWith(\"control-\")){const zt=L.elements.find(ae=>ae.id===ht);if(zt){if(zt.type===\"isometricCube\"&&A===\"control-1\"){let ae=(lt-zt.y)/zt.height;ae=Math.max(.1,Math.min(.9,ae));const Me=Math.round(ae*100);let Fe=(Y-zt.x)/zt.width;Fe=Math.max(0,Math.min(1,Fe));const Vt=Math.round(Fe*100);fe(zt.id,{shapeRatio:Me,sideRatio:Vt},!1)}else if((zt.type===\"solidBlock\"||zt.type===\"cylinder\")&&A===\"control-1\"){const ae=zt.x+zt.width/2,Me=zt.y+zt.height/2,Fe=Y-ae,Vt=lt-Me;let be=Math.sqrt(Fe*Fe+Vt*Vt);be=Math.round(be);let mt=Math.atan2(Vt,Fe),qt=Math.round(mt*180/Math.PI);qt<0&&(qt+=360),fe(zt.id,{depth:be,viewAngle:qt},!1)}else if(zt.type===\"perspectiveBlock\"){if(A===\"control-1\"){const ae=zt.x+zt.width/2,Me=zt.y+zt.height/2,Fe=Y-ae-(zt.skewX||0)*zt.width,Vt=lt-Me-(zt.skewY||0)*zt.height;let be=Math.sqrt(Fe*Fe+Vt*Vt),mt=Math.atan2(Vt,Fe),qt=Math.round(mt*180/Math.PI);qt<0&&(qt+=360),fe(zt.id,{depth:Math.round(be),viewAngle:qt},!1)}else if(A===\"control-2\"||A===\"control-3\"||A===\"control-4\"||A===\"control-5\"){const ae=zt.width/2,Me=zt.height/2,Fe=zt.x+ae,Vt=zt.y+Me,be=(zt.viewAngle||45)*Math.PI/180,mt=zt.depth||50,qt=Fe+mt*Math.cos(be),J=Vt+mt*Math.sin(be),he=Y-qt,ue=lt-J,ve=A===\"control-3\"||A===\"control-4\"?1:-1,Ye=A===\"control-4\"||A===\"control-5\"?1:-1,Ke=Math.sqrt(he*he+ue*ue),re=Math.sqrt(ae*ae+Me*Me),_e=Math.max(0,Math.min(1,1-Ke/re)),Se=(he-ve*ae*(1-_e))/zt.width,je=(ue-Ye*Me*(1-_e))/zt.height;fe(zt.id,{taper:_e,skewX:Se,skewY:je},!1)}else if(A===\"control-6\"||A===\"control-7\"||A===\"control-8\"||A===\"control-9\"){const ae=zt.width/2,Me=zt.height/2,Fe=zt.x+ae,Vt=zt.y+Me,be=Y-Fe,mt=lt-Vt,qt=A===\"control-7\"||A===\"control-8\"?1:-1,J=A===\"control-8\"||A===\"control-9\"?1:-1,he=Math.sqrt(be*be+mt*mt),ue=Math.sqrt(ae*ae+Me*Me),ve=Math.max(0,Math.min(1,1-he/ue)),Ye=(be-qt*ae*(1-ve))/zt.width,Ke=(mt-J*Me*(1-ve))/zt.height;fe(zt.id,{frontTaper:ve,frontSkewX:Ye,frontSkewY:Ke},!1)}}else if((zt.type===\"star\"||zt.type===\"burst\")&&A===\"control-1\"){let ae=(lt-zt.y)/zt.height;ae=Math.max(.1,Math.min(.9,ae));const Me=Math.round(ae*100);fe(zt.id,{shapeRatio:Me},!1)}else if(zt.type===\"speechBubble\"&&A===\"control-1\"){let ae=(Y-zt.x)/zt.width,Me=(lt-zt.y)/zt.height;ae=Math.max(-.5,Math.min(1.5,ae)),Me=Math.max(-.5,Math.min(1.5,Me)),fe(zt.id,{tailX:ae,tailY:Me},!1)}}}}else if(At){const te=ot===0?1:jt/ot,oe=ft===0?1:Ft/ft;L.selection.forEach(zt=>{const ae=Z.get(zt);if(!ae)return;const Me=ae.x-Q,Fe=ae.y-yt,Vt={x:wt+Me*te,y:Pt+Fe*oe,width:ae.width*te,height:ae.height*oe};if(ae.points)if(typeof ae.points[0]==\"number\"){const mt=ae.points,qt=[];for(let J=0;J<mt.length;J+=2)qt.push(mt[J]*te,mt[J+1]*oe);Vt.points=qt}else Vt.points=ae.points.map(mt=>({x:mt.x*te,y:mt.y*oe}));const be=L.elements.find(mt=>mt.id===zt);be&&be.type===\"text\"&&(Vt.fontSize=Math.max(8,(ae.fontSize||20)*oe)),fe(zt,Vt,!1)})}else{const te=L.selection[0],oe=L.elements.find(zt=>zt.id===te);if(oe){const zt={x:wt,y:Pt,width:jt,height:Ft},ae=ot===0?1:jt/ot,Me=ft===0?1:Ft/ft;if(oe.type===\"text\"&&Me>0){let Fe=ct*Me;Fe=Math.max(Fe,8),zt.fontSize=Fe}if((oe.type===\"fineliner\"||oe.type===\"inkbrush\"||oe.type===\"marker\")&&oe.points){const Fe=Z.get(te);if(Fe&&Fe.points)if(oe.pointsEncoding===\"flat\"||Fe.points.length>0&&typeof Fe.points[0]==\"number\"){const Vt=Fe.points,be=[];for(let mt=0;mt<Vt.length;mt+=2)be.push(Vt[mt]*ae,Vt[mt+1]*Me);zt.points=be}else zt.points=Fe.points.map(Vt=>({x:Vt.x*ae,y:Vt.y*Me,...Vt.p!==void 0?{p:Vt.p}:{}}))}if((oe.type===\"line\"||oe.type===\"arrow\"||oe.type===\"bezier\")&&(zt.points=qe(oe,wt,Pt,wt+jt,Pt+Ft)),oe.type===\"organicBranch\"){zt.points=[0,0,jt,Ft];const Fe=wt,Vt=Pt,be=wt+jt,mt=Pt+Ft,qt={x:Fe+jt*.5,y:Vt},J={x:be-jt*.5,y:mt};zt.controlPoints=[qt,J]}fe(te,zt,!1)}}}}else{let vt=Y-l,j=lt-c;if(L.gridSettings.objectSnapping&&!w.shiftKey){const $t=performance.now();if($t-Tt>=at){const wt=zy(L.selection,L.elements,vt,j,5/L.viewState.scale);vt=wt.dx,j=wt.dy,G(wt.guides);const Pt=jy(L.selection,L.elements,vt,j,5/L.viewState.scale);vt=Pt.dx,j=Pt.dy,C(Pt.guides),Tt=$t}}else G([]),C([]);if(L.gridSettings.snapToGrid&&!w.shiftKey&&P().length===0){const $t=L.gridSettings.gridSize;vt=Math.round(vt/$t)*$t,j=Math.round(j/$t)*$t}const Ct=w.altKey;Z.forEach(($t,wt)=>{if(Ct&&!L.selection.includes(wt))return;const Pt=L.elements.find(jt=>jt.id===wt);if(Pt&&on(Pt)){const jt={x:$t.x+vt,y:$t.y+j};$t.controlPoints&&(jt.controlPoints=$t.controlPoints.map(Ft=>({x:Ft.x+vt,y:Ft.y+j}))),fe(wt,jt,!1),Pt.boundElements&&Pt.boundElements.forEach(Ft=>We(Ft.id))}})}}}if(L.selectedTool===\"laser\"){const ht=Date.now();if(ht-K>=et){K=ht;const{x:Mt,y:vt}=dt(w.clientX,w.clientY);I.length>=kt&&I.shift(),I.push({x:Mt,y:vt,timestamp:ht}),X||(X=!0,requestAnimationFrame(()=>{X=!1,Lt()}))}}if(!a||!o){if(a&&L.selectedTool===\"eraser\"){const ht=10/L.viewState.scale,Mt=new Map;for(const vt of L.elements)Mt.set(vt.id,vt);for(let vt=L.elements.length-1;vt>=0;vt--){const j=L.elements[vt];on(j)&&Vi(j.layerId)&&we(j,Y,lt,ht,Mt)&&ua([j.id])}}return}if(L.selectedTool===\"fineliner\"||L.selectedTool===\"marker\"||L.selectedTool===\"inkbrush\"||L.selectedTool===\"ink\"){const{x:ht,y:Mt}=dt(w.clientX,w.clientY),vt=ht-l,j=Mt-c;_t.push(vt,j);const Ct=Date.now();Ct-It>=Ut?(It=Ct,de()):Zt||(Zt=!0,requestAnimationFrame(()=>{Zt=!1,de()}))}else{let ht=Y,Mt=lt;if(L.selectedTool===\"line\"||L.selectedTool===\"arrow\"||L.selectedTool===\"bezier\"||L.selectedTool===\"organicBranch\"||D){if(o){const j=Ie(Y,lt,o);j?(F({elementId:j.element.id,px:j.snapPoint.x,py:j.snapPoint.y,position:j.position}),ht=j.snapPoint.x,Mt=j.snapPoint.y):F(null)}}else F(null);if(!H()&&L.gridSettings.snapToGrid){const j=lh(Y,lt,L.gridSettings.gridSize);ht=j.x,Mt=j.y}const vt={width:ht-l,height:Mt-c};if(L.selectedTool===\"organicBranch\"){const j=ht-l,Ct=Mt-c;vt.points=[0,0,j,Ct];const $t={x:l+j*.5,y:c},wt={x:ht-j*.5,y:Mt};vt.controlPoints=[$t,wt]}fe(o,vt)}if(y||a){const vt=w.clientX,j=w.clientY;let Ct=0,$t=0;vt<50&&(Ct=10),vt>window.innerWidth-50&&(Ct=-10),j<50&&($t=10),j>window.innerHeight-50&&($t=-10),(Ct!==0||$t!==0)&&Nr({panX:L.viewState.panX+Ct,panY:L.viewState.panY+$t})}(a||y)&&requestAnimationFrame(Lt)},mn=w=>{if(w.currentTarget.releasePointerCapture(w.pointerId),L.appMode===\"presentation\"){const Y=L.selectedTool===\"selection\"||L.selectedTool===\"pan\";if(L.docType===\"slides\"&&Y)return;if(L.docType!==\"slides\"){y=!1;return}}if(L.selectedTool===\"pan\"){y=!1,T(\"grab\");return}if(L.selectedTool===\"laser\"){a=!1;const Y=()=>{I.length>0&&(Lt(),requestAnimationFrame(Y))};requestAnimationFrame(Y);return}if(D&&a&&o){if(L.elements.find(lt=>lt.id===o)){if(H()){const lt=H(),ht={elementId:lt.elementId,focus:0,gap:5};fe(o,{endBinding:ht});const Mt=L.elements.find(vt=>vt.id===lt.elementId);if(Mt){const vt=Mt.boundElements||[];vt.find(j=>j.id===o)||fe(Mt.id,{boundElements:[...vt,{id:o,type:\"arrow\"}]})}}Kt(\"selection\",[o])}a=!1,o=null,D=null,F(null),requestAnimationFrame(Lt);return}if(L.selectedTool===\"selection\"){if(k){const Y=M();if(Y){const lt=[],ht=Y.x,Mt=Y.y,vt=Y.w,j=Y.h;if(L.elements.forEach(Ct=>{const $t=Ct.x,wt=Ct.y,Pt=Ct.width,jt=Ct.height,Ft=Math.min($t,$t+Pt),At=Math.max($t,$t+Pt),Dt=Math.min(wt,wt+jt),ie=Math.max(wt,wt+jt);ht<At&&ht+vt>Ft&&Mt<ie&&Mt+j>Dt&&lt.push(Ct.id)}),w.shiftKey||w.ctrlKey||w.metaKey){const Ct=new Set(L.selection);lt.forEach($t=>Ct.add($t)),Kt(\"selection\",Array.from(Ct))}else Kt(\"selection\",lt)}k=!1,z(null)}if(y){const Y=H();if(Y&&L.selection.length===1&&A){const lt=L.selection[0],ht=L.elements.find(Mt=>Mt.id===lt);if(ht&&(ht.type===\"line\"||ht.type===\"arrow\"||ht.type===\"organicBranch\")){const Mt=A===\"tl\",vt={elementId:Y.elementId,focus:0,gap:5,position:Y.position};fe(lt,Mt?{startBinding:vt}:{endBinding:vt});const j=L.elements.find(Ct=>Ct.id===Y.elementId);if(j){const Ct=j.boundElements||[];Ct.find($t=>$t.id===lt)||fe(j.id,{boundElements:[...Ct,{id:lt,type:ht.type}]})}}}F(null)}y=!1,A=null,Z.clear(),G([]);return}if(a&&o){const Y=L.elements.find(lt=>lt.id===o);if(Y){if((Y.type===\"line\"||Y.type===\"arrow\"||Y.type===\"bezier\"||Y.type===\"organicBranch\")&&H()){const ht=H(),Mt={elementId:ht.elementId,focus:0,gap:5,position:ht.position};fe(o,{endBinding:Mt});const vt=L.elements.find(j=>j.id===ht.elementId);if(vt){const j=vt.boundElements||[];fe(vt.id,{boundElements:[...j,{id:o,type:Y.type}]})}F(null)}if([\"rectangle\",\"circle\",\"diamond\",\"triangle\",\"hexagon\",\"octagon\",\"parallelogram\",\"star\",\"cloud\",\"heart\",\"capsule\",\"stickyNote\",\"callout\",\"burst\",\"speechBubble\",\"ribbon\",\"bracketLeft\",\"bracketRight\",\"database\",\"document\",\"predefinedProcess\",\"internalStorage\",\"server\",\"loadBalancer\",\"firewall\",\"user\",\"messageQueue\",\"lambda\",\"router\",\"browser\",\"trapezoid\",\"rightTriangle\",\"pentagon\",\"septagon\",\"browserWindow\",\"mobilePhone\",\"ghostButton\",\"inputField\"].includes(Y.type))Y.width<0&&fe(o,{x:Y.x+Y.width,width:Math.abs(Y.width)}),Y.height<0&&fe(o,{y:Y.y+Y.height,height:Math.abs(Y.height)});else if(Y.type===\"fineliner\"||Y.type===\"inkbrush\"||Y.type===\"marker\"||Y.type===\"ink\"){de();const ht=L.elements.find(Mt=>Mt.id===o);if(ht&&ht.points&&ht.points.length>2){const Mt=ze({...ht,points:ht.points});Mt&&fe(o,Mt)}}else if(Y.type===\"organicBranch\"){Y.x,Y.y,Y.width,Y.height;const ht=Math.min(Y.x,Y.x+Y.width),Mt=Math.min(Y.y,Y.y+Y.height),vt=Math.abs(Y.width),j=Math.abs(Y.height),Ct=Y.x-ht,$t=Y.y-Mt,wt=Y.x+Y.width-ht,Pt=Y.y+Y.height-Mt,jt=wt-Ct,Ft={x:ht+Ct+jt*.5,y:Mt+$t},At={x:ht+wt-jt*.5,y:Mt+Pt};fe(o,{x:ht,y:Mt,width:vt,height:j,points:[Ct,$t,wt,Pt],controlPoints:[Ft,At]})}[\"selection\",\"pan\",\"eraser\",\"fineliner\",\"inkbrush\",\"marker\",\"text\",\"block-text\",\"ink\"].includes(L.selectedTool)||mo(\"selection\"),D&&(Kt(\"selection\",[o]),mo(\"selection\"))}}a=!1,o=null,D=null},De=()=>{const w=h();if(!w)return;const Y=L.elements.find(ht=>ht.id===w);if(!Y)return;const lt=b().trim();if(Y.type===\"text\")if(lt){let ht=0,Mt=0;if(t){const vt=t.getContext(\"2d\");if(vt){const j=Y.fontSize||20;vt.font=`${j}px sans-serif`,ht=vt.measureText(lt).width,Mt=j}}ht=Math.max(ht,10),Mt=Math.max(Mt,10),fe(w,{text:lt,width:ht,height:Mt},!0)}else ua([w]);else{const ht=Y.type===\"line\"||Y.type===\"arrow\"||Y.type===\"organicBranch\",Mt=g();if(Y.autoResize&&t&&!ht&&Mt===\"containerText\"){const vt=t.getContext(\"2d\");if(vt){const j=Uf(vt,Y,lt);fe(w,{[Mt]:lt,width:j.width,height:j.height},!0)}else fe(w,{[Mt]:lt},!0)}else fe(w,{[Mt]:lt},!0)}d(null),m(\"\"),requestAnimationFrame(Lt)},Xe=w=>{if(w.preventDefault(),L.selectedTool!==\"selection\")return;const{x:Y,y:lt}=dt(w.clientX,w.clientY),ht=10/L.viewState.scale,Mt=new Map;for(const vt of L.elements)Mt.set(vt.id,vt);for(let vt=L.elements.length-1;vt>=0;vt--){const j=L.elements[vt];if(on(j)&&Vi(j.layerId)&&we(j,Y,lt,ht,Mt)){if([\"star\",\"burst\",\"speechBubble\",\"isometricCube\",\"solidBlock\",\"perspectiveBlock\"].includes(j.type)){const $t=ye(Y,lt);if($t&&$t.handle.startsWith(\"control-\"))return}if(j.type===\"line\"||j.type===\"arrow\"||j.type===\"bezier\"){const $t=j.controlPoints?[...j.controlPoints]:[];if($t.length>=2)return;$t.push({x:Y,y:lt}),fe(j.id,{controlPoints:$t,curveType:\"bezier\"},!0);return}if([\"rectangle\",\"circle\",\"diamond\",\"line\",\"arrow\",\"triangle\",\"hexagon\",\"octagon\",\"parallelogram\",\"star\",\"cloud\",\"heart\",\"capsule\",\"stickyNote\",\"callout\",\"burst\",\"speechBubble\",\"ribbon\",\"bracketLeft\",\"bracketRight\",\"database\",\"document\",\"predefinedProcess\",\"internalStorage\",\"server\",\"loadBalancer\",\"firewall\",\"user\",\"messageQueue\",\"lambda\",\"router\",\"browser\",\"trapezoid\",\"rightTriangle\",\"pentagon\",\"septagon\",\"starPerson\",\"scroll\",\"wavyDivider\",\"doubleBanner\",\"lightbulb\",\"signpost\",\"burstBlob\",\"browserWindow\",\"mobilePhone\",\"ghostButton\",\"inputField\",\"dfdProcess\",\"dfdDataStore\",\"isometricCube\",\"solidBlock\",\"perspectiveBlock\",\"cylinder\",\"stateStart\",\"stateEnd\",\"stateSync\",\"activationBar\",\"externalEntity\",\"umlClass\",\"umlInterface\",\"umlActor\",\"umlUseCase\",\"umlNote\",\"umlPackage\",\"umlComponent\",\"umlState\",\"umlLifeline\",\"umlFragment\",\"umlSignalSend\",\"umlSignalReceive\",\"umlProvidedInterface\",\"umlRequiredInterface\"].includes(j.type)){if(d(j.id),j.type===\"umlClass\"){const $t=lt-j.y,wt=t?.getContext(\"2d\");let Pt=30;if(j.containerText&&wt){const Ft=ho(wt,j,j.containerText,j.width-10);Pt=Math.max(30,Ft.textHeight+20)}let jt=20;if(j.attributesText&&wt){const Ft=ho(wt,{...j,fontSize:(j.fontSize||20)*.9},j.attributesText,j.width-10);jt=Math.max(20,Ft.textHeight+10)}$t<Pt?(u(\"containerText\"),m(j.containerText||\"\")):$t<Pt+jt?(u(\"attributesText\"),m(j.attributesText||\"\")):(u(\"methodsText\"),m(j.methodsText||\"\"))}else if(j.type===\"umlState\"){const $t=lt-j.y,wt=t?.getContext(\"2d\");let Pt=35;if(j.containerText&&wt){const jt=ho(wt,j,j.containerText,j.width-20);Pt=Math.max(35,jt.textHeight+15)}$t<Pt?(u(\"containerText\"),m(j.containerText||\"\")):(u(\"attributesText\"),m(j.attributesText||\"\"))}else if(j.type===\"umlFragment\"){const $t=lt-j.y,wt=Y-j.x,Pt=Math.min(j.width*.3,60),jt=Math.min(j.height*.12,22)+5;wt<Pt&&$t<jt?(u(\"containerText\"),m(j.containerText||\"\")):(u(\"attributesText\"),m(j.attributesText||\"\"))}else u(\"containerText\"),m(j.containerText||\"\");setTimeout(()=>v?.focus(),0);return}break}}},wn=()=>{h()&&De()},Ge=()=>{const w=h();return w?L.elements.find(Y=>Y.id===w):null};di(()=>{h()&&v&&(v.style.height=\"auto\",v.style.height=v.scrollHeight+\"px\")});const[Te,fn]=En(!1);di(()=>{const{scale:w,panX:Y,panY:lt}=L.viewState;if(!t||L.elements.length===0){fn(!1);return}const ht=-Y/w,Mt=-lt/w,vt=t.width/w,j=t.height/w;let Ct=1/0,$t=1/0,wt=-1/0,Pt=-1/0;L.elements.forEach(Ft=>{const At=Ft.x,Dt=Ft.x+Ft.width,ie=Ft.y,te=Ft.y+Ft.height;Ct=Math.min(Ct,At,Dt),wt=Math.max(wt,At,Dt),$t=Math.min($t,ie,te),Pt=Math.max(Pt,ie,te)});const jt=!(Ct>ht+vt||wt<ht||$t>Mt+j||Pt<Mt);fn(!jt)});const Ci=()=>{if(L.elements.length===0)return;let w=1/0,Y=1/0,lt=-1/0,ht=-1/0;L.elements.forEach(At=>{const Dt=At.x,ie=At.x+At.width,te=At.y,oe=At.y+At.height;w=Math.min(w,Dt,ie),lt=Math.max(lt,Dt,ie),Y=Math.min(Y,te,oe),ht=Math.max(ht,te,oe)});const Mt=lt-w,vt=ht-Y,j=w+Mt/2,Ct=Y+vt/2,{scale:$t}=L.viewState,wt=window.innerWidth/2,Pt=window.innerHeight/2,jt=-j*$t+wt,Ft=-Ct*$t+Pt;Nr({panX:jt,panY:Ft})};Lo(()=>{Fy(()=>{Lt()}),window.addEventListener(\"resize\",ce),document.addEventListener(\"fullscreenchange\",ce),ce(),qs(()=>{window.removeEventListener(\"resize\",ce),document.removeEventListener(\"fullscreenchange\",ce)})});const ar=()=>{const w=L.selection.length,Y=w>0,lt=[];if(Y){lt.push({label:\"Copy\",shortcut:\"Ctrl+C\",onClick:j1},{label:\"Paste\",shortcut:\"Ctrl+V\",onClick:zf},{label:\"Cut\",shortcut:\"Ctrl+X\",onClick:qy},{label:\"Duplicate\",shortcut:\"Ctrl+D\",onClick:()=>L.selection.forEach(Pt=>jm(Pt))},{separator:!0});const ht=L.selection[0],Mt=L.elements.find(Pt=>Pt.id===ht);if(Mt){const Pt=[];if(w===1&&(Pt.push({label:\"Add Child\",onClick:()=>Nm(ht)}),Mt.parentId&&Pt.push({label:\"Add Sibling\",onClick:()=>Mm(ht)}),Pt.push({separator:!0})),Mt.parentId&&Pt.push({label:\"Clear Parent\",onClick:()=>Jm(ht)}),L.elements.some(At=>At.parentId===ht)&&Pt.push({label:Mt.isCollapsed?\"Expand Subtree\":\"Collapse Subtree\",onClick:()=>Cf(ht)}),w===2){const At=L.selection[0],Dt=L.selection[1];Pt.push({label:\"Set as Child of Selected\",onClick:()=>Km(At,Dt)})}const Ft=[{label:\"Horizontal (Right)\",icon:\"\",onClick:()=>na(ht,\"horizontal-right\")},{label:\"Horizontal (Left)\",icon:\"\",onClick:()=>na(ht,\"horizontal-left\")},{label:\"Vertical (Down)\",icon:\"\",onClick:()=>na(ht,\"vertical-down\")},{label:\"Vertical (Up)\",icon:\"\",onClick:()=>na(ht,\"vertical-up\")},{label:\"Radial (Neuron)\",icon:\"\",onClick:()=>na(ht,\"radial\")}];Pt.push({separator:!0}),Pt.push({label:\"Auto Layout\",submenu:Ft,icon:\"\"}),Pt.push({label:\"Auto Style Branch\",icon:\"\",onClick:()=>Qm(ht)}),Pt.length>0&&lt.push({label:\"Hierarchy\",submenu:Pt})}const vt=L.selection.map(Pt=>L.elements.find(jt=>jt.id===Pt)).filter(Boolean),j=vt.filter(Pt=>{const jt=Pt.type;return jt!==\"line\"&&jt!==\"arrow\"&&jt!==\"bezier\"&&jt!==\"organicBranch\"&&jt!==\"text\"&&jt!==\"image\"}),Ct=vt.filter(Pt=>{const jt=Pt.type;return jt===\"line\"||jt===\"arrow\"||jt===\"bezier\"||jt===\"organicBranch\"});if(j.length>0){let Pt=qf(j[0].type);new Set(j.map(Ft=>Ft.type)).size>1&&Pt.push(j[0].type),Pt.length>0&&lt.push({label:j.length>1?`Transform ${j.length} Shapes`:\"Transform Shape\",submenu:Pt.map(Ft=>({icon:Wf(Ft),tooltip:Xf(Ft),onClick:()=>{_n(),j.forEach(At=>$f(At.id,Ft,!1)),requestAnimationFrame(Lt)}})),gridColumns:3})}if(Ct.length>0){let Pt=qf(Ct[0].type);new Set(Ct.map(Ft=>Ft.type)).size>1&&Pt.push(Ct[0].type),Pt.length>0&&lt.push({label:Ct.length>1?`Transform ${Ct.length} Connectors`:\"Transform Connector\",submenu:Pt.map(Ft=>({icon:Wf(Ft),tooltip:Xf(Ft),onClick:()=>{_n(),Ct.forEach(At=>$f(At.id,Ft,!1)),requestAnimationFrame(Lt)}})),gridColumns:3})}if(Ct.length>0){const jt=Ct[0].curveType||\"straight\",Ft=Ky(jt);new Set(Ct.map(Dt=>Dt.curveType||\"straight\")).size>1&&Ft.push(jt),Ft.length>0&&lt.push({label:Ct.length>1?\"Change All Curve Styles\":\"Change Curve Style\",submenu:Ft.map(Dt=>({icon:Jy(Dt),tooltip:Qy(Dt),onClick:()=>{_n(),Ct.forEach(ie=>fe(ie.id,{curveType:Dt},!1)),requestAnimationFrame(Lt)}})),gridColumns:3})}lt.push({separator:!0}),w>1&&lt.push({label:\"Group\",shortcut:\"Ctrl+G\",onClick:Um}),L.selection.some(Pt=>{const jt=L.elements.find(Ft=>Ft.id===Pt);return jt?.groupIds&&jt.groupIds.length>0})&&lt.push({label:\"Ungroup\",shortcut:\"Ctrl+Shift+G\",onClick:$m}),lt.push({separator:!0}),lt.push({label:\"Export as PNG\",onClick:()=>_x(2)},{label:\"Export as SVG\",onClick:()=>Sx()}),lt.push({separator:!0}),lt.push({label:\"Bring to Front\",shortcut:\"Ctrl+]\",onClick:()=>Im(L.selection)},{label:\"Send to Back\",shortcut:\"Ctrl+[\",onClick:()=>Om(L.selection)},{label:\"Bring Forward\",onClick:()=>L.selection.forEach(Pt=>Lf(Pt,\"forward\"))},{label:\"Send Backward\",onClick:()=>L.selection.forEach(Pt=>Lf(Pt,\"backward\"))},{separator:!0}),w===1&&lt.push({label:\"Copy Styles\",shortcut:\"Ctrl+Alt+C\",onClick:Xy},{label:\"Paste Styles\",shortcut:\"Ctrl+Alt+V\",onClick:Gy},{separator:!0});const wt=L.selection.some(Pt=>L.elements.find(jt=>jt.id===Pt)?.locked);lt.push({label:wt?\"Unlock\":\"Lock\",shortcut:\"Ctrl+Shift+L\",onClick:()=>Wy(!wt)},{label:\"Flip Horizontal\",shortcut:\"Shift+H\",onClick:()=>jf(\"horizontal\")},{label:\"Flip Vertical\",shortcut:\"Shift+V\",onClick:()=>jf(\"vertical\")},{separator:!0},{label:\"Delete\",shortcut:\"Delete\",onClick:()=>ua(L.selection)},{separator:!0},{label:\"Show Properties\",onClick:()=>Hm(!0)})}else lt.push({label:\"Paste\",shortcut:\"Ctrl+V\",onClick:zf},{separator:!0},{label:\"Select all\",shortcut:\"Ctrl+A\",onClick:()=>Kt(\"selection\",L.elements.map(ht=>ht.id))},{label:\"Zoom to Fit\",shortcut:\"Shift+1\",onClick:qm},{separator:!0},{label:\"Show Grid\",checked:L.gridSettings.enabled,onClick:Xm},{label:\"Snap to Grid\",checked:L.gridSettings.snapToGrid,onClick:Gm},{label:\"Smart Snapping\",checked:L.gridSettings.objectSnapping,onClick:()=>Kt(\"gridSettings\",\"objectSnapping\",!L.gridSettings.objectSnapping)},{separator:!0},{label:\"Zen Mode\",shortcut:\"Alt+Z\",checked:L.zenMode,onClick:Ym},{label:\"Reset View\",onClick:()=>Nr({scale:1,panX:0,panY:0})},{separator:!0},{label:\"Canvas Settings\",onClick:()=>Sf(!0)});return lt};return[(()=>{var w=Nx();w.$$contextmenu=lt=>{lt.preventDefault(),nt({x:lt.clientX,y:lt.clientY}),tt(!0)},w.addEventListener(\"drop\",ee),w.addEventListener(\"dragover\",Bt),w.$$dblclick=Xe,w.$$pointerup=mn,w.$$pointermove=Re,w.$$pointerdown=ln,w.addEventListener(\"wheel\",Gt);var Y=t;return typeof Y==\"function\"?So(Y,w):t=w,xr(lt=>Ln(w,\"cursor\",O())),w})(),Pe(tr,{get when(){return ma(()=>L.canvasTexture!==\"none\"&&L.canvasTexture!==\"grid\")()&&L.canvasTexture!==\"graph\"},get children(){var w=Mx();return xr(Y=>{var lt=L.theme===\"dark\"?.1:.4,ht=L.canvasTexture===\"paper\"?`url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opactiy='0.5'/%3E%3C/svg%3E\")`:L.canvasTexture===\"dots\"?`radial-gradient(${L.theme===\"dark\"?\"#ffffff\":\"#000000\"} 1px, transparent 1px)`:\"none\",Mt=L.canvasTexture===\"dots\"?\"20px 20px\":\"auto\";return lt!==Y.e&&Ln(w,\"opacity\",Y.e=lt),ht!==Y.t&&Ln(w,\"background-image\",Y.t=ht),Mt!==Y.a&&Ln(w,\"background-size\",Y.a=Mt),Y},{e:void 0,t:void 0,a:void 0}),w}}),Pe(tr,{get when(){return Te()},get children(){var w=Ix(),Y=w.firstChild;return Y.$$click=Ci,w}}),Pe(tr,{get when(){return ma(()=>!!h())()&&Ge()},children:w=>{const Y=Ge(),lt=C1(Y.id),ht=lt?lt.x:Y.x,Mt=lt?lt.y:Y.y,vt=lt?lt.width:Y.width,j=lt?lt.height:Y.height,{scale:Ct,panX:$t,panY:wt}=L.viewState;let Pt=(ht+vt/2)*Ct+$t,jt=(Mt+j/2)*Ct+wt,Ft=\"center\",At=Y.fontSize||20;if(Y.type===\"umlClass\"){const Dt=g();if(Dt===\"attributesText\"||Dt===\"methodsText\"){Ft=\"left\",At=At*.9;const ie=t?t.getContext(\"2d\"):null;let te=30;if(Y.containerText&&ie){const ae=ho(ie,Y,Y.containerText,Y.width-10);te=Math.max(30,ae.textHeight+20)}let oe=te,zt=20;if(Y.attributesText&&ie){const ae=ho(ie,{...Y,fontSize:At},Y.attributesText,Y.width-10);zt=Math.max(20,ae.textHeight+10)}if(Dt===\"attributesText\")jt=(Mt+oe+zt/2)*Ct+wt,Pt=(ht+vt/2)*Ct+$t;else if(Dt===\"methodsText\"){const ae=oe+zt;jt=(Mt+ae+20)*Ct+wt,Pt=(ht+vt/2)*Ct+$t}}}return(()=>{var Dt=Ox();Dt.$$keydown=te=>{te.key===\"Escape\"&&(te.preventDefault(),d(null),m(\"\"))},Dt.addEventListener(\"blur\",wn),Dt.$$input=te=>m(te.currentTarget.value);var ie=v;return typeof ie==\"function\"?So(ie,Dt):v=Dt,Ln(Dt,\"top\",`${jt}px`),Ln(Dt,\"left\",`${Pt}px`),Ln(Dt,\"text-align\",Ft),xr(te=>{var oe=`${At*Ct}px ${Y.fontFamily===\"sans-serif\"?\"Inter, sans-serif\":Y.fontFamily===\"monospace\"?\"Source Code Pro, monospace\":\"Handlee, cursive\"}`,zt=Y.strokeColor;return oe!==te.e&&Ln(Dt,\"font\",te.e=oe),zt!==te.t&&Ln(Dt,\"color\",te.t=zt),te},{e:void 0,t:void 0}),xr(()=>Dt.value=b()),Dt})()}}),Pe(tr,{get when(){return pt()},get children(){return Pe(z1,{get x(){return W().x},get y(){return W().y},get items(){return ar()},onClose:()=>tt(!1)})}}),Pe(tr,{get when(){return L.isRecording},get children(){return Pe(Cx,{onStop:s})}}),Pe(tr,{get when(){return L.pathEditState.isActive},get children(){return Pe(Fx,{get elementId(){return L.pathEditState.elementId},get animationId(){return L.pathEditState.animationId},get scale(){return L.viewState.scale},get panX(){return L.viewState.panX},get panY(){return L.viewState.panY}})}}),Pe(tr,{get when(){return L.minimapVisible},get children(){return Pe($y,{get canvasWidth(){return t?.width||window.innerWidth},get canvasHeight(){return t?.height||window.innerHeight}})}})]},Fx=t=>{const e=ei(()=>L.elements.find(i=>i.id===t.elementId)),n=ei(()=>{const i=e();if(!i||!t.animationId)return[];const s=i.animations?.find(a=>a.id===t.animationId);return!s||s.type!==\"path\"?[]:Us.svgToPoints(s.pathData)}),r=ei(()=>{const i=e();if(!i)return`translate(${t.panX}, ${t.panY}) scale(${t.scale})`;const a=i.animations?.find(c=>c.id===t.animationId)?.isRelative??!0,o=a?i.x+i.width/2:0,l=a?i.y+i.height/2:0;return`translate(${t.panX}, ${t.panY}) scale(${t.scale}) translate(${o}, ${l})`});return Pe(tr,{get when(){return ma(()=>!!e())()&&n().length>0},get children(){var i=Px(),s=i.firstChild,a=s.firstChild,o=s.nextSibling,l=o.nextSibling;return gn(i,Pe(du,{get each(){return n()},children:(c,h)=>{const d=e(),u=(d.animations?.find(k=>k.id===t.animationId)).isRelative??!0;let b=c.x,m=c.y;if(u){const k=d.x+d.width/2,A=d.y+d.height/2;b=k+c.x,m=A+c.y}const v=b*t.scale+t.panX,y=m*t.scale+t.panY;return(()=>{var k=Rx();return k.$$pointerdown=A=>{A.stopPropagation(),A.currentTarget.setPointerCapture(A.pointerId);const M=A.clientX,z=A.clientY,Z={...c},H=P=>{const G=(P.clientX-M)/t.scale,R=(P.clientY-z)/t.scale,C=[...n()];C[h()]={...C[h()],x:Z.x+G,y:Z.y+R};const D=Us.pointsToSvg(C);Af(t.elementId,t.animationId,{pathData:D})},F=P=>{A.currentTarget.releasePointerCapture(P.pointerId),window.removeEventListener(\"pointermove\",H),window.removeEventListener(\"pointerup\",F),_n()};window.addEventListener(\"pointermove\",H),window.addEventListener(\"pointerup\",F)},Ln(k,\"left\",`${v}px`),Ln(k,\"top\",`${y}px`),xr(A=>{var M=c.type===\"anchor\"?\"#3b82f6\":\"#ffffff\",z=`Point ${h()}: ${c.type}`;return M!==A.e&&Ln(k,\"background\",A.e=M),z!==A.t&&js(k,\"title\",A.t=z),A},{e:void 0,t:void 0}),k})()}}),s),o.$$pointerdown=c=>{c.stopPropagation();const h=e(),g=(h.animations?.find(A=>A.id===t.animationId)).isRelative??!0,u=(c.clientX-t.panX)/t.scale,b=(c.clientY-t.panY)/t.scale;let m=u,v=b;if(g){const A=h.x+h.width/2,M=h.y+h.height/2;m=u-A,v=b-M}const y=[...n()];y.push({x:m,y:v,type:\"anchor\"});const k=Us.pointsToSvg(y);Af(t.elementId,t.animationId,{pathData:k})},l.$$click=()=>Rm(!1),xr(c=>{var h=e()?.animations?.find(g=>g.id===t.animationId)?.pathData||\"\",d=r();return h!==c.e&&js(a,\"d\",c.e=h),d!==c.t&&js(a,\"transform\",c.t=d),c},{e:void 0,t:void 0}),i}})};Gs([\"pointerdown\",\"pointermove\",\"pointerup\",\"dblclick\",\"contextmenu\",\"click\",\"input\",\"keydown\"]);var Dx=qn('<div class=presentation-hud style=\"position:fixed;bottom:40px;left:50%;transform:translateX(-50%);display:flex;align-items:center;gap:12px;padding:8px 16px;background:rgba(255, 255, 255, 0.8);backdrop-filter:blur(12px);border-radius:100px;box-shadow:0 10px 25px rgba(0, 0, 0, 0.2);z-index:10000;border:1px solid rgba(255, 255, 255, 0.3);transition:opacity 0.3s ease;font-family:Inter, sans-serif\"><button style=\"background:none;border:none;color:#1e293b;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:background 0.2s\"></button><div style=color:#64748b;font-size:13px;font-weight:600;min-width:100px;text-align:center;user-select:none></div><button style=\"background:none;border:none;color:#1e293b;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:background 0.2s\"></button><div style=\"width:1px;height:24px;background:rgba(0,0,0,0.1);margin:0 8px\"></div><div style=display:flex;align-items:center;gap:4px><button title=\"Pointer (Advance Slides)\"style=\"border:none;cursor:pointer;display:flex;padding:8px;border-radius:8px;transition:all 0.2s\"></button><button title=\"Laser Pointer\"style=\"border:none;cursor:pointer;display:flex;padding:8px;border-radius:8px;transition:all 0.2s\"></button><button title=\"Ink Highlighter\"style=\"border:none;cursor:pointer;display:flex;padding:8px;border-radius:8px;transition:all 0.2s\"></button><button title=Eraser style=\"border:none;cursor:pointer;display:flex;padding:8px;border-radius:8px;transition:all 0.2s\"></button></div><div style=\"width:1px;height:24px;background:rgba(0,0,0,0.1);margin:0 8px\"></div><button title=\"Exit Presentation\"style=\"background:#f1f5f9;border:none;color:#ef4444;cursor:pointer;display:flex;padding:8px;border-radius:50%;transition:transform 0.2s\">');const zx=()=>{const[t,e]=En(!0);let n;const r=()=>{e(!0),window.clearTimeout(n),n=window.setTimeout(()=>{L.appMode===\"presentation\"&&e(!1)},3e3)};Lo(()=>{window.addEventListener(\"mousemove\",r),r()}),qs(()=>{window.removeEventListener(\"mousemove\",r),window.clearTimeout(n)});const i=ei(()=>`Slide ${L.activeSlideIndex+1} of ${L.slides.length}`),s=async()=>{await I1(),r()},a=async()=>{await Tm(),r()};return Pe(tr,{get when(){return t()},get children(){var o=Dx(),l=o.firstChild,c=l.nextSibling,h=c.nextSibling,d=h.nextSibling,g=d.nextSibling,u=g.firstChild,b=u.nextSibling,m=b.nextSibling,v=m.nextSibling,y=g.nextSibling,k=y.nextSibling;return l.addEventListener(\"mouseleave\",A=>A.currentTarget.style.background=\"none\"),l.addEventListener(\"mouseenter\",A=>A.currentTarget.style.background=\"rgba(0,0,0,0.05)\"),l.$$click=a,gn(l,Pe(k5,{size:20})),gn(c,i),h.addEventListener(\"mouseleave\",A=>A.currentTarget.style.background=\"none\"),h.addEventListener(\"mouseenter\",A=>A.currentTarget.style.background=\"rgba(0,0,0,0.05)\"),h.$$click=s,gn(h,Pe(A5,{size:20})),u.$$click=()=>mo(\"selection\"),gn(u,Pe(q5,{size:18})),b.$$click=()=>mo(\"laser\"),gn(b,Pe(K5,{size:18})),m.$$click=()=>mo(\"ink\"),gn(m,Pe(E5,{size:18})),v.$$click=()=>mo(\"eraser\"),gn(v,Pe(O5,{size:18})),k.addEventListener(\"mouseleave\",A=>A.currentTarget.style.transform=\"scale(1)\"),k.addEventListener(\"mouseenter\",A=>A.currentTarget.style.transform=\"scale(1.1)\"),k.$$click=()=>Zm(),gn(k,Pe(gu,{size:18})),xr(A=>{var M=L.selectedTool===\"selection\"?\"rgba(59, 130, 246, 0.1)\":\"none\",z=L.selectedTool===\"selection\"?\"#3b82f6\":\"#64748b\",Z=L.selectedTool===\"laser\"?\"rgba(245, 158, 11, 0.1)\":\"none\",H=L.selectedTool===\"laser\"?\"#f59e0b\":\"#64748b\",F=L.selectedTool===\"ink\"?\"rgba(239, 68, 68, 0.1)\":\"none\",P=L.selectedTool===\"ink\"?\"#ef4444\":\"#64748b\",G=L.selectedTool===\"eraser\"?\"rgba(100, 116, 139, 0.1)\":\"none\",R=L.selectedTool===\"eraser\"?\"#475569\":\"#64748b\";return M!==A.e&&Ln(u,\"background\",A.e=M),z!==A.t&&Ln(u,\"color\",A.t=z),Z!==A.a&&Ln(b,\"background\",A.a=Z),H!==A.o&&Ln(b,\"color\",A.o=H),F!==A.i&&Ln(m,\"background\",A.i=F),P!==A.n&&Ln(m,\"color\",A.n=P),G!==A.s&&Ln(v,\"background\",A.s=G),R!==A.h&&Ln(v,\"color\",A.h=R),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),o}})};Gs([\"click\"]);var jx=qn(\"<div class=canvas-container>\"),Ux=qn(\"<div class=player-controls>\"),$x=qn(\"<div class=player-app>\");const qx=()=>{const[t,e]=En(!1);return Lo(()=>{if(window.__PRESENTATION_DATA__)try{if(Bm(window.__PRESENTATION_DATA__),Kt(\"appMode\",\"presentation\"),Kt(\"showMainToolbar\",!1),Kt(\"showPropertyPanel\",!1),Kt(\"showLayerPanel\",!1),Kt(\"showSlideNavigator\",!1),Kt(\"showSlideToolbar\",!0),Kt(\"readOnly\",!1),L.docType===\"slides\"&&L.slides.length>0){Kt(\"activeSlideIndex\",0);const o=L.slides[0];Kt(\"viewState\",{scale:1,panX:-o.spatialPosition.x,panY:-o.spatialPosition.y});let l=L.activeLayerId;L.layers.length===0?(Kt(\"layers\",[{id:\"default\",name:\"Layer 1\",visible:!0,locked:!1,opacity:1,order:0,backgroundColor:\"transparent\"}]),l=\"default\",Kt(\"activeLayerId\",\"default\")):L.layers.find(c=>c.id===l)||(l=L.layers[0].id,Kt(\"activeLayerId\",l)),Kt(\"elements\",c=>!L.layers.some(h=>h.id===c.layerId),c=>({layerId:l})),Kt(\"layers\",{},{visible:!0,opacity:1})}e(!0);const n=L.slides[0],r=L.viewState,i=L.elements[0],s=L.layers.find(o=>o.isMaster),a=L.layers.find(o=>o.id===L.activeLayerId);pi(`Player Ready (${L.elements.length} els)`,\"success\")}catch(n){console.error(\"Failed to load presentation data:\",n),pi(\"Failed to load presentation data\",\"error\")}else pi(\"No presentation data found\",\"error\")}),(()=>{var n=$x();return gn(n,Pe(tr,{get when(){return t()},get children(){return[(()=>{var r=jx();return gn(r,Pe(Bx,{})),r})(),(()=>{var r=Ux();return gn(r,Pe(zx,{})),r})()]}}),null),gn(n,Pe(tm,{}),null),n})()},Wx=document.getElementById(\"root\");qg(()=>Pe(qx,{}),Wx);export{Sn as _,le as a,Ll as c,hm as f,r3 as g,L as s};\n";
export const PLAYER_CSS = ":root{--font-hand: \"Handlee\", \"Comic Sans MS\", cursive;--font-sans: \"Inter\", system-ui, sans-serif;--font-mono: \"Source Code Pro\", \"Cascadia Code\", monospace;font-family:var(--font-sans);line-height:1.5;font-weight:400;--bg-canvas: #ffffff;--bg-panel: #ffffff;--bg-secondary: #f9fafb;--text-primary: #111827;--text-secondary: #6b7280;--border-color: #e5e7eb;--btn-bg: #ffffff;--btn-hover: #f3f4f6;--btn-active: #e5e7eb;--primary-color: #3b82f6;--danger-color: #ef4444;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);color-scheme:light dark;color:var(--text-primary);background-color:var(--bg-canvas);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-theme=dark]{--bg-canvas: #121212;--bg-panel: #1e1e1e;--bg-secondary: #2d2d2d;--text-primary: #e5e7eb;--text-secondary: #9ca3af;--border-color: #404040;--btn-bg: #2d2d2d;--btn-hover: #3d3d3d;--btn-active: #4d4d4d;--primary-color: #60a5fa;--danger-color: #f87171;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .5)}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--bg-canvas);color:var(--text-primary)}button{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:var(--btn-bg);color:var(--text-primary);cursor:pointer;transition:all .2s;box-shadow:var(--shadow-sm)}button:hover{background-color:var(--btn-hover);border-color:var(--border-color)}button:active{background-color:var(--btn-active);transform:translateY(1px)}button.active{background-color:#3b82f61a;border-color:var(--primary-color);color:var(--primary-color)}input[type=text]{border-radius:6px;border:1px solid var(--border-color);padding:8px 12px;font-family:inherit;font-size:14px;outline:none;background-color:var(--bg-panel);color:var(--text-primary);transition:border-color .2s}input[type=text]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f633}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}button{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-size:14px;font-weight:500;font-family:inherit;background-color:#fff;cursor:pointer;transition:all .2s;box-shadow:0 1px 2px #0000000d}button:hover{background-color:#f9f9f9;border-color:#bbb}button:active{background-color:#f0f0f0;transform:translateY(1px)}button.active{background-color:#e0efff;border-color:#007acc;color:#007acc}input[type=text]{border-radius:6px;border:1px solid #ccc;padding:8px 12px;font-family:inherit;font-size:14px;outline:none;transition:border-color .2s}input[type=text]:focus{border-color:#007acc;box-shadow:0 0 0 2px #007acc33}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}.unselectable{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.minimap-container{position:fixed;bottom:20px;right:20px;z-index:1000;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px;-webkit-user-select:none;user-select:none}.minimap-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;padding:0 4px}.minimap-title{font-size:11px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.minimap-close{background:transparent;border:none;padding:2px;cursor:pointer;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s,color .2s;box-shadow:none}.minimap-close:hover{background-color:var(--btn-hover);color:var(--text-primary)}.minimap-canvas{display:block;border-radius:4px;cursor:pointer;border:1px solid var(--border-color)}.minimap-canvas:active{cursor:grabbing}.floating-settings-btn{transition:all .2s ease}.floating-settings-btn:hover{transform:scale(1.1)}.floating-settings-btn.active{background:#3b82f6!important;color:#fff!important}.toast{position:fixed;bottom:24px;left:50%;transform:translate(-50%);background:var(--bg-panel);color:var(--text-primary);padding:12px 16px;border-radius:8px;box-shadow:0 4px 20px #00000026;display:flex;align-items:center;gap:12px;z-index:2000;-webkit-user-select:none;user-select:none;font-size:14px;font-weight:500;border:1px solid var(--border-color);animation:slideUp .3s cubic-bezier(.16,1,.3,1);min-width:300px;max-width:90vw}.toast-success{border-left:4px solid #10b981}.toast-error{border-left:4px solid #ef4444}.toast-info{border-left:4px solid #3b82f6}.toast-icon{display:flex;align-items:center;justify-content:center}.toast-success .toast-icon{color:#10b981}.toast-error .toast-icon{color:#ef4444}.toast-info .toast-icon{color:#3b82f6}.toast-message{flex:1}.toast-close{background:none;border:none;cursor:pointer;color:var(--text-secondary);padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s}.toast-close:hover{background:var(--bg-hover);color:var(--text-primary)}@keyframes slideUp{0%{opacity:0;transform:translate(-50%,20px)}to{opacity:1;transform:translate(-50%)}}.toast-loading{border-left:4px solid #f59e0b}.toast-loading .toast-icon{color:#f59e0b}.spin{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.context-menu{position:fixed;background:var(--bg-panel);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 20px #00000026;padding:4px;min-width:220px;max-height:80vh;overflow-y:auto;overflow-x:visible;z-index:10000;-webkit-user-select:none;user-select:none;font-size:14px}.menu-item-wrapper{position:relative}.context-menu-item{width:100%;display:flex;align-items:center;gap:8px;padding:8px 12px;border:none;background:transparent;color:var(--text-primary);cursor:pointer;border-radius:4px;text-align:left;transition:background .15s;font-size:13px}.context-menu-item:hover:not(.disabled){background:var(--btn-hover)}.context-menu-item.disabled{opacity:.4;cursor:not-allowed}.menu-item-check{width:16px;flex-shrink:0;font-size:12px;color:#3b82f6}.menu-item-label{flex:1}.menu-item-shortcut{font-size:11px;color:var(--text-secondary);opacity:.6;font-family:monospace}.context-menu-separator{height:1px;background:var(--border-color);margin:4px 8px}[data-theme=dark] .context-menu{box-shadow:0 4px 20px #0006}.recording-overlay{position:fixed;top:20px;left:50%;transform:translate(-50%);background:#000000d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:8px 16px;border-radius:24px;display:flex;align-items:center;gap:16px;z-index:99999;box-shadow:0 4px 12px #0003;border:1px solid rgba(255,255,255,.1);color:#fff;font-family:Inter,sans-serif;animation:slideDown .3s cubic-bezier(.16,1,.3,1)}@keyframes slideDown{0%{transform:translate(-50%,-20px);opacity:0}to{transform:translate(-50%);opacity:1}}.recording-indicator{display:flex;align-items:center;gap:6px}.pulse-dot{width:10px;height:10px;background-color:#ff3b30;border-radius:50%;animation:pulse 1.5s infinite}@keyframes pulse{0%{transform:scale(.95);box-shadow:0 0 #ff3b30b3}70%{transform:scale(1);box-shadow:0 0 0 6px #ff3b3000}to{transform:scale(.95);box-shadow:0 0 #ff3b3000}}.recording-text{font-weight:700;font-size:12px;letter-spacing:.5px;color:#ff3b30}.recording-timer{font-variant-numeric:tabular-nums;font-size:14px;font-weight:500;min-width:36px}.stop-btn{display:flex;align-items:center;gap:6px;background:#ffffff1a;border:none;padding:6px 12px;border-radius:16px;color:#fff;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}.stop-btn:hover{background:#fff3;transform:translateY(-1px)}.stop-btn:active{transform:translateY(0)}.player-app{width:100vw;height:100vh;overflow:hidden;position:relative;background-color:var(--bg-canvas);color:var(--text-primary)}.player-app .canvas-container{width:100%;height:100%}.player-controls{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:1000}.selection-box,.transform-handle,.resize-handle{display:none!important}\n";
