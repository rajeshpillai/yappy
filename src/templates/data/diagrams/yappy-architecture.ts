import type { Template } from '../../../types/template-types';

export const yappyArchitectureTemplate: Template = {
    metadata: {
        id: 'yappy-architecture-meta',
        name: 'Yappy Architecture',
        category: 'diagrams',
        description: 'Meta-diagram of Yappy Draw internal architecture. Multi-layer system flow with full logical bindings.',
        tags: ['yappy', 'internal', 'architecture', 'meta', 'documentation'],
        order: 7
    },
    data: {
        version: 1,
        elements: [
            // Title
            {
                id: 'title',
                type: 'text',
                x: 600,
                y: 50,
                width: 1000,
                height: 80,
                strokeColor: '#111827',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 1,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 0,
                angle: 0,
                renderStyle: 'architectural',
                seed: 999,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                text: 'Yappy Draw - Internal System Architecture',
                fontSize: 48,
                fontFamily: 'hand-drawn',
                textAlign: 'center'
            },

            // ==== LAYER 1: USER INTERACTION (y=300) ====
            {
                id: 'user-input',
                type: 'circle',
                x: 1000,
                y: 300,
                width: 250,
                height: 250,
                strokeColor: '#3b82f6',
                backgroundColor: '#dbeafe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 101,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'User Pointer/Keyboard\nInteractions',
                fontSize: 20,
                boundElements: [
                    { id: 'flow-user-toolbar', type: 'arrow' },
                    { id: 'flow-user-canvas', type: 'arrow' },
                    { id: 'flow-user-props', type: 'arrow' }
                ]
            },

            // ==== LAYER 2: UI COMPONENTS (y=1100) ====
            {
                id: 'ui-toolbar',
                type: 'rectangle',
                x: 350,
                y: 1100,
                width: 220,
                height: 140,
                strokeColor: '#7c3aed',
                backgroundColor: '#ede9fe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 201,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Toolbar & Menu\n(UI Layer)',
                fontSize: 18,
                boundElements: [
                    { id: 'flow-user-toolbar', type: 'arrow' },
                    { id: 'flow-toolbar-store', type: 'arrow' }
                ]
            },
            {
                id: 'ui-canvas',
                type: 'rectangle',
                x: 1000,
                y: 1100,
                width: 280,
                height: 160,
                strokeColor: '#7c3aed',
                backgroundColor: '#ede9fe',
                fillStyle: 'solid',
                strokeWidth: 4,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 202,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Main Canvas Component\n(SolidJS)',
                fontSize: 20,
                boundElements: [
                    { id: 'flow-user-canvas', type: 'arrow' },
                    { id: 'flow-canvas-store', type: 'arrow' }
                ]
            },
            {
                id: 'ui-props',
                type: 'rectangle',
                x: 1650,
                y: 1100,
                width: 220,
                height: 140,
                strokeColor: '#7c3aed',
                backgroundColor: '#ede9fe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 203,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Property Panels\n(Settings)',
                fontSize: 18,
                boundElements: [
                    { id: 'flow-user-props', type: 'arrow' },
                    { id: 'flow-props-store', type: 'arrow' }
                ]
            },

            // ==== LAYER 3: STATE MANAGEMENT (y=1900) ====
            {
                id: 'app-store',
                type: 'diamond',
                x: 1000,
                y: 1850,
                width: 280,
                height: 220,
                strokeColor: '#f59e0b',
                backgroundColor: '#fef3c7',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 301,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Central App Store\n(SolidJS Multi-Store)',
                fontSize: 22,
                boundElements: [
                    { id: 'flow-toolbar-store', type: 'arrow' },
                    { id: 'flow-canvas-store', type: 'arrow' },
                    { id: 'flow-props-store', type: 'arrow' },
                    { id: 'flow-store-history', type: 'arrow' },
                    { id: 'flow-store-utils', type: 'arrow' },
                    { id: 'flow-store-persistence', type: 'arrow' }
                ]
            },

            // ==== LAYER 4: CORE UTILITIES & HISTORY (y=2700) ====
            {
                id: 'history-service',
                type: 'circle',
                x: 1700,
                y: 1900,
                width: 180,
                height: 180,
                strokeColor: '#0ea5e9',
                backgroundColor: '#e0f2fe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 401,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Undo/Redo\nHistory Stack',
                fontSize: 18,
                boundElements: [{ id: 'flow-store-history', type: 'arrow' }]
            },
            {
                id: 'util-snapping',
                type: 'rectangle',
                x: 1000,
                y: 2700,
                width: 280,
                height: 120,
                strokeColor: '#10b981',
                backgroundColor: '#d1fae5',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 402,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Snapping & Geometry\nLogic',
                fontSize: 18,
                boundElements: [
                    { id: 'flow-store-utils', type: 'arrow' },
                    { id: 'flow-utils-renderer', type: 'arrow' }
                ]
            },

            // ==== LAYER 5: RENDERING PIPELINE (y=3600) ====
            {
                id: 'renderer-element',
                type: 'rectangle',
                x: 1000,
                y: 3600,
                width: 320,
                height: 140,
                strokeColor: '#dc2626',
                backgroundColor: '#fee2e2',
                fillStyle: 'solid',
                strokeWidth: 4,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 501,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Recursive UI Renderer\n(SolidJS + RoughJS)',
                fontSize: 20,
                boundElements: [{ id: 'flow-utils-renderer', type: 'arrow' }]
            },

            // ==== LAYER 6: PERSISTENCE (y=4500) ====
            {
                id: 'persistence',
                type: 'rectangle',
                x: 1000,
                y: 4500,
                width: 350,
                height: 180,
                strokeColor: '#6366f1',
                backgroundColor: '#e0e7ff',
                fillStyle: 'solid',
                strokeWidth: 5,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 601,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Workspace Persistence\n(LocalStorage Sync)',
                fontSize: 22,
                boundElements: [{ id: 'flow-store-persistence', type: 'arrow' }]
            },

            // ==== CONNECTIONS (with full props and bindings) ====
            {
                id: 'flow-user-toolbar',
                type: 'arrow',
                x: 1000, y: 550, width: -430, height: 550,
                strokeColor: '#94a3b8', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 901, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'user-input', focus: 0, gap: 15 },
                endBinding: { elementId: 'ui-toolbar', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: -430, y: 550 }]
            },
            {
                id: 'flow-user-canvas',
                type: 'arrow',
                x: 1125, y: 550, width: 0, height: 550,
                strokeColor: '#94a3b8', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 4, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 902, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'user-input', focus: 0, gap: 15 },
                endBinding: { elementId: 'ui-canvas', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 550 }]
            },
            {
                id: 'flow-user-props',
                type: 'arrow',
                x: 1250, y: 550, width: 510, height: 550,
                strokeColor: '#94a3b8', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 903, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'user-input', focus: 0, gap: 15 },
                endBinding: { elementId: 'ui-props', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 510, y: 550 }]
            },
            {
                id: 'flow-toolbar-store',
                type: 'arrow',
                x: 460, y: 1240, width: 620, height: 610,
                strokeColor: '#f59e0b', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 904, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'ui-toolbar', focus: 0, gap: 15 },
                endBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 620, y: 610 }]
            },
            {
                id: 'flow-canvas-store',
                type: 'arrow',
                x: 1140, y: 1260, width: 0, height: 590,
                strokeColor: '#f59e0b', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 4, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 905, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'ui-canvas', focus: 0, gap: 15 },
                endBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 590 }]
            },
            {
                id: 'flow-props-store',
                type: 'arrow',
                x: 1760, y: 1240, width: -620, height: 610,
                strokeColor: '#f59e0b', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 906, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'ui-props', focus: 0, gap: 15 },
                endBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: -620, y: 610 }]
            },
            {
                id: 'flow-store-history',
                type: 'arrow',
                x: 1280, y: 1960, width: 420, height: 0,
                strokeColor: '#0ea5e9', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 907, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                endBinding: { elementId: 'history-service', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 420, y: 0 }]
            },
            {
                id: 'flow-store-utils',
                type: 'arrow',
                x: 1140, y: 2070, width: 0, height: 630,
                strokeColor: '#10b981', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 908, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                endBinding: { elementId: 'util-snapping', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 630 }]
            },
            {
                id: 'flow-utils-renderer',
                type: 'arrow',
                x: 1140, y: 2820, width: 0, height: 780,
                strokeColor: '#dc2626', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 3, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 909, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'straight',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'util-snapping', focus: 0, gap: 15 },
                endBinding: { elementId: 'renderer-element', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 780 }]
            },
            {
                id: 'flow-store-persistence',
                type: 'arrow',
                x: 1140, y: 2070, width: 0, height: 2430,
                strokeColor: '#6366f1', backgroundColor: 'transparent', fillStyle: 'hachure',
                strokeWidth: 4, strokeStyle: 'solid', opacity: 100, roughness: 1, angle: 0,
                renderStyle: 'sketch', seed: 910, roundness: null, locked: false, link: null,
                layerId: 'default-layer', curveType: 'elbow',
                startArrowhead: null, endArrowhead: 'arrow',
                startBinding: { elementId: 'app-store', focus: 0, gap: 15 },
                endBinding: { elementId: 'persistence', focus: 0, gap: 15 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 1215 }, { x: 0, y: 2430 }]
            }
        ],
        layers: [
            {
                id: 'default-layer',
                name: 'Yappy Architecture',
                visible: true,
                locked: false,
                opacity: 1,
                order: 0
            }
        ],
        viewState: {
            scale: 0.25,
            panX: 400,
            panY: 100
        },
        gridSettings: {
            enabled: false,
            snapToGrid: false,
            objectSnapping: true,
            gridSize: 20,
            gridColor: '#cccccc',
            gridOpacity: 0.5,
            style: 'lines'
        }
    }
};
