import type { Template } from '../../../types/templateTypes';

export const systemDesignTemplate: Template = {
    metadata: {
        id: 'system-design-basic',
        name: 'System Design',
        category: 'diagrams',
        description: 'Comprehensive system architecture with clients, services, databases, and caching. Optimized for infinite canvas with full element bindings.',
        tags: ['system', 'architecture', 'backend', 'infrastructure', 'design'],
        order: 6
    },
    data: {
        version: 1,
        elements: [
            // Title
            {
                id: 'title',
                type: 'text',
                x: 1200,
                y: 50,
                width: 800,
                height: 80,
                strokeColor: '#111827',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 1,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 0,
                angle: 0,
                renderStyle: 'architectural',
                seed: 12345,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                text: 'System Architecture (Global Scale)',
                fontSize: 48,
                fontFamily: 'hand-drawn',
                textAlign: 'center'
            },

            // ==== CLIENT LAYER (x=200) ====
            {
                id: 'web-client',
                type: 'rectangle',
                x: 200,
                y: 400,
                width: 250,
                height: 140,
                strokeColor: '#3b82f6',
                backgroundColor: '#dbeafe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 101,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Web Client\n(Browser)',
                fontSize: 20,
                boundElements: [{ id: 'line-web-lb', type: 'arrow' }]
            },
            {
                id: 'mobile-client',
                type: 'rectangle',
                x: 200,
                y: 1000,
                width: 250,
                height: 140,
                strokeColor: '#3b82f6',
                backgroundColor: '#dbeafe',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 102,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Mobile App\n(iOS/Android)',
                fontSize: 20,
                boundElements: [{ id: 'line-mobile-lb', type: 'arrow' }]
            },

            // ==== LOAD BALANCER (x=1400) ====
            {
                id: 'load-balancer',
                type: 'diamond',
                x: 1400,
                y: 650,
                width: 240,
                height: 180,
                strokeColor: '#f59e0b',
                backgroundColor: '#fef3c7',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 201,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Global\nLoad Balancer',
                fontSize: 22,
                boundElements: [
                    { id: 'line-web-lb', type: 'arrow' },
                    { id: 'line-mobile-lb', type: 'arrow' },
                    { id: 'line-lb-api1', type: 'arrow' },
                    { id: 'line-lb-api2', type: 'arrow' }
                ]
            },

            // ==== API SERVERS (x=2600) ====
            {
                id: 'api-server-1',
                type: 'rectangle',
                x: 2600,
                y: 400,
                width: 250,
                height: 140,
                strokeColor: '#059669',
                backgroundColor: '#d1fae5',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 301,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Service Instance A\n(Node.js)',
                fontSize: 20,
                boundElements: [
                    { id: 'line-lb-api1', type: 'arrow' },
                    { id: 'line-api1-cache', type: 'arrow' },
                    { id: 'line-api1-db', type: 'arrow' }
                ]
            },
            {
                id: 'api-server-2',
                type: 'rectangle',
                x: 2600,
                y: 1000,
                width: 250,
                height: 140,
                strokeColor: '#059669',
                backgroundColor: '#d1fae5',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 302,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Service Instance B\n(Node.js)',
                fontSize: 20,
                boundElements: [
                    { id: 'line-lb-api2', type: 'arrow' },
                    { id: 'line-api2-cache', type: 'arrow' },
                    { id: 'line-api2-db', type: 'arrow' }
                ]
            },

            // ==== CACHE/CDN (x=3800) ====
            {
                id: 'cache',
                type: 'circle',
                x: 3800,
                y: 400,
                width: 220,
                height: 220,
                strokeColor: '#dc2626',
                backgroundColor: '#fee2e2',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 401,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Distributed\nCache (Redis)',
                fontSize: 22,
                boundElements: [
                    { id: 'line-api1-cache', type: 'arrow' },
                    { id: 'line-api2-cache', type: 'arrow' }
                ]
            },

            // ==== DATABASE/QUEUE (y=1600) ====
            {
                id: 'database',
                type: 'rectangle',
                x: 2600,
                y: 1600,
                width: 280,
                height: 180,
                strokeColor: '#7c3aed',
                backgroundColor: '#ede9fe',
                fillStyle: 'solid',
                strokeWidth: 4,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 501,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Primary DB\n(PostgreSQL)',
                fontSize: 24,
                boundElements: [
                    { id: 'line-api1-db', type: 'arrow' },
                    { id: 'line-api2-db', type: 'arrow' },
                    { id: 'line-db-queue', type: 'arrow' }
                ]
            },
            {
                id: 'message-queue',
                type: 'rectangle',
                x: 1400,
                y: 1600,
                width: 240,
                height: 140,
                strokeColor: '#ea580c',
                backgroundColor: '#fed7aa',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'dashed',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 502,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Message Broker\n(Async)',
                fontSize: 20,
                boundElements: [
                    { id: 'line-db-queue', type: 'arrow' },
                    { id: 'line-queue-worker', type: 'arrow' }
                ]
            },
            {
                id: 'worker',
                type: 'rectangle',
                x: 200,
                y: 1600,
                width: 250,
                height: 140,
                strokeColor: '#0891b2',
                backgroundColor: '#cffafe',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 503,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Job Worker\n(Batch)',
                fontSize: 20,
                boundElements: [
                    { id: 'line-queue-worker', type: 'arrow' },
                    { id: 'line-worker-storage', type: 'arrow' }
                ]
            },

            // ==== STORAGE ====
            {
                id: 'storage',
                type: 'circle',
                x: 200,
                y: 2200,
                width: 250,
                height: 180,
                strokeColor: '#9333ea',
                backgroundColor: '#f3e8ff',
                fillStyle: 'solid',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 601,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                containerText: 'Object Storage\n(S3/Blob)',
                fontSize: 22,
                boundElements: [{ id: 'line-worker-storage', type: 'arrow' }]
            },

            // ==== CONNECTIONS (with full bindings and required props) ====
            {
                id: 'line-web-lb',
                type: 'arrow',
                x: 450,
                y: 470,
                width: 950,
                height: 250,
                strokeColor: '#6b7280',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 901,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'web-client', focus: 0, gap: 10 },
                endBinding: { elementId: 'load-balancer', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 950, y: 250 }]
            },
            {
                id: 'line-mobile-lb',
                type: 'arrow',
                x: 450,
                y: 1070,
                width: 950,
                height: -330,
                strokeColor: '#6b7280',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 902,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'mobile-client', focus: 0, gap: 10 },
                endBinding: { elementId: 'load-balancer', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 950, y: -330 }]
            },
            {
                id: 'line-lb-api1',
                type: 'arrow',
                x: 1640,
                y: 740,
                width: 960,
                height: -270,
                strokeColor: '#6b7280',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 903,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'load-balancer', focus: 0, gap: 10 },
                endBinding: { elementId: 'api-server-1', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 960, y: -270 }]
            },
            {
                id: 'line-lb-api2',
                type: 'arrow',
                x: 1640,
                y: 740,
                width: 960,
                height: 330,
                strokeColor: '#6b7280',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 904,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'load-balancer', focus: 0, gap: 10 },
                endBinding: { elementId: 'api-server-2', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 960, y: 330 }]
            },
            {
                id: 'line-api1-cache',
                type: 'arrow',
                x: 2850,
                y: 470,
                width: 950,
                height: 40,
                strokeColor: '#dc2626',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 2,
                strokeStyle: 'dashed',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 905,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                containerText: 'Query',
                labelPosition: 'middle',
                startBinding: { elementId: 'api-server-1', focus: 0, gap: 10 },
                endBinding: { elementId: 'cache', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 950, y: 40 }]
            },
            {
                id: 'line-api2-cache',
                type: 'arrow',
                x: 2850,
                y: 1070,
                width: 950,
                height: -560,
                strokeColor: '#dc2626',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 2,
                strokeStyle: 'dashed',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 906,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'api-server-2', focus: 0, gap: 10 },
                endBinding: { elementId: 'cache', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 950, y: -560 }]
            },
            {
                id: 'line-api1-db',
                type: 'arrow',
                x: 2725,
                y: 540,
                width: 0,
                height: 1060,
                strokeColor: '#7c3aed',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 907,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'api-server-1', focus: 0, gap: 10 },
                endBinding: { elementId: 'database', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 1060 }]
            },
            {
                id: 'line-api2-db',
                type: 'arrow',
                x: 2725,
                y: 1140,
                width: 0,
                height: 460,
                strokeColor: '#7c3aed',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 908,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'api-server-2', focus: 0, gap: 10 },
                endBinding: { elementId: 'database', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 460 }]
            },
            {
                id: 'line-db-queue',
                type: 'arrow',
                x: 2600,
                y: 1690,
                width: -960,
                height: -20,
                strokeColor: '#ea580c',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 909,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                containerText: 'Emit',
                labelPosition: 'middle',
                startBinding: { elementId: 'database', focus: 0, gap: 10 },
                endBinding: { elementId: 'message-queue', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: -960, y: -20 }]
            },
            {
                id: 'line-queue-worker',
                type: 'arrow',
                x: 1400,
                y: 1670,
                width: -950,
                height: 0,
                strokeColor: '#0891b2',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 910,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'message-queue', focus: 0, gap: 10 },
                endBinding: { elementId: 'worker', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: -950, y: 0 }]
            },
            {
                id: 'line-worker-storage',
                type: 'arrow',
                x: 325,
                y: 1740,
                width: 0,
                height: 460,
                strokeColor: '#9333ea',
                backgroundColor: 'transparent',
                fillStyle: 'hachure',
                strokeWidth: 3,
                strokeStyle: 'solid',
                opacity: 100,
                roughness: 1,
                angle: 0,
                renderStyle: 'sketch',
                seed: 911,
                roundness: null,
                locked: false,
                link: null,
                layerId: 'default-layer',
                curveType: 'straight',
                startArrowhead: null,
                endArrowhead: 'arrow',
                startBinding: { elementId: 'worker', focus: 0, gap: 10 },
                endBinding: { elementId: 'storage', focus: 0, gap: 10 },
                points: [{ x: 0, y: 0 }, { x: 0, y: 460 }]
            }
        ],
        layers: [
            {
                id: 'default-layer',
                name: 'Architecture',
                visible: true,
                locked: false,
                opacity: 1,
                order: 0
            }
        ],
        viewState: {
            scale: 0.35,
            panX: 400,
            panY: 200
        },
        gridSettings: {
            enabled: false,
            snapToGrid: false,
            objectSnapping: true,
            gridSize: 20,
            gridColor: '#e0e0e0',
            gridOpacity: 0.5,
            style: 'dots'
        }
    }
};
